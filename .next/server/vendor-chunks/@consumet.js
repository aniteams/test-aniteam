"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@consumet";
exports.ids = ["vendor-chunks/@consumet"];
exports.modules = {

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/asianload.js":
/*!************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/asianload.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst crypto_js_1 = __importDefault(__webpack_require__(/*! crypto-js */ \"(rsc)/./node_modules/crypto-js/index.js\"));\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass AsianLoad extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'asianload';\n        this.sources = [];\n        this.keys = {\n            key: crypto_js_1.default.enc.Utf8.parse('93422192433952489752342908585752'),\n            iv: crypto_js_1.default.enc.Utf8.parse('9262859232435825'),\n        };\n        this.extract = async (videoUrl) => {\n            var _a, _b, _c;\n            const res = await this.client.get(videoUrl.href);\n            const $ = (0, cheerio_1.load)(res.data);\n            const encyptedParams = await this.generateEncryptedAjaxParams($, (_a = videoUrl.searchParams.get('id')) !== null && _a !== void 0 ? _a : '');\n            const encryptedData = await this.client.get(`${videoUrl.protocol}//${videoUrl.hostname}/encrypt-ajax.php?${encyptedParams}`, {\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest',\n                },\n            });\n            const decryptedData = await this.decryptAjaxData(encryptedData.data.data);\n            if (!decryptedData.source)\n                throw new Error('No source found. Try a different server.');\n            decryptedData.source.forEach((source) => {\n                this.sources.push({\n                    url: source.file,\n                    isM3U8: source.file.includes('.m3u8'),\n                });\n            });\n            decryptedData.source_bk.forEach((source) => {\n                this.sources.push({\n                    url: source.file,\n                    isM3U8: source.file.includes('.m3u8'),\n                });\n            });\n            const subtitles = (_c = (_b = decryptedData.track) === null || _b === void 0 ? void 0 : _b.tracks) === null || _c === void 0 ? void 0 : _c.map((track) => ({\n                url: track.file,\n                lang: track.kind === 'thumbnails' ? 'Default (maybe)' : track.kind,\n            }));\n            return {\n                sources: this.sources,\n                subtitles: subtitles,\n            };\n        };\n        this.generateEncryptedAjaxParams = async ($, id) => {\n            const encryptedKey = crypto_js_1.default.AES.encrypt(id, this.keys.key, {\n                iv: this.keys.iv,\n            }).toString();\n            const scriptValue = $(\"script[data-name='crypto']\").data().value;\n            const decryptedToken = crypto_js_1.default.AES.decrypt(scriptValue, this.keys.key, {\n                iv: this.keys.iv,\n            }).toString(crypto_js_1.default.enc.Utf8);\n            return `id=${encryptedKey}&alias=${decryptedToken}`;\n        };\n        this.decryptAjaxData = async (encryptedData) => {\n            const decryptedData = crypto_js_1.default.enc.Utf8.stringify(crypto_js_1.default.AES.decrypt(encryptedData, this.keys.key, {\n                iv: this.keys.iv,\n            }));\n            return JSON.parse(decryptedData);\n        };\n    }\n}\nexports[\"default\"] = AsianLoad;\n//# sourceMappingURL=asianload.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL2FzaWFubG9hZC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLG9DQUFvQyxtQkFBTyxDQUFDLDBEQUFXO0FBQ3ZELGlCQUFpQixtQkFBTyxDQUFDLGlGQUFXO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsa0JBQWtCLElBQUksa0JBQWtCLG9CQUFvQixlQUFlO0FBQ3RJO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHlCQUF5QixhQUFhLFNBQVMsZUFBZTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXGV4dHJhY3RvcnNcXGFzaWFubG9hZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgY3J5cHRvX2pzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImNyeXB0by1qc1wiKSk7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi9tb2RlbHNcIik7XG5jbGFzcyBBc2lhbkxvYWQgZXh0ZW5kcyBtb2RlbHNfMS5WaWRlb0V4dHJhY3RvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc2VydmVyTmFtZSA9ICdhc2lhbmxvYWQnO1xuICAgICAgICB0aGlzLnNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5rZXlzID0ge1xuICAgICAgICAgICAga2V5OiBjcnlwdG9fanNfMS5kZWZhdWx0LmVuYy5VdGY4LnBhcnNlKCc5MzQyMjE5MjQzMzk1MjQ4OTc1MjM0MjkwODU4NTc1MicpLFxuICAgICAgICAgICAgaXY6IGNyeXB0b19qc18xLmRlZmF1bHQuZW5jLlV0ZjgucGFyc2UoJzkyNjI4NTkyMzI0MzU4MjUnKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5leHRyYWN0ID0gYXN5bmMgKHZpZGVvVXJsKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh2aWRlb1VybC5ocmVmKTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKHJlcy5kYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IGVuY3lwdGVkUGFyYW1zID0gYXdhaXQgdGhpcy5nZW5lcmF0ZUVuY3J5cHRlZEFqYXhQYXJhbXMoJCwgKF9hID0gdmlkZW9Vcmwuc2VhcmNoUGFyYW1zLmdldCgnaWQnKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycpO1xuICAgICAgICAgICAgY29uc3QgZW5jcnlwdGVkRGF0YSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt2aWRlb1VybC5wcm90b2NvbH0vLyR7dmlkZW9VcmwuaG9zdG5hbWV9L2VuY3J5cHQtYWpheC5waHA/JHtlbmN5cHRlZFBhcmFtc31gLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgZGVjcnlwdGVkRGF0YSA9IGF3YWl0IHRoaXMuZGVjcnlwdEFqYXhEYXRhKGVuY3J5cHRlZERhdGEuZGF0YS5kYXRhKTtcbiAgICAgICAgICAgIGlmICghZGVjcnlwdGVkRGF0YS5zb3VyY2UpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzb3VyY2UgZm91bmQuIFRyeSBhIGRpZmZlcmVudCBzZXJ2ZXIuJyk7XG4gICAgICAgICAgICBkZWNyeXB0ZWREYXRhLnNvdXJjZS5mb3JFYWNoKChzb3VyY2UpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogc291cmNlLmZpbGUsXG4gICAgICAgICAgICAgICAgICAgIGlzTTNVODogc291cmNlLmZpbGUuaW5jbHVkZXMoJy5tM3U4JyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlY3J5cHRlZERhdGEuc291cmNlX2JrLmZvckVhY2goKHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBzb3VyY2UuZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiBzb3VyY2UuZmlsZS5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3Qgc3VidGl0bGVzID0gKF9jID0gKF9iID0gZGVjcnlwdGVkRGF0YS50cmFjaykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnRyYWNrcykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm1hcCgodHJhY2spID0+ICh7XG4gICAgICAgICAgICAgICAgdXJsOiB0cmFjay5maWxlLFxuICAgICAgICAgICAgICAgIGxhbmc6IHRyYWNrLmtpbmQgPT09ICd0aHVtYm5haWxzJyA/ICdEZWZhdWx0IChtYXliZSknIDogdHJhY2sua2luZCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc291cmNlczogdGhpcy5zb3VyY2VzLFxuICAgICAgICAgICAgICAgIHN1YnRpdGxlczogc3VidGl0bGVzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUVuY3J5cHRlZEFqYXhQYXJhbXMgPSBhc3luYyAoJCwgaWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVuY3J5cHRlZEtleSA9IGNyeXB0b19qc18xLmRlZmF1bHQuQUVTLmVuY3J5cHQoaWQsIHRoaXMua2V5cy5rZXksIHtcbiAgICAgICAgICAgICAgICBpdjogdGhpcy5rZXlzLml2LFxuICAgICAgICAgICAgfSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IHNjcmlwdFZhbHVlID0gJChcInNjcmlwdFtkYXRhLW5hbWU9J2NyeXB0byddXCIpLmRhdGEoKS52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IGRlY3J5cHRlZFRva2VuID0gY3J5cHRvX2pzXzEuZGVmYXVsdC5BRVMuZGVjcnlwdChzY3JpcHRWYWx1ZSwgdGhpcy5rZXlzLmtleSwge1xuICAgICAgICAgICAgICAgIGl2OiB0aGlzLmtleXMuaXYsXG4gICAgICAgICAgICB9KS50b1N0cmluZyhjcnlwdG9fanNfMS5kZWZhdWx0LmVuYy5VdGY4KTtcbiAgICAgICAgICAgIHJldHVybiBgaWQ9JHtlbmNyeXB0ZWRLZXl9JmFsaWFzPSR7ZGVjcnlwdGVkVG9rZW59YDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWNyeXB0QWpheERhdGEgPSBhc3luYyAoZW5jcnlwdGVkRGF0YSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGVjcnlwdGVkRGF0YSA9IGNyeXB0b19qc18xLmRlZmF1bHQuZW5jLlV0Zjguc3RyaW5naWZ5KGNyeXB0b19qc18xLmRlZmF1bHQuQUVTLmRlY3J5cHQoZW5jcnlwdGVkRGF0YSwgdGhpcy5rZXlzLmtleSwge1xuICAgICAgICAgICAgICAgIGl2OiB0aGlzLmtleXMuaXYsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkZWNyeXB0ZWREYXRhKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBBc2lhbkxvYWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc2lhbmxvYWQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/asianload.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/bilibili.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/bilibili.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst utils_1 = __webpack_require__(/*! ../utils/utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/utils.js\");\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass BilibiliExtractor extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'Bilibili';\n        this.sources = [];\n        this.toDash = (data) => {\n            const videos = data.video\n                .filter((video) => video.video_resource.url)\n                .map((video) => video.video_resource);\n            const audios = data.audio_resource;\n            const duration = (0, utils_1.convertDuration)(data.duration);\n            const dash = `<?xml version=\"1.0\"?>\n<MPD xmlns=\"urn:mpeg💨schema:mpd:2011\" profiles=\"urn:mpeg💨profile:isoff-on-demand:2011\" minBufferTime=\"PT1M\" type=\"static\" mediaPresentationDuration=\"${duration}\">\n    <Period duration=\"${duration}\">\n        <AdaptationSet id=\"1\" group=\"1\" par=\"16:9\" segmentAlignment=\"true\" subsegmentAlignment=\"true\" subsegmentStartsWithSAP=\"1\" maxWidth=\"${videos[0].width}\" maxHeight=\"${videos[0].height}\" maxFrameRate=\"${videos[0].frame_rate}\" startWithSAP=\"1\">\n            ${videos.map((video, index) => this.videoSegment(video, index)).join()}\n        </AdaptationSet>\n        <AdaptationSet id=\"2\" group=\"2\" subsegmentAlignment=\"true\" subsegmentStartsWithSAP=\"1\" segmentAlignment=\"true\" startWithSAP=\"1\">\n            ${audios.map((audio, index) => this.audioSegment(audio, videos.length + index)).join()}\n        </AdaptationSet>\n    </Period>\n</MPD>`;\n            return dash;\n        };\n        this.videoSegment = (video, index = 0) => {\n            const allUrls = [video.url, video.backup_url[0]];\n            const videoUrl = allUrls.find(url => url.includes('akamaized.net'));\n            return `\n            <Representation id=\"${index}\" mimeType=\"${video.mime_type}\" codecs=\"${video.codecs}\" width=\"${video.width}\" height=\"${video.height}\" frameRate=\"${video.frame_rate}\" sar=\"${video.sar}\" bandwidth=\"${video.bandwidth}\">\n                <BaseURL>${videoUrl.replace(/&/g, '&amp;')}</BaseURL>\n                <SegmentBase indexRangeExact=\"true\" indexRange=\"${video.segment_base.index_range}\">\n                    <Initialization range=\"${video.segment_base.range}\"/>\n                </SegmentBase>\n            </Representation>\n            `;\n        };\n        this.audioSegment = (audio, index = 0) => {\n            const allUrls = [audio.url, audio.backup_url[0]];\n            const audioUrl = allUrls.find(url => url.includes('akamaized.net'));\n            return `\n            <Representation id=\"${index}\" mimeType=\"${audio.mime_type}\" codecs=\"${audio.codecs}\" bandwidth=\"${audio.bandwidth}\">\n                <BaseURL>${audioUrl.replace(/&/g, '&amp;')}</BaseURL>\n                <SegmentBase indexRangeExact=\"true\" indexRange=\"${audio.segment_base.index_range}\">\n                    <Initialization range=\"${audio.segment_base.range}\"/>\n                </SegmentBase>\n            </Representation>\n            `;\n        };\n    }\n    async extract(episodeId) {\n        this.sources.push({\n            url: `https://api.consumet.org/utils/bilibili/playurl?episode_id=${episodeId}`,\n            isM3U8: false,\n            isDASH: true,\n        });\n        return {\n            sources: this.sources,\n        };\n    }\n}\nexports[\"default\"] = BilibiliExtractor;\n//# sourceMappingURL=bilibili.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL2JpbGliaWxpLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQixtQkFBTyxDQUFDLHFGQUFnQjtBQUN4QyxpQkFBaUIsbUJBQU8sQ0FBQyxpRkFBVztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5SkFBeUosU0FBUztBQUNsSyx3QkFBd0IsU0FBUztBQUNqQyw4SUFBOEksZ0JBQWdCLGVBQWUsaUJBQWlCLGtCQUFrQixxQkFBcUI7QUFDck8sY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLE1BQU0sY0FBYyxnQkFBZ0IsWUFBWSxhQUFhLFdBQVcsWUFBWSxZQUFZLGFBQWEsZUFBZSxpQkFBaUIsU0FBUyxVQUFVLGVBQWUsZ0JBQWdCO0FBQ2pPLDJCQUEyQiw2QkFBNkIsR0FBRztBQUMzRCxrRUFBa0UsK0JBQStCO0FBQ2pHLDZDQUE2Qyx5QkFBeUI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxNQUFNLGNBQWMsZ0JBQWdCLFlBQVksYUFBYSxlQUFlLGdCQUFnQjtBQUM5SCwyQkFBMkIsNkJBQTZCLEdBQUc7QUFDM0Qsa0VBQWtFLCtCQUErQjtBQUNqRyw2Q0FBNkMseUJBQXlCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLFVBQVU7QUFDekY7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcZXh0cmFjdG9yc1xcYmlsaWJpbGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzL3V0aWxzXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuY2xhc3MgQmlsaWJpbGlFeHRyYWN0b3IgZXh0ZW5kcyBtb2RlbHNfMS5WaWRlb0V4dHJhY3RvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc2VydmVyTmFtZSA9ICdCaWxpYmlsaSc7XG4gICAgICAgIHRoaXMuc291cmNlcyA9IFtdO1xuICAgICAgICB0aGlzLnRvRGFzaCA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2aWRlb3MgPSBkYXRhLnZpZGVvXG4gICAgICAgICAgICAgICAgLmZpbHRlcigodmlkZW8pID0+IHZpZGVvLnZpZGVvX3Jlc291cmNlLnVybClcbiAgICAgICAgICAgICAgICAubWFwKCh2aWRlbykgPT4gdmlkZW8udmlkZW9fcmVzb3VyY2UpO1xuICAgICAgICAgICAgY29uc3QgYXVkaW9zID0gZGF0YS5hdWRpb19yZXNvdXJjZTtcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gKDAsIHV0aWxzXzEuY29udmVydER1cmF0aW9uKShkYXRhLmR1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IGRhc2ggPSBgPD94bWwgdmVyc2lvbj1cIjEuMFwiPz5cbjxNUEQgeG1sbnM9XCJ1cm46bXBlZ/CfkqhzY2hlbWE6bXBkOjIwMTFcIiBwcm9maWxlcz1cInVybjptcGVn8J+SqHByb2ZpbGU6aXNvZmYtb24tZGVtYW5kOjIwMTFcIiBtaW5CdWZmZXJUaW1lPVwiUFQxTVwiIHR5cGU9XCJzdGF0aWNcIiBtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uPVwiJHtkdXJhdGlvbn1cIj5cbiAgICA8UGVyaW9kIGR1cmF0aW9uPVwiJHtkdXJhdGlvbn1cIj5cbiAgICAgICAgPEFkYXB0YXRpb25TZXQgaWQ9XCIxXCIgZ3JvdXA9XCIxXCIgcGFyPVwiMTY6OVwiIHNlZ21lbnRBbGlnbm1lbnQ9XCJ0cnVlXCIgc3Vic2VnbWVudEFsaWdubWVudD1cInRydWVcIiBzdWJzZWdtZW50U3RhcnRzV2l0aFNBUD1cIjFcIiBtYXhXaWR0aD1cIiR7dmlkZW9zWzBdLndpZHRofVwiIG1heEhlaWdodD1cIiR7dmlkZW9zWzBdLmhlaWdodH1cIiBtYXhGcmFtZVJhdGU9XCIke3ZpZGVvc1swXS5mcmFtZV9yYXRlfVwiIHN0YXJ0V2l0aFNBUD1cIjFcIj5cbiAgICAgICAgICAgICR7dmlkZW9zLm1hcCgodmlkZW8sIGluZGV4KSA9PiB0aGlzLnZpZGVvU2VnbWVudCh2aWRlbywgaW5kZXgpKS5qb2luKCl9XG4gICAgICAgIDwvQWRhcHRhdGlvblNldD5cbiAgICAgICAgPEFkYXB0YXRpb25TZXQgaWQ9XCIyXCIgZ3JvdXA9XCIyXCIgc3Vic2VnbWVudEFsaWdubWVudD1cInRydWVcIiBzdWJzZWdtZW50U3RhcnRzV2l0aFNBUD1cIjFcIiBzZWdtZW50QWxpZ25tZW50PVwidHJ1ZVwiIHN0YXJ0V2l0aFNBUD1cIjFcIj5cbiAgICAgICAgICAgICR7YXVkaW9zLm1hcCgoYXVkaW8sIGluZGV4KSA9PiB0aGlzLmF1ZGlvU2VnbWVudChhdWRpbywgdmlkZW9zLmxlbmd0aCArIGluZGV4KSkuam9pbigpfVxuICAgICAgICA8L0FkYXB0YXRpb25TZXQ+XG4gICAgPC9QZXJpb2Q+XG48L01QRD5gO1xuICAgICAgICAgICAgcmV0dXJuIGRhc2g7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmlkZW9TZWdtZW50ID0gKHZpZGVvLCBpbmRleCA9IDApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFsbFVybHMgPSBbdmlkZW8udXJsLCB2aWRlby5iYWNrdXBfdXJsWzBdXTtcbiAgICAgICAgICAgIGNvbnN0IHZpZGVvVXJsID0gYWxsVXJscy5maW5kKHVybCA9PiB1cmwuaW5jbHVkZXMoJ2FrYW1haXplZC5uZXQnKSk7XG4gICAgICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgPFJlcHJlc2VudGF0aW9uIGlkPVwiJHtpbmRleH1cIiBtaW1lVHlwZT1cIiR7dmlkZW8ubWltZV90eXBlfVwiIGNvZGVjcz1cIiR7dmlkZW8uY29kZWNzfVwiIHdpZHRoPVwiJHt2aWRlby53aWR0aH1cIiBoZWlnaHQ9XCIke3ZpZGVvLmhlaWdodH1cIiBmcmFtZVJhdGU9XCIke3ZpZGVvLmZyYW1lX3JhdGV9XCIgc2FyPVwiJHt2aWRlby5zYXJ9XCIgYmFuZHdpZHRoPVwiJHt2aWRlby5iYW5kd2lkdGh9XCI+XG4gICAgICAgICAgICAgICAgPEJhc2VVUkw+JHt2aWRlb1VybC5yZXBsYWNlKC8mL2csICcmYW1wOycpfTwvQmFzZVVSTD5cbiAgICAgICAgICAgICAgICA8U2VnbWVudEJhc2UgaW5kZXhSYW5nZUV4YWN0PVwidHJ1ZVwiIGluZGV4UmFuZ2U9XCIke3ZpZGVvLnNlZ21lbnRfYmFzZS5pbmRleF9yYW5nZX1cIj5cbiAgICAgICAgICAgICAgICAgICAgPEluaXRpYWxpemF0aW9uIHJhbmdlPVwiJHt2aWRlby5zZWdtZW50X2Jhc2UucmFuZ2V9XCIvPlxuICAgICAgICAgICAgICAgIDwvU2VnbWVudEJhc2U+XG4gICAgICAgICAgICA8L1JlcHJlc2VudGF0aW9uPlxuICAgICAgICAgICAgYDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hdWRpb1NlZ21lbnQgPSAoYXVkaW8sIGluZGV4ID0gMCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWxsVXJscyA9IFthdWRpby51cmwsIGF1ZGlvLmJhY2t1cF91cmxbMF1dO1xuICAgICAgICAgICAgY29uc3QgYXVkaW9VcmwgPSBhbGxVcmxzLmZpbmQodXJsID0+IHVybC5pbmNsdWRlcygnYWthbWFpemVkLm5ldCcpKTtcbiAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICA8UmVwcmVzZW50YXRpb24gaWQ9XCIke2luZGV4fVwiIG1pbWVUeXBlPVwiJHthdWRpby5taW1lX3R5cGV9XCIgY29kZWNzPVwiJHthdWRpby5jb2RlY3N9XCIgYmFuZHdpZHRoPVwiJHthdWRpby5iYW5kd2lkdGh9XCI+XG4gICAgICAgICAgICAgICAgPEJhc2VVUkw+JHthdWRpb1VybC5yZXBsYWNlKC8mL2csICcmYW1wOycpfTwvQmFzZVVSTD5cbiAgICAgICAgICAgICAgICA8U2VnbWVudEJhc2UgaW5kZXhSYW5nZUV4YWN0PVwidHJ1ZVwiIGluZGV4UmFuZ2U9XCIke2F1ZGlvLnNlZ21lbnRfYmFzZS5pbmRleF9yYW5nZX1cIj5cbiAgICAgICAgICAgICAgICAgICAgPEluaXRpYWxpemF0aW9uIHJhbmdlPVwiJHthdWRpby5zZWdtZW50X2Jhc2UucmFuZ2V9XCIvPlxuICAgICAgICAgICAgICAgIDwvU2VnbWVudEJhc2U+XG4gICAgICAgICAgICA8L1JlcHJlc2VudGF0aW9uPlxuICAgICAgICAgICAgYDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgZXh0cmFjdChlcGlzb2RlSWQpIHtcbiAgICAgICAgdGhpcy5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgdXJsOiBgaHR0cHM6Ly9hcGkuY29uc3VtZXQub3JnL3V0aWxzL2JpbGliaWxpL3BsYXl1cmw/ZXBpc29kZV9pZD0ke2VwaXNvZGVJZH1gLFxuICAgICAgICAgICAgaXNNM1U4OiBmYWxzZSxcbiAgICAgICAgICAgIGlzREFTSDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzb3VyY2VzOiB0aGlzLnNvdXJjZXMsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gQmlsaWJpbGlFeHRyYWN0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaWxpYmlsaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/bilibili.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/filemoon.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/filemoon.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\n/**\n * work in progress\n */\nclass Filemoon extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'Filemoon';\n        this.sources = [];\n        this.host = 'https://filemoon.sx';\n        this.extract = async (videoUrl) => {\n            var _a;\n            const options = {\n                headers: {\n                    Accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7',\n                    'Accept-Language': 'en-US,en;q=0.9',\n                    Cookie: 'file_id=40342338; aff=23788; ref_url=https%3A%2F%2Fbf0skv.org%2Fe%2Fm0507zf4xqor; lang=1',\n                    Priority: 'u=0, i',\n                    Referer: videoUrl.origin,\n                    Origin: videoUrl.href,\n                    'Sec-Ch-Ua': '\"Google Chrome\";v=\"131\", \"Chromium\";v=\"131\", \"Not_A Brand\";v=\"24\"',\n                    'Sec-Ch-Ua-Mobile': '?0',\n                    'Sec-Ch-Ua-Platform': '\"Windows\"',\n                    'Sec-Fetch-Dest': 'iframe',\n                    'Sec-Fetch-Mode': 'navigate',\n                    'Sec-Fetch-Site': 'cross-site',\n                    'User-Agent': utils_1.USER_AGENT,\n                    'Access-Control-Allow-Origin': '*',\n                },\n            };\n            const { data } = await this.client.get(videoUrl.href, options);\n            const $ = (0, cheerio_1.load)(data);\n            try {\n                const { data } = await this.client.get($('iframe').attr('src'), options);\n                const unpackedData = eval(/(eval)(\\(f.*?)(\\n<\\/script>)/s.exec(data)[2].replace('eval', ''));\n                const links = (_a = unpackedData.match(new RegExp('sources:\\\\[\\\\{file:\"(.*?)\"'))) !== null && _a !== void 0 ? _a : [];\n                const m3u8Link = links[1];\n                this.sources.unshift({\n                    url: m3u8Link,\n                    quality: 'auto',\n                    isM3U8: true,\n                });\n            }\n            catch (err) {\n                console.log(err);\n            }\n            return this.sources;\n        };\n    }\n}\nexports[\"default\"] = Filemoon;\n//# sourceMappingURL=filemoon.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL2ZpbGVtb29uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLGlGQUFXO0FBQ3BDLGdCQUFnQixtQkFBTyxDQUFDLCtFQUFVO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLDJDQUEyQyxrQ0FBa0MsS0FBSztBQUMvSixpREFBaUQ7QUFDakQsK0NBQStDLFdBQVcscURBQXFEO0FBQy9HO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxvQkFBb0IsdUJBQXVCO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0EsaUZBQWlGO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXGV4dHJhY3RvcnNcXGZpbGVtb29uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2hlZXJpb18xID0gcmVxdWlyZShcImNoZWVyaW9cIik7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi9tb2RlbHNcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xuLyoqXG4gKiB3b3JrIGluIHByb2dyZXNzXG4gKi9cbmNsYXNzIEZpbGVtb29uIGV4dGVuZHMgbW9kZWxzXzEuVmlkZW9FeHRyYWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnNlcnZlck5hbWUgPSAnRmlsZW1vb24nO1xuICAgICAgICB0aGlzLnNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5ob3N0ID0gJ2h0dHBzOi8vZmlsZW1vb24uc3gnO1xuICAgICAgICB0aGlzLmV4dHJhY3QgPSBhc3luYyAodmlkZW9VcmwpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjcnLFxuICAgICAgICAgICAgICAgICAgICAnQWNjZXB0LUxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45JyxcbiAgICAgICAgICAgICAgICAgICAgQ29va2llOiAnZmlsZV9pZD00MDM0MjMzODsgYWZmPTIzNzg4OyByZWZfdXJsPWh0dHBzJTNBJTJGJTJGYmYwc2t2Lm9yZyUyRmUlMkZtMDUwN3pmNHhxb3I7IGxhbmc9MScsXG4gICAgICAgICAgICAgICAgICAgIFByaW9yaXR5OiAndT0wLCBpJyxcbiAgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogdmlkZW9Vcmwub3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICBPcmlnaW46IHZpZGVvVXJsLmhyZWYsXG4gICAgICAgICAgICAgICAgICAgICdTZWMtQ2gtVWEnOiAnXCJHb29nbGUgQ2hyb21lXCI7dj1cIjEzMVwiLCBcIkNocm9taXVtXCI7dj1cIjEzMVwiLCBcIk5vdF9BIEJyYW5kXCI7dj1cIjI0XCInLFxuICAgICAgICAgICAgICAgICAgICAnU2VjLUNoLVVhLU1vYmlsZSc6ICc/MCcsXG4gICAgICAgICAgICAgICAgICAgICdTZWMtQ2gtVWEtUGxhdGZvcm0nOiAnXCJXaW5kb3dzXCInLFxuICAgICAgICAgICAgICAgICAgICAnU2VjLUZldGNoLURlc3QnOiAnaWZyYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgJ1NlYy1GZXRjaC1Nb2RlJzogJ25hdmlnYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgJ1NlYy1GZXRjaC1TaXRlJzogJ2Nyb3NzLXNpdGUnLFxuICAgICAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6IHV0aWxzXzEuVVNFUl9BR0VOVCxcbiAgICAgICAgICAgICAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHZpZGVvVXJsLmhyZWYsIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KCQoJ2lmcmFtZScpLmF0dHIoJ3NyYycpLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1bnBhY2tlZERhdGEgPSBldmFsKC8oZXZhbCkoXFwoZi4qPykoXFxuPFxcL3NjcmlwdD4pL3MuZXhlYyhkYXRhKVsyXS5yZXBsYWNlKCdldmFsJywgJycpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rcyA9IChfYSA9IHVucGFja2VkRGF0YS5tYXRjaChuZXcgUmVnRXhwKCdzb3VyY2VzOlxcXFxbXFxcXHtmaWxlOlwiKC4qPylcIicpKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgICAgICAgICAgICAgY29uc3QgbTN1OExpbmsgPSBsaW5rc1sxXTtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZXMudW5zaGlmdCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogbTN1OExpbmssXG4gICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2VzO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IEZpbGVtb29uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsZW1vb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/filemoon.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/gogocdn.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/gogocdn.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst crypto_js_1 = __importDefault(__webpack_require__(/*! crypto-js */ \"(rsc)/./node_modules/crypto-js/index.js\"));\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nclass GogoCDN extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'goload';\n        this.sources = [];\n        this.keys = {\n            key: crypto_js_1.default.enc.Utf8.parse('37911490979715163134003223491201'),\n            secondKey: crypto_js_1.default.enc.Utf8.parse('54674138327930866480207815084989'),\n            iv: crypto_js_1.default.enc.Utf8.parse('3134003223491201'),\n        };\n        this.referer = '';\n        this.extract = async (videoUrl) => {\n            var _a, _b;\n            this.referer = videoUrl.href;\n            const res = await this.client.get(videoUrl.href);\n            const $ = (0, cheerio_1.load)(res.data);\n            const encyptedParams = await this.generateEncryptedAjaxParams($, (_a = videoUrl.searchParams.get('id')) !== null && _a !== void 0 ? _a : '');\n            const encryptedData = await this.client.get(`${videoUrl.protocol}//${videoUrl.hostname}/encrypt-ajax.php?${encyptedParams}`, {\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest',\n                },\n            });\n            const decryptedData = await this.decryptAjaxData(encryptedData.data.data);\n            // console.log(decryptedData.track.tracks);\n            if (!decryptedData.source)\n                throw new Error('No source found. Try a different server.');\n            const subtitles = (_b = decryptedData.track.tracks) === null || _b === void 0 ? void 0 : _b.map((track) => ({\n                url: track.file,\n                lang: track.kind,\n            }));\n            if (decryptedData.source[0].file.includes('.m3u8')) {\n                const resResult = await this.client.get(decryptedData.source[0].file.toString());\n                const resolutions = resResult.data.match(/(RESOLUTION=)(.*)(\\s*?)(\\s*.*)/g);\n                resolutions === null || resolutions === void 0 ? void 0 : resolutions.forEach((res) => {\n                    const index = decryptedData.source[0].file.lastIndexOf('/');\n                    const quality = res.split('\\n')[0].split('x')[1].split(',')[0];\n                    const url = decryptedData.source[0].file.slice(0, index);\n                    this.sources.push({\n                        url: url + '/' + res.split('\\n')[1],\n                        isM3U8: (url + res.split('\\n')[1]).includes('.m3u8'),\n                        quality: quality + 'p',\n                    });\n                });\n                decryptedData.source.forEach((source) => {\n                    this.sources.push({\n                        url: source.file,\n                        isM3U8: source.file.includes('.m3u8'),\n                        quality: 'default',\n                    });\n                });\n            }\n            else\n                decryptedData.source.forEach((source) => {\n                    this.sources.push({\n                        url: source.file,\n                        isM3U8: source.file.includes('.m3u8'),\n                        quality: source.label.split(' ')[0] + 'p',\n                    });\n                });\n            decryptedData.source_bk.forEach((source) => {\n                this.sources.push({\n                    url: source.file,\n                    isM3U8: source.file.includes('.m3u8'),\n                    quality: 'backup',\n                });\n            });\n            return {\n                sources: this.sources,\n                subtitles: subtitles,\n            };\n        };\n        this.addSources = async (source) => {\n            if (source.file.includes('m3u8')) {\n                const m3u8Urls = await this.client\n                    .get(source.file, {\n                    headers: {\n                        Referer: this.referer,\n                        'User-Agent': utils_1.USER_AGENT,\n                    },\n                })\n                    .catch(() => null);\n                const videoList = m3u8Urls === null || m3u8Urls === void 0 ? void 0 : m3u8Urls.data.split('#EXT-X-I-FRAME-STREAM-INF:');\n                for (const video of videoList !== null && videoList !== void 0 ? videoList : []) {\n                    if (!video.includes('m3u8'))\n                        continue;\n                    const url = video\n                        .split('\\n')\n                        .find((line) => line.includes('URI='))\n                        .split('URI=')[1]\n                        .replace(/\"/g, '');\n                    const quality = video.split('RESOLUTION=')[1].split(',')[0].split('x')[1];\n                    this.sources.push({\n                        url: url,\n                        quality: `${quality}p`,\n                        isM3U8: true,\n                    });\n                }\n                return;\n            }\n            this.sources.push({\n                url: source.file,\n                isM3U8: source.file.includes('.m3u8'),\n            });\n        };\n        this.generateEncryptedAjaxParams = async ($, id) => {\n            const encryptedKey = crypto_js_1.default.AES.encrypt(id, this.keys.key, {\n                iv: this.keys.iv,\n            });\n            const scriptValue = $(\"script[data-name='episode']\").attr('data-value');\n            const decryptedToken = crypto_js_1.default.AES.decrypt(scriptValue, this.keys.key, {\n                iv: this.keys.iv,\n            }).toString(crypto_js_1.default.enc.Utf8);\n            return `id=${encryptedKey}&alias=${id}&${decryptedToken}`;\n        };\n        this.decryptAjaxData = async (encryptedData) => {\n            const decryptedData = crypto_js_1.default.enc.Utf8.stringify(crypto_js_1.default.AES.decrypt(encryptedData, this.keys.secondKey, {\n                iv: this.keys.iv,\n            }));\n            return JSON.parse(decryptedData);\n        };\n    }\n}\nexports[\"default\"] = GogoCDN;\n//# sourceMappingURL=gogocdn.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL2dvZ29jZG4uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxvQ0FBb0MsbUJBQU8sQ0FBQywwREFBVztBQUN2RCxpQkFBaUIsbUJBQU8sQ0FBQyxpRkFBVztBQUNwQyxnQkFBZ0IsbUJBQU8sQ0FBQywrRUFBVTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGtCQUFrQixJQUFJLGtCQUFrQixvQkFBb0IsZUFBZTtBQUN0STtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxRQUFRO0FBQzVDO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IseUJBQXlCLGFBQWEsU0FBUyxHQUFHLEdBQUcsZUFBZTtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXGV4dHJhY3RvcnNcXGdvZ29jZG4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IGNyeXB0b19qc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJjcnlwdG8tanNcIikpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcbmNsYXNzIEdvZ29DRE4gZXh0ZW5kcyBtb2RlbHNfMS5WaWRlb0V4dHJhY3RvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc2VydmVyTmFtZSA9ICdnb2xvYWQnO1xuICAgICAgICB0aGlzLnNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5rZXlzID0ge1xuICAgICAgICAgICAga2V5OiBjcnlwdG9fanNfMS5kZWZhdWx0LmVuYy5VdGY4LnBhcnNlKCczNzkxMTQ5MDk3OTcxNTE2MzEzNDAwMzIyMzQ5MTIwMScpLFxuICAgICAgICAgICAgc2Vjb25kS2V5OiBjcnlwdG9fanNfMS5kZWZhdWx0LmVuYy5VdGY4LnBhcnNlKCc1NDY3NDEzODMyNzkzMDg2NjQ4MDIwNzgxNTA4NDk4OScpLFxuICAgICAgICAgICAgaXY6IGNyeXB0b19qc18xLmRlZmF1bHQuZW5jLlV0ZjgucGFyc2UoJzMxMzQwMDMyMjM0OTEyMDEnKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZWZlcmVyID0gJyc7XG4gICAgICAgIHRoaXMuZXh0cmFjdCA9IGFzeW5jICh2aWRlb1VybCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHRoaXMucmVmZXJlciA9IHZpZGVvVXJsLmhyZWY7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQodmlkZW9VcmwuaHJlZik7XG4gICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShyZXMuZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBlbmN5cHRlZFBhcmFtcyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVFbmNyeXB0ZWRBamF4UGFyYW1zKCQsIChfYSA9IHZpZGVvVXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2lkJykpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnKTtcbiAgICAgICAgICAgIGNvbnN0IGVuY3J5cHRlZERhdGEgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dmlkZW9VcmwucHJvdG9jb2x9Ly8ke3ZpZGVvVXJsLmhvc3RuYW1lfS9lbmNyeXB0LWFqYXgucGhwPyR7ZW5jeXB0ZWRQYXJhbXN9YCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGRlY3J5cHRlZERhdGEgPSBhd2FpdCB0aGlzLmRlY3J5cHRBamF4RGF0YShlbmNyeXB0ZWREYXRhLmRhdGEuZGF0YSk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkZWNyeXB0ZWREYXRhLnRyYWNrLnRyYWNrcyk7XG4gICAgICAgICAgICBpZiAoIWRlY3J5cHRlZERhdGEuc291cmNlKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc291cmNlIGZvdW5kLiBUcnkgYSBkaWZmZXJlbnQgc2VydmVyLicpO1xuICAgICAgICAgICAgY29uc3Qgc3VidGl0bGVzID0gKF9iID0gZGVjcnlwdGVkRGF0YS50cmFjay50cmFja3MpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5tYXAoKHRyYWNrKSA9PiAoe1xuICAgICAgICAgICAgICAgIHVybDogdHJhY2suZmlsZSxcbiAgICAgICAgICAgICAgICBsYW5nOiB0cmFjay5raW5kLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKGRlY3J5cHRlZERhdGEuc291cmNlWzBdLmZpbGUuaW5jbHVkZXMoJy5tM3U4JykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNSZXN1bHQgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoZGVjcnlwdGVkRGF0YS5zb3VyY2VbMF0uZmlsZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvbHV0aW9ucyA9IHJlc1Jlc3VsdC5kYXRhLm1hdGNoKC8oUkVTT0xVVElPTj0pKC4qKShcXHMqPykoXFxzKi4qKS9nKTtcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9ucyA9PT0gbnVsbCB8fCByZXNvbHV0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzb2x1dGlvbnMuZm9yRWFjaCgocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZGVjcnlwdGVkRGF0YS5zb3VyY2VbMF0uZmlsZS5sYXN0SW5kZXhPZignLycpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWFsaXR5ID0gcmVzLnNwbGl0KCdcXG4nKVswXS5zcGxpdCgneCcpWzFdLnNwbGl0KCcsJylbMF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGRlY3J5cHRlZERhdGEuc291cmNlWzBdLmZpbGUuc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCArICcvJyArIHJlcy5zcGxpdCgnXFxuJylbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc00zVTg6ICh1cmwgKyByZXMuc3BsaXQoJ1xcbicpWzFdKS5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6IHF1YWxpdHkgKyAncCcsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRlY3J5cHRlZERhdGEuc291cmNlLmZvckVhY2goKHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNvdXJjZS5maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiBzb3VyY2UuZmlsZS5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZGVjcnlwdGVkRGF0YS5zb3VyY2UuZm9yRWFjaCgoc291cmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc291cmNlLmZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc00zVTg6IHNvdXJjZS5maWxlLmluY2x1ZGVzKCcubTN1OCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogc291cmNlLmxhYmVsLnNwbGl0KCcgJylbMF0gKyAncCcsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVjcnlwdGVkRGF0YS5zb3VyY2VfYmsuZm9yRWFjaCgoc291cmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHNvdXJjZS5maWxlLFxuICAgICAgICAgICAgICAgICAgICBpc00zVTg6IHNvdXJjZS5maWxlLmluY2x1ZGVzKCcubTN1OCcpLFxuICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiAnYmFja3VwJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VzOiB0aGlzLnNvdXJjZXMsXG4gICAgICAgICAgICAgICAgc3VidGl0bGVzOiBzdWJ0aXRsZXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZFNvdXJjZXMgPSBhc3luYyAoc291cmNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoc291cmNlLmZpbGUuaW5jbHVkZXMoJ20zdTgnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG0zdThVcmxzID0gYXdhaXQgdGhpcy5jbGllbnRcbiAgICAgICAgICAgICAgICAgICAgLmdldChzb3VyY2UuZmlsZSwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiB0aGlzLnJlZmVyZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6IHV0aWxzXzEuVVNFUl9BR0VOVCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4gbnVsbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlkZW9MaXN0ID0gbTN1OFVybHMgPT09IG51bGwgfHwgbTN1OFVybHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG0zdThVcmxzLmRhdGEuc3BsaXQoJyNFWFQtWC1JLUZSQU1FLVNUUkVBTS1JTkY6Jyk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB2aWRlbyBvZiB2aWRlb0xpc3QgIT09IG51bGwgJiYgdmlkZW9MaXN0ICE9PSB2b2lkIDAgPyB2aWRlb0xpc3QgOiBbXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZpZGVvLmluY2x1ZGVzKCdtM3U4JykpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gdmlkZW9cbiAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnXFxuJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKChsaW5lKSA9PiBsaW5lLmluY2x1ZGVzKCdVUkk9JykpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJ1VSST0nKVsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csICcnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVhbGl0eSA9IHZpZGVvLnNwbGl0KCdSRVNPTFVUSU9OPScpWzFdLnNwbGl0KCcsJylbMF0uc3BsaXQoJ3gnKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiBgJHtxdWFsaXR5fXBgLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIHVybDogc291cmNlLmZpbGUsXG4gICAgICAgICAgICAgICAgaXNNM1U4OiBzb3VyY2UuZmlsZS5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdlbmVyYXRlRW5jcnlwdGVkQWpheFBhcmFtcyA9IGFzeW5jICgkLCBpZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5jcnlwdGVkS2V5ID0gY3J5cHRvX2pzXzEuZGVmYXVsdC5BRVMuZW5jcnlwdChpZCwgdGhpcy5rZXlzLmtleSwge1xuICAgICAgICAgICAgICAgIGl2OiB0aGlzLmtleXMuaXYsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHNjcmlwdFZhbHVlID0gJChcInNjcmlwdFtkYXRhLW5hbWU9J2VwaXNvZGUnXVwiKS5hdHRyKCdkYXRhLXZhbHVlJyk7XG4gICAgICAgICAgICBjb25zdCBkZWNyeXB0ZWRUb2tlbiA9IGNyeXB0b19qc18xLmRlZmF1bHQuQUVTLmRlY3J5cHQoc2NyaXB0VmFsdWUsIHRoaXMua2V5cy5rZXksIHtcbiAgICAgICAgICAgICAgICBpdjogdGhpcy5rZXlzLml2LFxuICAgICAgICAgICAgfSkudG9TdHJpbmcoY3J5cHRvX2pzXzEuZGVmYXVsdC5lbmMuVXRmOCk7XG4gICAgICAgICAgICByZXR1cm4gYGlkPSR7ZW5jcnlwdGVkS2V5fSZhbGlhcz0ke2lkfSYke2RlY3J5cHRlZFRva2VufWA7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVjcnlwdEFqYXhEYXRhID0gYXN5bmMgKGVuY3J5cHRlZERhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlY3J5cHRlZERhdGEgPSBjcnlwdG9fanNfMS5kZWZhdWx0LmVuYy5VdGY4LnN0cmluZ2lmeShjcnlwdG9fanNfMS5kZWZhdWx0LkFFUy5kZWNyeXB0KGVuY3J5cHRlZERhdGEsIHRoaXMua2V5cy5zZWNvbmRLZXksIHtcbiAgICAgICAgICAgICAgICBpdjogdGhpcy5rZXlzLml2LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGVjcnlwdGVkRGF0YSk7XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gR29nb0NETjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdvZ29jZG4uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/gogocdn.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/index.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MegaUp = exports.Voe = exports.VidHide = exports.VizCloud = exports.VidMoly = exports.VidCloud = exports.StreamWish = exports.StreamTape = exports.StreamSB = exports.StreamLare = exports.StreamHub = exports.SmashyStream = exports.MegaCloud = exports.RapidCloud = exports.Mp4Upload = exports.Mp4Player = exports.MixDrop = exports.Kwik = exports.GogoCDN = exports.Filemoon = exports.BilibiliExtractor = exports.AsianLoad = void 0;\nconst asianload_1 = __importDefault(__webpack_require__(/*! ./asianload */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/asianload.js\"));\nexports.AsianLoad = asianload_1.default;\nconst bilibili_1 = __importDefault(__webpack_require__(/*! ./bilibili */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/bilibili.js\"));\nexports.BilibiliExtractor = bilibili_1.default;\nconst filemoon_1 = __importDefault(__webpack_require__(/*! ./filemoon */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/filemoon.js\"));\nexports.Filemoon = filemoon_1.default;\nconst gogocdn_1 = __importDefault(__webpack_require__(/*! ./gogocdn */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/gogocdn.js\"));\nexports.GogoCDN = gogocdn_1.default;\nconst kwik_1 = __importDefault(__webpack_require__(/*! ./kwik */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/kwik.js\"));\nexports.Kwik = kwik_1.default;\nconst mixdrop_1 = __importDefault(__webpack_require__(/*! ./mixdrop */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/mixdrop.js\"));\nexports.MixDrop = mixdrop_1.default;\nconst mp4player_1 = __importDefault(__webpack_require__(/*! ./mp4player */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/mp4player.js\"));\nexports.Mp4Player = mp4player_1.default;\nconst mp4upload_1 = __importDefault(__webpack_require__(/*! ./mp4upload */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/mp4upload.js\"));\nexports.Mp4Upload = mp4upload_1.default;\nconst rapidcloud_1 = __importDefault(__webpack_require__(/*! ./rapidcloud */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/rapidcloud.js\"));\nexports.RapidCloud = rapidcloud_1.default;\nconst megacloud_1 = __importDefault(__webpack_require__(/*! ./megacloud */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/megacloud/index.js\"));\nexports.MegaCloud = megacloud_1.default;\nconst smashystream_1 = __importDefault(__webpack_require__(/*! ./smashystream */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/smashystream.js\"));\nexports.SmashyStream = smashystream_1.default;\nconst streamhub_1 = __importDefault(__webpack_require__(/*! ./streamhub */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamhub.js\"));\nexports.StreamHub = streamhub_1.default;\nconst streamlare_1 = __importDefault(__webpack_require__(/*! ./streamlare */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamlare.js\"));\nexports.StreamLare = streamlare_1.default;\nconst streamsb_1 = __importDefault(__webpack_require__(/*! ./streamsb */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamsb.js\"));\nexports.StreamSB = streamsb_1.default;\nconst streamtape_1 = __importDefault(__webpack_require__(/*! ./streamtape */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamtape.js\"));\nexports.StreamTape = streamtape_1.default;\nconst streamwish_1 = __importDefault(__webpack_require__(/*! ./streamwish */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamwish.js\"));\nexports.StreamWish = streamwish_1.default;\nconst vidcloud_1 = __importDefault(__webpack_require__(/*! ./vidcloud */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/vidcloud.js\"));\nexports.VidCloud = vidcloud_1.default;\nconst vidmoly_1 = __importDefault(__webpack_require__(/*! ./vidmoly */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/vidmoly.js\"));\nexports.VidMoly = vidmoly_1.default;\nconst vizcloud_1 = __importDefault(__webpack_require__(/*! ./vizcloud */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/vizcloud.js\"));\nexports.VizCloud = vizcloud_1.default;\nconst vidhide_1 = __importDefault(__webpack_require__(/*! ./vidhide */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/vidhide.js\"));\nexports.VidHide = vidhide_1.default;\nconst voe_1 = __importDefault(__webpack_require__(/*! ./voe */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/voe.js\"));\nexports.Voe = voe_1.default;\nconst megaup_1 = __webpack_require__(/*! ./megaup */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/megaup.js\");\nObject.defineProperty(exports, \"MegaUp\", ({ enumerable: true, get: function () { return megaup_1.MegaUp; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYyxHQUFHLFdBQVcsR0FBRyxlQUFlLEdBQUcsZ0JBQWdCLEdBQUcsZUFBZSxHQUFHLGdCQUFnQixHQUFHLGtCQUFrQixHQUFHLGtCQUFrQixHQUFHLGdCQUFnQixHQUFHLGtCQUFrQixHQUFHLGlCQUFpQixHQUFHLG9CQUFvQixHQUFHLGlCQUFpQixHQUFHLGtCQUFrQixHQUFHLGlCQUFpQixHQUFHLGlCQUFpQixHQUFHLGVBQWUsR0FBRyxZQUFZLEdBQUcsZUFBZSxHQUFHLGdCQUFnQixHQUFHLHlCQUF5QixHQUFHLGlCQUFpQjtBQUMxYSxvQ0FBb0MsbUJBQU8sQ0FBQywyRkFBYTtBQUN6RCxpQkFBaUI7QUFDakIsbUNBQW1DLG1CQUFPLENBQUMseUZBQVk7QUFDdkQseUJBQXlCO0FBQ3pCLG1DQUFtQyxtQkFBTyxDQUFDLHlGQUFZO0FBQ3ZELGdCQUFnQjtBQUNoQixrQ0FBa0MsbUJBQU8sQ0FBQyx1RkFBVztBQUNyRCxlQUFlO0FBQ2YsK0JBQStCLG1CQUFPLENBQUMsaUZBQVE7QUFDL0MsWUFBWTtBQUNaLGtDQUFrQyxtQkFBTyxDQUFDLHVGQUFXO0FBQ3JELGVBQWU7QUFDZixvQ0FBb0MsbUJBQU8sQ0FBQywyRkFBYTtBQUN6RCxpQkFBaUI7QUFDakIsb0NBQW9DLG1CQUFPLENBQUMsMkZBQWE7QUFDekQsaUJBQWlCO0FBQ2pCLHFDQUFxQyxtQkFBTyxDQUFDLDZGQUFjO0FBQzNELGtCQUFrQjtBQUNsQixvQ0FBb0MsbUJBQU8sQ0FBQyxpR0FBYTtBQUN6RCxpQkFBaUI7QUFDakIsdUNBQXVDLG1CQUFPLENBQUMsaUdBQWdCO0FBQy9ELG9CQUFvQjtBQUNwQixvQ0FBb0MsbUJBQU8sQ0FBQywyRkFBYTtBQUN6RCxpQkFBaUI7QUFDakIscUNBQXFDLG1CQUFPLENBQUMsNkZBQWM7QUFDM0Qsa0JBQWtCO0FBQ2xCLG1DQUFtQyxtQkFBTyxDQUFDLHlGQUFZO0FBQ3ZELGdCQUFnQjtBQUNoQixxQ0FBcUMsbUJBQU8sQ0FBQyw2RkFBYztBQUMzRCxrQkFBa0I7QUFDbEIscUNBQXFDLG1CQUFPLENBQUMsNkZBQWM7QUFDM0Qsa0JBQWtCO0FBQ2xCLG1DQUFtQyxtQkFBTyxDQUFDLHlGQUFZO0FBQ3ZELGdCQUFnQjtBQUNoQixrQ0FBa0MsbUJBQU8sQ0FBQyx1RkFBVztBQUNyRCxlQUFlO0FBQ2YsbUNBQW1DLG1CQUFPLENBQUMseUZBQVk7QUFDdkQsZ0JBQWdCO0FBQ2hCLGtDQUFrQyxtQkFBTyxDQUFDLHVGQUFXO0FBQ3JELGVBQWU7QUFDZiw4QkFBOEIsbUJBQU8sQ0FBQywrRUFBTztBQUM3QyxXQUFXO0FBQ1gsaUJBQWlCLG1CQUFPLENBQUMscUZBQVU7QUFDbkMsMENBQXlDLEVBQUUscUNBQXFDLDJCQUEyQixFQUFDO0FBQzVHIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxleHRyYWN0b3JzXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTWVnYVVwID0gZXhwb3J0cy5Wb2UgPSBleHBvcnRzLlZpZEhpZGUgPSBleHBvcnRzLlZpekNsb3VkID0gZXhwb3J0cy5WaWRNb2x5ID0gZXhwb3J0cy5WaWRDbG91ZCA9IGV4cG9ydHMuU3RyZWFtV2lzaCA9IGV4cG9ydHMuU3RyZWFtVGFwZSA9IGV4cG9ydHMuU3RyZWFtU0IgPSBleHBvcnRzLlN0cmVhbUxhcmUgPSBleHBvcnRzLlN0cmVhbUh1YiA9IGV4cG9ydHMuU21hc2h5U3RyZWFtID0gZXhwb3J0cy5NZWdhQ2xvdWQgPSBleHBvcnRzLlJhcGlkQ2xvdWQgPSBleHBvcnRzLk1wNFVwbG9hZCA9IGV4cG9ydHMuTXA0UGxheWVyID0gZXhwb3J0cy5NaXhEcm9wID0gZXhwb3J0cy5Ld2lrID0gZXhwb3J0cy5Hb2dvQ0ROID0gZXhwb3J0cy5GaWxlbW9vbiA9IGV4cG9ydHMuQmlsaWJpbGlFeHRyYWN0b3IgPSBleHBvcnRzLkFzaWFuTG9hZCA9IHZvaWQgMDtcbmNvbnN0IGFzaWFubG9hZF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2FzaWFubG9hZFwiKSk7XG5leHBvcnRzLkFzaWFuTG9hZCA9IGFzaWFubG9hZF8xLmRlZmF1bHQ7XG5jb25zdCBiaWxpYmlsaV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JpbGliaWxpXCIpKTtcbmV4cG9ydHMuQmlsaWJpbGlFeHRyYWN0b3IgPSBiaWxpYmlsaV8xLmRlZmF1bHQ7XG5jb25zdCBmaWxlbW9vbl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2ZpbGVtb29uXCIpKTtcbmV4cG9ydHMuRmlsZW1vb24gPSBmaWxlbW9vbl8xLmRlZmF1bHQ7XG5jb25zdCBnb2dvY2RuXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vZ29nb2NkblwiKSk7XG5leHBvcnRzLkdvZ29DRE4gPSBnb2dvY2RuXzEuZGVmYXVsdDtcbmNvbnN0IGt3aWtfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9rd2lrXCIpKTtcbmV4cG9ydHMuS3dpayA9IGt3aWtfMS5kZWZhdWx0O1xuY29uc3QgbWl4ZHJvcF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL21peGRyb3BcIikpO1xuZXhwb3J0cy5NaXhEcm9wID0gbWl4ZHJvcF8xLmRlZmF1bHQ7XG5jb25zdCBtcDRwbGF5ZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9tcDRwbGF5ZXJcIikpO1xuZXhwb3J0cy5NcDRQbGF5ZXIgPSBtcDRwbGF5ZXJfMS5kZWZhdWx0O1xuY29uc3QgbXA0dXBsb2FkXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbXA0dXBsb2FkXCIpKTtcbmV4cG9ydHMuTXA0VXBsb2FkID0gbXA0dXBsb2FkXzEuZGVmYXVsdDtcbmNvbnN0IHJhcGlkY2xvdWRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9yYXBpZGNsb3VkXCIpKTtcbmV4cG9ydHMuUmFwaWRDbG91ZCA9IHJhcGlkY2xvdWRfMS5kZWZhdWx0O1xuY29uc3QgbWVnYWNsb3VkXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbWVnYWNsb3VkXCIpKTtcbmV4cG9ydHMuTWVnYUNsb3VkID0gbWVnYWNsb3VkXzEuZGVmYXVsdDtcbmNvbnN0IHNtYXNoeXN0cmVhbV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3NtYXNoeXN0cmVhbVwiKSk7XG5leHBvcnRzLlNtYXNoeVN0cmVhbSA9IHNtYXNoeXN0cmVhbV8xLmRlZmF1bHQ7XG5jb25zdCBzdHJlYW1odWJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9zdHJlYW1odWJcIikpO1xuZXhwb3J0cy5TdHJlYW1IdWIgPSBzdHJlYW1odWJfMS5kZWZhdWx0O1xuY29uc3Qgc3RyZWFtbGFyZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3N0cmVhbWxhcmVcIikpO1xuZXhwb3J0cy5TdHJlYW1MYXJlID0gc3RyZWFtbGFyZV8xLmRlZmF1bHQ7XG5jb25zdCBzdHJlYW1zYl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3N0cmVhbXNiXCIpKTtcbmV4cG9ydHMuU3RyZWFtU0IgPSBzdHJlYW1zYl8xLmRlZmF1bHQ7XG5jb25zdCBzdHJlYW10YXBlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vc3RyZWFtdGFwZVwiKSk7XG5leHBvcnRzLlN0cmVhbVRhcGUgPSBzdHJlYW10YXBlXzEuZGVmYXVsdDtcbmNvbnN0IHN0cmVhbXdpc2hfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9zdHJlYW13aXNoXCIpKTtcbmV4cG9ydHMuU3RyZWFtV2lzaCA9IHN0cmVhbXdpc2hfMS5kZWZhdWx0O1xuY29uc3QgdmlkY2xvdWRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi92aWRjbG91ZFwiKSk7XG5leHBvcnRzLlZpZENsb3VkID0gdmlkY2xvdWRfMS5kZWZhdWx0O1xuY29uc3QgdmlkbW9seV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3ZpZG1vbHlcIikpO1xuZXhwb3J0cy5WaWRNb2x5ID0gdmlkbW9seV8xLmRlZmF1bHQ7XG5jb25zdCB2aXpjbG91ZF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3ZpemNsb3VkXCIpKTtcbmV4cG9ydHMuVml6Q2xvdWQgPSB2aXpjbG91ZF8xLmRlZmF1bHQ7XG5jb25zdCB2aWRoaWRlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vdmlkaGlkZVwiKSk7XG5leHBvcnRzLlZpZEhpZGUgPSB2aWRoaWRlXzEuZGVmYXVsdDtcbmNvbnN0IHZvZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3ZvZVwiKSk7XG5leHBvcnRzLlZvZSA9IHZvZV8xLmRlZmF1bHQ7XG5jb25zdCBtZWdhdXBfMSA9IHJlcXVpcmUoXCIuL21lZ2F1cFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk1lZ2FVcFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWVnYXVwXzEuTWVnYVVwOyB9IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/kisskh/kkey.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/kisskh/kkey.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports[\"default\"] = getKKey;\nconst staticdata_1 = __importDefault(__webpack_require__(/*! ./staticdata */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/kisskh/staticdata.js\"));\nfunction stringToWordArray(input) {\n    const wordArray = [];\n    for (let i = 0; i < input.length; i++) {\n        wordArray[i >>> 2] |= (input.charCodeAt(i) & 255) << (24 - (i % 4) * 8);\n    }\n    return [wordArray, input.length];\n}\nfunction wordArrayToHex(array, length) {\n    return Array.from({ length }, (_, i) => ((array[i >>> 2] >>> (24 - (i % 4) * 8)) & 255).toString(16).padStart(2, '0')).join('');\n}\nconst transform = (s = '') => s.substr(0, 48);\nfunction calculateHash(input) {\n    return Array.from(input).reduce((hash, char) => (hash << 5) - hash + char.charCodeAt(0), 0);\n}\nfunction padString(input) {\n    const paddingLength = 16 - (input.length % 16);\n    return input + String.fromCharCode(paddingLength).repeat(paddingLength);\n}\nfunction processBlock(n) {\n    for (let i = 0; i < n.length; i += 4)\n        encryptBlock(n, i);\n}\n//? needs to be enhanced\nfunction encryptBlock(_0x13a508, _0x5baaa1) {\n    const [_0x458390, _0x32aa26, _0x53dadc, _0x4810d1, _0x3c0f1b, _0x128bff] = staticdata_1.default;\n    const _0x21ba3f = _0x5baaa1 === 0\n        ? [22039283, 1457920463, 776125350, -1941999367]\n        : _0x13a508.slice(_0x5baaa1 - 4, _0x5baaa1);\n    for (let _0x5b9637 = 0; _0x5b9637 < 4; _0x5b9637++)\n        _0x13a508[_0x5baaa1 + _0x5b9637] ^= _0x21ba3f[_0x5b9637];\n    const _0x116405 = 10;\n    let _0x4d3231 = _0x13a508[_0x5baaa1] ^ _0x458390[0], _0x1f3a4f = _0x13a508[_0x5baaa1 + 1] ^ _0x458390[1], _0x598b52 = _0x13a508[_0x5baaa1 + 2] ^ _0x458390[2], _0x2265d4 = _0x13a508[_0x5baaa1 + 3] ^ _0x458390[3], _0xcb5ec5 = 4;\n    let _0x34de78;\n    let _0x42d7a0;\n    let _0x4a8c71;\n    for (let _0x5e2dc7 = 1; _0x5e2dc7 < _0x116405; _0x5e2dc7++) {\n        _0x34de78 =\n            _0x32aa26[_0x4d3231 >>> 24] ^\n                _0x53dadc[(_0x1f3a4f >>> 16) & 255] ^\n                _0x4810d1[(_0x598b52 >>> 8) & 255] ^\n                _0x3c0f1b[_0x2265d4 & 255] ^\n                _0x458390[_0xcb5ec5++];\n        _0x42d7a0 =\n            _0x32aa26[_0x1f3a4f >>> 24] ^\n                _0x53dadc[(_0x598b52 >>> 16) & 255] ^\n                _0x4810d1[(_0x2265d4 >>> 8) & 255] ^\n                _0x3c0f1b[_0x4d3231 & 255] ^\n                _0x458390[_0xcb5ec5++];\n        _0x4a8c71 =\n            _0x32aa26[_0x598b52 >>> 24] ^\n                _0x53dadc[(_0x2265d4 >>> 16) & 255] ^\n                _0x4810d1[(_0x4d3231 >>> 8) & 255] ^\n                _0x3c0f1b[_0x1f3a4f & 255] ^\n                _0x458390[_0xcb5ec5++];\n        _0x2265d4 =\n            _0x32aa26[_0x2265d4 >>> 24] ^\n                _0x53dadc[(_0x4d3231 >>> 16) & 255] ^\n                _0x4810d1[(_0x1f3a4f >>> 8) & 255] ^\n                _0x3c0f1b[_0x598b52 & 255] ^\n                _0x458390[_0xcb5ec5++];\n        _0x4d3231 = _0x34de78;\n        _0x1f3a4f = _0x42d7a0;\n        _0x598b52 = _0x4a8c71;\n    }\n    _0x34de78 =\n        ((_0x128bff[_0x4d3231 >>> 24] << 24) |\n            (_0x128bff[(_0x1f3a4f >>> 16) & 255] << 16) |\n            (_0x128bff[(_0x598b52 >>> 8) & 255] << 8) |\n            _0x128bff[_0x2265d4 & 255]) ^\n            _0x458390[_0xcb5ec5++];\n    _0x42d7a0 =\n        ((_0x128bff[_0x1f3a4f >>> 24] << 24) |\n            (_0x128bff[(_0x598b52 >>> 16) & 255] << 16) |\n            (_0x128bff[(_0x2265d4 >>> 8) & 255] << 8) |\n            _0x128bff[_0x4d3231 & 255]) ^\n            _0x458390[_0xcb5ec5++];\n    _0x4a8c71 =\n        ((_0x128bff[_0x598b52 >>> 24] << 24) |\n            (_0x128bff[(_0x2265d4 >>> 16) & 255] << 16) |\n            (_0x128bff[(_0x4d3231 >>> 8) & 255] << 8) |\n            _0x128bff[_0x1f3a4f & 255]) ^\n            _0x458390[_0xcb5ec5++];\n    _0x2265d4 =\n        ((_0x128bff[_0x2265d4 >>> 24] << 24) |\n            (_0x128bff[(_0x4d3231 >>> 16) & 255] << 16) |\n            (_0x128bff[(_0x1f3a4f >>> 8) & 255] << 8) |\n            _0x128bff[_0x598b52 & 255]) ^\n            _0x458390[_0xcb5ec5++];\n    _0x13a508[_0x5baaa1] = _0x34de78;\n    _0x13a508[_0x5baaa1 + 1] = _0x42d7a0;\n    _0x13a508[_0x5baaa1 + 2] = _0x4a8c71;\n    _0x13a508[_0x5baaa1 + 3] = _0x2265d4;\n}\n/**\n * Generates the `kkey` for KissKH.\n *\n * @param {Object} params - The parameters object.\n * @param {string | number} params.id - The ID of the video.\n * @param {'sub' | 'vid'} params.subOrVid - Determines if the key is for a subtitle or video.\n * @param {string} [params.hash='mg3c3b04ba'] - The default hash value.\n * @param {string} [params.version='2.8.10'] - The API version.\n * @param {string} [params.viGuid='62f176f3bb1b5b8e70e39932ad34a0c7'] - The video GUID.\n * @param {string} [params.subGuid='VgV52sWhwvBSf8BsM3BRY9weWiiCbtGp'] - The subtitle GUID.\n * @param {string} [params.platformVer='4830201'] - The platform version.\n *\n * @see https://kisskh.co/common.js?v=9082123\n * @see https://kisskh.co/502.065066555371fb02\n */\nfunction getKKey({ id, subOrVid, hash = 'mg3c3b04ba', version = '2.8.10', viGuid = '62f176f3bb1b5b8e70e39932ad34a0c7', subGuid = 'VgV52sWhwvBSf8BsM3BRY9weWiiCbtGp', platformVer = '4830201', }) {\n    const data = [\n        '',\n        id,\n        null,\n        hash,\n        version,\n        subOrVid === 'sub' ? subGuid : viGuid,\n        platformVer,\n        transform('kisskh'),\n        transform('kisskh'.toLowerCase()),\n        transform('kisskh'),\n        'kisskh',\n        'kisskh',\n        'kisskh',\n        '00',\n        '',\n    ];\n    data.splice(1, 0, calculateHash(data.join('|')));\n    const _0x278f64 = padString(data.join('|'));\n    const [_0x3db385, _0x2f9d88] = stringToWordArray(_0x278f64);\n    processBlock(_0x3db385);\n    return wordArrayToHex(Uint32Array.of(..._0x3db385), _0x2f9d88).toUpperCase();\n}\n//# sourceMappingURL=kkey.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL2tpc3NraC9ra2V5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWU7QUFDZixxQ0FBcUMsbUJBQU8sQ0FBQyxvR0FBYztBQUMzRDtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFFBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGVBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHVCQUF1QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxlQUFlO0FBQzFCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNEtBQTRLO0FBQy9MO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcZXh0cmFjdG9yc1xca2lzc2toXFxra2V5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0S0tleTtcbmNvbnN0IHN0YXRpY2RhdGFfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9zdGF0aWNkYXRhXCIpKTtcbmZ1bmN0aW9uIHN0cmluZ1RvV29yZEFycmF5KGlucHV0KSB7XG4gICAgY29uc3Qgd29yZEFycmF5ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgICAgICB3b3JkQXJyYXlbaSA+Pj4gMl0gfD0gKGlucHV0LmNoYXJDb2RlQXQoaSkgJiAyNTUpIDw8ICgyNCAtIChpICUgNCkgKiA4KTtcbiAgICB9XG4gICAgcmV0dXJuIFt3b3JkQXJyYXksIGlucHV0Lmxlbmd0aF07XG59XG5mdW5jdGlvbiB3b3JkQXJyYXlUb0hleChhcnJheSwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGggfSwgKF8sIGkpID0+ICgoYXJyYXlbaSA+Pj4gMl0gPj4+ICgyNCAtIChpICUgNCkgKiA4KSkgJiAyNTUpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTtcbn1cbmNvbnN0IHRyYW5zZm9ybSA9IChzID0gJycpID0+IHMuc3Vic3RyKDAsIDQ4KTtcbmZ1bmN0aW9uIGNhbGN1bGF0ZUhhc2goaW5wdXQpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShpbnB1dCkucmVkdWNlKChoYXNoLCBjaGFyKSA9PiAoaGFzaCA8PCA1KSAtIGhhc2ggKyBjaGFyLmNoYXJDb2RlQXQoMCksIDApO1xufVxuZnVuY3Rpb24gcGFkU3RyaW5nKGlucHV0KSB7XG4gICAgY29uc3QgcGFkZGluZ0xlbmd0aCA9IDE2IC0gKGlucHV0Lmxlbmd0aCAlIDE2KTtcbiAgICByZXR1cm4gaW5wdXQgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhZGRpbmdMZW5ndGgpLnJlcGVhdChwYWRkaW5nTGVuZ3RoKTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NCbG9jayhuKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuLmxlbmd0aDsgaSArPSA0KVxuICAgICAgICBlbmNyeXB0QmxvY2sobiwgaSk7XG59XG4vLz8gbmVlZHMgdG8gYmUgZW5oYW5jZWRcbmZ1bmN0aW9uIGVuY3J5cHRCbG9jayhfMHgxM2E1MDgsIF8weDViYWFhMSkge1xuICAgIGNvbnN0IFtfMHg0NTgzOTAsIF8weDMyYWEyNiwgXzB4NTNkYWRjLCBfMHg0ODEwZDEsIF8weDNjMGYxYiwgXzB4MTI4YmZmXSA9IHN0YXRpY2RhdGFfMS5kZWZhdWx0O1xuICAgIGNvbnN0IF8weDIxYmEzZiA9IF8weDViYWFhMSA9PT0gMFxuICAgICAgICA/IFsyMjAzOTI4MywgMTQ1NzkyMDQ2MywgNzc2MTI1MzUwLCAtMTk0MTk5OTM2N11cbiAgICAgICAgOiBfMHgxM2E1MDguc2xpY2UoXzB4NWJhYWExIC0gNCwgXzB4NWJhYWExKTtcbiAgICBmb3IgKGxldCBfMHg1Yjk2MzcgPSAwOyBfMHg1Yjk2MzcgPCA0OyBfMHg1Yjk2MzcrKylcbiAgICAgICAgXzB4MTNhNTA4W18weDViYWFhMSArIF8weDViOTYzN10gXj0gXzB4MjFiYTNmW18weDViOTYzN107XG4gICAgY29uc3QgXzB4MTE2NDA1ID0gMTA7XG4gICAgbGV0IF8weDRkMzIzMSA9IF8weDEzYTUwOFtfMHg1YmFhYTFdIF4gXzB4NDU4MzkwWzBdLCBfMHgxZjNhNGYgPSBfMHgxM2E1MDhbXzB4NWJhYWExICsgMV0gXiBfMHg0NTgzOTBbMV0sIF8weDU5OGI1MiA9IF8weDEzYTUwOFtfMHg1YmFhYTEgKyAyXSBeIF8weDQ1ODM5MFsyXSwgXzB4MjI2NWQ0ID0gXzB4MTNhNTA4W18weDViYWFhMSArIDNdIF4gXzB4NDU4MzkwWzNdLCBfMHhjYjVlYzUgPSA0O1xuICAgIGxldCBfMHgzNGRlNzg7XG4gICAgbGV0IF8weDQyZDdhMDtcbiAgICBsZXQgXzB4NGE4YzcxO1xuICAgIGZvciAobGV0IF8weDVlMmRjNyA9IDE7IF8weDVlMmRjNyA8IF8weDExNjQwNTsgXzB4NWUyZGM3KyspIHtcbiAgICAgICAgXzB4MzRkZTc4ID1cbiAgICAgICAgICAgIF8weDMyYWEyNltfMHg0ZDMyMzEgPj4+IDI0XSBeXG4gICAgICAgICAgICAgICAgXzB4NTNkYWRjWyhfMHgxZjNhNGYgPj4+IDE2KSAmIDI1NV0gXlxuICAgICAgICAgICAgICAgIF8weDQ4MTBkMVsoXzB4NTk4YjUyID4+PiA4KSAmIDI1NV0gXlxuICAgICAgICAgICAgICAgIF8weDNjMGYxYltfMHgyMjY1ZDQgJiAyNTVdIF5cbiAgICAgICAgICAgICAgICBfMHg0NTgzOTBbXzB4Y2I1ZWM1KytdO1xuICAgICAgICBfMHg0MmQ3YTAgPVxuICAgICAgICAgICAgXzB4MzJhYTI2W18weDFmM2E0ZiA+Pj4gMjRdIF5cbiAgICAgICAgICAgICAgICBfMHg1M2RhZGNbKF8weDU5OGI1MiA+Pj4gMTYpICYgMjU1XSBeXG4gICAgICAgICAgICAgICAgXzB4NDgxMGQxWyhfMHgyMjY1ZDQgPj4+IDgpICYgMjU1XSBeXG4gICAgICAgICAgICAgICAgXzB4M2MwZjFiW18weDRkMzIzMSAmIDI1NV0gXlxuICAgICAgICAgICAgICAgIF8weDQ1ODM5MFtfMHhjYjVlYzUrK107XG4gICAgICAgIF8weDRhOGM3MSA9XG4gICAgICAgICAgICBfMHgzMmFhMjZbXzB4NTk4YjUyID4+PiAyNF0gXlxuICAgICAgICAgICAgICAgIF8weDUzZGFkY1soXzB4MjI2NWQ0ID4+PiAxNikgJiAyNTVdIF5cbiAgICAgICAgICAgICAgICBfMHg0ODEwZDFbKF8weDRkMzIzMSA+Pj4gOCkgJiAyNTVdIF5cbiAgICAgICAgICAgICAgICBfMHgzYzBmMWJbXzB4MWYzYTRmICYgMjU1XSBeXG4gICAgICAgICAgICAgICAgXzB4NDU4MzkwW18weGNiNWVjNSsrXTtcbiAgICAgICAgXzB4MjI2NWQ0ID1cbiAgICAgICAgICAgIF8weDMyYWEyNltfMHgyMjY1ZDQgPj4+IDI0XSBeXG4gICAgICAgICAgICAgICAgXzB4NTNkYWRjWyhfMHg0ZDMyMzEgPj4+IDE2KSAmIDI1NV0gXlxuICAgICAgICAgICAgICAgIF8weDQ4MTBkMVsoXzB4MWYzYTRmID4+PiA4KSAmIDI1NV0gXlxuICAgICAgICAgICAgICAgIF8weDNjMGYxYltfMHg1OThiNTIgJiAyNTVdIF5cbiAgICAgICAgICAgICAgICBfMHg0NTgzOTBbXzB4Y2I1ZWM1KytdO1xuICAgICAgICBfMHg0ZDMyMzEgPSBfMHgzNGRlNzg7XG4gICAgICAgIF8weDFmM2E0ZiA9IF8weDQyZDdhMDtcbiAgICAgICAgXzB4NTk4YjUyID0gXzB4NGE4YzcxO1xuICAgIH1cbiAgICBfMHgzNGRlNzggPVxuICAgICAgICAoKF8weDEyOGJmZltfMHg0ZDMyMzEgPj4+IDI0XSA8PCAyNCkgfFxuICAgICAgICAgICAgKF8weDEyOGJmZlsoXzB4MWYzYTRmID4+PiAxNikgJiAyNTVdIDw8IDE2KSB8XG4gICAgICAgICAgICAoXzB4MTI4YmZmWyhfMHg1OThiNTIgPj4+IDgpICYgMjU1XSA8PCA4KSB8XG4gICAgICAgICAgICBfMHgxMjhiZmZbXzB4MjI2NWQ0ICYgMjU1XSkgXlxuICAgICAgICAgICAgXzB4NDU4MzkwW18weGNiNWVjNSsrXTtcbiAgICBfMHg0MmQ3YTAgPVxuICAgICAgICAoKF8weDEyOGJmZltfMHgxZjNhNGYgPj4+IDI0XSA8PCAyNCkgfFxuICAgICAgICAgICAgKF8weDEyOGJmZlsoXzB4NTk4YjUyID4+PiAxNikgJiAyNTVdIDw8IDE2KSB8XG4gICAgICAgICAgICAoXzB4MTI4YmZmWyhfMHgyMjY1ZDQgPj4+IDgpICYgMjU1XSA8PCA4KSB8XG4gICAgICAgICAgICBfMHgxMjhiZmZbXzB4NGQzMjMxICYgMjU1XSkgXlxuICAgICAgICAgICAgXzB4NDU4MzkwW18weGNiNWVjNSsrXTtcbiAgICBfMHg0YThjNzEgPVxuICAgICAgICAoKF8weDEyOGJmZltfMHg1OThiNTIgPj4+IDI0XSA8PCAyNCkgfFxuICAgICAgICAgICAgKF8weDEyOGJmZlsoXzB4MjI2NWQ0ID4+PiAxNikgJiAyNTVdIDw8IDE2KSB8XG4gICAgICAgICAgICAoXzB4MTI4YmZmWyhfMHg0ZDMyMzEgPj4+IDgpICYgMjU1XSA8PCA4KSB8XG4gICAgICAgICAgICBfMHgxMjhiZmZbXzB4MWYzYTRmICYgMjU1XSkgXlxuICAgICAgICAgICAgXzB4NDU4MzkwW18weGNiNWVjNSsrXTtcbiAgICBfMHgyMjY1ZDQgPVxuICAgICAgICAoKF8weDEyOGJmZltfMHgyMjY1ZDQgPj4+IDI0XSA8PCAyNCkgfFxuICAgICAgICAgICAgKF8weDEyOGJmZlsoXzB4NGQzMjMxID4+PiAxNikgJiAyNTVdIDw8IDE2KSB8XG4gICAgICAgICAgICAoXzB4MTI4YmZmWyhfMHgxZjNhNGYgPj4+IDgpICYgMjU1XSA8PCA4KSB8XG4gICAgICAgICAgICBfMHgxMjhiZmZbXzB4NTk4YjUyICYgMjU1XSkgXlxuICAgICAgICAgICAgXzB4NDU4MzkwW18weGNiNWVjNSsrXTtcbiAgICBfMHgxM2E1MDhbXzB4NWJhYWExXSA9IF8weDM0ZGU3ODtcbiAgICBfMHgxM2E1MDhbXzB4NWJhYWExICsgMV0gPSBfMHg0MmQ3YTA7XG4gICAgXzB4MTNhNTA4W18weDViYWFhMSArIDJdID0gXzB4NGE4YzcxO1xuICAgIF8weDEzYTUwOFtfMHg1YmFhYTEgKyAzXSA9IF8weDIyNjVkNDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIHRoZSBga2tleWAgZm9yIEtpc3NLSC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXJ9IHBhcmFtcy5pZCAtIFRoZSBJRCBvZiB0aGUgdmlkZW8uXG4gKiBAcGFyYW0geydzdWInIHwgJ3ZpZCd9IHBhcmFtcy5zdWJPclZpZCAtIERldGVybWluZXMgaWYgdGhlIGtleSBpcyBmb3IgYSBzdWJ0aXRsZSBvciB2aWRlby5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbcGFyYW1zLmhhc2g9J21nM2MzYjA0YmEnXSAtIFRoZSBkZWZhdWx0IGhhc2ggdmFsdWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gW3BhcmFtcy52ZXJzaW9uPScyLjguMTAnXSAtIFRoZSBBUEkgdmVyc2lvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbcGFyYW1zLnZpR3VpZD0nNjJmMTc2ZjNiYjFiNWI4ZTcwZTM5OTMyYWQzNGEwYzcnXSAtIFRoZSB2aWRlbyBHVUlELlxuICogQHBhcmFtIHtzdHJpbmd9IFtwYXJhbXMuc3ViR3VpZD0nVmdWNTJzV2h3dkJTZjhCc00zQlJZOXdlV2lpQ2J0R3AnXSAtIFRoZSBzdWJ0aXRsZSBHVUlELlxuICogQHBhcmFtIHtzdHJpbmd9IFtwYXJhbXMucGxhdGZvcm1WZXI9JzQ4MzAyMDEnXSAtIFRoZSBwbGF0Zm9ybSB2ZXJzaW9uLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9raXNza2guY28vY29tbW9uLmpzP3Y9OTA4MjEyM1xuICogQHNlZSBodHRwczovL2tpc3NraC5jby81MDIuMDY1MDY2NTU1MzcxZmIwMlxuICovXG5mdW5jdGlvbiBnZXRLS2V5KHsgaWQsIHN1Yk9yVmlkLCBoYXNoID0gJ21nM2MzYjA0YmEnLCB2ZXJzaW9uID0gJzIuOC4xMCcsIHZpR3VpZCA9ICc2MmYxNzZmM2JiMWI1YjhlNzBlMzk5MzJhZDM0YTBjNycsIHN1Ykd1aWQgPSAnVmdWNTJzV2h3dkJTZjhCc00zQlJZOXdlV2lpQ2J0R3AnLCBwbGF0Zm9ybVZlciA9ICc0ODMwMjAxJywgfSkge1xuICAgIGNvbnN0IGRhdGEgPSBbXG4gICAgICAgICcnLFxuICAgICAgICBpZCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgaGFzaCxcbiAgICAgICAgdmVyc2lvbixcbiAgICAgICAgc3ViT3JWaWQgPT09ICdzdWInID8gc3ViR3VpZCA6IHZpR3VpZCxcbiAgICAgICAgcGxhdGZvcm1WZXIsXG4gICAgICAgIHRyYW5zZm9ybSgna2lzc2toJyksXG4gICAgICAgIHRyYW5zZm9ybSgna2lzc2toJy50b0xvd2VyQ2FzZSgpKSxcbiAgICAgICAgdHJhbnNmb3JtKCdraXNza2gnKSxcbiAgICAgICAgJ2tpc3NraCcsXG4gICAgICAgICdraXNza2gnLFxuICAgICAgICAna2lzc2toJyxcbiAgICAgICAgJzAwJyxcbiAgICAgICAgJycsXG4gICAgXTtcbiAgICBkYXRhLnNwbGljZSgxLCAwLCBjYWxjdWxhdGVIYXNoKGRhdGEuam9pbignfCcpKSk7XG4gICAgY29uc3QgXzB4Mjc4ZjY0ID0gcGFkU3RyaW5nKGRhdGEuam9pbignfCcpKTtcbiAgICBjb25zdCBbXzB4M2RiMzg1LCBfMHgyZjlkODhdID0gc3RyaW5nVG9Xb3JkQXJyYXkoXzB4Mjc4ZjY0KTtcbiAgICBwcm9jZXNzQmxvY2soXzB4M2RiMzg1KTtcbiAgICByZXR1cm4gd29yZEFycmF5VG9IZXgoVWludDMyQXJyYXkub2YoLi4uXzB4M2RiMzg1KSwgXzB4MmY5ZDg4KS50b1VwcGVyQ2FzZSgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2tleS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/kisskh/kkey.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/kisskh/staticdata.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/kisskh/staticdata.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst staticData = [\n    [\n        1332468387, -1641050960, 2136896045, -1629555948, 1399201960, -850809832, -1307058635, 751381793,\n        -1933648423, 1106735553, -203378700, -550927659, 766369351, 1817882502, -1615200142, 1083409063,\n        -104955314, -1780208184, 173944250, 1254993693, 1422337688, -1054667952, -880990486, -2119136777,\n        -1822404972, 1380140484, -1723964626, 412019417, -890799303, -1734066435, 26893779, 420787978,\n        -1337058067, 686432784, 695238595, 811911369, -391724567, -1068702727, -381903814, -648522509,\n        -1266234148, 1959407397, -1644776673, 1152313324,\n    ],\n    [\n        -966564955, -126059388, -294160487, -159679603, -855539, -697603139, -563122255, -1849309868, 1613770832,\n        33620227, -832084055, 1445669757, -402719207, -1244145822, 1303096294, -327780710, -1882535355, 528646813,\n        -1983264448, -92439161, -268764651, -1302767125, -1907931191, -68095989, 1101901292, -1277897625,\n        1604494077, 1169141738, 597466303, 1403299063, -462261610, -1681866661, 1974974402, -503448292,\n        1033081774, 1277568618, 1815492186, 2118074177, -168298750, -2083730353, 1748251740, 1369810420,\n        -773462732, -101584632, -495881837, -1411852173, 1647391059, 706024767, 134480908, -1782069422,\n        1176707941, -1648114850, 806885416, 932615841, 168101135, 798661301, 235341577, 605164086, 461406363,\n        -538779075, -840176858, 1311188841, 2142417613, -361400929, 302582043, 495158174, 1479289972, 874125870,\n        907746093, -596742478, -1269146898, 1537253627, -1538108682, 1983593293, -1210657183, 2108928974,\n        1378429307, -572267714, 1580150641, 327451799, -1504488459, -1177431704, 0, -1041371860, 1075847264,\n        -469959649, 2041688520, -1235526675, -731223362, -1916023994, 1740553945, 1916352843, -1807070498,\n        -1739830060, -1336387352, -2049978550, -1143943061, -974131414, 1336584933, -302253290, -2042412091,\n        -1706209833, 1714631509, 293963156, -1975171633, -369493744, 67240454, -25198719, -1605349136, 2017213508,\n        631218106, 1269344483, -1571728909, 1571005438, -2143272768, 93294474, 1066570413, 563977660, 1882732616,\n        -235539196, 1673313503, 2008463041, -1344611723, 1109467491, 537923632, -436207846, -34344178,\n        -1076702611, -2117218996, 403442708, 638784309, -1007883217, -1101045791, 899127202, -2008791860,\n        773265209, -1815821225, 1437050866, -58818942, 2050833735, -932944724, -1168286233, 840505643, -428641387,\n        -1067425632, 427917720, -1638969391, -1545806721, 1143087718, 1412049534, 999329963, 193497219,\n        -1941551414, -940642775, 1807268051, 672404540, -1478566279, -1134666014, 369822493, -1378100362,\n        -606019525, 1681011286, 1949973070, 336202270, -1840690725, 201721354, 1210328172, -1201906460,\n        -1614626211, -1110191250, 1135389935, -1000185178, 965841320, 831886756, -739974089, -226920053,\n        -706222286, -1949775805, 1849112409, -630362697, 26054028, -1311386268, -1672589614, 1235855840,\n        -663982924, -1403627782, -202050553, -806688219, -899324497, -193299826, 1202630377, 268961816,\n        1874508501, -260540280, 1243948399, 1546530418, 941366308, 1470539505, 1941222599, -1748580783,\n        -873928669, -1579295364, -395021156, 1042226977, -1773450275, 1639824860, 227249030, 260737669,\n        -529502064, 2084453954, 1907733956, -865704278, -1874310952, 100860677, -134810111, 470683154,\n        -1033805405, 1781871967, -1370007559, 1773779408, 394692241, -1715355304, 974986535, 664706745,\n        -639508168, -336005101, 731420851, 571543859, -764843589, -1445340816, 126783113, 865375399, 765172662,\n        1008606754, 361203602, -907417312, -2016489911, -1437248001, 1344809080, -1512054918, 59542671,\n        1503764984, 160008576, 437062935, 1707065306, -672733647, -2076032314, -798463816, -2109652541, 697932208,\n        1512910199, 504303377, 2075177163, -1470868228, 1841019862, 739644986,\n    ],\n    [\n        -1513725085, -2064089988, -1712425097, -1913226373, 234877682, -1110021269, -1310822545, 1418839493,\n        1348481072, 50462977, -1446090905, 2102799147, 434634494, 1656084439, -431117397, -1695779210, 1167051466,\n        -1658879358, 1082771913, -2013627011, 368048890, -340633255, -913422521, 201060592, -331240019,\n        1739838676, -44064094, -364531793, -1088185188, -145513308, -1763413390, 1536934080, -1032472649,\n        484572669, -1371696237, 1783375398, 1517041206, 1098792767, 49674231, 1334037708, 1550332980, -195975771,\n        886171109, 150598129, -1813876367, 1940642008, 1398944049, 1059722517, 201851908, 1385547719, 1699095331,\n        1587397571, 674240536, -1590192490, 252314885, -1255171430, 151914247, 908333586, -1692696448, 1038082786,\n        651029483, 1766729511, -847269198, -1612024459, 454166793, -1642232957, 1951935532, 775166490, 758520603,\n        -1294176658, -290170278, -77881184, -157003182, 1299594043, 1639438038, -830622797, 2068982057,\n        1054729187, 1901997871, -1760328572, -173649069, 1757008337, 0, 750906861, 1614815264, 535035132,\n        -931548751, -306816165, -1093375382, 1183697867, -647512386, 1265776953, -560706998, -728216500,\n        -391096232, 1250283471, 1807470800, 717615087, -447763798, 384695291, -981056701, -677753523, 1432761139,\n        -1810791035, -813021883, 283769337, 100925954, -2114027649, -257929136, 1148730428, -1171939425,\n        -481580888, -207466159, -27417693, -1065336768, -1979347057, -1388342638, -1138647651, 1215313976,\n        82966005, -547111748, -1049119050, 1974459098, 1665278241, 807407632, 451280895, 251524083, 1841287890,\n        1283575245, 337120268, 891687699, 801369324, -507617441, -1573546089, -863484860, 959321879, 1469301956,\n        -229267545, -2097381762, 1199193405, -1396153244, -407216803, 724703513, -1780059277, -1598005152,\n        -1743158911, -778154161, 2141445340, 1715741218, 2119445034, -1422159728, -2096396152, -896776634,\n        700968686, -747915080, 1009259540, 2041044702, -490971554, 487983883, 1991105499, 1004265696, 1449407026,\n        1316239930, 504629770, -611169975, 168560134, 1816667172, -457679780, 1570751170, 1857934291, -280777556,\n        -1497079198, -1472622191, -1540254315, 936633572, -1947043463, 852879335, 1133234376, 1500395319,\n        -1210421907, -1946055283, 1689376213, -761508274, -532043351, -1260884884, -89369002, 133428468,\n        634383082, -1345690267, -1896580486, -381178194, 403703816, -714097990, -1997506440, 1867130149,\n        1918643758, 607656988, -245913946, -948718412, 1368901318, 600565992, 2090982877, -1662487436, 557719327,\n        -577352885, -597574211, -2045932661, -2062579062, -1864339344, 1115438654, -999180875, -1429445018,\n        -661632952, 84280067, 33027830, 303828494, -1547542175, 1600795957, -106014889, -798377543, -1860729210,\n        1486471617, 658119965, -1188585826, 953803233, 334231800, -1288988520, 857870609, -1143838359, 1890179545,\n        -1995993458, -1489791852, -1238525029, 574365214, -1844082809, 550103529, 1233637070, -5614251,\n        2018519080, 2057691103, -1895592820, -128343647, -2146858615, 387583245, -630865985, 836232934,\n        -964410814, -1194301336, -1014873791, -1339450983, 2002398509, 287182607, -881086288, -56077228,\n        -697451589, 975967766,\n    ],\n    [\n        1671808611, 2089089148, 2006576759, 2072901243, -233963534, 1807603307, 1873927791, -984313403, 810573872,\n        16974337, 1739181671, 729634347, -31856642, -681396777, -1410970197, 1989864566, -901410870, -2103631998,\n        -918517303, 2106063485, -99225606, 1508618841, 1204391495, -267650064, -1377025619, -731401260,\n        -1560453214, -1343601233, -1665195108, -1527295068, 1922491506, -1067738176, -1211992649, -48438787,\n        -1817297517, 644500518, 911895606, 1061256767, -150800905, -867204148, 878471220, -1510714971, -449523227,\n        -251069967, 1905517169, -663508008, 827548209, 356461077, 67897348, -950889017, 593839651, -1017209405,\n        405286936, -1767819370, 84871685, -1699401830, 118033927, 305538066, -2137318528, -499261470, -349778453,\n        661212711, -1295155278, 1973414517, 152769033, -2086789757, 745822252, 439235610, 455947803, 1857215598,\n        1525593178, -1594139744, 1391895634, 994932283, -698239018, -1278313037, 695947817, -482419229, 795958831,\n        -2070473852, 1408607827, -781665839, 0, -315833875, 543178784, -65018884, -1312261711, 1542305371,\n        1790891114, -884568629, -1093048386, 961245753, 1256100938, 1289001036, 1491644504, -817199665,\n        -798245936, -282409489, -1427812438, -82383365, 1137018435, 1305975373, 861234739, -2053893755,\n        1171229253, -116332039, 33948674, 2139225727, 1357946960, 1011120188, -1615190625, -1461498968,\n        1374921297, -1543610973, 1086357568, -1886780017, -1834139758, -1648615011, 944271416, -184225291,\n        -1126210628, -1228834890, -629821478, 560153121, 271589392, -15014401, -217121293, -764559406, -850624051,\n        202643468, 322250259, -332413972, 1608629855, -1750977129, 1154254916, 389623319, -1000893500,\n        -1477290585, 2122513534, 1028094525, 1689045092, 1575467613, 422261273, 1939203699, 1621147744,\n        -2120738431, 1339137615, -595614756, 577127458, 712922154, -1867826288, -2004677752, 1187679302,\n        -299251730, -1194103880, 339486740, -562452514, 1591917662, 186455563, -612979237, -532948000, 844522546,\n        978220090, 169743370, 1239126601, 101321734, 611076132, 1558493276, -1034051646, -747717165, -1393605716,\n        1655096418, -1851246191, -1784401515, -466103324, 2039214713, -416098841, -935097400, 928607799,\n        1840765549, -1920204403, -714821163, 1322425422, -1444918871, 1823791212, 1459268694, -200805388,\n        -366620694, 1706019429, 2056189050, -1360443474, 135794696, -1160417350, 2022240376, 628050469, 779246638,\n        472135708, -1494132826, -1261997132, -967731258, -400307224, -579034659, 1956440180, 522272287,\n        1272813131, -1109630531, -1954148981, -1970991222, 1888542832, 1044544574, -1245417035, 1722469478,\n        1222152264, 50660867, -167643146, 236067854, 1638122081, 895445557, 1475980887, -1177523783, -2037311610,\n        -1051158079, 489110045, -1632032866, -516367903, -132912136, -1733088360, 288563729, 1773916777,\n        -646927911, -1903622258, -1800981612, -1682559589, 505560094, -2020469369, -383727127, -834041906,\n        1442818645, 678973480, -545610273, -1936784500, -1577559647, -1988097655, 219617805, -1076206145,\n        -432941082, 1120306242, 1756942440, 1103331905, -1716508263, 762796589, 252780047, -1328841808,\n        1425844308, -1143575109, 372911126,\n    ],\n    [\n        1667474886, 2088535288, 2004326894, 2071694838, -219017729, 1802223062, 1869591006, -976923503, 808472672,\n        16843522, 1734846926, 724270422, -16901657, -673750347, -1414797747, 1987484396, -892713585, -2105369313,\n        -909557623, 2105378810, -84273681, 1499065266, 1195886990, -252703749, -1381110719, -724277325,\n        -1566376609, -1347425723, -1667449053, -1532692653, 1920112356, -1061135461, -1212693899, -33743647,\n        -1819038147, 640051788, 909531756, 1061110142, -134806795, -859025533, 875846760, -1515850671, -437963567,\n        -235861767, 1903268834, -656903253, 825316194, 353713962, 67374088, -943238507, 589522246, -1010606435,\n        404236336, -1768513225, 84217610, -1701137105, 117901582, 303183396, -2139055333, -488489505, -336910643,\n        656894286, -1296904833, 1970642922, 151591698, -2088526307, 741110872, 437923380, 454765878, 1852748508,\n        1515908788, -1600062629, 1381168804, 993742198, -690593353, -1280061827, 690584402, -471646499, 791638366,\n        -2071685357, 1398011302, -774805319, 0, -303223615, 538992704, -50585629, -1313748871, 1532751286,\n        1785380564, -875870579, -1094788761, 960056178, 1246420628, 1280103576, 1482221744, -808498555,\n        -791647301, -269538619, -1431640753, -67430675, 1128514950, 1296947098, 859002214, -2054843375,\n        1162203018, -101117719, 33687044, 2139062782, 1347481760, 1010582648, -1616922075, -1465326773,\n        1364325282, -1549533603, 1077985408, -1886418427, -1835881153, -1650607071, 943212656, -168491791,\n        -1128472733, -1229536905, -623217233, 555836226, 269496352, -58651, -202174723, -757961281, -842183551,\n        202118168, 320025894, -320065597, 1600119230, -1751670219, 1145359496, 387397934, -993765485, -1482165675,\n        2122220284, 1027426170, 1684319432, 1566435258, 421079858, 1936954854, 1616945344, -2122213351,\n        1330631070, -589529181, 572679748, 707427924, -1869567173, -2004319477, 1179044492, -286381625,\n        -1195846805, 336870440, -555845209, 1583276732, 185277718, -606374227, -522175525, 842159716, 976899700,\n        168435220, 1229577106, 101059084, 606366792, 1549591736, -1027449441, -741118275, -1397952701, 1650632388,\n        -1852725191, -1785355215, -454805549, 2038008818, -404278571, -926399605, 926374254, 1835907034,\n        -1920103423, -707435343, 1313788572, -1448484791, 1819063512, 1448540844, -185333773, -353753649,\n        1701162954, 2054852340, -1364268729, 134748176, -1162160785, 2021165296, 623210314, 774795868, 471606328,\n        -1499008681, -1263220877, -960081513, -387439669, -572687199, 1953799400, 522133822, 1263263126,\n        -1111630751, -1953790451, -1970633457, 1886425312, 1044267644, -1246378895, 1718004428, 1212733584,\n        50529542, -151649801, 235803164, 1633788866, 892690282, 1465383342, -1179004823, -2038001385, -1044293479,\n        488449850, -1633765081, -505333543, -117959701, -1734823125, 286339874, 1768537042, -640061271,\n        -1903261433, -1802197197, -1684294099, 505291324, -2021158379, -370597687, -825341561, 1431699370,\n        673740880, -539002203, -1936945405, -1583220647, -1987477495, 218961690, -1077945755, -421121577,\n        1111672452, 1751693520, 1094828930, -1717981143, 757954394, 252645662, -1330590853, 1414855848,\n        -1145317779, 370555436,\n    ],\n    [\n        99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89,\n        71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241,\n        113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26,\n        27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190,\n        57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64,\n        143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167,\n        126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224,\n        50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169,\n        108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139,\n        138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217,\n        142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176,\n        84, 187, 22,\n    ],\n];\nexports[\"default\"] = staticData;\n//# sourceMappingURL=staticdata.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL2tpc3NraC9zdGF0aWNkYXRhLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXGV4dHJhY3RvcnNcXGtpc3NraFxcc3RhdGljZGF0YS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHN0YXRpY0RhdGEgPSBbXG4gICAgW1xuICAgICAgICAxMzMyNDY4Mzg3LCAtMTY0MTA1MDk2MCwgMjEzNjg5NjA0NSwgLTE2Mjk1NTU5NDgsIDEzOTkyMDE5NjAsIC04NTA4MDk4MzIsIC0xMzA3MDU4NjM1LCA3NTEzODE3OTMsXG4gICAgICAgIC0xOTMzNjQ4NDIzLCAxMTA2NzM1NTUzLCAtMjAzMzc4NzAwLCAtNTUwOTI3NjU5LCA3NjYzNjkzNTEsIDE4MTc4ODI1MDIsIC0xNjE1MjAwMTQyLCAxMDgzNDA5MDYzLFxuICAgICAgICAtMTA0OTU1MzE0LCAtMTc4MDIwODE4NCwgMTczOTQ0MjUwLCAxMjU0OTkzNjkzLCAxNDIyMzM3Njg4LCAtMTA1NDY2Nzk1MiwgLTg4MDk5MDQ4NiwgLTIxMTkxMzY3NzcsXG4gICAgICAgIC0xODIyNDA0OTcyLCAxMzgwMTQwNDg0LCAtMTcyMzk2NDYyNiwgNDEyMDE5NDE3LCAtODkwNzk5MzAzLCAtMTczNDA2NjQzNSwgMjY4OTM3NzksIDQyMDc4Nzk3OCxcbiAgICAgICAgLTEzMzcwNTgwNjcsIDY4NjQzMjc4NCwgNjk1MjM4NTk1LCA4MTE5MTEzNjksIC0zOTE3MjQ1NjcsIC0xMDY4NzAyNzI3LCAtMzgxOTAzODE0LCAtNjQ4NTIyNTA5LFxuICAgICAgICAtMTI2NjIzNDE0OCwgMTk1OTQwNzM5NywgLTE2NDQ3NzY2NzMsIDExNTIzMTMzMjQsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIC05NjY1NjQ5NTUsIC0xMjYwNTkzODgsIC0yOTQxNjA0ODcsIC0xNTk2Nzk2MDMsIC04NTU1MzksIC02OTc2MDMxMzksIC01NjMxMjIyNTUsIC0xODQ5MzA5ODY4LCAxNjEzNzcwODMyLFxuICAgICAgICAzMzYyMDIyNywgLTgzMjA4NDA1NSwgMTQ0NTY2OTc1NywgLTQwMjcxOTIwNywgLTEyNDQxNDU4MjIsIDEzMDMwOTYyOTQsIC0zMjc3ODA3MTAsIC0xODgyNTM1MzU1LCA1Mjg2NDY4MTMsXG4gICAgICAgIC0xOTgzMjY0NDQ4LCAtOTI0MzkxNjEsIC0yNjg3NjQ2NTEsIC0xMzAyNzY3MTI1LCAtMTkwNzkzMTE5MSwgLTY4MDk1OTg5LCAxMTAxOTAxMjkyLCAtMTI3Nzg5NzYyNSxcbiAgICAgICAgMTYwNDQ5NDA3NywgMTE2OTE0MTczOCwgNTk3NDY2MzAzLCAxNDAzMjk5MDYzLCAtNDYyMjYxNjEwLCAtMTY4MTg2NjY2MSwgMTk3NDk3NDQwMiwgLTUwMzQ0ODI5MixcbiAgICAgICAgMTAzMzA4MTc3NCwgMTI3NzU2ODYxOCwgMTgxNTQ5MjE4NiwgMjExODA3NDE3NywgLTE2ODI5ODc1MCwgLTIwODM3MzAzNTMsIDE3NDgyNTE3NDAsIDEzNjk4MTA0MjAsXG4gICAgICAgIC03NzM0NjI3MzIsIC0xMDE1ODQ2MzIsIC00OTU4ODE4MzcsIC0xNDExODUyMTczLCAxNjQ3MzkxMDU5LCA3MDYwMjQ3NjcsIDEzNDQ4MDkwOCwgLTE3ODIwNjk0MjIsXG4gICAgICAgIDExNzY3MDc5NDEsIC0xNjQ4MTE0ODUwLCA4MDY4ODU0MTYsIDkzMjYxNTg0MSwgMTY4MTAxMTM1LCA3OTg2NjEzMDEsIDIzNTM0MTU3NywgNjA1MTY0MDg2LCA0NjE0MDYzNjMsXG4gICAgICAgIC01Mzg3NzkwNzUsIC04NDAxNzY4NTgsIDEzMTExODg4NDEsIDIxNDI0MTc2MTMsIC0zNjE0MDA5MjksIDMwMjU4MjA0MywgNDk1MTU4MTc0LCAxNDc5Mjg5OTcyLCA4NzQxMjU4NzAsXG4gICAgICAgIDkwNzc0NjA5MywgLTU5Njc0MjQ3OCwgLTEyNjkxNDY4OTgsIDE1MzcyNTM2MjcsIC0xNTM4MTA4NjgyLCAxOTgzNTkzMjkzLCAtMTIxMDY1NzE4MywgMjEwODkyODk3NCxcbiAgICAgICAgMTM3ODQyOTMwNywgLTU3MjI2NzcxNCwgMTU4MDE1MDY0MSwgMzI3NDUxNzk5LCAtMTUwNDQ4ODQ1OSwgLTExNzc0MzE3MDQsIDAsIC0xMDQxMzcxODYwLCAxMDc1ODQ3MjY0LFxuICAgICAgICAtNDY5OTU5NjQ5LCAyMDQxNjg4NTIwLCAtMTIzNTUyNjY3NSwgLTczMTIyMzM2MiwgLTE5MTYwMjM5OTQsIDE3NDA1NTM5NDUsIDE5MTYzNTI4NDMsIC0xODA3MDcwNDk4LFxuICAgICAgICAtMTczOTgzMDA2MCwgLTEzMzYzODczNTIsIC0yMDQ5OTc4NTUwLCAtMTE0Mzk0MzA2MSwgLTk3NDEzMTQxNCwgMTMzNjU4NDkzMywgLTMwMjI1MzI5MCwgLTIwNDI0MTIwOTEsXG4gICAgICAgIC0xNzA2MjA5ODMzLCAxNzE0NjMxNTA5LCAyOTM5NjMxNTYsIC0xOTc1MTcxNjMzLCAtMzY5NDkzNzQ0LCA2NzI0MDQ1NCwgLTI1MTk4NzE5LCAtMTYwNTM0OTEzNiwgMjAxNzIxMzUwOCxcbiAgICAgICAgNjMxMjE4MTA2LCAxMjY5MzQ0NDgzLCAtMTU3MTcyODkwOSwgMTU3MTAwNTQzOCwgLTIxNDMyNzI3NjgsIDkzMjk0NDc0LCAxMDY2NTcwNDEzLCA1NjM5Nzc2NjAsIDE4ODI3MzI2MTYsXG4gICAgICAgIC0yMzU1MzkxOTYsIDE2NzMzMTM1MDMsIDIwMDg0NjMwNDEsIC0xMzQ0NjExNzIzLCAxMTA5NDY3NDkxLCA1Mzc5MjM2MzIsIC00MzYyMDc4NDYsIC0zNDM0NDE3OCxcbiAgICAgICAgLTEwNzY3MDI2MTEsIC0yMTE3MjE4OTk2LCA0MDM0NDI3MDgsIDYzODc4NDMwOSwgLTEwMDc4ODMyMTcsIC0xMTAxMDQ1NzkxLCA4OTkxMjcyMDIsIC0yMDA4NzkxODYwLFxuICAgICAgICA3NzMyNjUyMDksIC0xODE1ODIxMjI1LCAxNDM3MDUwODY2LCAtNTg4MTg5NDIsIDIwNTA4MzM3MzUsIC05MzI5NDQ3MjQsIC0xMTY4Mjg2MjMzLCA4NDA1MDU2NDMsIC00Mjg2NDEzODcsXG4gICAgICAgIC0xMDY3NDI1NjMyLCA0Mjc5MTc3MjAsIC0xNjM4OTY5MzkxLCAtMTU0NTgwNjcyMSwgMTE0MzA4NzcxOCwgMTQxMjA0OTUzNCwgOTk5MzI5OTYzLCAxOTM0OTcyMTksXG4gICAgICAgIC0xOTQxNTUxNDE0LCAtOTQwNjQyNzc1LCAxODA3MjY4MDUxLCA2NzI0MDQ1NDAsIC0xNDc4NTY2Mjc5LCAtMTEzNDY2NjAxNCwgMzY5ODIyNDkzLCAtMTM3ODEwMDM2MixcbiAgICAgICAgLTYwNjAxOTUyNSwgMTY4MTAxMTI4NiwgMTk0OTk3MzA3MCwgMzM2MjAyMjcwLCAtMTg0MDY5MDcyNSwgMjAxNzIxMzU0LCAxMjEwMzI4MTcyLCAtMTIwMTkwNjQ2MCxcbiAgICAgICAgLTE2MTQ2MjYyMTEsIC0xMTEwMTkxMjUwLCAxMTM1Mzg5OTM1LCAtMTAwMDE4NTE3OCwgOTY1ODQxMzIwLCA4MzE4ODY3NTYsIC03Mzk5NzQwODksIC0yMjY5MjAwNTMsXG4gICAgICAgIC03MDYyMjIyODYsIC0xOTQ5Nzc1ODA1LCAxODQ5MTEyNDA5LCAtNjMwMzYyNjk3LCAyNjA1NDAyOCwgLTEzMTEzODYyNjgsIC0xNjcyNTg5NjE0LCAxMjM1ODU1ODQwLFxuICAgICAgICAtNjYzOTgyOTI0LCAtMTQwMzYyNzc4MiwgLTIwMjA1MDU1MywgLTgwNjY4ODIxOSwgLTg5OTMyNDQ5NywgLTE5MzI5OTgyNiwgMTIwMjYzMDM3NywgMjY4OTYxODE2LFxuICAgICAgICAxODc0NTA4NTAxLCAtMjYwNTQwMjgwLCAxMjQzOTQ4Mzk5LCAxNTQ2NTMwNDE4LCA5NDEzNjYzMDgsIDE0NzA1Mzk1MDUsIDE5NDEyMjI1OTksIC0xNzQ4NTgwNzgzLFxuICAgICAgICAtODczOTI4NjY5LCAtMTU3OTI5NTM2NCwgLTM5NTAyMTE1NiwgMTA0MjIyNjk3NywgLTE3NzM0NTAyNzUsIDE2Mzk4MjQ4NjAsIDIyNzI0OTAzMCwgMjYwNzM3NjY5LFxuICAgICAgICAtNTI5NTAyMDY0LCAyMDg0NDUzOTU0LCAxOTA3NzMzOTU2LCAtODY1NzA0Mjc4LCAtMTg3NDMxMDk1MiwgMTAwODYwNjc3LCAtMTM0ODEwMTExLCA0NzA2ODMxNTQsXG4gICAgICAgIC0xMDMzODA1NDA1LCAxNzgxODcxOTY3LCAtMTM3MDAwNzU1OSwgMTc3Mzc3OTQwOCwgMzk0NjkyMjQxLCAtMTcxNTM1NTMwNCwgOTc0OTg2NTM1LCA2NjQ3MDY3NDUsXG4gICAgICAgIC02Mzk1MDgxNjgsIC0zMzYwMDUxMDEsIDczMTQyMDg1MSwgNTcxNTQzODU5LCAtNzY0ODQzNTg5LCAtMTQ0NTM0MDgxNiwgMTI2NzgzMTEzLCA4NjUzNzUzOTksIDc2NTE3MjY2MixcbiAgICAgICAgMTAwODYwNjc1NCwgMzYxMjAzNjAyLCAtOTA3NDE3MzEyLCAtMjAxNjQ4OTkxMSwgLTE0MzcyNDgwMDEsIDEzNDQ4MDkwODAsIC0xNTEyMDU0OTE4LCA1OTU0MjY3MSxcbiAgICAgICAgMTUwMzc2NDk4NCwgMTYwMDA4NTc2LCA0MzcwNjI5MzUsIDE3MDcwNjUzMDYsIC02NzI3MzM2NDcsIC0yMDc2MDMyMzE0LCAtNzk4NDYzODE2LCAtMjEwOTY1MjU0MSwgNjk3OTMyMjA4LFxuICAgICAgICAxNTEyOTEwMTk5LCA1MDQzMDMzNzcsIDIwNzUxNzcxNjMsIC0xNDcwODY4MjI4LCAxODQxMDE5ODYyLCA3Mzk2NDQ5ODYsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIC0xNTEzNzI1MDg1LCAtMjA2NDA4OTk4OCwgLTE3MTI0MjUwOTcsIC0xOTEzMjI2MzczLCAyMzQ4Nzc2ODIsIC0xMTEwMDIxMjY5LCAtMTMxMDgyMjU0NSwgMTQxODgzOTQ5MyxcbiAgICAgICAgMTM0ODQ4MTA3MiwgNTA0NjI5NzcsIC0xNDQ2MDkwOTA1LCAyMTAyNzk5MTQ3LCA0MzQ2MzQ0OTQsIDE2NTYwODQ0MzksIC00MzExMTczOTcsIC0xNjk1Nzc5MjEwLCAxMTY3MDUxNDY2LFxuICAgICAgICAtMTY1ODg3OTM1OCwgMTA4Mjc3MTkxMywgLTIwMTM2MjcwMTEsIDM2ODA0ODg5MCwgLTM0MDYzMzI1NSwgLTkxMzQyMjUyMSwgMjAxMDYwNTkyLCAtMzMxMjQwMDE5LFxuICAgICAgICAxNzM5ODM4Njc2LCAtNDQwNjQwOTQsIC0zNjQ1MzE3OTMsIC0xMDg4MTg1MTg4LCAtMTQ1NTEzMzA4LCAtMTc2MzQxMzM5MCwgMTUzNjkzNDA4MCwgLTEwMzI0NzI2NDksXG4gICAgICAgIDQ4NDU3MjY2OSwgLTEzNzE2OTYyMzcsIDE3ODMzNzUzOTgsIDE1MTcwNDEyMDYsIDEwOTg3OTI3NjcsIDQ5Njc0MjMxLCAxMzM0MDM3NzA4LCAxNTUwMzMyOTgwLCAtMTk1OTc1NzcxLFxuICAgICAgICA4ODYxNzExMDksIDE1MDU5ODEyOSwgLTE4MTM4NzYzNjcsIDE5NDA2NDIwMDgsIDEzOTg5NDQwNDksIDEwNTk3MjI1MTcsIDIwMTg1MTkwOCwgMTM4NTU0NzcxOSwgMTY5OTA5NTMzMSxcbiAgICAgICAgMTU4NzM5NzU3MSwgNjc0MjQwNTM2LCAtMTU5MDE5MjQ5MCwgMjUyMzE0ODg1LCAtMTI1NTE3MTQzMCwgMTUxOTE0MjQ3LCA5MDgzMzM1ODYsIC0xNjkyNjk2NDQ4LCAxMDM4MDgyNzg2LFxuICAgICAgICA2NTEwMjk0ODMsIDE3NjY3Mjk1MTEsIC04NDcyNjkxOTgsIC0xNjEyMDI0NDU5LCA0NTQxNjY3OTMsIC0xNjQyMjMyOTU3LCAxOTUxOTM1NTMyLCA3NzUxNjY0OTAsIDc1ODUyMDYwMyxcbiAgICAgICAgLTEyOTQxNzY2NTgsIC0yOTAxNzAyNzgsIC03Nzg4MTE4NCwgLTE1NzAwMzE4MiwgMTI5OTU5NDA0MywgMTYzOTQzODAzOCwgLTgzMDYyMjc5NywgMjA2ODk4MjA1NyxcbiAgICAgICAgMTA1NDcyOTE4NywgMTkwMTk5Nzg3MSwgLTE3NjAzMjg1NzIsIC0xNzM2NDkwNjksIDE3NTcwMDgzMzcsIDAsIDc1MDkwNjg2MSwgMTYxNDgxNTI2NCwgNTM1MDM1MTMyLFxuICAgICAgICAtOTMxNTQ4NzUxLCAtMzA2ODE2MTY1LCAtMTA5MzM3NTM4MiwgMTE4MzY5Nzg2NywgLTY0NzUxMjM4NiwgMTI2NTc3Njk1MywgLTU2MDcwNjk5OCwgLTcyODIxNjUwMCxcbiAgICAgICAgLTM5MTA5NjIzMiwgMTI1MDI4MzQ3MSwgMTgwNzQ3MDgwMCwgNzE3NjE1MDg3LCAtNDQ3NzYzNzk4LCAzODQ2OTUyOTEsIC05ODEwNTY3MDEsIC02Nzc3NTM1MjMsIDE0MzI3NjExMzksXG4gICAgICAgIC0xODEwNzkxMDM1LCAtODEzMDIxODgzLCAyODM3NjkzMzcsIDEwMDkyNTk1NCwgLTIxMTQwMjc2NDksIC0yNTc5MjkxMzYsIDExNDg3MzA0MjgsIC0xMTcxOTM5NDI1LFxuICAgICAgICAtNDgxNTgwODg4LCAtMjA3NDY2MTU5LCAtMjc0MTc2OTMsIC0xMDY1MzM2NzY4LCAtMTk3OTM0NzA1NywgLTEzODgzNDI2MzgsIC0xMTM4NjQ3NjUxLCAxMjE1MzEzOTc2LFxuICAgICAgICA4Mjk2NjAwNSwgLTU0NzExMTc0OCwgLTEwNDkxMTkwNTAsIDE5NzQ0NTkwOTgsIDE2NjUyNzgyNDEsIDgwNzQwNzYzMiwgNDUxMjgwODk1LCAyNTE1MjQwODMsIDE4NDEyODc4OTAsXG4gICAgICAgIDEyODM1NzUyNDUsIDMzNzEyMDI2OCwgODkxNjg3Njk5LCA4MDEzNjkzMjQsIC01MDc2MTc0NDEsIC0xNTczNTQ2MDg5LCAtODYzNDg0ODYwLCA5NTkzMjE4NzksIDE0NjkzMDE5NTYsXG4gICAgICAgIC0yMjkyNjc1NDUsIC0yMDk3MzgxNzYyLCAxMTk5MTkzNDA1LCAtMTM5NjE1MzI0NCwgLTQwNzIxNjgwMywgNzI0NzAzNTEzLCAtMTc4MDA1OTI3NywgLTE1OTgwMDUxNTIsXG4gICAgICAgIC0xNzQzMTU4OTExLCAtNzc4MTU0MTYxLCAyMTQxNDQ1MzQwLCAxNzE1NzQxMjE4LCAyMTE5NDQ1MDM0LCAtMTQyMjE1OTcyOCwgLTIwOTYzOTYxNTIsIC04OTY3NzY2MzQsXG4gICAgICAgIDcwMDk2ODY4NiwgLTc0NzkxNTA4MCwgMTAwOTI1OTU0MCwgMjA0MTA0NDcwMiwgLTQ5MDk3MTU1NCwgNDg3OTgzODgzLCAxOTkxMTA1NDk5LCAxMDA0MjY1Njk2LCAxNDQ5NDA3MDI2LFxuICAgICAgICAxMzE2MjM5OTMwLCA1MDQ2Mjk3NzAsIC02MTExNjk5NzUsIDE2ODU2MDEzNCwgMTgxNjY2NzE3MiwgLTQ1NzY3OTc4MCwgMTU3MDc1MTE3MCwgMTg1NzkzNDI5MSwgLTI4MDc3NzU1NixcbiAgICAgICAgLTE0OTcwNzkxOTgsIC0xNDcyNjIyMTkxLCAtMTU0MDI1NDMxNSwgOTM2NjMzNTcyLCAtMTk0NzA0MzQ2MywgODUyODc5MzM1LCAxMTMzMjM0Mzc2LCAxNTAwMzk1MzE5LFxuICAgICAgICAtMTIxMDQyMTkwNywgLTE5NDYwNTUyODMsIDE2ODkzNzYyMTMsIC03NjE1MDgyNzQsIC01MzIwNDMzNTEsIC0xMjYwODg0ODg0LCAtODkzNjkwMDIsIDEzMzQyODQ2OCxcbiAgICAgICAgNjM0MzgzMDgyLCAtMTM0NTY5MDI2NywgLTE4OTY1ODA0ODYsIC0zODExNzgxOTQsIDQwMzcwMzgxNiwgLTcxNDA5Nzk5MCwgLTE5OTc1MDY0NDAsIDE4NjcxMzAxNDksXG4gICAgICAgIDE5MTg2NDM3NTgsIDYwNzY1Njk4OCwgLTI0NTkxMzk0NiwgLTk0ODcxODQxMiwgMTM2ODkwMTMxOCwgNjAwNTY1OTkyLCAyMDkwOTgyODc3LCAtMTY2MjQ4NzQzNiwgNTU3NzE5MzI3LFxuICAgICAgICAtNTc3MzUyODg1LCAtNTk3NTc0MjExLCAtMjA0NTkzMjY2MSwgLTIwNjI1NzkwNjIsIC0xODY0MzM5MzQ0LCAxMTE1NDM4NjU0LCAtOTk5MTgwODc1LCAtMTQyOTQ0NTAxOCxcbiAgICAgICAgLTY2MTYzMjk1MiwgODQyODAwNjcsIDMzMDI3ODMwLCAzMDM4Mjg0OTQsIC0xNTQ3NTQyMTc1LCAxNjAwNzk1OTU3LCAtMTA2MDE0ODg5LCAtNzk4Mzc3NTQzLCAtMTg2MDcyOTIxMCxcbiAgICAgICAgMTQ4NjQ3MTYxNywgNjU4MTE5OTY1LCAtMTE4ODU4NTgyNiwgOTUzODAzMjMzLCAzMzQyMzE4MDAsIC0xMjg4OTg4NTIwLCA4NTc4NzA2MDksIC0xMTQzODM4MzU5LCAxODkwMTc5NTQ1LFxuICAgICAgICAtMTk5NTk5MzQ1OCwgLTE0ODk3OTE4NTIsIC0xMjM4NTI1MDI5LCA1NzQzNjUyMTQsIC0xODQ0MDgyODA5LCA1NTAxMDM1MjksIDEyMzM2MzcwNzAsIC01NjE0MjUxLFxuICAgICAgICAyMDE4NTE5MDgwLCAyMDU3NjkxMTAzLCAtMTg5NTU5MjgyMCwgLTEyODM0MzY0NywgLTIxNDY4NTg2MTUsIDM4NzU4MzI0NSwgLTYzMDg2NTk4NSwgODM2MjMyOTM0LFxuICAgICAgICAtOTY0NDEwODE0LCAtMTE5NDMwMTMzNiwgLTEwMTQ4NzM3OTEsIC0xMzM5NDUwOTgzLCAyMDAyMzk4NTA5LCAyODcxODI2MDcsIC04ODEwODYyODgsIC01NjA3NzIyOCxcbiAgICAgICAgLTY5NzQ1MTU4OSwgOTc1OTY3NzY2LFxuICAgIF0sXG4gICAgW1xuICAgICAgICAxNjcxODA4NjExLCAyMDg5MDg5MTQ4LCAyMDA2NTc2NzU5LCAyMDcyOTAxMjQzLCAtMjMzOTYzNTM0LCAxODA3NjAzMzA3LCAxODczOTI3NzkxLCAtOTg0MzEzNDAzLCA4MTA1NzM4NzIsXG4gICAgICAgIDE2OTc0MzM3LCAxNzM5MTgxNjcxLCA3Mjk2MzQzNDcsIC0zMTg1NjY0MiwgLTY4MTM5Njc3NywgLTE0MTA5NzAxOTcsIDE5ODk4NjQ1NjYsIC05MDE0MTA4NzAsIC0yMTAzNjMxOTk4LFxuICAgICAgICAtOTE4NTE3MzAzLCAyMTA2MDYzNDg1LCAtOTkyMjU2MDYsIDE1MDg2MTg4NDEsIDEyMDQzOTE0OTUsIC0yNjc2NTAwNjQsIC0xMzc3MDI1NjE5LCAtNzMxNDAxMjYwLFxuICAgICAgICAtMTU2MDQ1MzIxNCwgLTEzNDM2MDEyMzMsIC0xNjY1MTk1MTA4LCAtMTUyNzI5NTA2OCwgMTkyMjQ5MTUwNiwgLTEwNjc3MzgxNzYsIC0xMjExOTkyNjQ5LCAtNDg0Mzg3ODcsXG4gICAgICAgIC0xODE3Mjk3NTE3LCA2NDQ1MDA1MTgsIDkxMTg5NTYwNiwgMTA2MTI1Njc2NywgLTE1MDgwMDkwNSwgLTg2NzIwNDE0OCwgODc4NDcxMjIwLCAtMTUxMDcxNDk3MSwgLTQ0OTUyMzIyNyxcbiAgICAgICAgLTI1MTA2OTk2NywgMTkwNTUxNzE2OSwgLTY2MzUwODAwOCwgODI3NTQ4MjA5LCAzNTY0NjEwNzcsIDY3ODk3MzQ4LCAtOTUwODg5MDE3LCA1OTM4Mzk2NTEsIC0xMDE3MjA5NDA1LFxuICAgICAgICA0MDUyODY5MzYsIC0xNzY3ODE5MzcwLCA4NDg3MTY4NSwgLTE2OTk0MDE4MzAsIDExODAzMzkyNywgMzA1NTM4MDY2LCAtMjEzNzMxODUyOCwgLTQ5OTI2MTQ3MCwgLTM0OTc3ODQ1MyxcbiAgICAgICAgNjYxMjEyNzExLCAtMTI5NTE1NTI3OCwgMTk3MzQxNDUxNywgMTUyNzY5MDMzLCAtMjA4Njc4OTc1NywgNzQ1ODIyMjUyLCA0MzkyMzU2MTAsIDQ1NTk0NzgwMywgMTg1NzIxNTU5OCxcbiAgICAgICAgMTUyNTU5MzE3OCwgLTE1OTQxMzk3NDQsIDEzOTE4OTU2MzQsIDk5NDkzMjI4MywgLTY5ODIzOTAxOCwgLTEyNzgzMTMwMzcsIDY5NTk0NzgxNywgLTQ4MjQxOTIyOSwgNzk1OTU4ODMxLFxuICAgICAgICAtMjA3MDQ3Mzg1MiwgMTQwODYwNzgyNywgLTc4MTY2NTgzOSwgMCwgLTMxNTgzMzg3NSwgNTQzMTc4Nzg0LCAtNjUwMTg4ODQsIC0xMzEyMjYxNzExLCAxNTQyMzA1MzcxLFxuICAgICAgICAxNzkwODkxMTE0LCAtODg0NTY4NjI5LCAtMTA5MzA0ODM4NiwgOTYxMjQ1NzUzLCAxMjU2MTAwOTM4LCAxMjg5MDAxMDM2LCAxNDkxNjQ0NTA0LCAtODE3MTk5NjY1LFxuICAgICAgICAtNzk4MjQ1OTM2LCAtMjgyNDA5NDg5LCAtMTQyNzgxMjQzOCwgLTgyMzgzMzY1LCAxMTM3MDE4NDM1LCAxMzA1OTc1MzczLCA4NjEyMzQ3MzksIC0yMDUzODkzNzU1LFxuICAgICAgICAxMTcxMjI5MjUzLCAtMTE2MzMyMDM5LCAzMzk0ODY3NCwgMjEzOTIyNTcyNywgMTM1Nzk0Njk2MCwgMTAxMTEyMDE4OCwgLTE2MTUxOTA2MjUsIC0xNDYxNDk4OTY4LFxuICAgICAgICAxMzc0OTIxMjk3LCAtMTU0MzYxMDk3MywgMTA4NjM1NzU2OCwgLTE4ODY3ODAwMTcsIC0xODM0MTM5NzU4LCAtMTY0ODYxNTAxMSwgOTQ0MjcxNDE2LCAtMTg0MjI1MjkxLFxuICAgICAgICAtMTEyNjIxMDYyOCwgLTEyMjg4MzQ4OTAsIC02Mjk4MjE0NzgsIDU2MDE1MzEyMSwgMjcxNTg5MzkyLCAtMTUwMTQ0MDEsIC0yMTcxMjEyOTMsIC03NjQ1NTk0MDYsIC04NTA2MjQwNTEsXG4gICAgICAgIDIwMjY0MzQ2OCwgMzIyMjUwMjU5LCAtMzMyNDEzOTcyLCAxNjA4NjI5ODU1LCAtMTc1MDk3NzEyOSwgMTE1NDI1NDkxNiwgMzg5NjIzMzE5LCAtMTAwMDg5MzUwMCxcbiAgICAgICAgLTE0NzcyOTA1ODUsIDIxMjI1MTM1MzQsIDEwMjgwOTQ1MjUsIDE2ODkwNDUwOTIsIDE1NzU0Njc2MTMsIDQyMjI2MTI3MywgMTkzOTIwMzY5OSwgMTYyMTE0Nzc0NCxcbiAgICAgICAgLTIxMjA3Mzg0MzEsIDEzMzkxMzc2MTUsIC01OTU2MTQ3NTYsIDU3NzEyNzQ1OCwgNzEyOTIyMTU0LCAtMTg2NzgyNjI4OCwgLTIwMDQ2Nzc3NTIsIDExODc2NzkzMDIsXG4gICAgICAgIC0yOTkyNTE3MzAsIC0xMTk0MTAzODgwLCAzMzk0ODY3NDAsIC01NjI0NTI1MTQsIDE1OTE5MTc2NjIsIDE4NjQ1NTU2MywgLTYxMjk3OTIzNywgLTUzMjk0ODAwMCwgODQ0NTIyNTQ2LFxuICAgICAgICA5NzgyMjAwOTAsIDE2OTc0MzM3MCwgMTIzOTEyNjYwMSwgMTAxMzIxNzM0LCA2MTEwNzYxMzIsIDE1NTg0OTMyNzYsIC0xMDM0MDUxNjQ2LCAtNzQ3NzE3MTY1LCAtMTM5MzYwNTcxNixcbiAgICAgICAgMTY1NTA5NjQxOCwgLTE4NTEyNDYxOTEsIC0xNzg0NDAxNTE1LCAtNDY2MTAzMzI0LCAyMDM5MjE0NzEzLCAtNDE2MDk4ODQxLCAtOTM1MDk3NDAwLCA5Mjg2MDc3OTksXG4gICAgICAgIDE4NDA3NjU1NDksIC0xOTIwMjA0NDAzLCAtNzE0ODIxMTYzLCAxMzIyNDI1NDIyLCAtMTQ0NDkxODg3MSwgMTgyMzc5MTIxMiwgMTQ1OTI2ODY5NCwgLTIwMDgwNTM4OCxcbiAgICAgICAgLTM2NjYyMDY5NCwgMTcwNjAxOTQyOSwgMjA1NjE4OTA1MCwgLTEzNjA0NDM0NzQsIDEzNTc5NDY5NiwgLTExNjA0MTczNTAsIDIwMjIyNDAzNzYsIDYyODA1MDQ2OSwgNzc5MjQ2NjM4LFxuICAgICAgICA0NzIxMzU3MDgsIC0xNDk0MTMyODI2LCAtMTI2MTk5NzEzMiwgLTk2NzczMTI1OCwgLTQwMDMwNzIyNCwgLTU3OTAzNDY1OSwgMTk1NjQ0MDE4MCwgNTIyMjcyMjg3LFxuICAgICAgICAxMjcyODEzMTMxLCAtMTEwOTYzMDUzMSwgLTE5NTQxNDg5ODEsIC0xOTcwOTkxMjIyLCAxODg4NTQyODMyLCAxMDQ0NTQ0NTc0LCAtMTI0NTQxNzAzNSwgMTcyMjQ2OTQ3OCxcbiAgICAgICAgMTIyMjE1MjI2NCwgNTA2NjA4NjcsIC0xNjc2NDMxNDYsIDIzNjA2Nzg1NCwgMTYzODEyMjA4MSwgODk1NDQ1NTU3LCAxNDc1OTgwODg3LCAtMTE3NzUyMzc4MywgLTIwMzczMTE2MTAsXG4gICAgICAgIC0xMDUxMTU4MDc5LCA0ODkxMTAwNDUsIC0xNjMyMDMyODY2LCAtNTE2MzY3OTAzLCAtMTMyOTEyMTM2LCAtMTczMzA4ODM2MCwgMjg4NTYzNzI5LCAxNzczOTE2Nzc3LFxuICAgICAgICAtNjQ2OTI3OTExLCAtMTkwMzYyMjI1OCwgLTE4MDA5ODE2MTIsIC0xNjgyNTU5NTg5LCA1MDU1NjAwOTQsIC0yMDIwNDY5MzY5LCAtMzgzNzI3MTI3LCAtODM0MDQxOTA2LFxuICAgICAgICAxNDQyODE4NjQ1LCA2Nzg5NzM0ODAsIC01NDU2MTAyNzMsIC0xOTM2Nzg0NTAwLCAtMTU3NzU1OTY0NywgLTE5ODgwOTc2NTUsIDIxOTYxNzgwNSwgLTEwNzYyMDYxNDUsXG4gICAgICAgIC00MzI5NDEwODIsIDExMjAzMDYyNDIsIDE3NTY5NDI0NDAsIDExMDMzMzE5MDUsIC0xNzE2NTA4MjYzLCA3NjI3OTY1ODksIDI1Mjc4MDA0NywgLTEzMjg4NDE4MDgsXG4gICAgICAgIDE0MjU4NDQzMDgsIC0xMTQzNTc1MTA5LCAzNzI5MTExMjYsXG4gICAgXSxcbiAgICBbXG4gICAgICAgIDE2Njc0NzQ4ODYsIDIwODg1MzUyODgsIDIwMDQzMjY4OTQsIDIwNzE2OTQ4MzgsIC0yMTkwMTc3MjksIDE4MDIyMjMwNjIsIDE4Njk1OTEwMDYsIC05NzY5MjM1MDMsIDgwODQ3MjY3MixcbiAgICAgICAgMTY4NDM1MjIsIDE3MzQ4NDY5MjYsIDcyNDI3MDQyMiwgLTE2OTAxNjU3LCAtNjczNzUwMzQ3LCAtMTQxNDc5Nzc0NywgMTk4NzQ4NDM5NiwgLTg5MjcxMzU4NSwgLTIxMDUzNjkzMTMsXG4gICAgICAgIC05MDk1NTc2MjMsIDIxMDUzNzg4MTAsIC04NDI3MzY4MSwgMTQ5OTA2NTI2NiwgMTE5NTg4Njk5MCwgLTI1MjcwMzc0OSwgLTEzODExMTA3MTksIC03MjQyNzczMjUsXG4gICAgICAgIC0xNTY2Mzc2NjA5LCAtMTM0NzQyNTcyMywgLTE2Njc0NDkwNTMsIC0xNTMyNjkyNjUzLCAxOTIwMTEyMzU2LCAtMTA2MTEzNTQ2MSwgLTEyMTI2OTM4OTksIC0zMzc0MzY0NyxcbiAgICAgICAgLTE4MTkwMzgxNDcsIDY0MDA1MTc4OCwgOTA5NTMxNzU2LCAxMDYxMTEwMTQyLCAtMTM0ODA2Nzk1LCAtODU5MDI1NTMzLCA4NzU4NDY3NjAsIC0xNTE1ODUwNjcxLCAtNDM3OTYzNTY3LFxuICAgICAgICAtMjM1ODYxNzY3LCAxOTAzMjY4ODM0LCAtNjU2OTAzMjUzLCA4MjUzMTYxOTQsIDM1MzcxMzk2MiwgNjczNzQwODgsIC05NDMyMzg1MDcsIDU4OTUyMjI0NiwgLTEwMTA2MDY0MzUsXG4gICAgICAgIDQwNDIzNjMzNiwgLTE3Njg1MTMyMjUsIDg0MjE3NjEwLCAtMTcwMTEzNzEwNSwgMTE3OTAxNTgyLCAzMDMxODMzOTYsIC0yMTM5MDU1MzMzLCAtNDg4NDg5NTA1LCAtMzM2OTEwNjQzLFxuICAgICAgICA2NTY4OTQyODYsIC0xMjk2OTA0ODMzLCAxOTcwNjQyOTIyLCAxNTE1OTE2OTgsIC0yMDg4NTI2MzA3LCA3NDExMTA4NzIsIDQzNzkyMzM4MCwgNDU0NzY1ODc4LCAxODUyNzQ4NTA4LFxuICAgICAgICAxNTE1OTA4Nzg4LCAtMTYwMDA2MjYyOSwgMTM4MTE2ODgwNCwgOTkzNzQyMTk4LCAtNjkwNTkzMzUzLCAtMTI4MDA2MTgyNywgNjkwNTg0NDAyLCAtNDcxNjQ2NDk5LCA3OTE2MzgzNjYsXG4gICAgICAgIC0yMDcxNjg1MzU3LCAxMzk4MDExMzAyLCAtNzc0ODA1MzE5LCAwLCAtMzAzMjIzNjE1LCA1Mzg5OTI3MDQsIC01MDU4NTYyOSwgLTEzMTM3NDg4NzEsIDE1MzI3NTEyODYsXG4gICAgICAgIDE3ODUzODA1NjQsIC04NzU4NzA1NzksIC0xMDk0Nzg4NzYxLCA5NjAwNTYxNzgsIDEyNDY0MjA2MjgsIDEyODAxMDM1NzYsIDE0ODIyMjE3NDQsIC04MDg0OTg1NTUsXG4gICAgICAgIC03OTE2NDczMDEsIC0yNjk1Mzg2MTksIC0xNDMxNjQwNzUzLCAtNjc0MzA2NzUsIDExMjg1MTQ5NTAsIDEyOTY5NDcwOTgsIDg1OTAwMjIxNCwgLTIwNTQ4NDMzNzUsXG4gICAgICAgIDExNjIyMDMwMTgsIC0xMDExMTc3MTksIDMzNjg3MDQ0LCAyMTM5MDYyNzgyLCAxMzQ3NDgxNzYwLCAxMDEwNTgyNjQ4LCAtMTYxNjkyMjA3NSwgLTE0NjUzMjY3NzMsXG4gICAgICAgIDEzNjQzMjUyODIsIC0xNTQ5NTMzNjAzLCAxMDc3OTg1NDA4LCAtMTg4NjQxODQyNywgLTE4MzU4ODExNTMsIC0xNjUwNjA3MDcxLCA5NDMyMTI2NTYsIC0xNjg0OTE3OTEsXG4gICAgICAgIC0xMTI4NDcyNzMzLCAtMTIyOTUzNjkwNSwgLTYyMzIxNzIzMywgNTU1ODM2MjI2LCAyNjk0OTYzNTIsIC01ODY1MSwgLTIwMjE3NDcyMywgLTc1Nzk2MTI4MSwgLTg0MjE4MzU1MSxcbiAgICAgICAgMjAyMTE4MTY4LCAzMjAwMjU4OTQsIC0zMjAwNjU1OTcsIDE2MDAxMTkyMzAsIC0xNzUxNjcwMjE5LCAxMTQ1MzU5NDk2LCAzODczOTc5MzQsIC05OTM3NjU0ODUsIC0xNDgyMTY1Njc1LFxuICAgICAgICAyMTIyMjIwMjg0LCAxMDI3NDI2MTcwLCAxNjg0MzE5NDMyLCAxNTY2NDM1MjU4LCA0MjEwNzk4NTgsIDE5MzY5NTQ4NTQsIDE2MTY5NDUzNDQsIC0yMTIyMjEzMzUxLFxuICAgICAgICAxMzMwNjMxMDcwLCAtNTg5NTI5MTgxLCA1NzI2Nzk3NDgsIDcwNzQyNzkyNCwgLTE4Njk1NjcxNzMsIC0yMDA0MzE5NDc3LCAxMTc5MDQ0NDkyLCAtMjg2MzgxNjI1LFxuICAgICAgICAtMTE5NTg0NjgwNSwgMzM2ODcwNDQwLCAtNTU1ODQ1MjA5LCAxNTgzMjc2NzMyLCAxODUyNzc3MTgsIC02MDYzNzQyMjcsIC01MjIxNzU1MjUsIDg0MjE1OTcxNiwgOTc2ODk5NzAwLFxuICAgICAgICAxNjg0MzUyMjAsIDEyMjk1NzcxMDYsIDEwMTA1OTA4NCwgNjA2MzY2NzkyLCAxNTQ5NTkxNzM2LCAtMTAyNzQ0OTQ0MSwgLTc0MTExODI3NSwgLTEzOTc5NTI3MDEsIDE2NTA2MzIzODgsXG4gICAgICAgIC0xODUyNzI1MTkxLCAtMTc4NTM1NTIxNSwgLTQ1NDgwNTU0OSwgMjAzODAwODgxOCwgLTQwNDI3ODU3MSwgLTkyNjM5OTYwNSwgOTI2Mzc0MjU0LCAxODM1OTA3MDM0LFxuICAgICAgICAtMTkyMDEwMzQyMywgLTcwNzQzNTM0MywgMTMxMzc4ODU3MiwgLTE0NDg0ODQ3OTEsIDE4MTkwNjM1MTIsIDE0NDg1NDA4NDQsIC0xODUzMzM3NzMsIC0zNTM3NTM2NDksXG4gICAgICAgIDE3MDExNjI5NTQsIDIwNTQ4NTIzNDAsIC0xMzY0MjY4NzI5LCAxMzQ3NDgxNzYsIC0xMTYyMTYwNzg1LCAyMDIxMTY1Mjk2LCA2MjMyMTAzMTQsIDc3NDc5NTg2OCwgNDcxNjA2MzI4LFxuICAgICAgICAtMTQ5OTAwODY4MSwgLTEyNjMyMjA4NzcsIC05NjAwODE1MTMsIC0zODc0Mzk2NjksIC01NzI2ODcxOTksIDE5NTM3OTk0MDAsIDUyMjEzMzgyMiwgMTI2MzI2MzEyNixcbiAgICAgICAgLTExMTE2MzA3NTEsIC0xOTUzNzkwNDUxLCAtMTk3MDYzMzQ1NywgMTg4NjQyNTMxMiwgMTA0NDI2NzY0NCwgLTEyNDYzNzg4OTUsIDE3MTgwMDQ0MjgsIDEyMTI3MzM1ODQsXG4gICAgICAgIDUwNTI5NTQyLCAtMTUxNjQ5ODAxLCAyMzU4MDMxNjQsIDE2MzM3ODg4NjYsIDg5MjY5MDI4MiwgMTQ2NTM4MzM0MiwgLTExNzkwMDQ4MjMsIC0yMDM4MDAxMzg1LCAtMTA0NDI5MzQ3OSxcbiAgICAgICAgNDg4NDQ5ODUwLCAtMTYzMzc2NTA4MSwgLTUwNTMzMzU0MywgLTExNzk1OTcwMSwgLTE3MzQ4MjMxMjUsIDI4NjMzOTg3NCwgMTc2ODUzNzA0MiwgLTY0MDA2MTI3MSxcbiAgICAgICAgLTE5MDMyNjE0MzMsIC0xODAyMTk3MTk3LCAtMTY4NDI5NDA5OSwgNTA1MjkxMzI0LCAtMjAyMTE1ODM3OSwgLTM3MDU5NzY4NywgLTgyNTM0MTU2MSwgMTQzMTY5OTM3MCxcbiAgICAgICAgNjczNzQwODgwLCAtNTM5MDAyMjAzLCAtMTkzNjk0NTQwNSwgLTE1ODMyMjA2NDcsIC0xOTg3NDc3NDk1LCAyMTg5NjE2OTAsIC0xMDc3OTQ1NzU1LCAtNDIxMTIxNTc3LFxuICAgICAgICAxMTExNjcyNDUyLCAxNzUxNjkzNTIwLCAxMDk0ODI4OTMwLCAtMTcxNzk4MTE0MywgNzU3OTU0Mzk0LCAyNTI2NDU2NjIsIC0xMzMwNTkwODUzLCAxNDE0ODU1ODQ4LFxuICAgICAgICAtMTE0NTMxNzc3OSwgMzcwNTU1NDM2LFxuICAgIF0sXG4gICAgW1xuICAgICAgICA5OSwgMTI0LCAxMTksIDEyMywgMjQyLCAxMDcsIDExMSwgMTk3LCA0OCwgMSwgMTAzLCA0MywgMjU0LCAyMTUsIDE3MSwgMTE4LCAyMDIsIDEzMCwgMjAxLCAxMjUsIDI1MCwgODksXG4gICAgICAgIDcxLCAyNDAsIDE3MywgMjEyLCAxNjIsIDE3NSwgMTU2LCAxNjQsIDExNCwgMTkyLCAxODMsIDI1MywgMTQ3LCAzOCwgNTQsIDYzLCAyNDcsIDIwNCwgNTIsIDE2NSwgMjI5LCAyNDEsXG4gICAgICAgIDExMywgMjE2LCA0OSwgMjEsIDQsIDE5OSwgMzUsIDE5NSwgMjQsIDE1MCwgNSwgMTU0LCA3LCAxOCwgMTI4LCAyMjYsIDIzNSwgMzksIDE3OCwgMTE3LCA5LCAxMzEsIDQ0LCAyNixcbiAgICAgICAgMjcsIDExMCwgOTAsIDE2MCwgODIsIDU5LCAyMTQsIDE3OSwgNDEsIDIyNywgNDcsIDEzMiwgODMsIDIwOSwgMCwgMjM3LCAzMiwgMjUyLCAxNzcsIDkxLCAxMDYsIDIwMywgMTkwLFxuICAgICAgICA1NywgNzQsIDc2LCA4OCwgMjA3LCAyMDgsIDIzOSwgMTcwLCAyNTEsIDY3LCA3NywgNTEsIDEzMywgNjksIDI0OSwgMiwgMTI3LCA4MCwgNjAsIDE1OSwgMTY4LCA4MSwgMTYzLCA2NCxcbiAgICAgICAgMTQzLCAxNDYsIDE1NywgNTYsIDI0NSwgMTg4LCAxODIsIDIxOCwgMzMsIDE2LCAyNTUsIDI0MywgMjEwLCAyMDUsIDEyLCAxOSwgMjM2LCA5NSwgMTUxLCA2OCwgMjMsIDE5NiwgMTY3LFxuICAgICAgICAxMjYsIDYxLCAxMDAsIDkzLCAyNSwgMTE1LCA5NiwgMTI5LCA3OSwgMjIwLCAzNCwgNDIsIDE0NCwgMTM2LCA3MCwgMjM4LCAxODQsIDIwLCAyMjIsIDk0LCAxMSwgMjE5LCAyMjQsXG4gICAgICAgIDUwLCA1OCwgMTAsIDczLCA2LCAzNiwgOTIsIDE5NCwgMjExLCAxNzIsIDk4LCAxNDUsIDE0OSwgMjI4LCAxMjEsIDIzMSwgMjAwLCA1NSwgMTA5LCAxNDEsIDIxMywgNzgsIDE2OSxcbiAgICAgICAgMTA4LCA4NiwgMjQ0LCAyMzQsIDEwMSwgMTIyLCAxNzQsIDgsIDE4NiwgMTIwLCAzNywgNDYsIDI4LCAxNjYsIDE4MCwgMTk4LCAyMzIsIDIyMSwgMTE2LCAzMSwgNzUsIDE4OSwgMTM5LFxuICAgICAgICAxMzgsIDExMiwgNjIsIDE4MSwgMTAyLCA3MiwgMywgMjQ2LCAxNCwgOTcsIDUzLCA4NywgMTg1LCAxMzQsIDE5MywgMjksIDE1OCwgMjI1LCAyNDgsIDE1MiwgMTcsIDEwNSwgMjE3LFxuICAgICAgICAxNDIsIDE0OCwgMTU1LCAzMCwgMTM1LCAyMzMsIDIwNiwgODUsIDQwLCAyMjMsIDE0MCwgMTYxLCAxMzcsIDEzLCAxOTEsIDIzMCwgNjYsIDEwNCwgNjUsIDE1MywgNDUsIDE1LCAxNzYsXG4gICAgICAgIDg0LCAxODcsIDIyLFxuICAgIF0sXG5dO1xuZXhwb3J0cy5kZWZhdWx0ID0gc3RhdGljRGF0YTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXRpY2RhdGEuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/kisskh/staticdata.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/kwik.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/kwik.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass Kwik extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'kwik';\n        this.sources = [];\n        this.host = 'https://animepahe.ru/';\n        this.extract = async (videoUrl) => {\n            try {\n                const response = await fetch(`${videoUrl.href}`, {\n                    headers: { Referer: this.host },\n                });\n                const data = await response.text();\n                const source = eval(/(eval)(\\(f.*?)(\\n<\\/script>)/s.exec(data)[2].replace('eval', '')).match(/https.*?m3u8/);\n                this.sources.push({\n                    url: source[0],\n                    isM3U8: source[0].includes('.m3u8'),\n                });\n                return this.sources;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = Kwik;\n//# sourceMappingURL=kwik.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL2t3aWsuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLG1CQUFPLENBQUMsaUZBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxjQUFjO0FBQzlELCtCQUErQixvQkFBb0I7QUFDbkQsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXGV4dHJhY3RvcnNcXGt3aWsuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi9tb2RlbHNcIik7XG5jbGFzcyBLd2lrIGV4dGVuZHMgbW9kZWxzXzEuVmlkZW9FeHRyYWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnNlcnZlck5hbWUgPSAna3dpayc7XG4gICAgICAgIHRoaXMuc291cmNlcyA9IFtdO1xuICAgICAgICB0aGlzLmhvc3QgPSAnaHR0cHM6Ly9hbmltZXBhaGUucnUvJztcbiAgICAgICAgdGhpcy5leHRyYWN0ID0gYXN5bmMgKHZpZGVvVXJsKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dmlkZW9VcmwuaHJlZn1gLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogdGhpcy5ob3N0IH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBldmFsKC8oZXZhbCkoXFwoZi4qPykoXFxuPFxcL3NjcmlwdD4pL3MuZXhlYyhkYXRhKVsyXS5yZXBsYWNlKCdldmFsJywgJycpKS5tYXRjaCgvaHR0cHMuKj9tM3U4Lyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHNvdXJjZVswXSxcbiAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiBzb3VyY2VbMF0uaW5jbHVkZXMoJy5tM3U4JyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IEt3aWs7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1rd2lrLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/kwik.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/megacloud/index.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/megacloud/index.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst megacloud_getsrcs_1 = __webpack_require__(/*! ./megacloud.getsrcs */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/megacloud/megacloud.getsrcs.js\");\nclass MegaCloud extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'MegaCloud';\n        this.sources = [];\n    }\n    async extract(embedIframeURL, referer = 'https://hianime.to') {\n        try {\n            const extractedData = {\n                subtitles: [],\n                intro: {\n                    start: 0,\n                    end: 0,\n                },\n                outro: {\n                    start: 0,\n                    end: 0,\n                },\n                sources: [],\n            };\n            const resp = await (0, megacloud_getsrcs_1.getSources)(embedIframeURL.href, referer);\n            if (!resp)\n                return extractedData;\n            if (Array.isArray(resp.sources)) {\n                extractedData.sources = resp.sources.map((s) => ({\n                    url: s.file,\n                    isM3U8: s.type === 'hls',\n                    type: s.type,\n                }));\n            }\n            extractedData.intro = resp.intro ? resp.intro : extractedData.intro;\n            extractedData.outro = resp.outro ? resp.outro : extractedData.outro;\n            extractedData.subtitles = resp.tracks.map((track) => ({\n                url: track.file,\n                lang: track.label ? track.label : track.kind,\n            }));\n            return {\n                intro: extractedData.intro,\n                outro: extractedData.outro,\n                sources: extractedData.sources,\n                subtitles: extractedData.subtitles,\n            };\n        }\n        catch (err) {\n            throw err;\n        }\n    }\n}\nexports[\"default\"] = MegaCloud;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL21lZ2FjbG91ZC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2Qyw0QkFBNEIsbUJBQU8sQ0FBQyxxSEFBcUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxleHRyYWN0b3JzXFxtZWdhY2xvdWRcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY29uc3QgbWVnYWNsb3VkX2dldHNyY3NfMSA9IHJlcXVpcmUoXCIuL21lZ2FjbG91ZC5nZXRzcmNzXCIpO1xuY2xhc3MgTWVnYUNsb3VkIGV4dGVuZHMgbW9kZWxzXzEuVmlkZW9FeHRyYWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnNlcnZlck5hbWUgPSAnTWVnYUNsb3VkJztcbiAgICAgICAgdGhpcy5zb3VyY2VzID0gW107XG4gICAgfVxuICAgIGFzeW5jIGV4dHJhY3QoZW1iZWRJZnJhbWVVUkwsIHJlZmVyZXIgPSAnaHR0cHM6Ly9oaWFuaW1lLnRvJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZXh0cmFjdGVkRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZXM6IFtdLFxuICAgICAgICAgICAgICAgIGludHJvOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IDAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvdXRybzoge1xuICAgICAgICAgICAgICAgICAgICBzdGFydDogMCxcbiAgICAgICAgICAgICAgICAgICAgZW5kOiAwLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc291cmNlczogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcCA9IGF3YWl0ICgwLCBtZWdhY2xvdWRfZ2V0c3Jjc18xLmdldFNvdXJjZXMpKGVtYmVkSWZyYW1lVVJMLmhyZWYsIHJlZmVyZXIpO1xuICAgICAgICAgICAgaWYgKCFyZXNwKVxuICAgICAgICAgICAgICAgIHJldHVybiBleHRyYWN0ZWREYXRhO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzcC5zb3VyY2VzKSkge1xuICAgICAgICAgICAgICAgIGV4dHJhY3RlZERhdGEuc291cmNlcyA9IHJlc3Auc291cmNlcy5tYXAoKHMpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogcy5maWxlLFxuICAgICAgICAgICAgICAgICAgICBpc00zVTg6IHMudHlwZSA9PT0gJ2hscycsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHMudHlwZSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHRyYWN0ZWREYXRhLmludHJvID0gcmVzcC5pbnRybyA/IHJlc3AuaW50cm8gOiBleHRyYWN0ZWREYXRhLmludHJvO1xuICAgICAgICAgICAgZXh0cmFjdGVkRGF0YS5vdXRybyA9IHJlc3Aub3V0cm8gPyByZXNwLm91dHJvIDogZXh0cmFjdGVkRGF0YS5vdXRybztcbiAgICAgICAgICAgIGV4dHJhY3RlZERhdGEuc3VidGl0bGVzID0gcmVzcC50cmFja3MubWFwKCh0cmFjaykgPT4gKHtcbiAgICAgICAgICAgICAgICB1cmw6IHRyYWNrLmZpbGUsXG4gICAgICAgICAgICAgICAgbGFuZzogdHJhY2subGFiZWwgPyB0cmFjay5sYWJlbCA6IHRyYWNrLmtpbmQsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGludHJvOiBleHRyYWN0ZWREYXRhLmludHJvLFxuICAgICAgICAgICAgICAgIG91dHJvOiBleHRyYWN0ZWREYXRhLm91dHJvLFxuICAgICAgICAgICAgICAgIHNvdXJjZXM6IGV4dHJhY3RlZERhdGEuc291cmNlcyxcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZXM6IGV4dHJhY3RlZERhdGEuc3VidGl0bGVzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBNZWdhQ2xvdWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/megacloud/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/megacloud/megacloud.decodedpng.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/megacloud/megacloud.decodedpng.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.decoded_png = void 0;\n// https://megacloud.tv/images/image.png?v=0.1.0\n// @ts-ignore\nexports.decoded_png = new Uint8ClampedArray([\n    246, 246, 246, 255, 226, 234, 236, 255, 113, 170, 187, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 0, 255, 255, 1, 60, 139, 163, 192, 60, 139,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254,\n    130, 180, 196, 254, 242, 243, 244, 254, 246, 246, 246, 254, 243, 244, 245, 254, 105, 165, 184, 254, 60, 140,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60,\n    140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140, 164,\n    254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140,\n    164, 255, 60, 139, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60,\n    140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140, 164,\n    254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140,\n    164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60,\n    140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164,\n    254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140,\n    164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60,\n    140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 132, 181, 196, 254, 243, 245, 245,\n    254, 188, 212, 220, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 139, 164,\n    255, 60, 139, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 140,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60,\n    140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164,\n    254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 140,\n    164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 140,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 140, 164,\n    254, 60, 139, 164, 254, 63, 142, 165, 254, 217, 230, 233, 254, 132, 181, 196, 254, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 255, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 255, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 177,\n    206, 216, 254, 119, 174, 190, 255, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 164, 198, 210, 255, 119, 174, 190, 254, 60, 140, 164, 254,\n    60, 140, 165, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140, 165, 254, 60, 140, 164,\n    254, 60, 140, 164, 254, 60, 140, 165, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140,\n    165, 254, 60, 140, 164, 254, 60, 140, 164, 255, 60, 140, 165, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60,\n    140, 165, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140, 165, 254, 60, 140, 164,\n    254, 60, 140, 164, 254, 60, 140, 165, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140,\n    165, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140, 165, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60,\n    140, 164, 254, 60, 140, 165, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140, 165, 254, 60, 140, 164,\n    254, 60, 140, 164, 254, 60, 140, 165, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140,\n    165, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140, 165, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60,\n    140, 164, 254, 60, 140, 165, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140, 165, 254, 60, 140, 164,\n    254, 60, 140, 164, 254, 60, 140, 165, 254, 60, 140, 164, 254, 60, 140, 164, 254, 60, 140, 164, 255, 163,\n    198, 210, 254, 119, 174, 190, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 255, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139,\n    164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60,\n    139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139,\n    164, 254, 60, 139, 164, 255, 60, 139, 164, 254, 163, 198, 210, 254, 119, 174, 190, 254, 60, 139, 164, 254,\n    60, 140, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 255, 60, 140, 164, 254, 60, 139, 164,\n    254, 60, 139, 164, 254, 60, 140, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 139, 164, 254, 60, 140,\n    164, 255, 60, 139, 164, 254, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140,\n    164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 163,\n    198, 210, 255, 119, 174, 190, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 131, 180, 195,\n    255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255,\n    233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233,\n    239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239,\n    240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240,\n    255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255,\n    233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233,\n    239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 233, 239, 240, 255, 218, 230, 234, 255, 143, 187,\n    200, 255, 66, 143, 167, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60,\n    140, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 140, 164,\n    255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139,\n    164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255,\n    163, 198, 210, 255, 119, 173, 190, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 139, 185,\n    199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 223, 233, 236, 255, 136, 183, 197, 255, 69, 145, 168, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 140, 164,\n    255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 139,\n    184, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 242, 243, 244, 255, 219, 231, 235, 255, 217,\n    229, 233, 255, 217, 229, 233, 255, 217, 229, 233, 255, 217, 229, 233, 255, 217, 229, 233, 255, 217, 229,\n    233, 255, 217, 229, 233, 255, 217, 229, 233, 255, 217, 229, 233, 255, 217, 229, 233, 255, 217, 229, 233,\n    255, 217, 229, 233, 255, 217, 229, 233, 255, 217, 229, 233, 255, 97, 160, 180, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 140, 164, 255, 60, 140, 164,\n    255, 60, 139, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 163, 198, 210, 255, 119, 173, 190, 255, 60,\n    140, 164, 255, 60, 140, 165, 255, 60, 140, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 102, 164, 183, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 163, 198, 210,\n    255, 119, 174, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 139, 185, 199, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164,\n    255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 140, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 140, 164, 255, 60,\n    140, 164, 255, 60, 139, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102,\n    164, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 163, 198, 210, 255, 119, 173, 190,\n    255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 163,\n    198, 210, 255, 119, 174, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 139, 184, 199,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60,\n    139, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 163, 198, 210, 255, 119, 173, 190, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 102, 164, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 163, 198, 210, 255, 119,\n    174, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 139, 185, 199, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 241,\n    243, 244, 255, 227, 235, 238, 255, 243, 245, 245, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 230, 237, 239, 255, 239, 242, 243, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 233, 239, 241, 255, 235, 239, 241, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 239, 242, 243, 255, 230, 236, 239,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 139,\n    185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 216, 230, 233, 255, 94, 160, 179, 255, 66, 143, 166, 255, 99, 161, 182, 255, 221, 232, 236, 255, 246,\n    246, 246, 255, 245, 245, 245, 255, 127, 178, 194, 255, 68, 144, 168, 255, 79, 150, 173, 255, 187, 213, 220,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 154, 193, 205, 255, 73, 147, 170, 255, 72, 146, 169,\n    255, 156, 194, 206, 255, 246, 246, 246, 255, 246, 246, 246, 255, 208, 223, 229, 255, 85, 154, 176, 255, 65,\n    143, 166, 255, 112, 169, 187, 255, 236, 240, 242, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    140, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 140, 164, 255, 60, 140, 165, 255, 60, 140, 164,\n    255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 137, 184, 197, 255, 60, 140, 165, 255, 60, 140, 164, 255, 60, 140, 164, 255, 88, 156, 177,\n    255, 210, 226, 230, 255, 133, 181, 196, 255, 60, 140, 164, 255, 60, 140, 165, 255, 60, 140, 164, 255, 85,\n    154, 175, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 239, 242, 243, 255, 64, 143, 166, 255, 60, 140, 165, 255, 60,\n    140, 164, 255, 60, 140, 164, 255, 146, 189, 202, 255, 203, 221, 227, 255, 70, 145, 168, 255, 60, 140, 164,\n    255, 60, 140, 165, 255, 60, 140, 164, 255, 165, 200, 210, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 140, 164, 255, 60, 140, 164, 255,\n    60, 140, 164, 255, 163, 198, 210, 255, 119, 173, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 137, 183, 198, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 67, 144, 167, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 86,\n    154, 175, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 237, 241, 242, 255, 64, 142, 166, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 64, 141, 166, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 164, 200, 211, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 163, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255,\n    60, 139, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 139, 184, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 218, 230, 234, 255, 83, 153, 174, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 67, 144, 167, 255,\n    174, 206, 215, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 153, 193, 205, 255, 60, 139, 164, 255,\n    60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 101, 163, 182, 255, 226, 235, 238, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255,\n    60, 139, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139,\n    164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 213, 227, 231, 255, 85, 154, 175, 255, 60, 140, 164, 255, 60, 140,\n    164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 64, 142, 165, 255, 178, 208, 216, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 242, 243, 244, 255, 148, 189, 203,\n    255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140,\n    164, 255, 97, 160, 180, 255, 231, 238, 240, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 140, 164, 255, 163, 198, 210, 255, 119, 173, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 244, 245, 245, 255, 112, 169, 187, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 67, 143, 167, 255, 229, 236, 239,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 200, 220,\n    226, 255, 61, 141, 165, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 140, 186, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 235, 240, 242, 255, 133, 181, 196, 255, 60, 139, 164, 255, 60, 139, 164, 255,\n    60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 86, 155, 176,\n    255, 221, 232, 236, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 203, 221, 227, 255, 70, 145, 168,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 150, 191, 204, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60,\n    139, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 165, 199, 210, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 115, 171, 188, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 245, 245, 245, 255, 83, 153, 174, 255, 60, 140, 164,\n    255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140,\n    164, 255, 60, 140, 164, 255, 61, 141, 165, 255, 192, 215, 222, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 140, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 140, 164, 255, 60, 140, 165, 255, 60,\n    140, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 131, 181, 196, 255, 60, 140, 165, 255, 60, 140, 164, 255, 60, 140, 164, 255, 67,\n    143, 168, 255, 140, 185, 200, 255, 83, 153, 174, 255, 60, 140, 164, 255, 60, 140, 165, 255, 60, 140, 164,\n    255, 79, 151, 173, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 231, 238, 240, 255, 60, 140, 164, 255, 60, 140, 165, 255,\n    60, 140, 164, 255, 60, 140, 164, 255, 89, 156, 177, 255, 124, 176, 192, 255, 60, 140, 164, 255, 60, 140,\n    164, 255, 60, 140, 165, 255, 60, 140, 164, 255, 158, 195, 207, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 140, 164, 255, 60, 140, 164,\n    255, 60, 140, 164, 255, 163, 198, 210, 255, 119, 173, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 181, 208, 217, 255, 68, 144, 167, 255, 60, 139, 164, 255, 64, 141, 166, 255, 174,\n    205, 214, 255, 245, 246, 246, 255, 209, 224, 229, 255, 81, 151, 173, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 129, 179, 194, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 245, 246, 246, 255, 104, 165, 184, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 96, 160, 180, 255, 231, 237, 239, 255, 242, 244, 244, 255, 140, 185, 200, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 68, 144, 168, 255, 205, 222, 228, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 163, 183, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255,\n    60, 139, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 192, 215, 222, 255, 155, 194, 206, 255, 194, 216, 223, 255,\n    245, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 220, 231, 235, 255, 160, 197, 208, 255, 177,\n    207, 215, 255, 238, 242, 242, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 227, 236, 237, 255,\n    169, 202, 212, 255, 169, 202, 212, 255, 226, 234, 237, 255, 246, 246, 246, 255, 246, 246, 246, 255, 242,\n    244, 244, 255, 183, 210, 219, 255, 155, 194, 206, 255, 205, 222, 228, 255, 245, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 140, 164,\n    255, 60, 140, 164, 255, 60, 139, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 102, 164, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 163, 198, 210, 255, 119,\n    173, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 139, 185, 199, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 139,\n    184, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 140, 164, 255, 60, 140, 164,\n    255, 60, 139, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 215, 229, 233, 255,\n    222, 233, 236, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 223, 233, 236, 255, 213, 227, 232, 255, 245, 245, 245, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60,\n    140, 164, 255, 60, 140, 165, 255, 60, 140, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 242, 244, 244, 255, 111, 169,\n    186, 255, 60, 140, 165, 255, 64, 142, 166, 255, 132, 181, 196, 255, 216, 229, 233, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 222, 233, 236, 255, 164, 199, 210, 255, 97, 161, 180, 255, 73, 147, 170, 255, 106, 166,\n    184, 255, 178, 207, 216, 255, 235, 239, 242, 255, 246, 246, 246, 255, 241, 243, 244, 255, 201, 221, 226,\n    255, 117, 172, 189, 255, 61, 141, 165, 255, 61, 140, 164, 255, 138, 185, 198, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    102, 164, 183, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 163, 198, 210, 255, 119, 173,\n    190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 196, 217, 224,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 74, 147, 171, 255, 132,\n    181, 195, 255, 150, 191, 204, 255, 77, 149, 172, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 95, 160, 180, 255, 158, 196, 207, 255, 120, 173, 191, 255, 61,\n    140, 165, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 63, 141, 165, 255, 230, 237, 239,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 102, 163, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 163, 198, 210, 255,\n    119, 174, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 139, 185, 199, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 202,\n    221, 226, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 67, 144, 167, 255, 236, 241, 242,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 163, 198, 210, 255,\n    119, 174, 190, 255, 60, 140, 164, 255, 60, 140, 165, 255, 60, 140, 164, 255, 139, 185, 199, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 136, 183, 198, 255, 64, 142, 166, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 140, 165,\n    255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 140, 165, 255, 60, 140, 164, 255, 60, 140,\n    164, 255, 60, 140, 165, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 140, 165, 255, 60,\n    140, 164, 255, 60, 140, 164, 255, 60, 140, 165, 255, 71, 145, 168, 255, 153, 192, 205, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 102, 164, 183, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 163, 198, 210, 255,\n    119, 173, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 139, 185, 199, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 206, 224, 229, 255, 118, 172, 190, 255, 64, 141, 165, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 95, 160, 180, 255, 143,\n    187, 200, 255, 87, 155, 176, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 63, 141, 165, 255, 134, 181, 196, 255, 225, 235, 237, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 102, 163, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 163, 198,\n    210, 255, 119, 174, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 139, 184, 199, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 212, 227, 231, 255,\n    129, 179, 194, 255, 89, 157, 177, 255, 85, 154, 175, 255, 111, 169, 187, 255, 183, 210, 219, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 243, 245, 245, 255, 172, 203, 213, 255, 106, 165, 184, 255, 83, 153, 174, 255,\n    93, 159, 179, 255, 142, 187, 201, 255, 221, 231, 235, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 139,\n    185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 244, 245, 246, 255, 244, 245, 245, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 243, 244, 245, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 140, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60, 139, 164, 255, 60, 140, 164,\n    255, 60, 140, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183,\n    255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 163, 198, 210, 255, 119, 174, 190, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 139, 185, 199, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 102, 163, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 163, 198, 210,\n    255, 119, 174, 190, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 139, 185, 199, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255,\n    246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246,\n    246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246,\n    246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246, 255, 246, 246, 246,\n    255, 246, 246, 246, 255, 246, 246, 246, 255, 102, 164, 183, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 163, 198, 210, 255, 129, 180, 195, 255, 60, 140, 164, 255, 60, 140, 165, 255, 60, 140, 164,\n    255, 93, 158, 178, 255, 158, 196, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159,\n    197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197,\n    207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207,\n    255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255,\n    159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159,\n    197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197,\n    207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207,\n    255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255,\n    159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159,\n    197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 159, 197,\n    207, 255, 159, 197, 207, 255, 159, 197, 207, 255, 156, 194, 207, 255, 69, 144, 168, 255, 60, 140, 164, 255,\n    60, 140, 164, 255, 60, 140, 164, 255, 169, 202, 212, 255, 176, 206, 215, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 203, 221, 227,\n    255, 234, 239, 240, 255, 84, 153, 175, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 107, 167, 185, 255, 241, 243, 244, 255, 246, 246, 246, 255, 203, 221, 227, 255, 85,\n    154, 176, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164,\n    255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140,\n    164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139,\n    164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60,\n    140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164,\n    255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140,\n    164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 139, 164, 255, 60,\n    140, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 140, 164, 255, 60, 139, 164,\n    255, 60, 139, 164, 255, 60, 140, 164, 255, 60, 139, 164, 255, 92, 157, 179, 255, 222, 232, 236, 255, 246,\n    246, 246, 255,\n]);\n//# sourceMappingURL=megacloud.decodedpng.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL21lZ2FjbG91ZC9tZWdhY2xvdWQuZGVjb2RlZHBuZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcZXh0cmFjdG9yc1xcbWVnYWNsb3VkXFxtZWdhY2xvdWQuZGVjb2RlZHBuZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVjb2RlZF9wbmcgPSB2b2lkIDA7XG4vLyBodHRwczovL21lZ2FjbG91ZC50di9pbWFnZXMvaW1hZ2UucG5nP3Y9MC4xLjBcbi8vIEB0cy1pZ25vcmVcbmV4cG9ydHMuZGVjb2RlZF9wbmcgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoW1xuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjI2LCAyMzQsIDIzNiwgMjU1LCAxMTMsIDE3MCwgMTg3LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSxcbiAgICAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCxcbiAgICAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgMCwgMjU1LCAyNTUsIDEsIDYwLCAxMzksIDE2MywgMTkyLCA2MCwgMTM5LFxuICAgIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLFxuICAgIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksXG4gICAgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCxcbiAgICAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSxcbiAgICAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LFxuICAgIDEzMCwgMTgwLCAxOTYsIDI1NCwgMjQyLCAyNDMsIDI0NCwgMjU0LCAyNDYsIDI0NiwgMjQ2LCAyNTQsIDI0MywgMjQ0LCAyNDUsIDI1NCwgMTA1LCAxNjUsIDE4NCwgMjU0LCA2MCwgMTQwLFxuICAgIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLFxuICAgIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsXG4gICAgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsXG4gICAgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsXG4gICAgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCxcbiAgICAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCxcbiAgICAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCxcbiAgICAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LFxuICAgIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLFxuICAgIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLFxuICAgIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDEzMiwgMTgxLCAxOTYsIDI1NCwgMjQzLCAyNDUsIDI0NSxcbiAgICAyNTQsIDE4OCwgMjEyLCAyMjAsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLFxuICAgIDEzOSwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxNDAsXG4gICAgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsXG4gICAgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCxcbiAgICAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDE0MCxcbiAgICAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCxcbiAgICAxMzksIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LFxuICAgIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTQwLFxuICAgIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLFxuICAgIDEzOSwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsXG4gICAgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjMsIDE0MiwgMTY1LCAyNTQsIDIxNywgMjMwLCAyMzMsIDI1NCwgMTMyLCAxODEsIDE5NiwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCxcbiAgICAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSxcbiAgICAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCxcbiAgICAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LFxuICAgIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLFxuICAgIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksXG4gICAgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCxcbiAgICAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgMTc3LFxuICAgIDIwNiwgMjE2LCAyNTQsIDExOSwgMTc0LCAxOTAsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LFxuICAgIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLFxuICAgIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksXG4gICAgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCxcbiAgICAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSxcbiAgICAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCxcbiAgICAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LFxuICAgIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDE2NCwgMTk4LCAyMTAsIDI1NSwgMTE5LCAxNzQsIDE5MCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCxcbiAgICA2MCwgMTQwLCAxNjUsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY1LCAyNTQsIDYwLCAxNDAsIDE2NCxcbiAgICAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjUsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCxcbiAgICAxNjUsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjUsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCxcbiAgICAxNDAsIDE2NSwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjUsIDI1NCwgNjAsIDE0MCwgMTY0LFxuICAgIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NSwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLFxuICAgIDE2NSwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NSwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLFxuICAgIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NSwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NSwgMjU0LCA2MCwgMTQwLCAxNjQsXG4gICAgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY1LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsXG4gICAgMTY1LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY1LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsXG4gICAgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY1LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDE0MCwgMTY1LCAyNTQsIDYwLCAxNDAsIDE2NCxcbiAgICAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjUsIDI1NCwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxNDAsIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NSwgMTYzLFxuICAgIDE5OCwgMjEwLCAyNTQsIDExOSwgMTc0LCAxOTAsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LFxuICAgIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLFxuICAgIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksXG4gICAgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCxcbiAgICAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSxcbiAgICAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCxcbiAgICAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LFxuICAgIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTQsIDE2MywgMTk4LCAyMTAsIDI1NCwgMTE5LCAxNzQsIDE5MCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCxcbiAgICA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCxcbiAgICAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTQwLCAxNjQsIDI1NCwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU0LCA2MCwgMTM5LCAxNjQsIDI1NCwgNjAsIDE0MCxcbiAgICAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTQsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCxcbiAgICAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LFxuICAgIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLFxuICAgIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsXG4gICAgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCxcbiAgICAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgMTYzLFxuICAgIDE5OCwgMjEwLCAyNTUsIDExOSwgMTc0LCAxOTAsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgMTMxLCAxODAsIDE5NSxcbiAgICAyNTUsIDIzMywgMjM5LCAyNDAsIDI1NSwgMjMzLCAyMzksIDI0MCwgMjU1LCAyMzMsIDIzOSwgMjQwLCAyNTUsIDIzMywgMjM5LCAyNDAsIDI1NSwgMjMzLCAyMzksIDI0MCwgMjU1LFxuICAgIDIzMywgMjM5LCAyNDAsIDI1NSwgMjMzLCAyMzksIDI0MCwgMjU1LCAyMzMsIDIzOSwgMjQwLCAyNTUsIDIzMywgMjM5LCAyNDAsIDI1NSwgMjMzLCAyMzksIDI0MCwgMjU1LCAyMzMsXG4gICAgMjM5LCAyNDAsIDI1NSwgMjMzLCAyMzksIDI0MCwgMjU1LCAyMzMsIDIzOSwgMjQwLCAyNTUsIDIzMywgMjM5LCAyNDAsIDI1NSwgMjMzLCAyMzksIDI0MCwgMjU1LCAyMzMsIDIzOSxcbiAgICAyNDAsIDI1NSwgMjMzLCAyMzksIDI0MCwgMjU1LCAyMzMsIDIzOSwgMjQwLCAyNTUsIDIzMywgMjM5LCAyNDAsIDI1NSwgMjMzLCAyMzksIDI0MCwgMjU1LCAyMzMsIDIzOSwgMjQwLFxuICAgIDI1NSwgMjMzLCAyMzksIDI0MCwgMjU1LCAyMzMsIDIzOSwgMjQwLCAyNTUsIDIzMywgMjM5LCAyNDAsIDI1NSwgMjMzLCAyMzksIDI0MCwgMjU1LCAyMzMsIDIzOSwgMjQwLCAyNTUsXG4gICAgMjMzLCAyMzksIDI0MCwgMjU1LCAyMzMsIDIzOSwgMjQwLCAyNTUsIDIzMywgMjM5LCAyNDAsIDI1NSwgMjMzLCAyMzksIDI0MCwgMjU1LCAyMzMsIDIzOSwgMjQwLCAyNTUsIDIzMyxcbiAgICAyMzksIDI0MCwgMjU1LCAyMzMsIDIzOSwgMjQwLCAyNTUsIDIzMywgMjM5LCAyNDAsIDI1NSwgMjMzLCAyMzksIDI0MCwgMjU1LCAyMTgsIDIzMCwgMjM0LCAyNTUsIDE0MywgMTg3LFxuICAgIDIwMCwgMjU1LCA2NiwgMTQzLCAxNjcsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLFxuICAgIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsXG4gICAgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksXG4gICAgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSxcbiAgICAxNjMsIDE5OCwgMjEwLCAyNTUsIDExOSwgMTczLCAxOTAsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgMTM5LCAxODUsXG4gICAgMTk5LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyMjMsIDIzMywgMjM2LCAyNTUsIDEzNiwgMTgzLCAxOTcsIDI1NSwgNjksIDE0NSwgMTY4LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksXG4gICAgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCxcbiAgICAyNTUsIDE2MywgMTk4LCAyMTAsIDI1NSwgMTE5LCAxNzQsIDE5MCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCAxMzksXG4gICAgMTg0LCAxOTksIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDIsIDI0MywgMjQ0LCAyNTUsIDIxOSwgMjMxLCAyMzUsIDI1NSwgMjE3LFxuICAgIDIyOSwgMjMzLCAyNTUsIDIxNywgMjI5LCAyMzMsIDI1NSwgMjE3LCAyMjksIDIzMywgMjU1LCAyMTcsIDIyOSwgMjMzLCAyNTUsIDIxNywgMjI5LCAyMzMsIDI1NSwgMjE3LCAyMjksXG4gICAgMjMzLCAyNTUsIDIxNywgMjI5LCAyMzMsIDI1NSwgMjE3LCAyMjksIDIzMywgMjU1LCAyMTcsIDIyOSwgMjMzLCAyNTUsIDIxNywgMjI5LCAyMzMsIDI1NSwgMjE3LCAyMjksIDIzMyxcbiAgICAyNTUsIDIxNywgMjI5LCAyMzMsIDI1NSwgMjE3LCAyMjksIDIzMywgMjU1LCAyMTcsIDIyOSwgMjMzLCAyNTUsIDk3LCAxNjAsIDE4MCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDE2MywgMTk4LCAyMTAsIDI1NSwgMTE5LCAxNzQsIDE5MCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LFxuICAgIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDEzOSwgMTg1LCAxOTksIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDEwMiwgMTY0LCAxODMsXG4gICAgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCAxNjMsIDE5OCwgMjEwLCAyNTUsIDExOSwgMTczLCAxOTAsIDI1NSwgNjAsXG4gICAgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY1LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCAxMzksIDE4NSwgMTk5LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDEwMiwgMTY0LCAxODMsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgMTYzLCAxOTgsIDIxMCxcbiAgICAyNTUsIDExOSwgMTc0LCAxOTAsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgMTM5LCAxODUsIDE5OSwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAxMDIsIDE2NCwgMTgzLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgMTYzLCAxOTgsIDIxMCwgMjU1LCAxMTksIDE3NCwgMTkwLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgMTM5LCAxODUsIDE5OSwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMTAyLCAxNjQsIDE4MywgMjU1LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDE2MywgMTk4LCAyMTAsIDI1NSwgMTE5LCAxNzQsIDE5MCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsXG4gICAgMTQwLCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDEzOSwgMTg1LCAxOTksIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDEwMixcbiAgICAxNjQsIDE4MywgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCAxNjMsIDE5OCwgMjEwLCAyNTUsIDExOSwgMTczLCAxOTAsXG4gICAgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCAxMzksIDE4NSwgMTk5LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDEwMiwgMTY0LCAxODMsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgMTYzLFxuICAgIDE5OCwgMjEwLCAyNTUsIDExOSwgMTc0LCAxOTAsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgMTM5LCAxODQsIDE5OSxcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAxMDIsIDE2NCwgMTgzLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgMTYzLCAxOTgsIDIxMCwgMjU1LCAxMTksIDE3NCwgMTkwLCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgMTM5LCAxODUsIDE5OSwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMTAyLCAxNjQsIDE4MywgMjU1LCA2MCxcbiAgICAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDE2MywgMTk4LCAyMTAsIDI1NSwgMTE5LCAxNzMsIDE5MCwgMjU1LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDEzOSwgMTg1LCAxOTksIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMTAyLCAxNjQsIDE4MywgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCAxNjMsIDE5OCwgMjEwLCAyNTUsIDExOSxcbiAgICAxNzQsIDE5MCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCAxMzksIDE4NSwgMTk5LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQxLFxuICAgIDI0MywgMjQ0LCAyNTUsIDIyNywgMjM1LCAyMzgsIDI1NSwgMjQzLCAyNDUsIDI0NSwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjMwLCAyMzcsIDIzOSwgMjU1LCAyMzksIDI0MiwgMjQzLCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDIzMywgMjM5LCAyNDEsIDI1NSwgMjM1LCAyMzksIDI0MSwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjM5LCAyNDIsIDI0MywgMjU1LCAyMzAsIDIzNiwgMjM5LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDEwMiwgMTY0LCAxODMsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU1LCAxNjMsIDE5OCwgMjEwLCAyNTUsIDExOSwgMTc0LCAxOTAsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgMTM5LFxuICAgIDE4NSwgMTk5LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDIxNiwgMjMwLCAyMzMsIDI1NSwgOTQsIDE2MCwgMTc5LCAyNTUsIDY2LCAxNDMsIDE2NiwgMjU1LCA5OSwgMTYxLCAxODIsIDI1NSwgMjIxLCAyMzIsIDIzNiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ1LCAyNDUsIDI0NSwgMjU1LCAxMjcsIDE3OCwgMTk0LCAyNTUsIDY4LCAxNDQsIDE2OCwgMjU1LCA3OSwgMTUwLCAxNzMsIDI1NSwgMTg3LCAyMTMsIDIyMCxcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDE1NCwgMTkzLCAyMDUsIDI1NSwgNzMsIDE0NywgMTcwLCAyNTUsIDcyLCAxNDYsIDE2OSxcbiAgICAyNTUsIDE1NiwgMTk0LCAyMDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDIwOCwgMjIzLCAyMjksIDI1NSwgODUsIDE1NCwgMTc2LCAyNTUsIDY1LFxuICAgIDE0MywgMTY2LCAyNTUsIDExMiwgMTY5LCAxODcsIDI1NSwgMjM2LCAyNDAsIDI0MiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAxMDIsIDE2NCwgMTgzLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsXG4gICAgMTQwLCAxNjQsIDI1NSwgMTYzLCAxOTgsIDIxMCwgMjU1LCAxMTksIDE3NCwgMTkwLCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjUsIDI1NSwgNjAsIDE0MCwgMTY0LFxuICAgIDI1NSwgMTM5LCAxODUsIDE5OSwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAxMzcsIDE4NCwgMTk3LCAyNTUsIDYwLCAxNDAsIDE2NSwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDg4LCAxNTYsIDE3NyxcbiAgICAyNTUsIDIxMCwgMjI2LCAyMzAsIDI1NSwgMTMzLCAxODEsIDE5NiwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY1LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA4NSxcbiAgICAxNTQsIDE3NSwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjM5LCAyNDIsIDI0MywgMjU1LCA2NCwgMTQzLCAxNjYsIDI1NSwgNjAsIDE0MCwgMTY1LCAyNTUsIDYwLFxuICAgIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCAxNDYsIDE4OSwgMjAyLCAyNTUsIDIwMywgMjIxLCAyMjcsIDI1NSwgNzAsIDE0NSwgMTY4LCAyNTUsIDYwLCAxNDAsIDE2NCxcbiAgICAyNTUsIDYwLCAxNDAsIDE2NSwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgMTY1LCAyMDAsIDIxMCwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAxMDIsIDE2NCwgMTgzLCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSxcbiAgICA2MCwgMTQwLCAxNjQsIDI1NSwgMTYzLCAxOTgsIDIxMCwgMjU1LCAxMTksIDE3MywgMTkwLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSxcbiAgICAxNjQsIDI1NSwgMTM5LCAxODUsIDE5OSwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAxMzcsIDE4MywgMTk4LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksXG4gICAgMTY0LCAyNTUsIDY3LCAxNDQsIDE2NywgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgODYsXG4gICAgMTU0LCAxNzUsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDIzNywgMjQxLCAyNDIsIDI1NSwgNjQsIDE0MiwgMTY2LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCxcbiAgICAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDY0LCAxNDEsIDE2NiwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCAxNjQsIDIwMCwgMjExLCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDEwMiwgMTYzLCAxODMsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LFxuICAgIDYwLCAxMzksIDE2NCwgMjU1LCAxNjMsIDE5OCwgMjEwLCAyNTUsIDExOSwgMTc0LCAxOTAsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LFxuICAgIDE2NCwgMjU1LCAxMzksIDE4NCwgMTk5LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDIxOCwgMjMwLCAyMzQsIDI1NSwgODMsIDE1MywgMTc0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSxcbiAgICAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDY3LCAxNDQsIDE2NywgMjU1LFxuICAgIDE3NCwgMjA2LCAyMTUsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMTUzLCAxOTMsIDIwNSwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSxcbiAgICA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCxcbiAgICAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCAxMDEsIDE2MywgMTgyLCAyNTUsIDIyNiwgMjM1LCAyMzgsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMTAyLCAxNjQsIDE4MywgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsXG4gICAgNjAsIDEzOSwgMTY0LCAyNTUsIDE2MywgMTk4LCAyMTAsIDI1NSwgMTE5LCAxNzQsIDE5MCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksXG4gICAgMTY0LCAyNTUsIDEzOSwgMTg1LCAxOTksIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyMTMsIDIyNywgMjMxLCAyNTUsIDg1LCAxNTQsIDE3NSwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCxcbiAgICAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjQsIDE0MiwgMTY1LCAyNTUsIDE3OCwgMjA4LCAyMTYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0MiwgMjQzLCAyNDQsIDI1NSwgMTQ4LCAxODksIDIwMyxcbiAgICAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCxcbiAgICAxNjQsIDI1NSwgOTcsIDE2MCwgMTgwLCAyNTUsIDIzMSwgMjM4LCAyNDAsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAxMDIsIDE2NCwgMTgzLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgMTYzLCAxOTgsIDIxMCwgMjU1LCAxMTksIDE3MywgMTkwLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgMTM5LCAxODUsIDE5OSwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NCwgMjQ1LCAyNDUsIDI1NSwgMTEyLCAxNjksIDE4NywgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjcsIDE0MywgMTY3LCAyNTUsIDIyOSwgMjM2LCAyMzksXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjAwLCAyMjAsXG4gICAgMjI2LCAyNTUsIDYxLCAxNDEsIDE2NSwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgMTQwLCAxODYsIDE5OSwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMTAyLCAxNjQsIDE4MywgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDE2MywgMTk4LCAyMTAsIDI1NSwgMTE5LCAxNzQsIDE5MCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDEzOSwgMTg1LCAxOTksIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjM1LCAyNDAsIDI0MiwgMjU1LCAxMzMsIDE4MSwgMTk2LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSxcbiAgICA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDg2LCAxNTUsIDE3NixcbiAgICAyNTUsIDIyMSwgMjMyLCAyMzYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjAzLCAyMjEsIDIyNywgMjU1LCA3MCwgMTQ1LCAxNjgsXG4gICAgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksXG4gICAgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCAxNTAsIDE5MSwgMjA0LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMTAyLCAxNjQsIDE4MywgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDE2MywgMTk4LCAyMTAsIDI1NSwgMTE5LCAxNzQsIDE5MCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLFxuICAgIDEzOSwgMTY0LCAyNTUsIDEzOSwgMTg1LCAxOTksIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMTY1LCAxOTksIDIxMCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCxcbiAgICAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgMTE1LCAxNzEsIDE4OCwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ1LCAyNDUsIDI0NSwgMjU1LCA4MywgMTUzLCAxNzQsIDI1NSwgNjAsIDE0MCwgMTY0LFxuICAgIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLFxuICAgIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjEsIDE0MSwgMTY1LCAyNTUsIDE5MiwgMjE1LCAyMjIsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMTAyLCAxNjQsIDE4MywgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDE2MywgMTk4LCAyMTAsIDI1NSwgMTE5LCAxNzQsIDE5MCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY1LCAyNTUsIDYwLFxuICAgIDE0MCwgMTY0LCAyNTUsIDEzOSwgMTg1LCAxOTksIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMTMxLCAxODEsIDE5NiwgMjU1LCA2MCwgMTQwLCAxNjUsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2NyxcbiAgICAxNDMsIDE2OCwgMjU1LCAxNDAsIDE4NSwgMjAwLCAyNTUsIDgzLCAxNTMsIDE3NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY1LCAyNTUsIDYwLCAxNDAsIDE2NCxcbiAgICAyNTUsIDc5LCAxNTEsIDE3MywgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjMxLCAyMzgsIDI0MCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY1LCAyNTUsXG4gICAgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA4OSwgMTU2LCAxNzcsIDI1NSwgMTI0LCAxNzYsIDE5MiwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCxcbiAgICAxNjQsIDI1NSwgNjAsIDE0MCwgMTY1LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCAxNTgsIDE5NSwgMjA3LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDEwMiwgMTY0LCAxODMsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCxcbiAgICAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCAxNjMsIDE5OCwgMjEwLCAyNTUsIDExOSwgMTczLCAxOTAsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCxcbiAgICAxMzksIDE2NCwgMjU1LCAxMzksIDE4NSwgMTk5LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDE4MSwgMjA4LCAyMTcsIDI1NSwgNjgsIDE0NCwgMTY3LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2NCwgMTQxLCAxNjYsIDI1NSwgMTc0LFxuICAgIDIwNSwgMjE0LCAyNTUsIDI0NSwgMjQ2LCAyNDYsIDI1NSwgMjA5LCAyMjQsIDIyOSwgMjU1LCA4MSwgMTUxLCAxNzMsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCxcbiAgICAyNTUsIDEyOSwgMTc5LCAxOTQsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NSwgMjQ2LCAyNDYsIDI1NSwgMTA0LCAxNjUsIDE4NCwgMjU1LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgOTYsIDE2MCwgMTgwLCAyNTUsIDIzMSwgMjM3LCAyMzksIDI1NSwgMjQyLCAyNDQsIDI0NCwgMjU1LCAxNDAsIDE4NSwgMjAwLCAyNTUsIDYwLFxuICAgIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2OCwgMTQ0LCAxNjgsIDI1NSwgMjA1LCAyMjIsIDIyOCwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAxMDIsIDE2MywgMTgzLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LFxuICAgIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgMTYzLCAxOTgsIDIxMCwgMjU1LCAxMTksIDE3NCwgMTkwLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSxcbiAgICA2MCwgMTM5LCAxNjQsIDI1NSwgMTM5LCAxODUsIDE5OSwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDE5MiwgMjE1LCAyMjIsIDI1NSwgMTU1LCAxOTQsIDIwNiwgMjU1LCAxOTQsIDIxNiwgMjIzLCAyNTUsXG4gICAgMjQ1LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjIwLCAyMzEsIDIzNSwgMjU1LCAxNjAsIDE5NywgMjA4LCAyNTUsIDE3NyxcbiAgICAyMDcsIDIxNSwgMjU1LCAyMzgsIDI0MiwgMjQyLCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDIyNywgMjM2LCAyMzcsIDI1NSxcbiAgICAxNjksIDIwMiwgMjEyLCAyNTUsIDE2OSwgMjAyLCAyMTIsIDI1NSwgMjI2LCAyMzQsIDIzNywgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQyLFxuICAgIDI0NCwgMjQ0LCAyNTUsIDE4MywgMjEwLCAyMTksIDI1NSwgMTU1LCAxOTQsIDIwNiwgMjU1LCAyMDUsIDIyMiwgMjI4LCAyNTUsIDI0NSwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMTAyLCAxNjQsIDE4MywgMjU1LCA2MCxcbiAgICAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDE2MywgMTk4LCAyMTAsIDI1NSwgMTE5LCAxNzQsIDE5MCwgMjU1LCA2MCwgMTQwLCAxNjQsXG4gICAgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDEzOSwgMTg1LCAxOTksIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMTAyLCAxNjQsIDE4MywgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCAxNjMsIDE5OCwgMjEwLCAyNTUsIDExOSxcbiAgICAxNzMsIDE5MCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCAxMzksIDE4NSwgMTk5LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDEwMiwgMTY0LCAxODMsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU1LCAxNjMsIDE5OCwgMjEwLCAyNTUsIDExOSwgMTc0LCAxOTAsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgMTM5LFxuICAgIDE4NCwgMTk5LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAxMDIsIDE2NCwgMTgzLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCxcbiAgICAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgMTYzLCAxOTgsIDIxMCwgMjU1LCAxMTksIDE3NCwgMTkwLCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsXG4gICAgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgMTM5LCAxODUsIDE5OSwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyMTUsIDIyOSwgMjMzLCAyNTUsXG4gICAgMjIyLCAyMzMsIDIzNiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyMjMsIDIzMywgMjM2LCAyNTUsIDIxMywgMjI3LCAyMzIsIDI1NSwgMjQ1LCAyNDUsIDI0NSwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMTAyLCAxNjQsIDE4MyxcbiAgICAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDE2MywgMTk4LCAyMTAsIDI1NSwgMTE5LCAxNzQsIDE5MCwgMjU1LCA2MCxcbiAgICAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjUsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDEzOSwgMTg1LCAxOTksIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDIsIDI0NCwgMjQ0LCAyNTUsIDExMSwgMTY5LFxuICAgIDE4NiwgMjU1LCA2MCwgMTQwLCAxNjUsIDI1NSwgNjQsIDE0MiwgMTY2LCAyNTUsIDEzMiwgMTgxLCAxOTYsIDI1NSwgMjE2LCAyMjksIDIzMywgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyMjIsIDIzMywgMjM2LCAyNTUsIDE2NCwgMTk5LCAyMTAsIDI1NSwgOTcsIDE2MSwgMTgwLCAyNTUsIDczLCAxNDcsIDE3MCwgMjU1LCAxMDYsIDE2NixcbiAgICAxODQsIDI1NSwgMTc4LCAyMDcsIDIxNiwgMjU1LCAyMzUsIDIzOSwgMjQyLCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQxLCAyNDMsIDI0NCwgMjU1LCAyMDEsIDIyMSwgMjI2LFxuICAgIDI1NSwgMTE3LCAxNzIsIDE4OSwgMjU1LCA2MSwgMTQxLCAxNjUsIDI1NSwgNjEsIDE0MCwgMTY0LCAyNTUsIDEzOCwgMTg1LCAxOTgsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMTAyLCAxNjQsIDE4MywgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCAxNjMsIDE5OCwgMjEwLCAyNTUsIDExOSwgMTczLFxuICAgIDE5MCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCAxMzksIDE4NSwgMTk5LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMTk2LCAyMTcsIDIyNCxcbiAgICAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA3NCwgMTQ3LCAxNzEsIDI1NSwgMTMyLFxuICAgIDE4MSwgMTk1LCAyNTUsIDE1MCwgMTkxLCAyMDQsIDI1NSwgNzcsIDE0OSwgMTcyLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA5NSwgMTYwLCAxODAsIDI1NSwgMTU4LCAxOTYsIDIwNywgMjU1LCAxMjAsIDE3MywgMTkxLCAyNTUsIDYxLFxuICAgIDE0MCwgMTY1LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYzLCAxNDEsIDE2NSwgMjU1LCAyMzAsIDIzNywgMjM5LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAxMDIsIDE2MywgMTgzLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDE2MywgMTk4LCAyMTAsIDI1NSxcbiAgICAxMTksIDE3NCwgMTkwLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDEzOSwgMTg1LCAxOTksIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyMDIsXG4gICAgMjIxLCAyMjYsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCxcbiAgICAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSxcbiAgICAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCxcbiAgICAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2NywgMTQ0LCAxNjcsIDI1NSwgMjM2LCAyNDEsIDI0MixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMTAyLCAxNjQsIDE4MywgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCAxNjMsIDE5OCwgMjEwLCAyNTUsXG4gICAgMTE5LCAxNzQsIDE5MCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY1LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCAxMzksIDE4NSwgMTk5LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDEzNiwgMTgzLCAxOTgsIDI1NSwgNjQsIDE0MiwgMTY2LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY1LFxuICAgIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY1LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLFxuICAgIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjUsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY1LCAyNTUsIDYwLFxuICAgIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjUsIDI1NSwgNzEsIDE0NSwgMTY4LCAyNTUsIDE1MywgMTkyLCAyMDUsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMTAyLCAxNjQsIDE4MywgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCAxNjMsIDE5OCwgMjEwLCAyNTUsXG4gICAgMTE5LCAxNzMsIDE5MCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCAxMzksIDE4NSwgMTk5LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjA2LCAyMjQsIDIyOSwgMjU1LCAxMTgsIDE3MiwgMTkwLCAyNTUsIDY0LCAxNDEsIDE2NSwgMjU1LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgOTUsIDE2MCwgMTgwLCAyNTUsIDE0MyxcbiAgICAxODcsIDIwMCwgMjU1LCA4NywgMTU1LCAxNzYsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYzLCAxNDEsIDE2NSwgMjU1LCAxMzQsIDE4MSwgMTk2LCAyNTUsIDIyNSwgMjM1LCAyMzcsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAxMDIsIDE2MywgMTgzLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDE2MywgMTk4LFxuICAgIDIxMCwgMjU1LCAxMTksIDE3NCwgMTkwLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDEzOSwgMTg0LCAxOTksIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjEyLCAyMjcsIDIzMSwgMjU1LFxuICAgIDEyOSwgMTc5LCAxOTQsIDI1NSwgODksIDE1NywgMTc3LCAyNTUsIDg1LCAxNTQsIDE3NSwgMjU1LCAxMTEsIDE2OSwgMTg3LCAyNTUsIDE4MywgMjEwLCAyMTksIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQzLCAyNDUsIDI0NSwgMjU1LCAxNzIsIDIwMywgMjEzLCAyNTUsIDEwNiwgMTY1LCAxODQsIDI1NSwgODMsIDE1MywgMTc0LCAyNTUsXG4gICAgOTMsIDE1OSwgMTc5LCAyNTUsIDE0MiwgMTg3LCAyMDEsIDI1NSwgMjIxLCAyMzEsIDIzNSwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAxMDIsIDE2NCwgMTgzLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgMTYzLCAxOTgsIDIxMCwgMjU1LCAxMTksIDE3NCwgMTkwLCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDEzOSxcbiAgICAxODUsIDE5OSwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ0LCAyNDUsIDI0NiwgMjU1LCAyNDQsIDI0NSwgMjQ1LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0MywgMjQ0LCAyNDUsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMTAyLCAxNjQsIDE4MywgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDE2MywgMTk4LCAyMTAsIDI1NSwgMTE5LCAxNzQsIDE5MCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LFxuICAgIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDEzOSwgMTg1LCAxOTksIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDEwMiwgMTY0LCAxODMsXG4gICAgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCAxNjMsIDE5OCwgMjEwLCAyNTUsIDExOSwgMTc0LCAxOTAsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCAxMzksIDE4NSwgMTk5LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LFxuICAgIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDEwMiwgMTYzLCAxODMsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgMTYzLCAxOTgsIDIxMCxcbiAgICAyNTUsIDExOSwgMTc0LCAxOTAsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgMTM5LCAxODUsIDE5OSwgMjU1LCAyNDYsXG4gICAgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NixcbiAgICAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LFxuICAgIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsXG4gICAgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LFxuICAgIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsXG4gICAgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSxcbiAgICAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LFxuICAgIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsXG4gICAgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NixcbiAgICAyNTUsIDI0NiwgMjQ2LCAyNDYsIDI1NSwgMjQ2LCAyNDYsIDI0NiwgMjU1LCAxMDIsIDE2NCwgMTgzLCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgMTYzLCAxOTgsIDIxMCwgMjU1LCAxMjksIDE4MCwgMTk1LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjUsIDI1NSwgNjAsIDE0MCwgMTY0LFxuICAgIDI1NSwgOTMsIDE1OCwgMTc4LCAyNTUsIDE1OCwgMTk2LCAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LCAyNTUsIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU5LFxuICAgIDE5NywgMjA3LCAyNTUsIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LCAyNTUsIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU5LCAxOTcsXG4gICAgMjA3LCAyNTUsIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LCAyNTUsIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNyxcbiAgICAyNTUsIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LCAyNTUsIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LFxuICAgIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LCAyNTUsIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksXG4gICAgMTk3LCAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LCAyNTUsIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksIDE5NyxcbiAgICAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LCAyNTUsIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LFxuICAgIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LCAyNTUsIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LCAyNTUsXG4gICAgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LCAyNTUsIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LCAyNTUsIDE1OSxcbiAgICAxOTcsIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LCAyNTUsIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU5LCAxOTcsIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LCAyNTUsIDE1OSwgMTk3LFxuICAgIDIwNywgMjU1LCAxNTksIDE5NywgMjA3LCAyNTUsIDE1OSwgMTk3LCAyMDcsIDI1NSwgMTU2LCAxOTQsIDIwNywgMjU1LCA2OSwgMTQ0LCAxNjgsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsXG4gICAgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCAxNjksIDIwMiwgMjEyLCAyNTUsIDE3NiwgMjA2LCAyMTUsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksXG4gICAgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCxcbiAgICAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSxcbiAgICAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCxcbiAgICAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LFxuICAgIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLFxuICAgIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksXG4gICAgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDIwMywgMjIxLCAyMjcsXG4gICAgMjU1LCAyMzQsIDIzOSwgMjQwLCAyNTUsIDg0LCAxNTMsIDE3NSwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCxcbiAgICAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LFxuICAgIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLFxuICAgIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksXG4gICAgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsXG4gICAgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCxcbiAgICAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSxcbiAgICAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCxcbiAgICAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDEwNywgMTY3LCAxODUsIDI1NSwgMjQxLCAyNDMsIDI0NCwgMjU1LCAyNDYsIDI0NiwgMjQ2LCAyNTUsIDIwMywgMjIxLCAyMjcsIDI1NSwgODUsXG4gICAgMTU0LCAxNzYsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCxcbiAgICAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCxcbiAgICAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCxcbiAgICAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LFxuICAgIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LFxuICAgIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLFxuICAgIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsXG4gICAgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxNDAsXG4gICAgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTM5LCAxNjQsIDI1NSwgNjAsXG4gICAgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDE0MCwgMTY0LCAyNTUsIDYwLCAxMzksIDE2NCxcbiAgICAyNTUsIDYwLCAxMzksIDE2NCwgMjU1LCA2MCwgMTQwLCAxNjQsIDI1NSwgNjAsIDEzOSwgMTY0LCAyNTUsIDkyLCAxNTcsIDE3OSwgMjU1LCAyMjIsIDIzMiwgMjM2LCAyNTUsIDI0NixcbiAgICAyNDYsIDI0NiwgMjU1LFxuXSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZWdhY2xvdWQuZGVjb2RlZHBuZy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/megacloud/megacloud.decodedpng.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/megacloud/megacloud.getsrcs.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/megacloud/megacloud.getsrcs.js ***!
  \******************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/* module decorator */ module = __webpack_require__.nmd(module);\n\n// solution inspired from https://github.com/drblgn/rabbit_wasm/blob/main/rabbit.ts\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getSources = getSources;\nconst megacloud_decodedpng_1 = __webpack_require__(/*! ./megacloud.decodedpng */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/megacloud/megacloud.decodedpng.js\");\nconst util_1 = __importDefault(__webpack_require__(/*! util */ \"util\"));\nconst crypto_js_1 = __importDefault(__webpack_require__(/*! crypto-js */ \"(rsc)/./node_modules/crypto-js/index.js\"));\nconst crypto_1 = __webpack_require__(/*! crypto */ \"crypto\");\nconst utils_1 = __webpack_require__(/*! ../../utils/utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/utils.js\");\nconst user_agent = utils_1.USER_AGENT;\nconst crypto = crypto_1.webcrypto;\nlet wasm;\nlet arr = new Array(128).fill(void 0);\nlet dateNow = Date.now();\nlet content = '';\nlet referer = '';\nfunction isDetached(buffer) {\n    if (buffer.byteLength === 0) {\n        const formatted = util_1.default.format(buffer);\n        return formatted.includes('detached');\n    }\n    return false;\n}\nconst dataURL = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0CAYAAADL1t+KAAAgAElEQVR4Xu3dCXwU9d3H8f8e2ZwkJCEQrgCCoKBVQURRq6Lg8aCVVut9tdbbVq21XvWq52O973rX+65YRRQPFAERARHkvnNAgJA72WR388wsmXQYNgEs6WN+v09er5iYY3e+79+G7/5nZnd9hjcEEEAAAQQQ6PACvg6fgAA7LNB0nmna4V8S8Au+vxtu7wLmSAQEEEgswD9wCm8ZFLrCoRMZAQTEC1Do4ke8dUAKXeHQiYwAAuIFKHTxI6bQHQF2uSu8sRMZAUUCFLqiYTtRWaErHDqREUBAvACFLn7ErNBZoSu8kRMZAYUCFLrCobNCVzh0IiOAgHgBCl38iFmhs0JXeCMnMgIKBSh0hUNnha5w6ERGAAHxAhS6+BGzQmeFrvBGTmQEFApQ6AqHzgpd4dCJjAAC4gUodPEjZoXOCl3hjZzICCgUoNAVDp0VusKhExkBBMQLUOjiR8wKnRW6whs5kRFQKEChKxw6K3SFQycyAgiIF6DQxY+YFTordIU3ciIjoFCAQlc4dFboCodOZAQQEC9AoYsfMSt0VugKb+RERkChAIWucOis0BUOncgIICBegEIXP2JW6KzQFd7IiYyAQgEKXeHQiYwAAgggIE+AQpc3UxIhgAACCCgUoNAVDp3ICCCAAALyBCh0eTMlEQIIIICAQgEKXeHQiYwAAgggIE+AQpc3UxIhgAACCCgUoNAVDp3ICCCAAALyBCh0eTMlEQIIIICAQgEKXeHQiYwAAgggIE+AQpc3UxIhgAACCCgUoNAVDp3ICCCAAALyBCh0eTMlEQIIIICAQgEKXeHQiYwAAgggIE+AQpc3UxIhgAACCCgUoNAVDp3ICCCAAALyBCh0eTMlEQIIIICAQgEK/UcNvWknu/maftRm/Nd+aVt5f+rb/1+D4ooQQACB/zeBnVxM/285mq94W8WzU7cvkV1bnolKu52LfFtF215e27renToHLgwBBBBAwBLo4IXeaiG1dy735Tufb+s63eXd2uc/9ka5s+4YbCvDtrYvwXZQ7ttC4/sIIIDAzhD4T/8B3xnb8CMuY6si396C3dEVdGvb5i5xb6F7r8MpuUQfd2ax/yelvqN7G9wu23FHhVL/ETdyfgUBBBDYIYEOWOhblHlrxZpo1bw9Wb2l6P1/7/W19f/2IForcfvr7nf3z3o/36GBuq5zW7+X6E6Q8zvbY9XaNju5PN+n1Lc1EL6PAAII/CcC2/sP939yHTvpd9sscjtHa+/29bdVXm0Vk3fbExW4P8F1e1ew3gKPeQrdW+47atbWSt/5Xlt7Mbbl09r2eMs70f+7fCn1HR0sP48AAghsr0BHLPTWitspVu/HRKt4r09bu8XdP+u9bvd1uYs9UaE7JW5/dL97y/7H7DpvbfsT3Q62tZfBm9ebxfn/RNvd2tco9e39i+TnEEAAgR8p0EEKvWV1nqhQ7SJt7d3+eW/RJsrsLsRWdhm3CHtL3Hvd7sJ0Lssp82hzmTsfvcVu/7+r/LaYamvH5t0/39pufO8K3HFMZNPWbSKRkzej+45LgkMLrNJ/5N8qv4YAAgi0KdABCj1hmTtFFGgubPuj825/z/35tnaJO4XY1urSQXQXoXM93o/Oz7gv1y45u8Rbe3eKvbVd79sq2R3Zdm+Zb49Pa3ca3NvtfO7cWbG3KdGhBevLlDr/LiGAAAI7W6CjFLqzne7VsbvEgxaM825/3f7cW+qJVqOJVpytlFCc3lnxu+80eO9MONfjLnSnyCPNpW5/dN6d73lL3Tvr1vYsuMvcu+3ONrS2Z8O5Q+Tek+HkdF9/a+cAOHdU2vroLXYKfWf/FXN5CCCAQHNB/YQhtlqdO7u3nRJ1SjzJCuG821+zP3cXvLu4vCtod/F6j3O7d7+7C917Z8K5E+Fsn3MdTpnZpe0UeKP1uf1u/7/zMVGpO3Nx78L3zirR7m53BvfPe+8MtbUnY1tl7l6Nu/c6OHdYvHk8dzRYof+E/+jYNAQQ6KACP/EVerzQ3e/uEnJKO2T9jPfdW/BOATsrUaecE608Wzthzb2r2nuHwn3nwd8prdb+f1NVm2YXnLN6dYrc/tjQXOb2R/dq3b1KT1To7nm1dnw+0Urf2Xb3IQr3Xgzn6+69C+47Os4dk0RF7t7+tvY8uEvdHuuPOfmvg/6ZsdkIIIBA+wt0pEJ3l7mzCreLPLmNd/eq3V1aiQrde/a5txgTFXr8TsURw2d3P3PsZz8bsceiPbrllOd3SqvL9Ptj/oaGYEN5dcaG75cVLHjr0wO/ffGDw5ZaJV9n/U64udTtQneXevSAk94syO1d1O2HyQcuXD5nrwrTaF9Fy52allvERSetHZadGc2ZMDV36qz5KZusb7hXxfbn7r0Lzh2Ztu6IuPdiONfjvtMQv/z+oxryhp1VfWMgualbfaX/i6WTk5/7/s205VYiO5N770Oi1bprmyj09v/z5hoQQECTwE+40LfY3e7e1e4t8xRrYPZ7qvMxL1DW6aoeTx+6e8qSPdMD9dm1sdS6ZfW9ip4s/fW339cPqm4uyPicdw2tSL+o26tDd01e1Ss9UJteHUurml87YOH9pefMWNuYa5evtxhbSvGwYd91u+2iF8fsO3jJPknBqH3noo23pqbFq3suvPfl499/ecIhS6xir/UUe2TMhX/fe89RX1wRSA53a6hJXfLJP06/5fsJY4pchd4yr79esuqkXXqFjy+vCcx98b2uD0+b02ntaUdPzr71ohfOqqpNKfnLo2e+/e7k/eyid+4Q2Ibucw3cezECM16//rwhA4sP+npW34nX3HvqR1/PG1DZnD2233nVw3rt2zDa+Pymel1gTn25ryS9S7RrVu/oUT5fU2zl1JQbpj2ZPrO51J29D22dI2BHYoWu6V8asiKAQLsLdIRCdz8szClzu4zslblT5GnW5/H3S7q+OPS8vNcus4o8x6sXaQpE39006vOrC6+cHrMezXZLjweH/zr3g1FJvmh8F7n7rTaaUvXI+tNefbz05AXNxWZ/u+WOxc2/e3Gvy04bP9ZajXfytaIYS+lvIhk/s07PyzS+hmITrJhuYo01kdcnHTThT/ef81nRhi4VzaUeX9me/cCV5ySn1+asmDX04yGHfPG7Zd/u/dqnz50+tbq0q12S8d3hGanR4EWnrjuyZ179oOzMyICaev+aF97t+tDU7zKLv3jqmnH7D1l4WlJSpPN9Lx17zp8fPueHxsYkuzid7Xb7hR6/+dmD9hi0ZreZX+evOuXEWcd3zaspiEVM7P7nxjxx26Pj5pRVZdjbFes9ItJlwOG1Q7N6xwamZUd3s74WXTs39NTaucmzh5xYfVks7Cv8YWLaIwveSl7hzmNnst6dlbrn2D6F3u5/3VwBAgioEvipF7p3N7ezqrRXw+4yT7f+P/2P+c/uf37eK9cGfE1bFbR7qh9VHDi3NpbSeHz2J8Pamnasydd0z9pz3nh8/Sl2qbcU+iNXPbrfOcd9enBqctjehgRvQRPu/lsTyT7EqlL7fkfzW0OZSSl62Phr55spswfO+M1Nl727tKi7vYqO764+/X+vPznSmFT7xfOnTfzlX+74c8nSfjM+e+asT8rW9K53Cv3ik0p+vu+e1ceWlQeXbqoKFU34MmvKnEUZxdGoabjstHcLrjnrzXPr6pPKrnrknEdfn3hwafM1247uEwhD153yyt5XXDb5tzm5tT03lITWp9ZVZaZ2Dyb7UwOmYn2w4rI7Tn/uufGjVtrl3VzK8TsdBSMas4eeWX1yel5sz5K5yU8GUyK+7ILoqFVTU+6c/nj6N81ZnEMJ3kJ3HUen0FX9S0NYBBBod4GOUOju3e12oTvHze1d7Paq3C7zjEEpK7q9M+Cix5L9kYydqRaOBRuPW/L480vDfWqsy/VdfMJ7u9xx6QuHWytz+/oTvoXzTjKRLmOtlXmaqaquNqGkJBMKhYzPXso3bjSpK24y/oYS89YnB3z+h/vO+6RoXW6VXZbNxRk1gai5+Jnzry9d3n/OJ0+dObmpKBS5MPWG0dZBCH/xnr9Zf+jYzmNDSbGMNSXJs58b3+2dhStS7eJ2n3Rnfx6957Kn9/xhee+ytz/ff92mykx7Wx2/0KNn33PEyefMO7Zz90iOz+8zdcuqTbBT0ARzrO0M+s206b3m//lvZ3z85ZzdN9jbdekZE3tfe/F7x9XUJJdf/8Qpb9Ue3H90Wk5sl/XLkt7pskvj6FVfh+6e/lCnr6yfte98uM8RcHa9e85JoNB35u2Uy0IAAQQ6SqE7x62dQrJXxi1lbn3e6bm+V59+cOa3J7fHSP9Vfui8P6y+7pvB/VZnTHr0+iPzczfZu9kT2jUFOpm6Af9rmpLyzA8LFpirrr7ORCNR88hDD5i+ffsYv99vQuteMsGNH1iVW990+f3nvvLk20cuqq1PsYswvns6t2B12qm333Lpill7fT35hV9/c2P0piO7VH863MTqU/0+X6ys55hl6/e7sGTQPun7zJyX8emrE7p+OfAXN++X2XVFwZz3L3qleN7I4nN+8VGPB654+qra+uTyC++46OF3Pt/fLub4oYoHrnn+oAP2WPSzPknLB+YM9HcKZgT8TY2xeKknd0+1jhAkmZi1Lr/r0aM/uvcfY+dvKM+sff7uJ4aPG/PtAZ3S6zs99MIRTz07Y+yagSf5ziovDHy1bkFw+sqvQvPLVwbLrMt3TvpzSt19LJ0VenvcQLlMBBBAwF5x/nQVWh6y5pzd7hz/dY6d24Vur8Y7We+ZU3c/6c5uSWWD2iNPcUNe5cELX/7o5Vvv3mvcodP6pSQ3trpLP5o+2IR7/9E0BTubDz780Nxz7/2msrLSKvQHzdB99jbBYNAEKqeb5KLHjS9aZRat6ll0/B+vfXvhqgJ713v8YW67DPs2b+zlj5327QejP1n23oGrnsm5/LTK0u961DeGfcF9DjfB0WcaX0430xTzRd74qMsbE6Z0nnfo7889oVOXNf2/eeOy+5d/c8zylFBj9MErn9pvSVH3Dc//6/CVpRs728fSQ+eOnTTotmvfOa1r16oejWUNJlYTMUl5ycafEjCRTQ3x91B+ivGnBU11WaDht38574PXJx6w+poLxvf9428/PCg3uzpn2uz+U6+9+4TxGSf1PNqf3BSY98/UZ5ZPSllkXb59op9d6O4z+RMdR7e2hRV6e9xWuUwEENAr0NEK3dndbq/Q47va7TK33+cOOe6J9EBdbnuMsj4Wip5U98iXnzx6/f552RUpzklwseReJpI10joPPmad8DbFOvGt1MRSB5pwwZ+sFXpnEw6HzbvvvWdSU1PN4aNGmTTro/3mLnT7/y++64J3n33viOV14WT72HNsxAnv7Dpi3PgjPnr0vPFHL1vY5czcd3++dt2yjPUVVSb4m9utss00jTMnGt+S2U1flo/59M3682ZWpGTWBJNror2ywtE3b7973PKSbmv+8uhpn89fET9U4JzhnnT98c8Ov+TiKWO7FjTk+gI+U7/C2tWead3J6Gztag/44/8fSAuYYG5yfNf7rG/y1/7hznOmpmdFIk/e+vRhvXuU5ZVtSt9w+e2nPls4ZO/+mT2jfRb8K/XpRe8nz7eux74up9TtPQ7uh+W5nxKWQm+PGyqXiQACqgU6aqHbzegu9KxZg49/MCtYk98e06yMpje+tf8py686463+ndLr4qvzaLy47ZW4dR/COTa+8hbjb9xgavtbu9xDPTZ/PcFbqOR5E9z0kfHF7M4z5u3PDph36V3nzyjemGsXYuzYPz6wf/7AZb0/uu+Czx6KPHSwdX5Ar6bUJP/cBYtNeMjPTdKRZ5vo8rmm8YMnja+yzHwbOHHKq41XfF0a614xavh36a/dcfdZazdmFV9w28VvfjV3sL0b3Cn00G7dV+a+fOWtp+1xaHXvpMwkX1M0ZuqX15iQvas9w4oWbTJ1S63j/t1T4rve7afFueeJ0d89/c6oxW8//tBBg3Yp6W7HuvfpI195duYxK/xW8a+ZEZy/aXmoxLoe+yGBdqHb786xdOfYPoXeHjdOLhMBBBBoFpBQ6FlWlqxPdzvzhj6hkiHtMdkl9QVVTRf3rB81/PvcUFLELkcT7nGB2RTYxzz5zEsmLT3NnHbKySa3+i2rqD82kc6HmIZup1pL8a3Pz/OFC03Kyr/Gi995W1HUreyoS2/+ePGanvZjv2Nn/u2aI2sqsurS3+hTeqn/7WFd0uszUnv3MqtWrjTLFi41DQHrqIP1+DLTYHVmU5N13MRnpvrO+PyNxotnlpn8yoEFhYGSTbnV1glsVpn6TWzza7gFQ6FIyg2XvLPP0IIF/fftt3hg7i5NafZZ7dEKa1d7eYNJ6mrtak8NmmhVg2ksDZukfKvk04OmvtIXPeva86dccPrnvQ8ctrTAMghOm9V/1tV/O2n8FzN2W2ldtr3d9ol99rt7le5+shn3K8xZP8Yu9/a4rXKZCCCgV6CjFbrz+HPvCr3zE31uOPmIrGm/bI9RvrbxqMLj7lnWefd+hel+/+YnvAn3uNBMmNlg7rrnIVNRUWGe/vsTZp/cmSa5YlJ85d2Ye4xpyPuVVerW/Y3mlbqvbqn1sLXHjK9+tVXBziulWsvaupSGYy6+64u0YEravFXZJf3G/Kt78eJdN91U/eIe+yb/0DOrd9dgsJN9qoAx38+YZUqKS0zUepya+83vCzR9nveXz1JHHmb679JUYD1GPS81OZZhnYPnr6kNlD/ycvfnRx/yadfLzpl4VNfcypyi74NVnfMaUtPyfEF713t4VXX8uHkwe/NZ7o3r6+MrdvvYuv3UOpMn9lqX3s1nhgxel52a0hiqqkmpvuK205556vVD5lrbYT+e3il1Z5XuPY5OobfHjZPLRAABBJoFOlKh22e6O8/Z7jxkzTmGnnVc50+G3Fdw5y3tMdnfrfjr3GdffmLX3t02pDp70aMZe5qS1DPN/z74jElJSTGXXXiGyd90n/FbK/DNTy5n/dc64z2aZj0Pi7VS9zUUGX/dctPYYK2Eg9aa2rM7/sZ7b96Yk2Gyl5ekF742pWB2QcPS0AN9bj2oZ160U3LXrsZvPfTNfmtsCJs5U2eYjRvKTMxancffcrqbpMNONsGfHWLqfek1ReuTVxWvS1pTWhYsa2oKWLsUmgKTpmeuOGDY/NxHbn5+XO/8sm719UmN9cuqfBm9g4GkTKvRrfsXdcuqTKhb8672lhMFrF3w1tnvPqvYQ91SjT/075vMax/sN+GvD/7i4/lLexe7St0udHuVTqG3x42Ry0QAAQRaEegohd5yUldzqTsPW2s5y936eufPBp1xbUHy2p16pvvycK+q0Yue/Wb1e2fv36vbxjR3D9tntEeyDrSa2zpTvOxT4wuv2WLl7ZhHrIetzV9aZabNLjPzFleYA4d1Mb84vLt1kty/T5b/4223remRE+0+e3nOkvdndl98Xef7dju6y9e75PbJTfJbJ9M5dwDCpaWmdl2pWbSm2GyqrTVNOT1Myhk3WHvefSby1Ttm3aLapY9VXDVhQ5dOdYddcMUp4ZrsTTNeu/LDjYW72yWb9PBNz4089djpI7KzatNLijKq0+vKUjJ6+oPxXe3WGe/Ws7saX3LA+rj5ptGwts40haMmyS5ze7Xueisu7Vx81V0nP/vSuyPnJSh091Pbxh8Xb707j0W3PmWXO/8qIYAAAjtToCMUuvPCIs4znbmfJW6LE+N+0+Wt4df1ePyKnQl0zZorZr2+6eh13zx/+Yi9By3PDgZi22VWWRk2i1bWWEVeaZV4lamyyrJHn92s4rVW1fWF5rKz+prOmZuf/r0+nBQZdvoDkwpLuzfU1AUaeiaVpPyj31UH9y/wZYWys6yzzzcXaWN5uQlbZd4UiZhG633Z2lKzsdY6kbzvHiZauNi6IOsMdason4jc8495ucPXHXLhn06sq8jZOPOtKz/dVNzfLtik9PRw2oSn/vY/I/Zatot1TD24Zn6oJjs7nJLetSlg72rf4i3WZGoXVppQz1TrTHhrD0GCk/wefG7Ms7c9dtznpRsz7ZMC7F3v9grdfm9jhU6Z78zbKJeFAAII2ALbVU7/P1QtL86S6IVZ7Meiu58pzj7AHD857q0Bl5y/d9qiETtjm7+p2aP45GX3TbOd3rv3lmGjR8zplRxqbFmmVlY3mLlW4W2qbDC19VFTWxc1G8rCZu2GsKmujdrnq5m8Hn3NnvseZob9/FiTFEo2j/31PJPi22AuP3tAS6EvL8yvGHPpLVOWFXa3S9dc3f3vA0/v/9lueb07Jft81s4Ie/VdW2fdDyg0TY32YnfzW8w6261w4yZTVFZuIq5j6msCB3z3VONNH6+K7VZu/Zi9X96es73d8SfmOWTEgu5P3f7MUf0L1uU1NgaidavqTHqPgD+Ybu16d71FrVwR67HqSdZueHsFn+ht0tQhE2+87/h3p84etNL6vnMc3dnl7jx0zf187tYqnULfGbdPLgMBBBBwC/yEC93ezK2eXKallKxvOs/l7qzS408w0ze5qPvb/S+5PitYvdWLs+zI6CuiGXW/XPLwv1Y29LRL1n/zeS8OvOL0d/fJSK1veVW1tycWmS9mlptQcpb11K6pJj2rs8nt2tvk9+5veu4y2PTbbR/TuUu+9exwAVO4YoF56q5LTcnqxWb/vbLMr4/uZdKtk9Dst1cnHrz0D/ee931pWedwhr828Paufzhs5HXrc1N6+3wVb+WbiPWAsLo1RdYTy9mL3q3fqurqzOr1G015TV38uHp16u4rF1/ZNxrtE01fPH2/adPeHDe3ekOXSJ8Dw31iUX+wdF6g+trf/nPIhad+MjwvtyrDPgveXnx7F+D2iXH2M8jZj0n3W7vhE73NmNvvyxvuHffaxCl7L0tQ6O5ni3Ne3pXHoO/IDZGfRQABBLZToKMUurPCtFsl0TPGbVHqR2VOGXhvwe1/SvY3ul4ZZTtFrB9rtE4ku3TlDf/8uGrk2ubf8g/utyrziyevPj4nszrDKb7JM9abdz4qMReNvcH0/9UJ1pOzWM9x425Fq1wblq40kya9YiZ+/IKpq62yyt2Yy88aYAb0zTABa0Fsr+LPuunyz96YdFBJfUMoel7eq/0u3W3S0L6/qEsL5sVMzZdZpuaHdSZSYy16nZPgWolSXReOLatKL326/NzxdSdUd+43cvZeqRk1me/ff/GLK2btXTbq+sqxSWm+jFkvpHxTvtTU/fPxB0aPGrGgf0rK5hdd9741lFrHzyNNJqmNQp82e9dPb7x/3Bsff7XH8uZC954Ul+Bx6KzQt//WyE8igAAC2yfQkQrd/RKgdqk7x9K3el5363udzs97bfgV+c+cF/TF2nzlNS9TtMkf+1vJb8b/fcNJC63vOY8ti79a2fsP3DjmiOFzB1uPw44XYHVto7nn6SXmmLr9Ta/UbiZl112Mv0uO9fSpm6yHrjWZaLH1zHHllebZis/NyshG68KazOiReeZ/DrNPiNu84v36+10LT7ru6i9XlXSttR4x3vTekMuO2nvXaI+kFOtp26y3+pK1ptF6WJzzYPJEYw1Hg+E5tYN/eG7juGlfVO5bnD1oVcqRFz01Nq934eDiJQO++fjxsyeWruhfe/AV1WNy+kcGzn4hddLq6cnle+++Mu/l+x47clD/td38vpZDHC1XEa1utB6+Zj0e3T7zvXlvgvf635009LUbH/jl+98tKLDPdLcfh+4UuvuJZTwvoUqhb9+fJz+FAAIIbL9ARyh0O41zYpz3ed1bK3X77PeM8/NeHXZF/rN2qSdcgSYo8+h9a89647H1p9pnbcefV9113YGhg5Z0mfjgTWfl5lR2tvdQ27+/orDaNIwvMJl1mcZvnyJuvYWtY92h/Hzr8dyb70s8Wzk5XujD9swypxzb22Q0l2NDYzB69s2/f//tTw8qDjcmNZ6Q9WHPm/abcERedizTfhrWhg0brfcNpsnzmHNnuyujGRVTKofOeaL0hBk/hAeVWa/xHn/e9BNuvO2o/P4r9lj9/R7Tls/ac+mS6cPXdds7JT9vUGOf/j9vGL16emj6d6+nLqgr85srz50w5Mpz3z+wW5dK+xyELd+sffG1i6yHsvVIfFJcJOJvuO3R4+6544n/mR4OJ9snxLmfWMY5fu48l7vr1dYo9O3/E+UnEUAAge0T+IkXuh2i5Ti6t9QTvTa6+0S5+Gukn5Hzzz3/3OPp81P99W2+rGo4Fqr729rfvPjMhl/Zz0nuXlHaG9Gyq/+m37089Moz3xmXnlJvvzhM/G39y/kmts666uZFrrfQ34hMNYNHBszI4TkmxXUs+qHXxn5+899PmbuxMtMuv9jE4X/+1R4FtbskhfyBxqoqEy4psY5h25uy5Zv1YjHFH1WMnPH0+hPmFkfy7RJ1XtEsvt1jLnpsxB6HTv1lUko42/7NDat7ziwLXtOpvDBlRU6f6O6B5FjW3DfS31k8MaUwZp3z9s5j948Zc9C8IWmpDVsdoqgtjUb84cZAqGuSz3scfeGy7jOvv/fE596auO/S5jJv60ll7GPo9gl6HEPfvr9NfgoBBBDYIYGOUuh2KKfQnePpzsPYnGePc858t0vdKXa7dFP3S5/T4/7ed17YLbSxXyKd9Y3ZRX9e86e/T64ebj8fuffVwdwPm4tf11PXPTDqtKMnH2O96lr81VY2vZlvGgqtT5sf0RYuLLJW6N1aVuhZv15jkns0xh/j7bx9MGXfb86/4+LPCku72CfdxX7V5fMetx3w/onZ6eHcWH3Y1BcVmljYfm2TzW+xJl90WX3B4jc2HjXlzfLRyypiWfYZcpGcnotTD/nd1b+rq8ou/vbt37+9fsVe9nO3xwYd+FV+r90X9Riw37ejQml1eWvKbyltrM+o37gsaVnvEeEx/kBT6uKP0yYsGJ+8tCB7XdqbDz98/OBdi/oG/LHEZ7954GrqQpX3PnPUw3c/ccw3VaSDAMEAABxFSURBVLVp9tn09pntztO+8sIsO/RnyA8jgAAC/7lAByh0O+QWq3SnYJ1Vs/skObvUnWJ3zoK3PyaHTEPKPb3vOnp056njknyReBFHmgLhyZXD37t81XUf1JgU53nH3a/f7Tzky/3ENvGXb73zkuf2v/CED35lvVhLVvWUzr662Z2t1XRzYzsnr1knyPk7NZqck4tNoNPmp2qNRv3Rlz48ZNKfHzx76tqyHLvM40+48uUh1/5uQNeaQdYLkwfrrDsEUetJY+y3hlhS3fd1A2Y9Xzpu8mdVI4tqTbKz9yD+sUvBD2mHnHvN7+urswq/feeyV9cuGWoXetMhp7+859BjP7zE+GOhRVP3e7Gy6eRgj32Cx6+eERpfXxkIDzi0blxKZlOv2k3+wooi/6rcsuKyW094bkT/HvHj6Z4HpG95Q7OeZa76H+8e+Pytjxz75ZrivI2uIndelMUudOdkOGd7bcvmcxLY5f6f/+lyCQgggMCWAh2p0O0tt7fXu+vdeShb/DHWze9OscfL3PX1YL+k1Z2u7/H46FAgEryz+PyP5tf3tx87bZeqe7e1c/zcXejO9bRc9qHDvutxxyX/OG5oz5XDqsbnhSJl1vOibnFuWZPJHLXepAypMb6kJrNwZa+Ftz934odvTjpwZfNLpbY8lGv+sVf9pUtqbZ/64hJfxNrdXh1JWT+revCXj5ae+sWsuiGboiZgl6HzbGvO9jq/7xyftj/Gnw/2rPuv+m1Oj7UjK0ryZk57a9z4xTMP2HTULVXnZvWI/bymzPdDeWFgqWnyhzrlR3dJ7hTttnF58IfkeSWLbjnr5YP32r1wD+vx9gkfIVC0rvPSx18a9cqjLx0xt6wiw7ZzXl3N+zro9u4Fz+PP2d3OP0AIIIBAewl0kEK347c0ZaJSd3a/O2e/O8XufHSOt9vft4vZye2sGp1idArI/VKf7j0C3jsN8TsMh+07J/+PR7436me160aENlpPcBPx+QPZDSawZ119RV6oaPbyfgtfnnDY7A++GlZUu/k1z93XEz+2/MCQRw8anfnViTVVkaqvyn/28cOlp09f2tDHLsvm484tT5vqbKu73J0id37WjPz16wOGjv3ooqRQQ7cFX4x8+MuXTvk+HMnyH3BB1eHdBkeOSs6I9VszM+mlOS+kT6tcG7C3x7EJ/ObXk/uNG/3tzwb1LembaZ3t12id/La2tHPRZ9MHf/PEK4d+v2x1/ibr5+1VuFPi9ufOWe3eV1jjZVPb66+Xy0UAAQRcAh2o0LcqdXu3sLtsvbvgnRK3P7oL3/m9+AU2v7tL0vOc43Et99n19p0E57i9/bm9knWK3n2Hwd425w6Ds7reYne59f2tVtbNs2l+1ZWW7fNejnu1vlWZu+6weI2cHM4hBNvMcXM+Og8PTHSnx96Nbt8hsd/t4naXuPMkMs4dFs9D1djdzr88CCCAQHsKdORCd4rWW+ruYncKtmX12VzO3rJyF6t7RenYO0Xo3r3vlLi7zO3rcUrUKXTvXgDvCtu5U9Gyuk5Q6u7tS/S5cwfA2V5nL4Z3b4a70O0s7lzO/7dV6M5hCafUvR+dEwoT7Gpvfgk6nva1Pf+euWwEEFAs0MEK3Z7UFrvevaXuLSxnBep8dJdt/MJc796idErSXYruZ6pzTsZz7wFwStHt6l1du/cAJFpdO9u1Pdvn/v3Wytx9zoF7xe5+jnznc3eZJ7rT4xy7d4rbOfHNewJcooz2jgPvHQ/Ff3pERwABBHauQAcs9ISl7n5Im7ucEq06nYJ2JJ3CdX90r5ZbO2afaE+Ad3XrlHJrq+qWk9ia71i4yzxRobe2re5bhXd17rbxOiUqe/fvu7fB2c3vPt/A/YgA7/kHCe6sUOg798+XS0MAAQT+LdBBC73VUm+tsNxft3/Zu4L27vZOVOjuXfveXdWt7a72FqJ7te6+zkRF7v6atxxb203vZEtU6ol2w7u/5t174V6hu0/Mc5+M19q5B5Q5/8oggAAC/2WBDlzoW5T6jhRZImJ3gXuPZbsvO9FJZol2Vzu/09rJbW2VubvIE/1+W7/rzNNb3m35JPqe16i1QxOJdq1T5v/lP2KuDgEEEPCuVDuoyBYP/HYXmreo2srrLk7HwX0M3XtZ7l3r7pL37s53X1aiInYfU/YeX/Zu07budDjX5S1197Yn+ry1r7lvD949Ak5pez+2sueAXe0d9I+LzUYAgQ4k0MFX6Ft0jjtLos+3lXVbJ2y5y9q9e7q11bD3joF3te39vrdA2/r91n430R0a9x2Zbbm0ZrStPQVt7DWgzDvQvwdsKgIIdGCBbZVcB4y21cuA/piM7nJvrQTdBe/93OvW1h6A1oo8UWm3topPtPfBW+5t/Yx3db+t7U9058RzqIIi74B/PGwyAgh0YIEfU3YdKO7Wr/G9EzZ+W6vgtq4i0V6Abe0ZsC+vrSJ3X593nonm29bME32vretOdEfF2h7KfCfczrgIBBBAYIcEhBf6Dlls44cT3jnYngLd1gq8tevdnqLf3oDtMecE20eRb+9A+DkEEEBgZwu0xz/0O3sbf4KX1y4r/zZy7mhR/re2b0e36yc4SjYJAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAtwCFrnv+pEcAAQQQECJAoQsZJDEQQAABBHQLUOi65096BBBAAAEhAhS6kEESAwEEEEBAt8D/ATY93seMmImHAAAAAElFTkSuQmCC';\nconst meta = {\n    content: content,\n};\nconst image_data = {\n    height: 50,\n    width: 65,\n    data: megacloud_decodedpng_1.decoded_png,\n};\nconst canvas = {\n    baseUrl: '',\n    width: 0,\n    height: 0,\n    style: {\n        style: {\n            display: 'inline',\n        },\n    },\n    context2d: {},\n};\nconst fake_window = {\n    localStorage: {\n        setItem: function (item, value) {\n            fake_window.localStorage[item] = value;\n        },\n    },\n    error: false,\n    navigator: {\n        webdriver: false,\n        userAgent: user_agent,\n    },\n    length: 0,\n    document: {\n        cookie: '',\n    },\n    origin: '',\n    location: {\n        href: '',\n        origin: '',\n    },\n    performance: {\n        timeOrigin: dateNow,\n    },\n    xrax: '',\n    c: false,\n    G: '',\n    z: function (a) {\n        return [(4278190080 & a) >> 24, (16711680 & a) >> 16, (65280 & a) >> 8, 255 & a];\n    },\n    crypto: crypto,\n    msCrypto: crypto,\n    browser_version: 1878522368,\n};\nconst nodeList = {\n    image: {\n        src: '',\n        height: 50,\n        width: 65,\n        complete: true,\n    },\n    context2d: {},\n    length: 1,\n};\nfunction get(index) {\n    return arr[index];\n}\narr.push(void 0, null, true, false);\nlet size = 0;\nlet memoryBuff;\n//fix this\nfunction getMemBuff() {\n    return (memoryBuff =\n        null !== memoryBuff && 0 !== memoryBuff.byteLength ? memoryBuff : new Uint8Array(wasm.memory.buffer));\n}\nconst encoder = new TextEncoder();\nconst encode = function (text, array) {\n    return encoder.encodeInto(text, array);\n};\nfunction parse(text, func, func2) {\n    if (void 0 === func2) {\n        var encoded = encoder.encode(text);\n        const parsedIndex = func(encoded.length, 1) >>> 0;\n        return (getMemBuff()\n            .subarray(parsedIndex, parsedIndex + encoded.length)\n            .set(encoded),\n            (size = encoded.length),\n            parsedIndex);\n    }\n    let len = text.length;\n    let parsedLen = func(len, 1) >>> 0;\n    var new_arr = getMemBuff();\n    let i = 0;\n    for (; i < len; i++) {\n        var char = text.charCodeAt(i);\n        if (127 < char) {\n            break;\n        }\n        new_arr[parsedLen + i] = char;\n    }\n    return (i !== len &&\n        (0 !== i && (text = text.slice(i)),\n            (parsedLen = func2(parsedLen, len, (len = i + 3 * text.length), 1) >>> 0),\n            (encoded = getMemBuff().subarray(parsedLen + i, parsedLen + len)),\n            (i += encode(text, encoded).written),\n            (parsedLen = func2(parsedLen, len, i, 1) >>> 0)),\n        (size = i),\n        parsedLen);\n}\nlet dataView;\nfunction isNull(test) {\n    return null == test;\n}\nfunction getDataView() {\n    return (dataView =\n        dataView === null || isDetached(dataView.buffer) || dataView.buffer !== wasm.memory.buffer\n            ? new DataView(wasm.memory.buffer)\n            : dataView);\n}\nlet pointer = arr.length;\nfunction shift(QP) {\n    QP < 132 || ((arr[QP] = pointer), (pointer = QP));\n}\nfunction shiftGet(QP) {\n    var Qn = get(QP);\n    return shift(QP), Qn;\n}\nconst decoder = new TextDecoder('utf-8', {\n    fatal: true,\n    ignoreBOM: true,\n});\nfunction decodeSub(index, offset) {\n    return (index >>>= 0), decoder.decode(getMemBuff().subarray(index, index + offset));\n}\nfunction addToStack(item) {\n    pointer === arr.length && arr.push(arr.length + 1);\n    var Qn = pointer;\n    return (pointer = arr[Qn]), (arr[Qn] = item), Qn;\n}\nfunction args(QP, Qn, QT, func) {\n    const Qx = {\n        a: QP,\n        b: Qn,\n        cnt: 1,\n        dtor: QT,\n    };\n    return ((QP = (...Qw) => {\n        Qx.cnt++;\n        try {\n            return func(Qx.a, Qx.b, ...Qw);\n        }\n        finally {\n            0 == --Qx.cnt && (wasm.__wbindgen_export_2.get(Qx.dtor)(Qx.a, Qx.b), (Qx.a = 0));\n        }\n    }),\n        ((QP.original = Qx), QP));\n}\nfunction export3(QP, Qn) {\n    return shiftGet(wasm.__wbindgen_export_3(QP, Qn));\n}\nfunction export4(Qy, QO, QX) {\n    wasm.__wbindgen_export_4(Qy, QO, addToStack(QX));\n}\nfunction export5(QP, Qn) {\n    wasm.__wbindgen_export_5(QP, Qn);\n}\nfunction applyToWindow(func, args) {\n    try {\n        return func.apply(fake_window, args);\n    }\n    catch (error) {\n        wasm.__wbindgen_export_6(addToStack(error));\n    }\n}\nfunction Qj(QP, Qn) {\n    return (Qn = Qn(+QP.length, 1) >>> 0), (getMemBuff().set(QP, Qn), (size = QP.length), Qn);\n}\nfunction isResponse(obj) {\n    return Object.prototype.toString.call(obj) === '[object Response]';\n}\nasync function QN(QP, Qn) {\n    let QT, Qt;\n    return 'function' == typeof Response && isResponse(QP)\n        ? ((QT = await QP.arrayBuffer()),\n            (Qt = await WebAssembly.instantiate(QT, Qn)),\n            Object.assign(Qt, { bytes: QT }))\n        : (Qt = await WebAssembly.instantiate(QP, Qn)) instanceof WebAssembly.Instance\n            ? {\n                instance: Qt,\n                module: QP,\n            }\n            : Qt;\n}\nfunction initWasm() {\n    const wasmObj = {\n        wbg: {\n            __wbindgen_is_function: function (index) {\n                return typeof get(index) == 'function';\n            },\n            __wbindgen_is_string: function (index) {\n                return typeof get(index) == 'string';\n            },\n            __wbindgen_is_object: function (index) {\n                let object = get(index);\n                return typeof object == 'object' && object !== null;\n            },\n            __wbindgen_number_get: function (offset, index) {\n                let number = get(index);\n                getDataView().setFloat64(offset + 8, isNull(number) ? 0 : number, true);\n                getDataView().setInt32(offset, isNull(number) ? 0 : 1, true);\n            },\n            __wbindgen_string_get: function (offset, index) {\n                let str = get(index);\n                let val = parse(str, wasm.__wbindgen_export_0, wasm.__wbindgen_export_1);\n                getDataView().setInt32(offset + 4, size, true);\n                getDataView().setInt32(offset, val, true);\n            },\n            __wbindgen_object_drop_ref: function (index) {\n                shiftGet(index);\n            },\n            __wbindgen_cb_drop: function (index) {\n                let org = shiftGet(index).original;\n                return 1 == org.cnt-- && !(org.a = 0);\n            },\n            __wbindgen_string_new: function (index, offset) {\n                return addToStack(decodeSub(index, offset));\n            },\n            __wbindgen_is_null: function (index) {\n                return null === get(index);\n            },\n            __wbindgen_is_undefined: function (index) {\n                return void 0 === get(index);\n            },\n            __wbindgen_boolean_get: function (index) {\n                let bool = get(index);\n                return 'boolean' == typeof bool ? (bool ? 1 : 0) : 2;\n            },\n            __wbg_instanceof_CanvasRenderingContext2d_4ec30ddd3f29f8f9: function () {\n                return true;\n            },\n            __wbg_subarray_adc418253d76e2f1: function (index, num1, num2) {\n                return addToStack(get(index).subarray(num1 >>> 0, num2 >>> 0));\n            },\n            __wbg_randomFillSync_5c9c955aa56b6049: function () { },\n            __wbg_getRandomValues_3aa56aa6edec874c: function () {\n                return applyToWindow(function (index1, index2) {\n                    get(index1).getRandomValues(get(index2));\n                }, arguments);\n            },\n            __wbg_msCrypto_eb05e62b530a1508: function (index) {\n                return addToStack(get(index).msCrypto);\n            },\n            // @ts-ignore\n            __wbg_toString_6eb7c1f755c00453: function (index) {\n                let fakestr = '[object Storage]';\n                return addToStack(fakestr);\n            },\n            __wbg_toString_139023ab33acec36: function (index) {\n                return addToStack(get(index).toString());\n            },\n            __wbg_require_cca90b1a94a0255b: function () {\n                return applyToWindow(function () {\n                    return addToStack(module.require);\n                }, arguments);\n            },\n            __wbg_crypto_1d1f22824a6a080c: function (index) {\n                return addToStack(get(index).crypto);\n            },\n            __wbg_process_4a72847cc503995b: function (index) {\n                return addToStack(get(index).process);\n            },\n            __wbg_versions_f686565e586dd935: function (index) {\n                return addToStack(get(index).versions);\n            },\n            __wbg_node_104a2ff8d6ea03a2: function (index) {\n                return addToStack(get(index).node);\n            },\n            __wbg_localStorage_3d538af21ea07fcc: function () {\n                // @ts-ignore\n                return applyToWindow(function (index) {\n                    let data = fake_window.localStorage;\n                    if (isNull(data)) {\n                        return 0;\n                    }\n                    else {\n                        return addToStack(data);\n                    }\n                }, arguments);\n            },\n            __wbg_setfillStyle_59f426135f52910f: function () { },\n            __wbg_setshadowBlur_229c56539d02f401: function () { },\n            __wbg_setshadowColor_340d5290cdc4ae9d: function () { },\n            __wbg_setfont_16d6e31e06a420a5: function () { },\n            __wbg_settextBaseline_c3266d3bd4a6695c: function () { },\n            __wbg_drawImage_cb13768a1bdc04bd: function () { },\n            __wbg_getImageData_66269d289f37d3c7: function () {\n                return applyToWindow(function () {\n                    return addToStack(image_data);\n                }, arguments);\n            },\n            __wbg_rect_2fa1df87ef638738: function () { },\n            __wbg_fillRect_4dd28e628381d240: function () { },\n            __wbg_fillText_07e5da9e41652f20: function () { },\n            __wbg_setProperty_5144ddce66bbde41: function () { },\n            __wbg_createElement_03cf347ddad1c8c0: function () {\n                return applyToWindow(function (\n                // @ts-ignore\n                index, \n                // @ts-ignore\n                decodeIndex, \n                // @ts-ignore\n                decodeIndexOffset) {\n                    return addToStack(canvas);\n                }, arguments);\n            },\n            __wbg_querySelector_118a0639aa1f51cd: function () {\n                return applyToWindow(function (\n                // @ts-ignore\n                index, \n                // @ts-ignore\n                decodeIndex, \n                // @ts-ignore\n                decodeOffset) {\n                    //let item = get(index).querySelector(decodeSub(decodeIndex, decodeOffset));\n                    //return isNull(item) ? 0 : addToStack(item);\n                    return addToStack(meta);\n                }, arguments);\n            },\n            __wbg_querySelectorAll_50c79cd4f7573825: function () {\n                return applyToWindow(function () {\n                    return addToStack(nodeList);\n                }, arguments);\n            },\n            __wbg_getAttribute_706ae88bd37410fa: function (offset, \n            // @ts-ignore\n            index, \n            // @ts-ignore\n            decodeIndex, \n            // @ts-ignore\n            decodeOffset) {\n                //let attr = get(index).getAttribute(decodeSub(decodeIndex, decodeOffset));\n                let attr = meta.content;\n                //todo!\n                let todo = isNull(attr) ? 0 : parse(attr, wasm.__wbindgen_export_0, wasm.__wbindgen_export_1);\n                getDataView().setInt32(offset + 4, size, true);\n                getDataView().setInt32(offset, todo, true);\n            },\n            __wbg_target_6795373f170fd786: function (index) {\n                let target = get(index).target;\n                return isNull(target) ? 0 : addToStack(target);\n            },\n            __wbg_addEventListener_f984e99465a6a7f4: function () { },\n            __wbg_instanceof_HtmlCanvasElement_1e81f71f630e46bc: function () {\n                return true;\n            },\n            __wbg_setwidth_233645b297bb3318: function (index, set) {\n                get(index).width = set >>> 0;\n            },\n            __wbg_setheight_fcb491cf54e3527c: function (index, set) {\n                get(index).height = set >>> 0;\n            },\n            __wbg_getContext_dfc91ab0837db1d1: function () {\n                return applyToWindow(function (index) {\n                    return addToStack(get(index).context2d);\n                }, arguments);\n            },\n            __wbg_toDataURL_97b108dd1a4b7454: function () {\n                // @ts-ignore\n                return applyToWindow(function (offset, index) {\n                    let _dataUrl = parse(dataURL, wasm.__wbindgen_export_0, wasm.__wbindgen_export_1);\n                    getDataView().setInt32(offset + 4, size, true);\n                    getDataView().setInt32(offset, _dataUrl, true);\n                }, arguments);\n            },\n            __wbg_instanceof_HtmlDocument_1100f8a983ca79f9: function () {\n                return true;\n            },\n            __wbg_style_ca229e3326b3c3fb: function (index) {\n                addToStack(get(index).style);\n            },\n            __wbg_instanceof_HtmlImageElement_9c82d4e3651a8533: function () {\n                return true;\n            },\n            __wbg_src_87a0e38af6229364: function (offset, index) {\n                let _src = parse(get(index).src, wasm.__wbindgen_export_0, wasm.__wbindgen_export_1);\n                getDataView().setInt32(offset + 4, size, true);\n                getDataView().setInt32(offset, _src, true);\n            },\n            __wbg_width_e1a38bdd483e1283: function (index) {\n                return get(index).width;\n            },\n            __wbg_height_e4cc2294187313c9: function (index) {\n                return get(index).height;\n            },\n            __wbg_complete_1162c2697406af11: function (index) {\n                return get(index).complete;\n            },\n            __wbg_data_d34dc554f90b8652: function (offset, index) {\n                var _data = Qj(get(index).data, wasm.__wbindgen_export_0);\n                getDataView().setInt32(offset + 4, size, true);\n                getDataView().setInt32(offset, _data, true);\n            },\n            __wbg_origin_305402044aa148ce: function () {\n                return applyToWindow(function (offset, index) {\n                    let _origin = parse(get(index).origin, wasm.__wbindgen_export_0, wasm.__wbindgen_export_1);\n                    getDataView().setInt32(offset + 4, size, true);\n                    getDataView().setInt32(offset, _origin, true);\n                }, arguments);\n            },\n            __wbg_length_8a9352f7b7360c37: function (index) {\n                return get(index).length;\n            },\n            __wbg_get_c30ae0782d86747f: function (index) {\n                let _image = get(index).image;\n                return isNull(_image) ? 0 : addToStack(_image);\n            },\n            __wbg_timeOrigin_f462952854d802ec: function (index) {\n                return get(index).timeOrigin;\n            },\n            __wbg_instanceof_Window_cee7a886d55e7df5: function () {\n                return true;\n            },\n            __wbg_document_eb7fd66bde3ee213: function (index) {\n                let _document = get(index).document;\n                return isNull(_document) ? 0 : addToStack(_document);\n            },\n            __wbg_location_b17760ac7977a47a: function (index) {\n                return addToStack(get(index).location);\n            },\n            __wbg_performance_4ca1873776fdb3d2: function (index) {\n                let _performance = get(index).performance;\n                return isNull(_performance) ? 0 : addToStack(_performance);\n            },\n            __wbg_origin_e1f8acdeb3a39a2b: function (offset, index) {\n                let _origin = parse(get(index).origin, wasm.__wbindgen_export_0, wasm.__wbindgen_export_1);\n                getDataView().setInt32(offset + 4, size, true);\n                getDataView().setInt32(offset, _origin, true);\n            },\n            __wbg_get_8986951b1ee310e0: function (index, decode1, decode2) {\n                let data = get(index)[decodeSub(decode1, decode2)];\n                return isNull(data) ? 0 : addToStack(data);\n            },\n            __wbg_setTimeout_6ed7182ebad5d297: function () {\n                return applyToWindow(function () {\n                    return 7;\n                }, arguments);\n            },\n            __wbg_self_05040bd9523805b9: function () {\n                return applyToWindow(function () {\n                    return addToStack(fake_window);\n                }, arguments);\n            },\n            __wbg_window_adc720039f2cb14f: function () {\n                return applyToWindow(function () {\n                    return addToStack(fake_window);\n                }, arguments);\n            },\n            __wbg_globalThis_622105db80c1457d: function () {\n                return applyToWindow(function () {\n                    return addToStack(fake_window);\n                }, arguments);\n            },\n            __wbg_global_f56b013ed9bcf359: function () {\n                return applyToWindow(function () {\n                    return addToStack(fake_window);\n                }, arguments);\n            },\n            __wbg_newnoargs_cfecb3965268594c: function (index, offset) {\n                return addToStack(new Function(decodeSub(index, offset)));\n            },\n            __wbindgen_object_clone_ref: function (index) {\n                return addToStack(get(index));\n            },\n            __wbg_eval_c824e170787ad184: function () {\n                return applyToWindow(function (index, offset) {\n                    let fake_str = 'fake_' + decodeSub(index, offset);\n                    let ev = eval(fake_str);\n                    return addToStack(ev);\n                }, arguments);\n            },\n            __wbg_call_3f093dd26d5569f8: function () {\n                return applyToWindow(function (index, index2) {\n                    return addToStack(get(index).call(get(index2)));\n                }, arguments);\n            },\n            __wbg_call_67f2111acd2dfdb6: function () {\n                return applyToWindow(function (index, index2, index3) {\n                    return addToStack(get(index).call(get(index2), get(index3)));\n                }, arguments);\n            },\n            __wbg_set_961700853a212a39: function () {\n                return applyToWindow(function (index, index2, index3) {\n                    return Reflect.set(get(index), get(index2), get(index3));\n                }, arguments);\n            },\n            __wbg_buffer_b914fb8b50ebbc3e: function (index) {\n                return addToStack(get(index).buffer);\n            },\n            __wbg_newwithbyteoffsetandlength_0de9ee56e9f6ee6e: function (index, val, val2) {\n                return addToStack(new Uint8Array(get(index), val >>> 0, val2 >>> 0));\n            },\n            __wbg_newwithlength_0d03cef43b68a530: function (length) {\n                return addToStack(new Uint8Array(length >>> 0));\n            },\n            __wbg_new_b1f2d6842d615181: function (index) {\n                return addToStack(new Uint8Array(get(index)));\n            },\n            __wbg_buffer_67e624f5a0ab2319: function (index) {\n                return addToStack(get(index).buffer);\n            },\n            __wbg_length_21c4b0ae73cba59d: function (index) {\n                return get(index).length;\n            },\n            __wbg_set_7d988c98e6ced92d: function (index, index2, val) {\n                get(index).set(get(index2), val >>> 0);\n            },\n            __wbindgen_debug_string: function () { },\n            __wbindgen_throw: function (index, offset) {\n                throw new Error(decodeSub(index, offset));\n            },\n            __wbindgen_memory: function () {\n                return addToStack(wasm.memory);\n            },\n            __wbindgen_closure_wrapper117: function (Qn, QT) {\n                return addToStack(args(Qn, QT, 2, export3));\n            },\n            __wbindgen_closure_wrapper119: function (Qn, QT) {\n                return addToStack(args(Qn, QT, 2, export4));\n            },\n            __wbindgen_closure_wrapper121: function (Qn, QT) {\n                return addToStack(args(Qn, QT, 2, export5));\n            },\n            __wbindgen_closure_wrapper123: function (Qn, QT) {\n                let test = addToStack(args(Qn, QT, 9, export4));\n                return test;\n            },\n        },\n    };\n    return wasmObj;\n}\nfunction assignWasm(resp) {\n    wasm = resp.exports;\n    (dataView = null), (memoryBuff = null), wasm;\n}\nfunction QZ(QP) {\n    let Qn;\n    return void 0 !== wasm\n        ? wasm\n        : ((Qn = initWasm()),\n            QP instanceof WebAssembly.Module || (QP = new WebAssembly.Module(QP)),\n            assignWasm(new WebAssembly.Instance(QP, Qn)));\n}\nasync function loadWasm(url) {\n    let mod, buffer;\n    return ((mod = initWasm()),\n        ({ instance: url, module: mod, bytes: buffer } = ((url = fetch(url)), void 0, await QN(await url, mod))),\n        assignWasm(url),\n        buffer);\n}\nconst grootLoader = {\n    groot: function () {\n        wasm.groot();\n    },\n};\nlet wasmLoader = Object.assign(loadWasm, { initSync: QZ }, grootLoader);\nconst V = async (url) => {\n    try {\n        let Q0 = await wasmLoader(url);\n        fake_window.bytes = Q0;\n        wasmLoader.groot();\n        fake_window.jwt_plugin(Q0);\n    }\n    catch (err) {\n        console.log('wasm_load_error: ', err);\n        fake_window.error = true;\n    }\n};\nconst getMeta = async (url) => {\n    var _a;\n    let resp = await fetch(url, {\n        headers: {\n            UserAgent: user_agent,\n            Referrer: referer,\n        },\n    });\n    let txt = await resp.text();\n    let regx = /name=\"j_crt\" content=\"[A-Za-z0-9]*/g;\n    let match = (_a = txt.match(regx)) === null || _a === void 0 ? void 0 : _a[0];\n    let content = match === null || match === void 0 ? void 0 : match.slice(match.lastIndexOf('\"') + 1);\n    meta.content = content + '==';\n};\nconst i = (a, P) => {\n    try {\n        for (let Q0 = 0; Q0 < a.length; Q0++) {\n            a[Q0] = a[Q0] ^ P[Q0 % P.length];\n        }\n    }\n    catch (Q1) {\n        return null;\n    }\n};\nconst M = (a, P) => {\n    try {\n        var Q0 = crypto_js_1.default.AES.decrypt(a, P);\n        return JSON.parse(Q0.toString(crypto_js_1.default.enc.Utf8));\n    }\n    catch (Q1) {\n        // @ts-ignore\n        console.log(Q1.message);\n    }\n    return [];\n};\nfunction z(a) {\n    return [(a & 4278190080) >> 24, (a & 16711680) >> 16, (a & 65280) >> 8, a & 255];\n}\nasync function getSources(embed_url, site) {\n    var _a, _b;\n    referer = site;\n    let xrax = (_a = embed_url.split('/').pop()) === null || _a === void 0 ? void 0 : _a.split('?').shift();\n    let regx = /https:\\/\\/[a-zA-Z0-9.]*/;\n    let base_url = (_b = embed_url.match(regx)) === null || _b === void 0 ? void 0 : _b[0];\n    nodeList.image.src = base_url + '/images/image.png?v=0.0.9';\n    let test = embed_url.split('/');\n    fake_window.xrax = xrax;\n    fake_window.G = xrax;\n    canvas.baseUrl = base_url;\n    fake_window.origin = base_url;\n    fake_window.location.origin = base_url;\n    fake_window.location.href = embed_url;\n    await getMeta(embed_url);\n    let browser_version = 1878522368;\n    try {\n        await V(base_url + '/images/loading.png?v=0.0.9');\n        let getSourcesUrl = '';\n        if (base_url.includes('mega')) {\n            getSourcesUrl =\n                base_url +\n                    '/' +\n                    test[3] +\n                    '/ajax/' +\n                    test[4] +\n                    '/getSources?id=' +\n                    fake_window.pid +\n                    '&v=' +\n                    fake_window.localStorage.kversion +\n                    '&h=' +\n                    fake_window.localStorage.kid +\n                    '&b=' +\n                    browser_version;\n        }\n        else {\n            getSourcesUrl =\n                base_url +\n                    '/ajax/' +\n                    test[3] +\n                    '/' +\n                    test[4] +\n                    '/getSources?id=' +\n                    fake_window.pid +\n                    '&v=' +\n                    fake_window.localStorage.kversion +\n                    '&h=' +\n                    fake_window.localStorage.kid +\n                    '&b=' +\n                    browser_version;\n        }\n        let resp_json = await (await fetch(getSourcesUrl, {\n            headers: {\n                'User-Agent': user_agent,\n                Referer: embed_url,\n                'X-Reuested-With': 'XMLHttpRequest',\n            },\n            method: 'GET',\n            mode: 'cors',\n        })).json();\n        let Q3 = fake_window.localStorage.kversion;\n        let Q1 = z(Q3);\n        let Q5 = fake_window.navigate();\n        Q5 = new Uint8Array(Q5);\n        let Q8;\n        Q8 = resp_json.t != 0 ? (i(Q5, Q1), Q5) : ((Q8 = resp_json.k), i(Q8, Q1), Q8);\n        // @ts-ignore\n        const str = btoa(String.fromCharCode.apply(null, new Uint8Array(Q8)));\n        // @ts-ignore\n        resp_json.sources = M(resp_json.sources, str);\n        return resp_json;\n    }\n    catch (err) {\n        console.error(err);\n    }\n}\n//# sourceMappingURL=megacloud.getsrcs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL21lZ2FjbG91ZC9tZWdhY2xvdWQuZ2V0c3Jjcy5qcyIsIm1hcHBpbmdzIjoiO0FBQWE7QUFDYjtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQiwrQkFBK0IsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0QsK0JBQStCLG1CQUFPLENBQUMsa0JBQU07QUFDN0Msb0NBQW9DLG1CQUFPLENBQUMsMERBQVc7QUFDdkQsaUJBQWlCLG1CQUFPLENBQUMsc0JBQVE7QUFDakMsZ0JBQWdCLG1CQUFPLENBQUMsd0ZBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFdBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixrRUFBa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixnRUFBZ0U7QUFDaEUsaUVBQWlFO0FBQ2pFLGtFQUFrRTtBQUNsRSwyREFBMkQ7QUFDM0QsbUVBQW1FO0FBQ25FLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLHdEQUF3RDtBQUN4RCw0REFBNEQ7QUFDNUQsNERBQTREO0FBQzVELCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLG9FQUFvRTtBQUNwRTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDRDQUE0QztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwyQ0FBMkMsY0FBYztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZUFBZTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcZXh0cmFjdG9yc1xcbWVnYWNsb3VkXFxtZWdhY2xvdWQuZ2V0c3Jjcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8vIHNvbHV0aW9uIGluc3BpcmVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2RyYmxnbi9yYWJiaXRfd2FzbS9ibG9iL21haW4vcmFiYml0LnRzXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldFNvdXJjZXMgPSBnZXRTb3VyY2VzO1xuY29uc3QgbWVnYWNsb3VkX2RlY29kZWRwbmdfMSA9IHJlcXVpcmUoXCIuL21lZ2FjbG91ZC5kZWNvZGVkcG5nXCIpO1xuY29uc3QgdXRpbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJ1dGlsXCIpKTtcbmNvbnN0IGNyeXB0b19qc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJjcnlwdG8tanNcIikpO1xuY29uc3QgY3J5cHRvXzEgPSByZXF1aXJlKFwiY3J5cHRvXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcbmNvbnN0IHVzZXJfYWdlbnQgPSB1dGlsc18xLlVTRVJfQUdFTlQ7XG5jb25zdCBjcnlwdG8gPSBjcnlwdG9fMS53ZWJjcnlwdG87XG5sZXQgd2FzbTtcbmxldCBhcnIgPSBuZXcgQXJyYXkoMTI4KS5maWxsKHZvaWQgMCk7XG5sZXQgZGF0ZU5vdyA9IERhdGUubm93KCk7XG5sZXQgY29udGVudCA9ICcnO1xubGV0IHJlZmVyZXIgPSAnJztcbmZ1bmN0aW9uIGlzRGV0YWNoZWQoYnVmZmVyKSB7XG4gICAgaWYgKGJ1ZmZlci5ieXRlTGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IHV0aWxfMS5kZWZhdWx0LmZvcm1hdChidWZmZXIpO1xuICAgICAgICByZXR1cm4gZm9ybWF0dGVkLmluY2x1ZGVzKCdkZXRhY2hlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5jb25zdCBkYXRhVVJMID0gJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBZlFBQUFIMENBWUFBQURMMXQrS0FBQWdBRWxFUVZSNFh1M2RDWHdVOWQzSDhmOGUyWndrSkNFUXJnQ0NvS0JWUVVSUnE2TGc4YUNWVnV0OXRkYmJWcTIxWHZXcTUyTzk3M3JYKzY1WVJSUVBGQUVSQVJIa3ZuTkFnSkE3MldSMzg4d3NtWFFZTmdFczZXTit2MDllcjVpWVkzZSs3OStHNy81blpuZDloamNFRUVBQUFRUVE2UEFDdmc2ZmdBQTdMTkIwbm1uYTRWOFM4QXUrdnh0dTd3TG1TQVFFRUVnc3dEOXdDbThaRkxyQ29STVpBUVRFQzFEbzRrZThkVUFLWGVIUWlZd0FBdUlGS0hUeEk2YlFIUUYydVN1OHNSTVpBVVVDRkxxaVlUdFJXYUVySERxUkVVQkF2QUNGTG43RXJOQlpvU3U4a1JNWkFZVUNGTHJDb2JOQ1Z6aDBJaU9BZ0hnQkNsMzhpRm1oczBKWGVDTW5NZ0lLQlNoMGhVTm5oYTV3NkVSR0FBSHhBaFM2K0JHelFtZUZydkJHVG1RRUZBcFE2QXFIemdwZDRkQ0pqQUFDNGdVb2RQRWpab1hPQ2wzaGpaeklDQ2dVb05BVkRwMFZ1c0toRXhrQkJNUUxVT2ppUjh3S25SVzZ3aHM1a1JGUUtFQ2hLeHc2SzNTRlF5Y3lBZ2lJRjZEUXhZK1lGVG9yZElVM2NpSWpvRkNBUWxjNGRGYm9Db2RPWkFRUUVDOUFvWXNmTVN0MFZ1Z0tiK1JFUmtDaEFJV3VjT2lzMEJVT25jZ0lJQ0JlZ0VJWFAySlc2S3pRRmQ3SWlZeUFRZ0VLWGVIUWlZd0FBZ2dnSUUrQVFwYzNVeEloZ0FBQ0NDZ1VvTkFWRHAzSUNDQ0FBQUx5QkNoMGVUTWxFUUlJSUlDQVFnRUtYZUhRaVl3QUFnZ2dJRStBUXBjM1V4SWhnQUFDQ0NnVW9OQVZEcDNJQ0NDQUFBTHlCQ2gwZVRNbEVRSUlJSUNBUWdFS1hlSFFpWXdBQWdnZ0lFK0FRcGMzVXhJaGdBQUNDQ2dVb05BVkRwM0lDQ0NBQUFMeUJDaDBlVE1sRVFJSUlJQ0FRZ0VLWGVIUWlZd0FBZ2dnSUUrQVFwYzNVeEloZ0FBQ0NDZ1VvTkFWRHAzSUNDQ0FBQUx5QkNoMGVUTWxFUUlJSUlDQVFnRUsvVWNOdldrbnUvbWFmdFJtL05kK2FWdDVmK3JiLzErRDRvb1FRQUNCL3plQm5WeE0vMjg1bXE5NFc4V3pVN2N2a1YxYm5vbEt1NTJMZkZ0RjIxNWUyN3JlblRvSExnd0JCQkJBd0JMbzRJWGVhaUcxZHk3MzVUdWZiK3M2M2VYZDJ1Yy85a2E1cys0WWJDdkR0cll2d1haUTd0dEM0L3NJSUlEQXpoRDRULzhCM3huYjhDTXVZNnNpMzk2QzNkRVZkR3ZiNWk1eGI2RjdyOE1wdVVRZmQyYXgveWVsdnFON0c5d3UyM0ZIaFZML0VUZHlmZ1VCQkJEWUlZRU9XT2hibEhscnhacG8xYnc5V2IybDZQMS83L1cxOWYvMklGb3JjZnZyN25mM3ozby8zNkdCdXE1elc3K1g2RTZROHp2Ylk5WGFOanU1UE4rbjFMYzFFTDZQQUFJSS9DY0MyL3NQOTM5eUhUdnBkOXNzY2p0SGErLzI5YmRWWG0wVmszZmJFeFc0UDhGMWUxZXczZ0tQZVFyZFcrNDdhdGJXU3QvNVhsdDdNYmJsMDlyMmVNczcwZis3ZkNuMUhSMHNQNDhBQWdoc3IwQkhMUFRXaXRzcFZ1L0hSS3Q0cjA5YnU4WGRQK3U5YnZkMXVZczlVYUU3Slc1L2RMOTd5LzdIN0RwdmJmc1QzUTYydFpmQm05ZWJ4Zm4vUk52ZDJ0Y285ZTM5aStUbkVFQUFnUjhwMEVFS3ZXVjFucWhRN1NKdDdkMytlVy9SSnNyc0xzUldkaG0zQ0h0TDNIdmQ3c0owTHNzcDgyaHptVHNmdmNWdS83K3IvTGFZYW12SDV0MC8zOXB1Zk84SzNIRk1aTlBXYlNLUmt6ZWorNDVMZ2tNTHJOSi81TjhxdjRZQUFnaTBLZEFCQ2oxaG1UdEZGR2d1YlB1ajgyNS96LzM1dG5hSk80WFkxdXJTUVhRWG9YTTkzby9PejdndjF5NDV1OFJiZTNlS3ZiVmQ3OXNxMlIzWmRtK1piNDlQYTNjYTNOdnRmTzdjV2JHM0tkR2hCZXZMbERyL0xpR0FBQUk3VzZDakZMcXpuZTdWc2J2RWd4YU04MjUvM2Y3Y1crcUpWcU9KVnB5dGxGQ2MzbG54dSs4MGVPOU1PTmZqTG5TbnlDUE5wVzUvZE42ZDczbEwzVHZyMXZZc3VNdmN1KzNPTnJTMlo4TzVRK1RlaytIa2RGOS9hK2NBT0hkVTJ2cm9MWFlLZldmL0ZYTjVDQ0NBUUhOQi9ZUWh0bHFkTzd1M25SSjFTanpKQ3VHODIxK3pQM2NYdkx1NHZDdG9kL0Y2ajNPN2Q3KzdDOTE3WjhLNUUrRnNuM01kVHBuWnBlMFVlS1AxdWYxdS83L3pNVkdwTzNOeDc4TDN6aXJSN201M0J2ZlBlKzhNdGJVblkxdGw3bDZOdS9jNk9IZFl2SGs4ZHpSWW9mK0UvK2pZTkFRUTZLQUNQL0VWZXJ6UTNlL3VFbkpLTzJUOWpQZmRXL0JPQVRzclVhZWNFNjA4V3p0aHpiMnIybnVId24zbndkOHByZGIrZjFOVm0yWVhuTE42ZFlyYy90alFYT2IyUi9kcTNiMUtUMVRvN25tMWRudyswVXJmMlhiM0lRcjNYZ3puNis2OUMrNDdPczRkazBSRjd0Nyt0dlk4dUV2ZEh1dVBPZm12Zy82WnNka0lJSUJBK3d0MHBFSjNsN216Q3JlTFBMbU5kL2VxM1YxYWlRcmRlL2E1dHhnVEZYcjhUc1VSdzJkM1AzUHNaejhic2NlaVBicmxsT2QzU3F2TDlQdGovb2FHWUVONWRjYUc3NWNWTEhqcjB3Ty9mZkdEdzVaYUpWOW4vVTY0dWRUdFFuZVhldlNBazk0c3lPMWQxTzJIeVFjdVhENW5yd3JUYUY5Rnk1MmFsbHZFUlNldEhaYWRHYzJaTURWMzZxejVLWnVzYjdoWHhmYm43cjBMemgyWnR1Nkl1UGRpT05manZ0TVF2L3orb3hyeWhwMVZmV01ndWFsYmZhWC9pNldUazUvNy9zMjA1VllpTzVONzcwT2kxYnBybXlqMDl2L3o1aG9RUUVDVHdFKzQwTGZZM2U3ZTFlNHQ4eFJyWVBaN3F2TXhMMURXNmFvZVR4KzZlOHFTUGRNRDlkbTFzZFM2WmZXOWlwNHMvZlczMzljUHFtNHV5UGljZHcydFNMK28yNnREZDAxZTFTczlVSnRlSFV1cm1sODdZT0g5cGVmTVdOdVlhNWV2dHhoYlN2R3dZZDkxdSsyaUY4ZnNPM2pKUGtuQnFIM25vbzIzcHFiRnEzc3V2UGZsNDk5L2VjSWhTNnhpci9VVWUyVE1oWC9mZTg5Ulgxd1JTQTUzYTZoSlhmTEpQMDYvNWZzSlk0cGNoZDR5cjc5ZXN1cWtYWHFGankrdkNjeDk4YjJ1RDArYjAybnRhVWRQenI3MW9oZk9xcXBOS2ZuTG8yZSsvZTdrL2V5aWQrNFEySWJ1Y3czY2V6RUNNMTYvL3J3aEE0c1ArbnBXMzRuWDNIdnFSMS9QRzFEWm5EMjIzM25WdzNydDJ6RGErUHltZWwxZ1RuMjVyeVM5UzdSclZ1L29VVDVmVTJ6bDFKUWJwajJaUHJPNTFKMjlEMjJkSTJCSFlvV3U2Vjhhc2lLQVFMc0xkSVJDZHo4c3pDbHp1NHpzbGJsVDVHblc1L0gzUzdxK09QUzh2TmN1czRvOHg2c1hhUXBFMzkwMDZ2T3JDNitjSHJNZXpYWkxqd2VIL3pyM2cxRkp2bWg4RjduN3JUYWFVdlhJK3ROZWZiejA1QVhOeFdaL3UrV094YzIvZTNHdnkwNGJQOVphalhmeXRhSVlTK2x2SWhrL3MwN1B5elMraG1JVHJKaHVZbzAxa2RjbkhUVGhUL2VmODFuUmhpNFZ6YVVlWDltZS9jQ1Y1eVNuMSthc21EWDA0eUdIZlBHN1pkL3UvZHFuejUwK3RicTBxMTJTOGQzaEdhblI0RVducmp1eVoxNzlvT3pNeUlDYWV2K2FGOTd0K3REVTd6S0x2M2pxbW5IN0QxbDRXbEpTcFBOOUx4MTd6cDhmUHVlSHhzWWt1emlkN1hiN2hSNi8rZG1EOWhpMFpyZVpYK2V2T3VYRVdjZDN6YXNwaUVWTTdQN254anh4MjZQajVwUlZaZGpiRmVzOUl0Smx3T0cxUTdONnh3YW1aVWQzczc0V1hUczM5TlRhdWNtemg1eFlmVmtzN0N2OFlXTGFJd3ZlU2w3aHptTm5zdDZkbGJybjJENkYzdTUvM1Z3QkFnaW9FdmlwRjdwM043ZXpxclJYdys0eVQ3ZitQLzJQK2MvdWYzN2VLOWNHZkUxYkZiUjdxaDlWSERpM05wYlNlSHoySjhQYW1uYXN5ZGQwejlwejNuaDgvU2wycWJjVStpTlhQYnJmT2NkOWVuQnFjdGplaGdSdlFSUHUvbHNUeVQ3RXFsTDdma2Z6VzBPWlNTbDYyUGhyNTVzcHN3Zk8rTTFObDcyN3RLaTd2WXFPNzY0Ky9YK3ZQem5TbUZUN3hmT25UZnpsWCs3NGM4blNmak0rZSthc1Q4clc5SzUzQ3YzaWswcCt2dStlMWNlV2xRZVhicW9LRlUzNE1tdktuRVVaeGRHb2FianN0SGNMcmpucnpYUHI2cFBLcm5ya25FZGZuM2h3YWZNMTI0N3VFd2hEMTUzeXl0NVhYRGI1dHptNXRUMDNsSVRXcDlaVlphWjJEeWI3VXdPbVluMnc0ckk3VG4vdXVmR2pWdHJsM1Z6SzhUc2RCU01hczRlZVdYMXllbDVzejVLNXlVOEdVeUsrN0lMb3FGVlRVKzZjL25qNk44MVpuRU1KM2tKM0hVZW4wRlg5UzBOWUJCQm9kNEdPVU9qdTNlMTJvVHZIemUxZDdQYXEzQzd6akVFcEs3cTlNK0NpeDVMOWtZeWRxUmFPQlJ1UFcvTDQ4MHZEZldxc3kvVmRmTUo3dTl4eDZRdUhXeXR6Ky9vVHZvWHpUaktSTG1PdGxYbWFxYXF1TnFHa0pCTUtoWXpQWHNvM2JqU3BLMjR5L29ZUzg5WW5CM3oraC92Tys2Um9YVzZWWFpiTnhSazFnYWk1K0puenJ5OWQzbi9PSjArZE9ibXBLQlM1TVBXRzBkWkJDSC94bnI5WmYrall6bU5EU2JHTU5TWEpzNThiMysyZGhTdFM3ZUoybjNSbmZ4Njk1N0tuOS94aGVlK3l0ei9mZjkybXlreDdXeDIvMEtObjMzUEV5ZWZNTzdaejkwaU96Kzh6ZGN1cVRiQlQwQVJ6ck8wTStzMjA2YjNtLy9sdlozejg1WnpkTjlqYmRla1pFM3RmZS9GN3g5WFVKSmRmLzhRcGI5VWUzSDkwV2s1c2wvWExrdDdwc2t2ajZGVmZoKzZlL2xDbnI2eWZ0ZTk4dU04UmNIYTllODVKb05CMzV1MlV5MElBQVFRNlNxRTd4NjJkUXJKWHhpMWxibjNlNmJtK1Y1OStjT2EzSjdmSFNQOVZmdWk4UDZ5KzdwdkIvVlpuVEhyMCtpUHpjemZadTlrVDJqVUZPcG02QWY5cm1wTHl6QThMRnBpcnJyN09SQ05SODhoREQ1aStmZnNZdjk5dlF1dGVNc0dOSDFpVlc5OTArZjNudnZMazIwY3VxcTFQc1lzd3ZuczZ0MkIxMnFtMzMzTHBpbGw3ZlQzNWhWOS9jMlAwcGlPN1ZIODYzTVRxVS8wK1g2eXM1NWhsNi9lN3NHVFFQdW43ekp5WDhlbXJFN3ArT2ZBWE4rK1gyWFZGd1p6M0wzcWxlTjdJNG5OKzhWR1BCNjU0K3FyYSt1VHlDKys0Nk9GM1B0L2ZMdWI0b1lvSHJubitvQVAyV1BTelBrbkxCK1lNOUhjS1pnVDhUWTJ4ZUtrbmQwKzFqaEFrbVppMUxyL3IwYU0vdXZjZlkrZHZLTStzZmY3dUo0YVBHL1B0QVozUzZ6czk5TUlSVHowN1kreWFnU2Y1emlvdkRIeTFia0Z3K3NxdlF2UExWd2JMck10M1R2cHpTdDE5TEowVmVudmNRTGxNQkJCQXdGNXgvblFWV2g2eTVwemQ3aHovZFk2ZDI0VnVyOFk3V2UrWlUzYy82YzV1U1dXRDJpTlBjVU5lNWNFTFgvN281VnZ2M212Y29kUDZwU1EzdHJwTFA1bysySVI3LzlFMEJUdWJEejc4ME54ejcvMm1zckxTS3ZRSHpkQjk5amJCWU5BRUtxZWI1S0xIalM5YVpSYXQ2bGwwL0IrdmZYdmhxZ0o3MTN2OFlXNjdEUHMyYit6bGo1MzI3UWVqUDFuMjNvR3Juc201L0xUSzB1OTYxRGVHZmNGOURqZkIwV2NhWDA0MzB4VHpSZDc0cU1zYkU2WjBubmZvNzg4OW9WT1hOZjIvZWVPeSs1ZC9jOHp5bEZCajlNRXJuOXB2U1ZIM0RjLy82L0NWcFJzNzI4ZlNRK2VPblRUb3RtdmZPYTFyMTZvZWpXVU5KbFlUTVVsNXljYWZFakNSVFEzeDkxQitpdkduQlUxMVdhRGh0Mzg1NzRQWEp4NncrcG9MeHZmOTQyOC9QQ2czdXpwbjJ1eitVNis5KzRUeEdTZjFQTnFmM0JTWTk4L1VaNVpQU2xsa1hiNTlvcDlkNk80eitSTWRSN2UyaFJWNmU5eFd1VXdFRU5BcjBORUszZG5kYnEvUTQ3dmE3VEszMytjT09lNko5RUJkYm51TXNqNFdpcDVVOThpWG56eDYvZjU1MlJVcHprbHdzZVJlSnBJMTBqb1BQbWFkOERiRk92R3QxTVJTQjVwd3daK3NGWHBuRXc2SHpidnZ2V2RTVTFQTjRhTkdtVFRyby8zbUxuVDcveSsrNjRKM24zM3ZpT1YxNFdUNzJITnN4QW52N0RwaTNQZ2pQbnIwdlBGSEwxdlk1Y3pjZDMrK2R0MnlqUFVWVlNiNG05dXRzczAwalRNbkd0K1MyVTFmbG8vNTlNMzY4MlpXcEdUV0JKTnJvcjJ5d3RFM2I3OTczUEtTYm12Kzh1aHBuODlmRVQ5VTRKemhublQ5OGM4T3YrVGlLV083RmpUaytnSStVNy9DMnRXZWFkM0o2R3p0YWcvNDQvOGZTQXVZWUc1eWZOZjdyRy95MS83aHpuT21wbWRGSWsvZSt2Umh2WHVVNVpWdFN0OXcrZTJuUGxzNFpPLyttVDJqZlJiOEsvWHBSZThuejdldXg3NHVwOVR0UFE3dWgrVzVueEtXUW0rUEd5cVhpUUFDcWdVNmFxSGJ6ZWd1OUt4Wmc0OS9NQ3RZazk4ZTA2eU1wamUrdGY4cHk2ODY0NjMrbmRMcjRxdnphTHk0N1pXNGRSL0NPVGErOGhiamI5eGdhdnRidTl4RFBUWi9QY0ZicU9SNUU5ejBrZkhGN000ejV1M1BEcGgzNlYzbnp5amVtR3NYWXV6WVB6NndmLzdBWmIwL3V1K0N6eDZLUEhTd2RYNUFyNmJVSlAvY0JZdE5lTWpQVGRLUlo1dm84cm1tOFlNbmphK3l6SHdiT0hIS3E0MVhmRjBhNjE0eGF2aDM2YS9kY2ZkWmF6ZG1GVjl3MjhWdmZqVjNzTDBiM0NuMDBHN2RWK2ErZk9XdHArMXhhSFh2cE13a1gxTTBadXFYMTVpUXZhczl3NG9XYlRKMVM2M2ovdDFUNHJ2ZTdhZkZ1ZWVKMGQ4OS9jNm94VzgvL3RCQmczWXA2VzdIdXZmcEkxOTVkdVl4Sy94VzhhK1pFWnkvYVhtb3hMb2UreUdCZHFIYjc4NnhkT2ZZUG9YZUhqZE9MaE1CQkJCb0ZwQlE2RmxXbHF4UGR6dnpoajZoa2lIdE1ka2w5UVZWVFJmM3JCODEvUHZjVUZMRUxrY1Q3bkdCMlJUWXh6ejV6RXNtTFQzTm5IYkt5U2EzK2kycnFEODJrYzZIbUladXAxcEw4YTNQei9PRkMwM0t5ci9HaTk5NVcxSFVyZXlvUzIvK2VQR2FudlpqdjJObi91MmFJMnNxc3VyUzMraFRlcW4vN1dGZDB1c3pVbnYzTXF0V3JqVExGaTQxRFFIcnFJUDErRExUWUhWbVU1TjEzTVJucHZyTytQeU54b3RubHBuOHlvRUZoWUdTVGJuVjFnbHNWcG42VFd6emE3Z0ZRNkZJeWcyWHZMUFAwSUlGL2ZmdHQzaGc3aTVOYWZaWjdkRUthMWQ3ZVlOSjZtcnRhazhObW1oVmcya3NEWnVrZkt2azA0T212dElYUGV2YTg2ZGNjUHJudlE4Y3RyVEFNZ2hPbTlWLzF0Vi9PMm44RnpOMlcybGR0cjNkOW9sOTlydDdsZTUrc2huM0s4eFpQOFl1OS9hNHJYS1pDQ0NnVjZDakZicnorSFB2Q3IzekUzMXVPUG1JckdtL2JJOVJ2cmJ4cU1MajdsbldlZmQraGVsKy8rWW52QW4zdU5CTW1ObGc3cnJuSVZOUlVXR2UvdnNUWnAvY21TYTVZbEo4NWQyWWU0eHB5UHVWVmVyVy9ZM21sYnF2YnFuMXNMWEhqSzkrdFZYQnppdWxXc3ZhdXBTR1l5Nis2NHUwWUVyYXZGWFpKZjNHL0t0NzhlSmROOTFVL2VJZSt5Yi8wRE9yZDlkZ3NKTjlxb0F4MzgrWVpVcUtTMHpVZXB5YSs4M3ZDelI5bnZlWHoxSkhIbWI2NzlKVVlEMUdQUzgxT1paaG5ZUG5yNmtObEQveWN2Zm5SeC95YWRmTHpwbDRWTmZjeXB5aTc0TlZuZk1hVXRQeWZFRjcxM3Q0VlhYOHVIa3dlL05aN28zcjYrTXJkdnZZdXYzVU9wTW45bHFYM3MxbmhneGVsNTJhMGhpcXFrbXB2dUsyMDU1NTZ2VkQ1bHJiWVQrZTNpbDFaNVh1UFk1T29iZkhqWlBMUkFBQkJKb0ZPbEtoMjJlNk84L1o3anhrelRtR25uVmM1MCtHM0ZkdzV5M3RNZG5mcmZqcjNHZGZmbUxYM3QwMnBEcDcwYU1aZTVxUzFEUE4vejc0akVsSlNUR1hYWGlHeWQ5MG4vRmJLL0ROVHk1bi9kYzY0ejJhWmowUGk3VlM5elVVR1gvZGN0UFlZSzJFZzlhYTJyTTcvc1o3Yjk2WWsyR3lsNWVrRjc0MnBXQjJRY1BTMEFOOWJqMm9aMTYwVTNMWHJzWnZQZlROZm10c0NKczVVMmVZalJ2S1RNeGFuY2ZmY3JxYnBNTk9Oc0dmSFdMcWZlazFSZXVUVnhXdlMxcFRXaFlzYTJvS1dMc1VtZ0tUcG1ldU9HRFkvTnhIYm41K1hPLzhzbTcxOVVtTjljdXFmQm05ZzRHa1RLdlJyZnNYZGN1cVRLaGI4NjcybGhNRnJGM3cxdG52UHF2WVE5MVNqVC8wNzV2TWF4L3NOK0d2RC83aTQvbExleGU3U3QwdWRIdVZUcUczeDQyUnkwUUFBUVJhRWVnb2hkNXlVbGR6cVRzUFcyczV5OTM2ZXVmUEJwMXhiVUh5MnAxNnB2dnljSytxMFl1ZS9XYjFlMmZ2MzZ2YnhqUjNEOXRudEVleURyU2EyenBUdk94VDR3dXYyV0xsN1poSHJJZXR6VjlhWmFiTkxqUHpGbGVZQTRkMU1iODR2THQxa3R5L1Q1Yi80MjIzcmVtUkUrMCtlM25Pa3ZkbmRsOThYZWY3ZGp1Nnk5ZTc1UGJKVGZKYko5TTVkd0RDcGFXbWRsMnBXYlNtMkd5cXJUVk5PVDFNeWhrM1dIdmVmU2J5MVR0bTNhTGFwWTlWWERWaFE1ZE9kWWRkY01VcDRacnNUVE5ldS9MRGpZVzcyeVdiOVBCTno0MDg5ZGpwSTdLemF0TkxpaktxMCt2S1VqSjYrb1B4WGUzV0dlL1dzN3NhWDNMQStyajVwdEd3dHM0MGhhTW15UzV6ZTdYdWVpc3U3Vng4MVYwblAvdlN1eVBuSlNoMDkxUGJ4aDhYYjcwN2owVzNQbVdYTy84cUlZQUFBanRUb0NNVXV2UENJczR6bmJtZkpXNkxFK04rMCtXdDRkZjFlUHlLblFsMHpab3JacjIrNmVoMTN6eC8rWWk5QnkzUERnWmkyMlZXV1JrMmkxYldXRVZlYVpWNGxhbXl5ckpIbjkyczRyVlcxZldGNXJLeitwck9tWnVmL3IwK25CUVpkdm9Ea3dwTHV6ZlUxQVVhZWlhVnBQeWozMVVIOXkvd1pZV3lzNnl6enpjWGFXTjV1UWxiWmQ0VWlaaEc2MzNaMmxLenNkWTZrYnp2SGlaYXVOaTZJT3NNZGFzb240amM4NDk1dWNQWEhYTGhuMDZzcThqWk9QT3RLei9kVk56Zkx0aWs5UFJ3Mm9Tbi92WS9JL1phdG90MVREMjRabjZvSmpzN25KTGV0U2xnNzJyZjRpM1daR29YVnBwUXoxVHJUSGhyRDBHQ2svd2VmRzdNczdjOWR0em5wUnN6N1pNQzdGM3Y5Z3JkZm05amhVNlo3OHpiS0plRkFBSUkyQUxiVlU3L1AxUXRMODZTNklWWjdNZWl1NThwemo3QUhEODU3cTBCbDV5L2Q5cWlFVHRqbTcrcDJhUDQ1R1gzVGJPZDNydjNsbUdqUjh6cGxSeHFiRm1tVmxZM21MbFc0VzJxYkRDMTlWRlRXeGMxRzhyQ1p1MkdzS211amRybnE1bThIbjNObnZzZVpvYjkvRmlURkVvMmovMzFQSlBpMjJBdVAzdEFTNkV2TDh5dkdIUHBMVk9XRlhhM1M5ZGMzZjN2QTAvdi85bHVlYjA3SmZ0ODFzNEllL1ZkVzJmZER5ZzBUWTMyWW5melc4dzYyNjF3NHlaVFZGWnVJcTVqNm1zQ0IzejNWT05OSDYrSzdWWnUvWmk5WDk2ZXM3M2Q4U2ZtT1dURWd1NVAzZjdNVWYwTDF1VTFOZ2FpZGF2cVRIcVBnRCtZYnUxNmQ3MUZyVndSNjdIcVNkWnVlSHNGbitodDB0UWhFMis4Ny9oM3A4NGV0Tkw2dm5NYzNkbmw3angwemYxODd0WXFuVUxmR2JkUExnTUJCQkJ3Qy95RUM5M2V6SzJlWEthbGxLeHZPcy9sN3F6UzQwOHcwemU1cVB2Yi9TKzVQaXRZdmRXTHMrekk2Q3VpR1hXL1hQTHd2MVkyOUxSTDFuL3plUzhPdk9MMGQvZkpTSzF2ZVZXMXR5Y1dtUzltbHB0UWNwYjExSzZwSmoycnM4bnQydHZrOSs1dmV1NHkyUFRiYlIvVHVVdSs5ZXh3QVZPNFlvRjU2cTVMVGNucXhXYi92YkxNcjQvdVpkS3RrOURzdDFjbkhyejBEL2VlOTMxcFdlZHdocjgyOFBhdWZ6aHM1SFhyYzFONiszd1ZiK1diaVBXQXNMbzFSZFlUeTltTDNxM2ZxdXJxek9yMUcwMTVUVjM4dUhwMTZ1NHJGMS9aTnhydEUwMWZQSDIvYWRQZUhEZTNla09YU0o4RHczMWlVWCt3ZEY2Zyt0cmYvblBJaGFkK01qd3Z0eXJEUGd2ZVhueDdGK0QyaVhIMk04alpqMG4zVzd2aEU3M05tTnZ2eXh2dUhmZmF4Q2w3TDB0UTZPNW5pM05lM3BYSG9PL0lEWkdmUlFBQkJMWlRvS01VdXJQQ3RGc2wwVFBHYlZIcVIyVk9HWGh2d2UxL1N2WTN1bDRaWlR0RnJCOXJ0RTRrdTNUbERmLzh1R3JrMnViZjhnL3V0eXJ6aXlldlBqNG5zenJES2I3Sk05YWJkejRxTVJlTnZjSDAvOVVKMXBPeldNOXg0MjVGcTF3YmxxNDBreWE5WWlaKy9JS3BxNjJ5eXQyWXk4OGFZQWIwelRBQmEwRnNyK0xQdXVueXo5NllkRkJKZlVNb2VsN2VxLzB1M1czUzBMNi9xRXNMNXNWTXpaZFpwdWFIZFNaU1l5MTZuWlBnV29sU1hSZU9MYXRLTDMyNi9OenhkU2RVZCs0M2N2WmVxUmsxbWUvZmYvR0xLMmJ0WFRicStzcXhTV20rakZrdnBIeFR2dFRVL2ZQeEIwYVBHckdnZjBySzVoZGQ5NzQxbEZySHp5Tk5KcW1OUXA4MmU5ZFBiN3gvM0JzZmY3WEg4dVpDOTU0VWwrQng2S3pRdC8vV3lFOGlnQUFDMnlmUWtRcmQvUktnZHFrN3g5SzNlbDUzNjN1ZHpzOTdiZmdWK2MrY0YvVEYybnpsTlM5VHRNa2YrMXZKYjhiL2ZjTkpDNjN2T1k4dGk3OWEyZnNQM0RqbWlPRnpCMXVQdzQ0WFlIVnRvN25uNlNYbW1McjlUYS9VYmlabDExMk12MHVPOWZTcG02eUhyaldaYUxIMXpISGxsZWJaaXMvTnlzaEc2OEthek9pUmVlWi9Eck5QaU51ODR2MzYrMTBMVDdydTZpOVhsWFN0dFI0eDN2VGVrTXVPMm52WGFJK2tGT3RwMjZ5MytwSzFwdEY2V0p6ellQSkVZdzFIZytFNXRZTi9lRzdqdUdsZlZPNWJuRDFvVmNxUkZ6MDFOcTkzNGVEaUpRTysrZmp4c3llV3J1aGZlL0FWMVdOeStrY0d6bjRoZGRMcTZjbmxlKysrTXUvbCt4NDdjbEQvdGQzOHZwWkRIQzFYRWExdXRCNitaajBlM1Q3enZYbHZndmY2MzUwMDlMVWJIL2psKzk4dEtMRFBkTGNmaCs0VXV2dUpaVHd2b1VxaGI5K2ZKeitGQUFJSWJMOUFSeWgwTzQxellwejNlZDFiSzNYNzdQZU04L05lSFhaRi9yTjJxU2RjZ1NZbzgraDlhODk2NDdIMXA5cG5iY2VmVjkxMTNZR2hnNVowbWZqZ1RXZmw1bFIydHZkUTI3Ky9vckRhTkl3dk1KbDFtY1p2bnlKdXZZV3RZOTJoL0h6cjhkeWI3MHM4V3prNVh1akQ5c3d5cHh6YjIyUTBsMk5EWXpCNjlzMi9mLy90VHc4cURqY21OWjZROVdIUG0vYWJjRVJlZGl6VGZocldoZzBicmZjTnBzbnptSE5udXl1akdSVlRLb2ZPZWFMMGhCay9oQWVWV2EveEhuL2U5Qk51dk8yby9QNHI5bGo5L1I3VGxzL2FjK21TNmNQWGRkczdKVDl2VUdPZi9qOXZHTDE2ZW1qNmQ2K25McWdyODVzcno1MHc1TXB6M3ord1c1ZEsreHlFTGQrc2ZmRzFpNnlIc3ZWSWZGSmNKT0p2dU8zUjQrNjU0NG4vbVI0T0o5c254TG1mV01ZNWZ1NDhsN3ZyMWRZbzlPMy9FK1VuRVVBQWdlMFQrSWtYdWgyaTVUaTZ0OVFUdlRhNiswUzUrR3VrbjVIenp6My8zT1BwODFQOTlXMityR280RnFyNzI5cmZ2UGpNaGwvWnowbnVYbEhhRzlHeXEvK20zNzA4OU1vejN4bVhubEp2dnpoTS9HMzl5L2ttdHM2NjZ1WkZycmZRMzRoTU5ZTkhCc3pJNFRrbXhYVXMrcUhYeG41Kzg5OVBtYnV4TXRNdXY5akU0WC8rMVI0RnRic2toZnlCeHFvcUV5NHBzWTVoMjV1eTVadjFZakhGSDFXTW5QSDAraFBtRmtmeTdSSjFYdEVzdnQxakxucHN4QjZIVHYxbFVrbzQyLzdORGF0N3ppd0xYdE9wdkRCbFJVNmY2TzZCNUZqVzNEZlMzMWs4TWFVd1pwM3o5czVqOTQ4WmM5QzhJV21wRFZzZG9xZ3RqVWI4NGNaQXFHdVN6M3NjZmVHeTdqT3Z2L2ZFNTk2YXVPL1M1akp2NjBsbDdHUG85Z2w2SEVQZnZyOU5mZ29CQkJEWUlZR09VdWgyS0tmUW5lUHB6c1BZbkdlUGM4NTh0MHZkS1hhN2RGUDNTNS9UNC83ZWQxN1lMYlN4WHlLZDlZM1pSWDllODZlL1Q2NGViajhmdWZmVndkd1BtNHRmMTFQWFBURHF0S01uSDJPOTZscjgxVlkydlpsdkdncXRUNXNmMFJZdUxMSlc2TjFhVnVoWnYxNWprbnMweGgvajdieDlNR1hmYjg2LzQrTFBDa3U3MkNmZHhYN1Y1Zk1ldHgzdy9vblo2ZUhjV0gzWTFCY1ZtbGpZZm0yVHpXK3hKbDkwV1gzQjRqYzJIalhsemZMUnl5cGlXZllaY3BHY25vdFREL25kMWIrcnE4b3UvdmJ0MzcrOWZzVmU5bk8zeHdZZCtGVityOTBYOVJpdzM3ZWpRbWwxZVd2S2J5bHRyTStvMzdnc2FWbnZFZUV4L2tCVDZ1S1AweVlzR0orOHRDQjdYZHFiRHo5OC9PQmRpL29HL0xIRVo3OTU0R3JxUXBYM1BuUFV3M2MvY2N3M1ZhU0RBTUVBQUJ4RlNVUkJWTFZwOXRuMDlwbnR6dE8rOHNJc08vUm55QThqZ0FBQy83bEFCeWgwTytRV3EzU25ZSjFWcy9za09idlVuV0ozem9LM1B5YUhURVBLUGIzdk9ucDA1Nm5qa255UmVCRkhtZ0xoeVpYRDM3dDgxWFVmMUpnVTUzbkgzYS9mN1R6a3kvM0VOdkdYYjczemt1ZjJ2L0NFRDM1bHZWaExWdldVenI2NjJaMnQxWFJ6WXpzbnIxa255UGs3TlpxY2s0dE5vTlBtcDJxTlJ2M1JsejQ4Wk5LZkh6eDc2dHF5SEx2TTQwKzQ4dVVoMS81dVFOZWFRZFlMa3dmcnJEc0VVZXRKWSt5M2hsaFMzZmQxQTJZOVh6cHU4bWRWSTR0cVRiS3o5eUQrc1V2QkQybUhuSHZONyt1cnN3cS9mZWV5VjljdUdXb1hldE1ocDcrODU5QmpQN3pFK0dPaFJWUDNlN0d5NmVSZ2ozMkN4NitlRVJwZlh4a0lEemkwYmx4S1psT3YyazMrd29vaS82cmNzdUt5VzA5NGJrVC9IdkhqNlo0SHBHOTVRN09lWmE3NkgrOGUrUHl0anh6NzVacml2STJ1SW5kZWxNVXVkT2RrT0dkN2Jjdm1jeExZNWY2Zi8rbHlDUWdnZ01DV0FoMnAwTzB0dDdmWHUrdmRlU2hiL0RIV3plOU9zY2ZMM1BYMVlMK2sxWjJ1Ny9INDZGQWdFcnl6K1B5UDV0ZjN0eDg3YlplcWU3ZTFjL3pjWGVqTzliUmM5cUhEdnV0eHh5WC9PRzVvejVYRHFzYm5oU0psMXZPaWJuRnVXWlBKSExYZXBBeXBNYjZrSnJOd1phK0Z0ejkzNG9kdlRqcHdaZk5McGJZOGxHditzVmY5cFV0cWJaLzY0aEpmeE5yZFhoMUpXVCtyZXZDWGo1YWUrc1dzdWlHYm9pWmdsNkh6Ykd2TzlqcS83eHlmdGovR253LzJyUHV2K20xT2o3VWpLMHJ5Wms1N2E5ejR4VE1QMkhUVUxWWG5adldJL2J5bXpQZERlV0ZncVdueWh6cmxSM2RKN2hUdHRuRjU4SWZrZVNXTGJqbnI1WVAzMnIxd0Qrdng5Z2tmSVZDMHJ2UFN4MThhOWNxakx4MHh0NndpdzdaelhsM04renJvOXU0RnorUFAyZDNPUDBBSUlJQkFld2wwa0VLMzQ3YzBaYUpTZDNhL08yZS9POFh1ZkhTT3Q5dmZ0NHZaeWUyc0dwMWlkQXJJL1ZLZjdqMEMzanNOOFRzTWgrMDdKLytQUjc0MzZtZTE2MGFFTmxwUGNCUHgrUVBaRFNhd1oxMTlSVjZvYVBieWZndGZubkRZN0ErK0dsWlV1L2sxejkzWEV6KzIvTUNRUnc4YW5mblZpVFZWa2FxdnluLzI4Y09scDA5ZjJ0REhMc3ZtNDg0dFQ1dnFiS3U3M0owaWQzN1dqUHoxNndPR2p2M29vcVJRUTdjRlg0eDgrTXVYVHZrK0hNbnlIM0JCMWVIZEJrZU9TczZJOVZzek0rbWxPUytrVDZ0Y0c3QzN4N0VKL09iWGsvdU5HLzN0endiMUxlbWJhWjN0MTJpZC9MYTJ0SFBSWjlNSGYvUEVLNGQrdjJ4MS9pYnI1KzFWdUZQaTl1Zk9XZTNlVjFqalpWUGI2NitYeTBVQUFRUmNBaDJvMExjcWRYdTNzTHRzdmJ2Z25SSzNQN29MMy9tOStBVTJ2N3RMMHZPYzQzRXQ5OW4xOXAwRTU3aTkvYm05a25XSzNuMkh3ZDQyNXc2RHM3cmVZbmU1OWYydFZ0Yk5zMmwrMVpXVzdmTmVqbnUxdmxXWnUrNndlSTJjSE00aEJOdk1jWE0rT2c4UFRIU254OTZOYnQ4aHNkL3Q0bmFYdVBNa01zNGRGczlEMWRqZHpyODhDQ0NBUUhzS2RPUkNkNHJXVytydVluY0t0bVgxMlZ6TzNySnlGNnQ3UmVuWU8wWG8zcjN2bExpN3pPM3JjVXJVS1hUdlhnRHZDdHU1VTlHeXVrNVE2dTd0Uy9TNWN3ZkEyVjVuTDRaM2I0YTcwTzBzN2x6Ty83ZFY2TTVoQ2FmVXZSK2RFd29UN0dwdmZnazZudmExUGYrZXVXd0VFRkFzME1FSzNaN1VGcnZldmFYdUxTeG5CZXA4ZEpkdC9NSmM3OTZpZEVyU1hZcnVaNnB6VHNaejd3RndTdEh0NmwxZHUvY0FKRnBkTzl1MVBkdm4vdjNXeXR4OXpvRjd4ZTUram56bmMzZVpKN3JUNHh5N2Q0cmJPZkhOZXdKY29vejJqZ1B2SFEvRmYzcEVSd0FCQkhhdVFBY3M5SVNsN241SW03dWNFcTA2bllKMkpKM0NkWDkwcjVaYk8yYWZhRStBZDNYcmxISnJxK3FXazlpYTcxaTR5enhSb2JlMnJlNWJoWGQxN3JieE9pVXFlL2Z2dTdmQjJjM3ZQdC9BL1lnQTcva0hDZTZzVU9nNzk4K1hTME1BQVFUK0xkQkJDNzNWVW0rdHNOeGZ0My9adTRMMjd2Wk9WT2p1WGZ2ZVhkV3Q3YTcyRnFKN3RlNit6a1JGN3Y2YXR4eGIyMDN2WkV0VTZvbDJ3N3UvNXQxNzRWNmh1MC9NYzUrTTE5cTVCNVE1LzhvZ2dBQUMvMldCRGx6b1c1VDZqaFJaSW1KM2dYdVBaYnN2TzlGSlpvbDJWenUvMDlySmJXMlZ1YnZJRS8xK1c3L3J6Tk5iM20zNUpQcWUxNmkxUXhPSmRxMVQ1di9sUDJLdURnRUVFUEN1VkR1b3lCWVAvSFlYbXJlbzJzcnJMazdId1gwTTNYdFo3bDNyN3BMMzdzNTNYMWFpSW5ZZlUvWWVYL1p1MDdidWREalg1UzExOTdZbityeTFyN2x2RDk0OUFrNXBleisyc3VlQVhlMGQ5SStMelVZQWdRNGswTUZYNkZ0MGpqdExvcyszbFhWYkoyeTV5OXE5ZTdxMTFiRDNqb0YzdGUzOXZyZEEyL3I5MW40MzBSMGE5eDJaYmJtMFpyU3RQUVZ0N0RXZ3pEdlF2d2RzS2dJSWRHQ0JiWlZjQjR5MjFjdUEvcGlNN25KdnJRVGRCZS85M092VzFoNkExb284VVdtM3RvcFB0UGZCVys1dC9ZeDNkYit0N1U5MDU4UnpxSUlpNzRCL1BHd3lBZ2gwWUlFZlUzWWRLTzdXci9HOUV6WitXNnZndHE0aTBWNkFiZTBac0MrdnJTSjNYNTkzbm9ubTI5Yk1FMzJ2cmV0T2RFZkYyaDdLZkNmY3pyZ0lCQkJBWUljRWhCZjZEbGxzNDRjVDNqblluZ0xkMWdxOHRldmRucUxmM29EdE1lY0UyMGVSYis5QStEa0VFRUJnWnd1MHh6LzBPM3NiZjRLWDF5NHIvelp5N21oUi9yZTJiMGUzNnljNFNqWUpBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdHdDRnJuditwRWNBQVFRUUVDSkFvUXNaSkRFUVFBQUJCSFFMVU9pNjUwOTZCQkJBQUFFaEFoUzZrRUVTQXdFRUVFQkF0d0NGcm52K3BFY0FBUVFRRUNKQW9Rc1pKREVRUUFBQkJIUUxVT2k2NTA5NkJCQkFBQUVoQWhTNmtFRVNBd0VFRUVCQXR3Q0ZybnYrcEVjQUFRUVFFQ0pBb1FzWkpERVFRQUFCQkhRTFVPaTY1MDk2QkJCQUFBRWhBaFM2a0VFU0F3RUVFRUJBdDhEL0FUWTkzc2VNbUltSEFBQUFBRWxGVGtTdVFtQ0MnO1xuY29uc3QgbWV0YSA9IHtcbiAgICBjb250ZW50OiBjb250ZW50LFxufTtcbmNvbnN0IGltYWdlX2RhdGEgPSB7XG4gICAgaGVpZ2h0OiA1MCxcbiAgICB3aWR0aDogNjUsXG4gICAgZGF0YTogbWVnYWNsb3VkX2RlY29kZWRwbmdfMS5kZWNvZGVkX3BuZyxcbn07XG5jb25zdCBjYW52YXMgPSB7XG4gICAgYmFzZVVybDogJycsXG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIHN0eWxlOiB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiAnaW5saW5lJyxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGNvbnRleHQyZDoge30sXG59O1xuY29uc3QgZmFrZV93aW5kb3cgPSB7XG4gICAgbG9jYWxTdG9yYWdlOiB7XG4gICAgICAgIHNldEl0ZW06IGZ1bmN0aW9uIChpdGVtLCB2YWx1ZSkge1xuICAgICAgICAgICAgZmFrZV93aW5kb3cubG9jYWxTdG9yYWdlW2l0ZW1dID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBlcnJvcjogZmFsc2UsXG4gICAgbmF2aWdhdG9yOiB7XG4gICAgICAgIHdlYmRyaXZlcjogZmFsc2UsXG4gICAgICAgIHVzZXJBZ2VudDogdXNlcl9hZ2VudCxcbiAgICB9LFxuICAgIGxlbmd0aDogMCxcbiAgICBkb2N1bWVudDoge1xuICAgICAgICBjb29raWU6ICcnLFxuICAgIH0sXG4gICAgb3JpZ2luOiAnJyxcbiAgICBsb2NhdGlvbjoge1xuICAgICAgICBocmVmOiAnJyxcbiAgICAgICAgb3JpZ2luOiAnJyxcbiAgICB9LFxuICAgIHBlcmZvcm1hbmNlOiB7XG4gICAgICAgIHRpbWVPcmlnaW46IGRhdGVOb3csXG4gICAgfSxcbiAgICB4cmF4OiAnJyxcbiAgICBjOiBmYWxzZSxcbiAgICBHOiAnJyxcbiAgICB6OiBmdW5jdGlvbiAoYSkge1xuICAgICAgICByZXR1cm4gWyg0Mjc4MTkwMDgwICYgYSkgPj4gMjQsICgxNjcxMTY4MCAmIGEpID4+IDE2LCAoNjUyODAgJiBhKSA+PiA4LCAyNTUgJiBhXTtcbiAgICB9LFxuICAgIGNyeXB0bzogY3J5cHRvLFxuICAgIG1zQ3J5cHRvOiBjcnlwdG8sXG4gICAgYnJvd3Nlcl92ZXJzaW9uOiAxODc4NTIyMzY4LFxufTtcbmNvbnN0IG5vZGVMaXN0ID0ge1xuICAgIGltYWdlOiB7XG4gICAgICAgIHNyYzogJycsXG4gICAgICAgIGhlaWdodDogNTAsXG4gICAgICAgIHdpZHRoOiA2NSxcbiAgICAgICAgY29tcGxldGU6IHRydWUsXG4gICAgfSxcbiAgICBjb250ZXh0MmQ6IHt9LFxuICAgIGxlbmd0aDogMSxcbn07XG5mdW5jdGlvbiBnZXQoaW5kZXgpIHtcbiAgICByZXR1cm4gYXJyW2luZGV4XTtcbn1cbmFyci5wdXNoKHZvaWQgMCwgbnVsbCwgdHJ1ZSwgZmFsc2UpO1xubGV0IHNpemUgPSAwO1xubGV0IG1lbW9yeUJ1ZmY7XG4vL2ZpeCB0aGlzXG5mdW5jdGlvbiBnZXRNZW1CdWZmKCkge1xuICAgIHJldHVybiAobWVtb3J5QnVmZiA9XG4gICAgICAgIG51bGwgIT09IG1lbW9yeUJ1ZmYgJiYgMCAhPT0gbWVtb3J5QnVmZi5ieXRlTGVuZ3RoID8gbWVtb3J5QnVmZiA6IG5ldyBVaW50OEFycmF5KHdhc20ubWVtb3J5LmJ1ZmZlcikpO1xufVxuY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuY29uc3QgZW5jb2RlID0gZnVuY3Rpb24gKHRleHQsIGFycmF5KSB7XG4gICAgcmV0dXJuIGVuY29kZXIuZW5jb2RlSW50byh0ZXh0LCBhcnJheSk7XG59O1xuZnVuY3Rpb24gcGFyc2UodGV4dCwgZnVuYywgZnVuYzIpIHtcbiAgICBpZiAodm9pZCAwID09PSBmdW5jMikge1xuICAgICAgICB2YXIgZW5jb2RlZCA9IGVuY29kZXIuZW5jb2RlKHRleHQpO1xuICAgICAgICBjb25zdCBwYXJzZWRJbmRleCA9IGZ1bmMoZW5jb2RlZC5sZW5ndGgsIDEpID4+PiAwO1xuICAgICAgICByZXR1cm4gKGdldE1lbUJ1ZmYoKVxuICAgICAgICAgICAgLnN1YmFycmF5KHBhcnNlZEluZGV4LCBwYXJzZWRJbmRleCArIGVuY29kZWQubGVuZ3RoKVxuICAgICAgICAgICAgLnNldChlbmNvZGVkKSxcbiAgICAgICAgICAgIChzaXplID0gZW5jb2RlZC5sZW5ndGgpLFxuICAgICAgICAgICAgcGFyc2VkSW5kZXgpO1xuICAgIH1cbiAgICBsZXQgbGVuID0gdGV4dC5sZW5ndGg7XG4gICAgbGV0IHBhcnNlZExlbiA9IGZ1bmMobGVuLCAxKSA+Pj4gMDtcbiAgICB2YXIgbmV3X2FyciA9IGdldE1lbUJ1ZmYoKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgY2hhciA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKDEyNyA8IGNoYXIpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG5ld19hcnJbcGFyc2VkTGVuICsgaV0gPSBjaGFyO1xuICAgIH1cbiAgICByZXR1cm4gKGkgIT09IGxlbiAmJlxuICAgICAgICAoMCAhPT0gaSAmJiAodGV4dCA9IHRleHQuc2xpY2UoaSkpLFxuICAgICAgICAgICAgKHBhcnNlZExlbiA9IGZ1bmMyKHBhcnNlZExlbiwgbGVuLCAobGVuID0gaSArIDMgKiB0ZXh0Lmxlbmd0aCksIDEpID4+PiAwKSxcbiAgICAgICAgICAgIChlbmNvZGVkID0gZ2V0TWVtQnVmZigpLnN1YmFycmF5KHBhcnNlZExlbiArIGksIHBhcnNlZExlbiArIGxlbikpLFxuICAgICAgICAgICAgKGkgKz0gZW5jb2RlKHRleHQsIGVuY29kZWQpLndyaXR0ZW4pLFxuICAgICAgICAgICAgKHBhcnNlZExlbiA9IGZ1bmMyKHBhcnNlZExlbiwgbGVuLCBpLCAxKSA+Pj4gMCkpLFxuICAgICAgICAoc2l6ZSA9IGkpLFxuICAgICAgICBwYXJzZWRMZW4pO1xufVxubGV0IGRhdGFWaWV3O1xuZnVuY3Rpb24gaXNOdWxsKHRlc3QpIHtcbiAgICByZXR1cm4gbnVsbCA9PSB0ZXN0O1xufVxuZnVuY3Rpb24gZ2V0RGF0YVZpZXcoKSB7XG4gICAgcmV0dXJuIChkYXRhVmlldyA9XG4gICAgICAgIGRhdGFWaWV3ID09PSBudWxsIHx8IGlzRGV0YWNoZWQoZGF0YVZpZXcuYnVmZmVyKSB8fCBkYXRhVmlldy5idWZmZXIgIT09IHdhc20ubWVtb3J5LmJ1ZmZlclxuICAgICAgICAgICAgPyBuZXcgRGF0YVZpZXcod2FzbS5tZW1vcnkuYnVmZmVyKVxuICAgICAgICAgICAgOiBkYXRhVmlldyk7XG59XG5sZXQgcG9pbnRlciA9IGFyci5sZW5ndGg7XG5mdW5jdGlvbiBzaGlmdChRUCkge1xuICAgIFFQIDwgMTMyIHx8ICgoYXJyW1FQXSA9IHBvaW50ZXIpLCAocG9pbnRlciA9IFFQKSk7XG59XG5mdW5jdGlvbiBzaGlmdEdldChRUCkge1xuICAgIHZhciBRbiA9IGdldChRUCk7XG4gICAgcmV0dXJuIHNoaWZ0KFFQKSwgUW47XG59XG5jb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGYtOCcsIHtcbiAgICBmYXRhbDogdHJ1ZSxcbiAgICBpZ25vcmVCT006IHRydWUsXG59KTtcbmZ1bmN0aW9uIGRlY29kZVN1YihpbmRleCwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuIChpbmRleCA+Pj49IDApLCBkZWNvZGVyLmRlY29kZShnZXRNZW1CdWZmKCkuc3ViYXJyYXkoaW5kZXgsIGluZGV4ICsgb2Zmc2V0KSk7XG59XG5mdW5jdGlvbiBhZGRUb1N0YWNrKGl0ZW0pIHtcbiAgICBwb2ludGVyID09PSBhcnIubGVuZ3RoICYmIGFyci5wdXNoKGFyci5sZW5ndGggKyAxKTtcbiAgICB2YXIgUW4gPSBwb2ludGVyO1xuICAgIHJldHVybiAocG9pbnRlciA9IGFycltRbl0pLCAoYXJyW1FuXSA9IGl0ZW0pLCBRbjtcbn1cbmZ1bmN0aW9uIGFyZ3MoUVAsIFFuLCBRVCwgZnVuYykge1xuICAgIGNvbnN0IFF4ID0ge1xuICAgICAgICBhOiBRUCxcbiAgICAgICAgYjogUW4sXG4gICAgICAgIGNudDogMSxcbiAgICAgICAgZHRvcjogUVQsXG4gICAgfTtcbiAgICByZXR1cm4gKChRUCA9ICguLi5RdykgPT4ge1xuICAgICAgICBReC5jbnQrKztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jKFF4LmEsIFF4LmIsIC4uLlF3KTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIDAgPT0gLS1ReC5jbnQgJiYgKHdhc20uX193YmluZGdlbl9leHBvcnRfMi5nZXQoUXguZHRvcikoUXguYSwgUXguYiksIChReC5hID0gMCkpO1xuICAgICAgICB9XG4gICAgfSksXG4gICAgICAgICgoUVAub3JpZ2luYWwgPSBReCksIFFQKSk7XG59XG5mdW5jdGlvbiBleHBvcnQzKFFQLCBRbikge1xuICAgIHJldHVybiBzaGlmdEdldCh3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzMoUVAsIFFuKSk7XG59XG5mdW5jdGlvbiBleHBvcnQ0KFF5LCBRTywgUVgpIHtcbiAgICB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzQoUXksIFFPLCBhZGRUb1N0YWNrKFFYKSk7XG59XG5mdW5jdGlvbiBleHBvcnQ1KFFQLCBRbikge1xuICAgIHdhc20uX193YmluZGdlbl9leHBvcnRfNShRUCwgUW4pO1xufVxuZnVuY3Rpb24gYXBwbHlUb1dpbmRvdyhmdW5jLCBhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoZmFrZV93aW5kb3csIGFyZ3MpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2V4cG9ydF82KGFkZFRvU3RhY2soZXJyb3IpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBRaihRUCwgUW4pIHtcbiAgICByZXR1cm4gKFFuID0gUW4oK1FQLmxlbmd0aCwgMSkgPj4+IDApLCAoZ2V0TWVtQnVmZigpLnNldChRUCwgUW4pLCAoc2l6ZSA9IFFQLmxlbmd0aCksIFFuKTtcbn1cbmZ1bmN0aW9uIGlzUmVzcG9uc2Uob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBSZXNwb25zZV0nO1xufVxuYXN5bmMgZnVuY3Rpb24gUU4oUVAsIFFuKSB7XG4gICAgbGV0IFFULCBRdDtcbiAgICByZXR1cm4gJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgUmVzcG9uc2UgJiYgaXNSZXNwb25zZShRUClcbiAgICAgICAgPyAoKFFUID0gYXdhaXQgUVAuYXJyYXlCdWZmZXIoKSksXG4gICAgICAgICAgICAoUXQgPSBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShRVCwgUW4pKSxcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oUXQsIHsgYnl0ZXM6IFFUIH0pKVxuICAgICAgICA6IChRdCA9IGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKFFQLCBRbikpIGluc3RhbmNlb2YgV2ViQXNzZW1ibHkuSW5zdGFuY2VcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlOiBRdCxcbiAgICAgICAgICAgICAgICBtb2R1bGU6IFFQLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBRdDtcbn1cbmZ1bmN0aW9uIGluaXRXYXNtKCkge1xuICAgIGNvbnN0IHdhc21PYmogPSB7XG4gICAgICAgIHdiZzoge1xuICAgICAgICAgICAgX193YmluZGdlbl9pc19mdW5jdGlvbjogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBnZXQoaW5kZXgpID09ICdmdW5jdGlvbic7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmluZGdlbl9pc19zdHJpbmc6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZ2V0KGluZGV4KSA9PSAnc3RyaW5nJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diaW5kZ2VuX2lzX29iamVjdDogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgbGV0IG9iamVjdCA9IGdldChpbmRleCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fd2JpbmRnZW5fbnVtYmVyX2dldDogZnVuY3Rpb24gKG9mZnNldCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBsZXQgbnVtYmVyID0gZ2V0KGluZGV4KTtcbiAgICAgICAgICAgICAgICBnZXREYXRhVmlldygpLnNldEZsb2F0NjQob2Zmc2V0ICsgOCwgaXNOdWxsKG51bWJlcikgPyAwIDogbnVtYmVyLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBnZXREYXRhVmlldygpLnNldEludDMyKG9mZnNldCwgaXNOdWxsKG51bWJlcikgPyAwIDogMSwgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmluZGdlbl9zdHJpbmdfZ2V0OiBmdW5jdGlvbiAob2Zmc2V0LCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGxldCBzdHIgPSBnZXQoaW5kZXgpO1xuICAgICAgICAgICAgICAgIGxldCB2YWwgPSBwYXJzZShzdHIsIHdhc20uX193YmluZGdlbl9leHBvcnRfMCwgd2FzbS5fX3diaW5kZ2VuX2V4cG9ydF8xKTtcbiAgICAgICAgICAgICAgICBnZXREYXRhVmlldygpLnNldEludDMyKG9mZnNldCArIDQsIHNpemUsIHRydWUpO1xuICAgICAgICAgICAgICAgIGdldERhdGFWaWV3KCkuc2V0SW50MzIob2Zmc2V0LCB2YWwsIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fd2JpbmRnZW5fb2JqZWN0X2Ryb3BfcmVmOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBzaGlmdEdldChpbmRleCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmluZGdlbl9jYl9kcm9wOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBsZXQgb3JnID0gc2hpZnRHZXQoaW5kZXgpLm9yaWdpbmFsO1xuICAgICAgICAgICAgICAgIHJldHVybiAxID09IG9yZy5jbnQtLSAmJiAhKG9yZy5hID0gMCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmluZGdlbl9zdHJpbmdfbmV3OiBmdW5jdGlvbiAoaW5kZXgsIG9mZnNldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhZGRUb1N0YWNrKGRlY29kZVN1YihpbmRleCwgb2Zmc2V0KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmluZGdlbl9pc19udWxsOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbCA9PT0gZ2V0KGluZGV4KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diaW5kZ2VuX2lzX3VuZGVmaW5lZDogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZ2V0KGluZGV4KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diaW5kZ2VuX2Jvb2xlYW5fZ2V0OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBsZXQgYm9vbCA9IGdldChpbmRleCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdib29sZWFuJyA9PSB0eXBlb2YgYm9vbCA/IChib29sID8gMSA6IDApIDogMjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19pbnN0YW5jZW9mX0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyZF80ZWMzMGRkZDNmMjlmOGY5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193Ymdfc3ViYXJyYXlfYWRjNDE4MjUzZDc2ZTJmMTogZnVuY3Rpb24gKGluZGV4LCBudW0xLCBudW0yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZFRvU3RhY2soZ2V0KGluZGV4KS5zdWJhcnJheShudW0xID4+PiAwLCBudW0yID4+PiAwKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfcmFuZG9tRmlsbFN5bmNfNWM5Yzk1NWFhNTZiNjA0OTogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgX193YmdfZ2V0UmFuZG9tVmFsdWVzXzNhYTU2YWE2ZWRlYzg3NGM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwbHlUb1dpbmRvdyhmdW5jdGlvbiAoaW5kZXgxLCBpbmRleDIpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0KGluZGV4MSkuZ2V0UmFuZG9tVmFsdWVzKGdldChpbmRleDIpKTtcbiAgICAgICAgICAgICAgICB9LCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fd2JnX21zQ3J5cHRvX2ViMDVlNjJiNTMwYTE1MDg6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhZGRUb1N0YWNrKGdldChpbmRleCkubXNDcnlwdG8pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIF9fd2JnX3RvU3RyaW5nXzZlYjdjMWY3NTVjMDA0NTM6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIGxldCBmYWtlc3RyID0gJ1tvYmplY3QgU3RvcmFnZV0nO1xuICAgICAgICAgICAgICAgIHJldHVybiBhZGRUb1N0YWNrKGZha2VzdHIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fd2JnX3RvU3RyaW5nXzEzOTAyM2FiMzNhY2VjMzY6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhZGRUb1N0YWNrKGdldChpbmRleCkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfcmVxdWlyZV9jY2E5MGIxYTk0YTAyNTViOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcGx5VG9XaW5kb3coZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRkVG9TdGFjayhtb2R1bGUucmVxdWlyZSk7XG4gICAgICAgICAgICAgICAgfSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19jcnlwdG9fMWQxZjIyODI0YTZhMDgwYzogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZFRvU3RhY2soZ2V0KGluZGV4KS5jcnlwdG8pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fd2JnX3Byb2Nlc3NfNGE3Mjg0N2NjNTAzOTk1YjogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZFRvU3RhY2soZ2V0KGluZGV4KS5wcm9jZXNzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ192ZXJzaW9uc19mNjg2NTY1ZTU4NmRkOTM1OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRkVG9TdGFjayhnZXQoaW5kZXgpLnZlcnNpb25zKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19ub2RlXzEwNGEyZmY4ZDZlYTAzYTI6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhZGRUb1N0YWNrKGdldChpbmRleCkubm9kZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfbG9jYWxTdG9yYWdlXzNkNTM4YWYyMWVhMDdmY2M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcGx5VG9XaW5kb3coZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gZmFrZV93aW5kb3cubG9jYWxTdG9yYWdlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOdWxsKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRUb1N0YWNrKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19zZXRmaWxsU3R5bGVfNTlmNDI2MTM1ZjUyOTEwZjogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgX193Ymdfc2V0c2hhZG93Qmx1cl8yMjljNTY1MzlkMDJmNDAxOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgICAgICBfX3diZ19zZXRzaGFkb3dDb2xvcl8zNDBkNTI5MGNkYzRhZTlkOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgICAgICBfX3diZ19zZXRmb250XzE2ZDZlMzFlMDZhNDIwYTU6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICAgIF9fd2JnX3NldHRleHRCYXNlbGluZV9jMzI2NmQzYmQ0YTY2OTVjOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgICAgICBfX3diZ19kcmF3SW1hZ2VfY2IxMzc2OGExYmRjMDRiZDogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgX193YmdfZ2V0SW1hZ2VEYXRhXzY2MjY5ZDI4OWYzN2QzYzc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwbHlUb1dpbmRvdyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRUb1N0YWNrKGltYWdlX2RhdGEpO1xuICAgICAgICAgICAgICAgIH0sIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfcmVjdF8yZmExZGY4N2VmNjM4NzM4OiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgICAgICBfX3diZ19maWxsUmVjdF80ZGQyOGU2MjgzODFkMjQwOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgICAgICBfX3diZ19maWxsVGV4dF8wN2U1ZGE5ZTQxNjUyZjIwOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgICAgICBfX3diZ19zZXRQcm9wZXJ0eV81MTQ0ZGRjZTY2YmJkZTQxOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgICAgICBfX3diZ19jcmVhdGVFbGVtZW50XzAzY2YzNDdkZGFkMWM4YzA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwbHlUb1dpbmRvdyhmdW5jdGlvbiAoXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGluZGV4LCBcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgZGVjb2RlSW5kZXgsIFxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBkZWNvZGVJbmRleE9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRkVG9TdGFjayhjYW52YXMpO1xuICAgICAgICAgICAgICAgIH0sIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfcXVlcnlTZWxlY3Rvcl8xMThhMDYzOWFhMWY1MWNkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcGx5VG9XaW5kb3coZnVuY3Rpb24gKFxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBpbmRleCwgXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGRlY29kZUluZGV4LCBcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgZGVjb2RlT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vbGV0IGl0ZW0gPSBnZXQoaW5kZXgpLnF1ZXJ5U2VsZWN0b3IoZGVjb2RlU3ViKGRlY29kZUluZGV4LCBkZWNvZGVPZmZzZXQpKTtcbiAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gaXNOdWxsKGl0ZW0pID8gMCA6IGFkZFRvU3RhY2soaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRUb1N0YWNrKG1ldGEpO1xuICAgICAgICAgICAgICAgIH0sIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfcXVlcnlTZWxlY3RvckFsbF81MGM3OWNkNGY3NTczODI1OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcGx5VG9XaW5kb3coZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRkVG9TdGFjayhub2RlTGlzdCk7XG4gICAgICAgICAgICAgICAgfSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19nZXRBdHRyaWJ1dGVfNzA2YWU4OGJkMzc0MTBmYTogZnVuY3Rpb24gKG9mZnNldCwgXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBpbmRleCwgXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBkZWNvZGVJbmRleCwgXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBkZWNvZGVPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAvL2xldCBhdHRyID0gZ2V0KGluZGV4KS5nZXRBdHRyaWJ1dGUoZGVjb2RlU3ViKGRlY29kZUluZGV4LCBkZWNvZGVPZmZzZXQpKTtcbiAgICAgICAgICAgICAgICBsZXQgYXR0ciA9IG1ldGEuY29udGVudDtcbiAgICAgICAgICAgICAgICAvL3RvZG8hXG4gICAgICAgICAgICAgICAgbGV0IHRvZG8gPSBpc051bGwoYXR0cikgPyAwIDogcGFyc2UoYXR0ciwgd2FzbS5fX3diaW5kZ2VuX2V4cG9ydF8wLCB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzEpO1xuICAgICAgICAgICAgICAgIGdldERhdGFWaWV3KCkuc2V0SW50MzIob2Zmc2V0ICsgNCwgc2l6ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZ2V0RGF0YVZpZXcoKS5zZXRJbnQzMihvZmZzZXQsIHRvZG8sIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fd2JnX3RhcmdldF82Nzk1MzczZjE3MGZkNzg2OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gZ2V0KGluZGV4KS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTnVsbCh0YXJnZXQpID8gMCA6IGFkZFRvU3RhY2sodGFyZ2V0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19hZGRFdmVudExpc3RlbmVyX2Y5ODRlOTk0NjVhNmE3ZjQ6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICAgIF9fd2JnX2luc3RhbmNlb2ZfSHRtbENhbnZhc0VsZW1lbnRfMWU4MWY3MWY2MzBlNDZiYzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fd2JnX3NldHdpZHRoXzIzMzY0NWIyOTdiYjMzMTg6IGZ1bmN0aW9uIChpbmRleCwgc2V0KSB7XG4gICAgICAgICAgICAgICAgZ2V0KGluZGV4KS53aWR0aCA9IHNldCA+Pj4gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19zZXRoZWlnaHRfZmNiNDkxY2Y1NGUzNTI3YzogZnVuY3Rpb24gKGluZGV4LCBzZXQpIHtcbiAgICAgICAgICAgICAgICBnZXQoaW5kZXgpLmhlaWdodCA9IHNldCA+Pj4gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19nZXRDb250ZXh0X2RmYzkxYWIwODM3ZGIxZDE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwbHlUb1dpbmRvdyhmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZFRvU3RhY2soZ2V0KGluZGV4KS5jb250ZXh0MmQpO1xuICAgICAgICAgICAgICAgIH0sIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfdG9EYXRhVVJMXzk3YjEwOGRkMWE0Yjc0NTQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcGx5VG9XaW5kb3coZnVuY3Rpb24gKG9mZnNldCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IF9kYXRhVXJsID0gcGFyc2UoZGF0YVVSTCwgd2FzbS5fX3diaW5kZ2VuX2V4cG9ydF8wLCB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzEpO1xuICAgICAgICAgICAgICAgICAgICBnZXREYXRhVmlldygpLnNldEludDMyKG9mZnNldCArIDQsIHNpemUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBnZXREYXRhVmlldygpLnNldEludDMyKG9mZnNldCwgX2RhdGFVcmwsIHRydWUpO1xuICAgICAgICAgICAgICAgIH0sIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfaW5zdGFuY2VvZl9IdG1sRG9jdW1lbnRfMTEwMGY4YTk4M2NhNzlmOTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fd2JnX3N0eWxlX2NhMjI5ZTMzMjZiM2MzZmI6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIGFkZFRvU3RhY2soZ2V0KGluZGV4KS5zdHlsZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfaW5zdGFuY2VvZl9IdG1sSW1hZ2VFbGVtZW50XzljODJkNGUzNjUxYTg1MzM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19zcmNfODdhMGUzOGFmNjIyOTM2NDogZnVuY3Rpb24gKG9mZnNldCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBsZXQgX3NyYyA9IHBhcnNlKGdldChpbmRleCkuc3JjLCB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzAsIHdhc20uX193YmluZGdlbl9leHBvcnRfMSk7XG4gICAgICAgICAgICAgICAgZ2V0RGF0YVZpZXcoKS5zZXRJbnQzMihvZmZzZXQgKyA0LCBzaXplLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBnZXREYXRhVmlldygpLnNldEludDMyKG9mZnNldCwgX3NyYywgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193Ymdfd2lkdGhfZTFhMzhiZGQ0ODNlMTI4MzogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldChpbmRleCkud2lkdGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfaGVpZ2h0X2U0Y2MyMjk0MTg3MzEzYzk6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXQoaW5kZXgpLmhlaWdodDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19jb21wbGV0ZV8xMTYyYzI2OTc0MDZhZjExOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0KGluZGV4KS5jb21wbGV0ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19kYXRhX2QzNGRjNTU0ZjkwYjg2NTI6IGZ1bmN0aW9uIChvZmZzZXQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIF9kYXRhID0gUWooZ2V0KGluZGV4KS5kYXRhLCB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzApO1xuICAgICAgICAgICAgICAgIGdldERhdGFWaWV3KCkuc2V0SW50MzIob2Zmc2V0ICsgNCwgc2l6ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZ2V0RGF0YVZpZXcoKS5zZXRJbnQzMihvZmZzZXQsIF9kYXRhLCB0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19vcmlnaW5fMzA1NDAyMDQ0YWExNDhjZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHBseVRvV2luZG93KGZ1bmN0aW9uIChvZmZzZXQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBfb3JpZ2luID0gcGFyc2UoZ2V0KGluZGV4KS5vcmlnaW4sIHdhc20uX193YmluZGdlbl9leHBvcnRfMCwgd2FzbS5fX3diaW5kZ2VuX2V4cG9ydF8xKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0RGF0YVZpZXcoKS5zZXRJbnQzMihvZmZzZXQgKyA0LCBzaXplLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0RGF0YVZpZXcoKS5zZXRJbnQzMihvZmZzZXQsIF9vcmlnaW4sIHRydWUpO1xuICAgICAgICAgICAgICAgIH0sIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfbGVuZ3RoXzhhOTM1MmY3YjczNjBjMzc6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXQoaW5kZXgpLmxlbmd0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19nZXRfYzMwYWUwNzgyZDg2NzQ3ZjogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgbGV0IF9pbWFnZSA9IGdldChpbmRleCkuaW1hZ2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTnVsbChfaW1hZ2UpID8gMCA6IGFkZFRvU3RhY2soX2ltYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ190aW1lT3JpZ2luX2Y0NjI5NTI4NTRkODAyZWM6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXQoaW5kZXgpLnRpbWVPcmlnaW47XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfaW5zdGFuY2VvZl9XaW5kb3dfY2VlN2E4ODZkNTVlN2RmNTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fd2JnX2RvY3VtZW50X2ViN2ZkNjZiZGUzZWUyMTM6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIGxldCBfZG9jdW1lbnQgPSBnZXQoaW5kZXgpLmRvY3VtZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBpc051bGwoX2RvY3VtZW50KSA/IDAgOiBhZGRUb1N0YWNrKF9kb2N1bWVudCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfbG9jYXRpb25fYjE3NzYwYWM3OTc3YTQ3YTogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZFRvU3RhY2soZ2V0KGluZGV4KS5sb2NhdGlvbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfcGVyZm9ybWFuY2VfNGNhMTg3Mzc3NmZkYjNkMjogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgbGV0IF9wZXJmb3JtYW5jZSA9IGdldChpbmRleCkucGVyZm9ybWFuY2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTnVsbChfcGVyZm9ybWFuY2UpID8gMCA6IGFkZFRvU3RhY2soX3BlcmZvcm1hbmNlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19vcmlnaW5fZTFmOGFjZGViM2EzOWEyYjogZnVuY3Rpb24gKG9mZnNldCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBsZXQgX29yaWdpbiA9IHBhcnNlKGdldChpbmRleCkub3JpZ2luLCB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzAsIHdhc20uX193YmluZGdlbl9leHBvcnRfMSk7XG4gICAgICAgICAgICAgICAgZ2V0RGF0YVZpZXcoKS5zZXRJbnQzMihvZmZzZXQgKyA0LCBzaXplLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBnZXREYXRhVmlldygpLnNldEludDMyKG9mZnNldCwgX29yaWdpbiwgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfZ2V0Xzg5ODY5NTFiMWVlMzEwZTA6IGZ1bmN0aW9uIChpbmRleCwgZGVjb2RlMSwgZGVjb2RlMikge1xuICAgICAgICAgICAgICAgIGxldCBkYXRhID0gZ2V0KGluZGV4KVtkZWNvZGVTdWIoZGVjb2RlMSwgZGVjb2RlMildO1xuICAgICAgICAgICAgICAgIHJldHVybiBpc051bGwoZGF0YSkgPyAwIDogYWRkVG9TdGFjayhkYXRhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19zZXRUaW1lb3V0XzZlZDcxODJlYmFkNWQyOTc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwbHlUb1dpbmRvdyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA3O1xuICAgICAgICAgICAgICAgIH0sIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193Ymdfc2VsZl8wNTA0MGJkOTUyMzgwNWI5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcGx5VG9XaW5kb3coZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRkVG9TdGFjayhmYWtlX3dpbmRvdyk7XG4gICAgICAgICAgICAgICAgfSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ193aW5kb3dfYWRjNzIwMDM5ZjJjYjE0ZjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHBseVRvV2luZG93KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZFRvU3RhY2soZmFrZV93aW5kb3cpO1xuICAgICAgICAgICAgICAgIH0sIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfZ2xvYmFsVGhpc182MjIxMDVkYjgwYzE0NTdkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcGx5VG9XaW5kb3coZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRkVG9TdGFjayhmYWtlX3dpbmRvdyk7XG4gICAgICAgICAgICAgICAgfSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19nbG9iYWxfZjU2YjAxM2VkOWJjZjM1OTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHBseVRvV2luZG93KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZFRvU3RhY2soZmFrZV93aW5kb3cpO1xuICAgICAgICAgICAgICAgIH0sIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfbmV3bm9hcmdzX2NmZWNiMzk2NTI2ODU5NGM6IGZ1bmN0aW9uIChpbmRleCwgb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZFRvU3RhY2sobmV3IEZ1bmN0aW9uKGRlY29kZVN1YihpbmRleCwgb2Zmc2V0KSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fd2JpbmRnZW5fb2JqZWN0X2Nsb25lX3JlZjogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZFRvU3RhY2soZ2V0KGluZGV4KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfZXZhbF9jODI0ZTE3MDc4N2FkMTg0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcGx5VG9XaW5kb3coZnVuY3Rpb24gKGluZGV4LCBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZha2Vfc3RyID0gJ2Zha2VfJyArIGRlY29kZVN1YihpbmRleCwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ID0gZXZhbChmYWtlX3N0cik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRUb1N0YWNrKGV2KTtcbiAgICAgICAgICAgICAgICB9LCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fd2JnX2NhbGxfM2YwOTNkZDI2ZDU1NjlmODogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHBseVRvV2luZG93KGZ1bmN0aW9uIChpbmRleCwgaW5kZXgyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRUb1N0YWNrKGdldChpbmRleCkuY2FsbChnZXQoaW5kZXgyKSkpO1xuICAgICAgICAgICAgICAgIH0sIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfY2FsbF82N2YyMTExYWNkMmRmZGI2OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcGx5VG9XaW5kb3coZnVuY3Rpb24gKGluZGV4LCBpbmRleDIsIGluZGV4Mykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRkVG9TdGFjayhnZXQoaW5kZXgpLmNhbGwoZ2V0KGluZGV4MiksIGdldChpbmRleDMpKSk7XG4gICAgICAgICAgICAgICAgfSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19zZXRfOTYxNzAwODUzYTIxMmEzOTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHBseVRvV2luZG93KGZ1bmN0aW9uIChpbmRleCwgaW5kZXgyLCBpbmRleDMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KGdldChpbmRleCksIGdldChpbmRleDIpLCBnZXQoaW5kZXgzKSk7XG4gICAgICAgICAgICAgICAgfSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19idWZmZXJfYjkxNGZiOGI1MGViYmMzZTogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZFRvU3RhY2soZ2V0KGluZGV4KS5idWZmZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fd2JnX25ld3dpdGhieXRlb2Zmc2V0YW5kbGVuZ3RoXzBkZTllZTU2ZTlmNmVlNmU6IGZ1bmN0aW9uIChpbmRleCwgdmFsLCB2YWwyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZFRvU3RhY2sobmV3IFVpbnQ4QXJyYXkoZ2V0KGluZGV4KSwgdmFsID4+PiAwLCB2YWwyID4+PiAwKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfbmV3d2l0aGxlbmd0aF8wZDAzY2VmNDNiNjhhNTMwOiBmdW5jdGlvbiAobGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZFRvU3RhY2sobmV3IFVpbnQ4QXJyYXkobGVuZ3RoID4+PiAwKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmdfbmV3X2IxZjJkNjg0MmQ2MTUxODE6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhZGRUb1N0YWNrKG5ldyBVaW50OEFycmF5KGdldChpbmRleCkpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diZ19idWZmZXJfNjdlNjI0ZjVhMGFiMjMxOTogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZFRvU3RhY2soZ2V0KGluZGV4KS5idWZmZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fd2JnX2xlbmd0aF8yMWM0YjBhZTczY2JhNTlkOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0KGluZGV4KS5sZW5ndGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193Ymdfc2V0XzdkOTg4Yzk4ZTZjZWQ5MmQ6IGZ1bmN0aW9uIChpbmRleCwgaW5kZXgyLCB2YWwpIHtcbiAgICAgICAgICAgICAgICBnZXQoaW5kZXgpLnNldChnZXQoaW5kZXgyKSwgdmFsID4+PiAwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diaW5kZ2VuX2RlYnVnX3N0cmluZzogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgX193YmluZGdlbl90aHJvdzogZnVuY3Rpb24gKGluZGV4LCBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGVjb2RlU3ViKGluZGV4LCBvZmZzZXQpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diaW5kZ2VuX21lbW9yeTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhZGRUb1N0YWNrKHdhc20ubWVtb3J5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diaW5kZ2VuX2Nsb3N1cmVfd3JhcHBlcjExNzogZnVuY3Rpb24gKFFuLCBRVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhZGRUb1N0YWNrKGFyZ3MoUW4sIFFULCAyLCBleHBvcnQzKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX193YmluZGdlbl9jbG9zdXJlX3dyYXBwZXIxMTk6IGZ1bmN0aW9uIChRbiwgUVQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRkVG9TdGFjayhhcmdzKFFuLCBRVCwgMiwgZXhwb3J0NCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fd2JpbmRnZW5fY2xvc3VyZV93cmFwcGVyMTIxOiBmdW5jdGlvbiAoUW4sIFFUKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZFRvU3RhY2soYXJncyhRbiwgUVQsIDIsIGV4cG9ydDUpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3diaW5kZ2VuX2Nsb3N1cmVfd3JhcHBlcjEyMzogZnVuY3Rpb24gKFFuLCBRVCkge1xuICAgICAgICAgICAgICAgIGxldCB0ZXN0ID0gYWRkVG9TdGFjayhhcmdzKFFuLCBRVCwgOSwgZXhwb3J0NCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXN0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiB3YXNtT2JqO1xufVxuZnVuY3Rpb24gYXNzaWduV2FzbShyZXNwKSB7XG4gICAgd2FzbSA9IHJlc3AuZXhwb3J0cztcbiAgICAoZGF0YVZpZXcgPSBudWxsKSwgKG1lbW9yeUJ1ZmYgPSBudWxsKSwgd2FzbTtcbn1cbmZ1bmN0aW9uIFFaKFFQKSB7XG4gICAgbGV0IFFuO1xuICAgIHJldHVybiB2b2lkIDAgIT09IHdhc21cbiAgICAgICAgPyB3YXNtXG4gICAgICAgIDogKChRbiA9IGluaXRXYXNtKCkpLFxuICAgICAgICAgICAgUVAgaW5zdGFuY2VvZiBXZWJBc3NlbWJseS5Nb2R1bGUgfHwgKFFQID0gbmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShRUCkpLFxuICAgICAgICAgICAgYXNzaWduV2FzbShuZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UoUVAsIFFuKSkpO1xufVxuYXN5bmMgZnVuY3Rpb24gbG9hZFdhc20odXJsKSB7XG4gICAgbGV0IG1vZCwgYnVmZmVyO1xuICAgIHJldHVybiAoKG1vZCA9IGluaXRXYXNtKCkpLFxuICAgICAgICAoeyBpbnN0YW5jZTogdXJsLCBtb2R1bGU6IG1vZCwgYnl0ZXM6IGJ1ZmZlciB9ID0gKCh1cmwgPSBmZXRjaCh1cmwpKSwgdm9pZCAwLCBhd2FpdCBRTihhd2FpdCB1cmwsIG1vZCkpKSxcbiAgICAgICAgYXNzaWduV2FzbSh1cmwpLFxuICAgICAgICBidWZmZXIpO1xufVxuY29uc3QgZ3Jvb3RMb2FkZXIgPSB7XG4gICAgZ3Jvb3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2FzbS5ncm9vdCgpO1xuICAgIH0sXG59O1xubGV0IHdhc21Mb2FkZXIgPSBPYmplY3QuYXNzaWduKGxvYWRXYXNtLCB7IGluaXRTeW5jOiBRWiB9LCBncm9vdExvYWRlcik7XG5jb25zdCBWID0gYXN5bmMgKHVybCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGxldCBRMCA9IGF3YWl0IHdhc21Mb2FkZXIodXJsKTtcbiAgICAgICAgZmFrZV93aW5kb3cuYnl0ZXMgPSBRMDtcbiAgICAgICAgd2FzbUxvYWRlci5ncm9vdCgpO1xuICAgICAgICBmYWtlX3dpbmRvdy5qd3RfcGx1Z2luKFEwKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnd2FzbV9sb2FkX2Vycm9yOiAnLCBlcnIpO1xuICAgICAgICBmYWtlX3dpbmRvdy5lcnJvciA9IHRydWU7XG4gICAgfVxufTtcbmNvbnN0IGdldE1ldGEgPSBhc3luYyAodXJsKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGxldCByZXNwID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFVzZXJBZ2VudDogdXNlcl9hZ2VudCxcbiAgICAgICAgICAgIFJlZmVycmVyOiByZWZlcmVyLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIGxldCB0eHQgPSBhd2FpdCByZXNwLnRleHQoKTtcbiAgICBsZXQgcmVneCA9IC9uYW1lPVwial9jcnRcIiBjb250ZW50PVwiW0EtWmEtejAtOV0qL2c7XG4gICAgbGV0IG1hdGNoID0gKF9hID0gdHh0Lm1hdGNoKHJlZ3gpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbMF07XG4gICAgbGV0IGNvbnRlbnQgPSBtYXRjaCA9PT0gbnVsbCB8fCBtYXRjaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWF0Y2guc2xpY2UobWF0Y2gubGFzdEluZGV4T2YoJ1wiJykgKyAxKTtcbiAgICBtZXRhLmNvbnRlbnQgPSBjb250ZW50ICsgJz09Jztcbn07XG5jb25zdCBpID0gKGEsIFApID0+IHtcbiAgICB0cnkge1xuICAgICAgICBmb3IgKGxldCBRMCA9IDA7IFEwIDwgYS5sZW5ndGg7IFEwKyspIHtcbiAgICAgICAgICAgIGFbUTBdID0gYVtRMF0gXiBQW1EwICUgUC5sZW5ndGhdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChRMSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59O1xuY29uc3QgTSA9IChhLCBQKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIFEwID0gY3J5cHRvX2pzXzEuZGVmYXVsdC5BRVMuZGVjcnlwdChhLCBQKTtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoUTAudG9TdHJpbmcoY3J5cHRvX2pzXzEuZGVmYXVsdC5lbmMuVXRmOCkpO1xuICAgIH1cbiAgICBjYXRjaCAoUTEpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zb2xlLmxvZyhRMS5tZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xufTtcbmZ1bmN0aW9uIHooYSkge1xuICAgIHJldHVybiBbKGEgJiA0Mjc4MTkwMDgwKSA+PiAyNCwgKGEgJiAxNjcxMTY4MCkgPj4gMTYsIChhICYgNjUyODApID4+IDgsIGEgJiAyNTVdO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0U291cmNlcyhlbWJlZF91cmwsIHNpdGUpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJlZmVyZXIgPSBzaXRlO1xuICAgIGxldCB4cmF4ID0gKF9hID0gZW1iZWRfdXJsLnNwbGl0KCcvJykucG9wKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnPycpLnNoaWZ0KCk7XG4gICAgbGV0IHJlZ3ggPSAvaHR0cHM6XFwvXFwvW2EtekEtWjAtOS5dKi87XG4gICAgbGV0IGJhc2VfdXJsID0gKF9iID0gZW1iZWRfdXJsLm1hdGNoKHJlZ3gpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JbMF07XG4gICAgbm9kZUxpc3QuaW1hZ2Uuc3JjID0gYmFzZV91cmwgKyAnL2ltYWdlcy9pbWFnZS5wbmc/dj0wLjAuOSc7XG4gICAgbGV0IHRlc3QgPSBlbWJlZF91cmwuc3BsaXQoJy8nKTtcbiAgICBmYWtlX3dpbmRvdy54cmF4ID0geHJheDtcbiAgICBmYWtlX3dpbmRvdy5HID0geHJheDtcbiAgICBjYW52YXMuYmFzZVVybCA9IGJhc2VfdXJsO1xuICAgIGZha2Vfd2luZG93Lm9yaWdpbiA9IGJhc2VfdXJsO1xuICAgIGZha2Vfd2luZG93LmxvY2F0aW9uLm9yaWdpbiA9IGJhc2VfdXJsO1xuICAgIGZha2Vfd2luZG93LmxvY2F0aW9uLmhyZWYgPSBlbWJlZF91cmw7XG4gICAgYXdhaXQgZ2V0TWV0YShlbWJlZF91cmwpO1xuICAgIGxldCBicm93c2VyX3ZlcnNpb24gPSAxODc4NTIyMzY4O1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IFYoYmFzZV91cmwgKyAnL2ltYWdlcy9sb2FkaW5nLnBuZz92PTAuMC45Jyk7XG4gICAgICAgIGxldCBnZXRTb3VyY2VzVXJsID0gJyc7XG4gICAgICAgIGlmIChiYXNlX3VybC5pbmNsdWRlcygnbWVnYScpKSB7XG4gICAgICAgICAgICBnZXRTb3VyY2VzVXJsID1cbiAgICAgICAgICAgICAgICBiYXNlX3VybCArXG4gICAgICAgICAgICAgICAgICAgICcvJyArXG4gICAgICAgICAgICAgICAgICAgIHRlc3RbM10gK1xuICAgICAgICAgICAgICAgICAgICAnL2FqYXgvJyArXG4gICAgICAgICAgICAgICAgICAgIHRlc3RbNF0gK1xuICAgICAgICAgICAgICAgICAgICAnL2dldFNvdXJjZXM/aWQ9JyArXG4gICAgICAgICAgICAgICAgICAgIGZha2Vfd2luZG93LnBpZCArXG4gICAgICAgICAgICAgICAgICAgICcmdj0nICtcbiAgICAgICAgICAgICAgICAgICAgZmFrZV93aW5kb3cubG9jYWxTdG9yYWdlLmt2ZXJzaW9uICtcbiAgICAgICAgICAgICAgICAgICAgJyZoPScgK1xuICAgICAgICAgICAgICAgICAgICBmYWtlX3dpbmRvdy5sb2NhbFN0b3JhZ2Uua2lkICtcbiAgICAgICAgICAgICAgICAgICAgJyZiPScgK1xuICAgICAgICAgICAgICAgICAgICBicm93c2VyX3ZlcnNpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnZXRTb3VyY2VzVXJsID1cbiAgICAgICAgICAgICAgICBiYXNlX3VybCArXG4gICAgICAgICAgICAgICAgICAgICcvYWpheC8nICtcbiAgICAgICAgICAgICAgICAgICAgdGVzdFszXSArXG4gICAgICAgICAgICAgICAgICAgICcvJyArXG4gICAgICAgICAgICAgICAgICAgIHRlc3RbNF0gK1xuICAgICAgICAgICAgICAgICAgICAnL2dldFNvdXJjZXM/aWQ9JyArXG4gICAgICAgICAgICAgICAgICAgIGZha2Vfd2luZG93LnBpZCArXG4gICAgICAgICAgICAgICAgICAgICcmdj0nICtcbiAgICAgICAgICAgICAgICAgICAgZmFrZV93aW5kb3cubG9jYWxTdG9yYWdlLmt2ZXJzaW9uICtcbiAgICAgICAgICAgICAgICAgICAgJyZoPScgK1xuICAgICAgICAgICAgICAgICAgICBmYWtlX3dpbmRvdy5sb2NhbFN0b3JhZ2Uua2lkICtcbiAgICAgICAgICAgICAgICAgICAgJyZiPScgK1xuICAgICAgICAgICAgICAgICAgICBicm93c2VyX3ZlcnNpb247XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3BfanNvbiA9IGF3YWl0IChhd2FpdCBmZXRjaChnZXRTb3VyY2VzVXJsLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiB1c2VyX2FnZW50LFxuICAgICAgICAgICAgICAgIFJlZmVyZXI6IGVtYmVkX3VybCxcbiAgICAgICAgICAgICAgICAnWC1SZXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICB9KSkuanNvbigpO1xuICAgICAgICBsZXQgUTMgPSBmYWtlX3dpbmRvdy5sb2NhbFN0b3JhZ2Uua3ZlcnNpb247XG4gICAgICAgIGxldCBRMSA9IHooUTMpO1xuICAgICAgICBsZXQgUTUgPSBmYWtlX3dpbmRvdy5uYXZpZ2F0ZSgpO1xuICAgICAgICBRNSA9IG5ldyBVaW50OEFycmF5KFE1KTtcbiAgICAgICAgbGV0IFE4O1xuICAgICAgICBROCA9IHJlc3BfanNvbi50ICE9IDAgPyAoaShRNSwgUTEpLCBRNSkgOiAoKFE4ID0gcmVzcF9qc29uLmspLCBpKFE4LCBRMSksIFE4KTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBzdHIgPSBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoUTgpKSk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmVzcF9qc29uLnNvdXJjZXMgPSBNKHJlc3BfanNvbi5zb3VyY2VzLCBzdHIpO1xuICAgICAgICByZXR1cm4gcmVzcF9qc29uO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZWdhY2xvdWQuZ2V0c3Jjcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/megacloud/megacloud.getsrcs.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/megaup.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/megaup.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n//extractor for https://animekai.to\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MegaUp = void 0;\n// The code for this is now fetched from outside consumet:\n// https://raw.githubusercontent.com/amarullz/kaicodex/refs/heads/main/generated/kai_codex.js\n// as this repository auto-updates the extraction keys when they change.\n// If something breaks in the future, blame this part.\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass MegaUp extends models_1.VideoExtractor {\n    /* Old decrypting functions in case the new ones break\n  \n    #reverseIt = (n: string) => {\n      return n.split('').reverse().join('');\n    };\n    #base64UrlEncode = (str: string) => {\n      return btoa(str).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n    };\n    #substitute = (input: string, keys: string, values: string) => {\n      const map = Object.fromEntries(keys.split('').map((key, i) => [key, values[i] || '']));\n      const a = input\n        .split('')\n        .map(char => map[char] || char)\n        .join('');\n      return a;\n    };\n    #transform = (n: string, t: string) => {\n      const v = Array.from({ length: 256 }, (_, i) => i);\n      let c = 0,\n        f = '';\n  \n      for (let w = 0; w < 256; w++) {\n        c = (c + v[w] + n.charCodeAt(w % n.length)) % 256;\n        [v[w], v[c]] = [v[c], v[w]];\n      }\n      for (let a = (c = 0), w = 0; a < t.length; a++) {\n        w = (w + 1) % 256;\n        c = (c + v[w]) % 256;\n        [v[w], v[c]] = [v[c], v[w]];\n        f += String.fromCharCode(t.charCodeAt(a) ^ v[(v[w] + v[c]) % 256]);\n      }\n  \n      return f;\n    };\n    #base64UrlDecode = (n: string) => {\n      n = n\n        .padEnd(n.length + ((4 - (n.length % 4)) % 4), '=')\n        .replace(/-/g, '+')\n        .replace(/_/g, '/');\n      return atob(n);\n    };\n    \n    */\n    constructor(proxyConfig, adapter) {\n        super(proxyConfig, adapter);\n        this.proxyConfig = proxyConfig;\n        this.adapter = adapter;\n        this.serverName = 'MegaUp';\n        this.sources = [];\n        this.GenerateToken = (n) => {\n            return this.KAICODEX.enc(n);\n        };\n        this.DecodeIframeData = (n) => {\n            return this.KAICODEX.dec(n);\n        };\n        this.Decode = (n) => {\n            return this.KAICODEX.decMega(n);\n        };\n        this.extract = async (videoUrl) => {\n            try {\n                await this.kaicodexReady;\n                const url = videoUrl.href.replace(/\\/(e|e2)\\//, '/media/');\n                const res = await this.client.get(url);\n                const decrypted = JSON.parse(this.KAICODEX.decMega(res.data.result).replace(/\\\\/g, ''));\n                const data = {\n                    sources: decrypted.sources.map((s) => ({\n                        url: s.file,\n                        isM3U8: s.file.includes('.m3u8') || s.file.endsWith('m3u8'),\n                    })),\n                    subtitles: decrypted.tracks.map((t) => ({\n                        kind: t.kind,\n                        url: t.file,\n                    })),\n                    download: decrypted.download,\n                };\n                return data;\n            }\n            catch (error) {\n                throw new Error(error.message);\n            }\n        };\n        this.kaicodexReady = this.loadKAICODEX();\n    }\n    async loadKAICODEX() {\n        const extraction_code = 'https://raw.githubusercontent.com/amarullz/kaicodex/refs/heads/main/generated/kai_codex.js';\n        const response = await fetch(extraction_code);\n        const originalCode = await response.text();\n        const wrappedCode = `\n      ${originalCode}\n      return KAICODEX;\n    `;\n        const fn = new Function(wrappedCode);\n        this.KAICODEX = fn();\n    }\n}\nexports.MegaUp = MegaUp;\n//# sourceMappingURL=megaup.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL21lZ2F1cC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtQkFBTyxDQUFDLGlGQUFXO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixhQUFhO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxjQUFjO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcZXh0cmFjdG9yc1xcbWVnYXVwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLy9leHRyYWN0b3IgZm9yIGh0dHBzOi8vYW5pbWVrYWkudG9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTWVnYVVwID0gdm9pZCAwO1xuLy8gVGhlIGNvZGUgZm9yIHRoaXMgaXMgbm93IGZldGNoZWQgZnJvbSBvdXRzaWRlIGNvbnN1bWV0OlxuLy8gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2FtYXJ1bGx6L2thaWNvZGV4L3JlZnMvaGVhZHMvbWFpbi9nZW5lcmF0ZWQva2FpX2NvZGV4LmpzXG4vLyBhcyB0aGlzIHJlcG9zaXRvcnkgYXV0by11cGRhdGVzIHRoZSBleHRyYWN0aW9uIGtleXMgd2hlbiB0aGV5IGNoYW5nZS5cbi8vIElmIHNvbWV0aGluZyBicmVha3MgaW4gdGhlIGZ1dHVyZSwgYmxhbWUgdGhpcyBwYXJ0LlxuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuY2xhc3MgTWVnYVVwIGV4dGVuZHMgbW9kZWxzXzEuVmlkZW9FeHRyYWN0b3Ige1xuICAgIC8qIE9sZCBkZWNyeXB0aW5nIGZ1bmN0aW9ucyBpbiBjYXNlIHRoZSBuZXcgb25lcyBicmVha1xuICBcbiAgICAjcmV2ZXJzZUl0ID0gKG46IHN0cmluZykgPT4ge1xuICAgICAgcmV0dXJuIG4uc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcbiAgICB9O1xuICAgICNiYXNlNjRVcmxFbmNvZGUgPSAoc3RyOiBzdHJpbmcpID0+IHtcbiAgICAgIHJldHVybiBidG9hKHN0cikucmVwbGFjZSgvXFwrL2csICctJykucmVwbGFjZSgvXFwvL2csICdfJykucmVwbGFjZSgvPSskLywgJycpO1xuICAgIH07XG4gICAgI3N1YnN0aXR1dGUgPSAoaW5wdXQ6IHN0cmluZywga2V5czogc3RyaW5nLCB2YWx1ZXM6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgbWFwID0gT2JqZWN0LmZyb21FbnRyaWVzKGtleXMuc3BsaXQoJycpLm1hcCgoa2V5LCBpKSA9PiBba2V5LCB2YWx1ZXNbaV0gfHwgJyddKSk7XG4gICAgICBjb25zdCBhID0gaW5wdXRcbiAgICAgICAgLnNwbGl0KCcnKVxuICAgICAgICAubWFwKGNoYXIgPT4gbWFwW2NoYXJdIHx8IGNoYXIpXG4gICAgICAgIC5qb2luKCcnKTtcbiAgICAgIHJldHVybiBhO1xuICAgIH07XG4gICAgI3RyYW5zZm9ybSA9IChuOiBzdHJpbmcsIHQ6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgdiA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDI1NiB9LCAoXywgaSkgPT4gaSk7XG4gICAgICBsZXQgYyA9IDAsXG4gICAgICAgIGYgPSAnJztcbiAgXG4gICAgICBmb3IgKGxldCB3ID0gMDsgdyA8IDI1NjsgdysrKSB7XG4gICAgICAgIGMgPSAoYyArIHZbd10gKyBuLmNoYXJDb2RlQXQodyAlIG4ubGVuZ3RoKSkgJSAyNTY7XG4gICAgICAgIFt2W3ddLCB2W2NdXSA9IFt2W2NdLCB2W3ddXTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGEgPSAoYyA9IDApLCB3ID0gMDsgYSA8IHQubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgdyA9ICh3ICsgMSkgJSAyNTY7XG4gICAgICAgIGMgPSAoYyArIHZbd10pICUgMjU2O1xuICAgICAgICBbdlt3XSwgdltjXV0gPSBbdltjXSwgdlt3XV07XG4gICAgICAgIGYgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh0LmNoYXJDb2RlQXQoYSkgXiB2Wyh2W3ddICsgdltjXSkgJSAyNTZdKTtcbiAgICAgIH1cbiAgXG4gICAgICByZXR1cm4gZjtcbiAgICB9O1xuICAgICNiYXNlNjRVcmxEZWNvZGUgPSAobjogc3RyaW5nKSA9PiB7XG4gICAgICBuID0gblxuICAgICAgICAucGFkRW5kKG4ubGVuZ3RoICsgKCg0IC0gKG4ubGVuZ3RoICUgNCkpICUgNCksICc9JylcbiAgICAgICAgLnJlcGxhY2UoLy0vZywgJysnKVxuICAgICAgICAucmVwbGFjZSgvXy9nLCAnLycpO1xuICAgICAgcmV0dXJuIGF0b2Iobik7XG4gICAgfTtcbiAgICBcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3h5Q29uZmlnLCBhZGFwdGVyKSB7XG4gICAgICAgIHN1cGVyKHByb3h5Q29uZmlnLCBhZGFwdGVyKTtcbiAgICAgICAgdGhpcy5wcm94eUNvbmZpZyA9IHByb3h5Q29uZmlnO1xuICAgICAgICB0aGlzLmFkYXB0ZXIgPSBhZGFwdGVyO1xuICAgICAgICB0aGlzLnNlcnZlck5hbWUgPSAnTWVnYVVwJztcbiAgICAgICAgdGhpcy5zb3VyY2VzID0gW107XG4gICAgICAgIHRoaXMuR2VuZXJhdGVUb2tlbiA9IChuKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5LQUlDT0RFWC5lbmMobik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuRGVjb2RlSWZyYW1lRGF0YSA9IChuKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5LQUlDT0RFWC5kZWMobik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuRGVjb2RlID0gKG4pID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLktBSUNPREVYLmRlY01lZ2Eobik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZXh0cmFjdCA9IGFzeW5jICh2aWRlb1VybCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmthaWNvZGV4UmVhZHk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gdmlkZW9VcmwuaHJlZi5yZXBsYWNlKC9cXC8oZXxlMilcXC8vLCAnL21lZGlhLycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlY3J5cHRlZCA9IEpTT04ucGFyc2UodGhpcy5LQUlDT0RFWC5kZWNNZWdhKHJlcy5kYXRhLnJlc3VsdCkucmVwbGFjZSgvXFxcXC9nLCAnJykpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IGRlY3J5cHRlZC5zb3VyY2VzLm1hcCgocykgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcy5maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiBzLmZpbGUuaW5jbHVkZXMoJy5tM3U4JykgfHwgcy5maWxlLmVuZHNXaXRoKCdtM3U4JyksXG4gICAgICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVzOiBkZWNyeXB0ZWQudHJhY2tzLm1hcCgodCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IHQua2luZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdC5maWxlLFxuICAgICAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgICAgIGRvd25sb2FkOiBkZWNyeXB0ZWQuZG93bmxvYWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5rYWljb2RleFJlYWR5ID0gdGhpcy5sb2FkS0FJQ09ERVgoKTtcbiAgICB9XG4gICAgYXN5bmMgbG9hZEtBSUNPREVYKCkge1xuICAgICAgICBjb25zdCBleHRyYWN0aW9uX2NvZGUgPSAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2FtYXJ1bGx6L2thaWNvZGV4L3JlZnMvaGVhZHMvbWFpbi9nZW5lcmF0ZWQva2FpX2NvZGV4LmpzJztcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChleHRyYWN0aW9uX2NvZGUpO1xuICAgICAgICBjb25zdCBvcmlnaW5hbENvZGUgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnN0IHdyYXBwZWRDb2RlID0gYFxuICAgICAgJHtvcmlnaW5hbENvZGV9XG4gICAgICByZXR1cm4gS0FJQ09ERVg7XG4gICAgYDtcbiAgICAgICAgY29uc3QgZm4gPSBuZXcgRnVuY3Rpb24od3JhcHBlZENvZGUpO1xuICAgICAgICB0aGlzLktBSUNPREVYID0gZm4oKTtcbiAgICB9XG59XG5leHBvcnRzLk1lZ2FVcCA9IE1lZ2FVcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lZ2F1cC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/megaup.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/mixdrop.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/mixdrop.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass MixDrop extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'MixDrop';\n        this.sources = [];\n        this.extract = async (videoUrl) => {\n            try {\n                const { data } = await this.client.get(videoUrl.href);\n                const formated = eval(/(eval)(\\(f.*?)(\\n<\\/script>)/s.exec(data)[2].replace('eval', ''));\n                const [poster, source] = formated\n                    .match(/poster=\"([^\"]+)\"|wurl=\"([^\"]+)\"/g)\n                    .map((x) => x.split(`=\"`)[1].replace(/\"/g, ''))\n                    .map((x) => (x.startsWith('http') ? x : `https:${x}`));\n                this.sources.push({\n                    url: source,\n                    isM3U8: source.includes('.m3u8'),\n                    poster: poster,\n                });\n                return this.sources;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = MixDrop;\n//# sourceMappingURL=mixdrop.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL21peGRyb3AuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLG1CQUFPLENBQUMsaUZBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxFQUFFO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxleHRyYWN0b3JzXFxtaXhkcm9wLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuY2xhc3MgTWl4RHJvcCBleHRlbmRzIG1vZGVsc18xLlZpZGVvRXh0cmFjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5zZXJ2ZXJOYW1lID0gJ01peERyb3AnO1xuICAgICAgICB0aGlzLnNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5leHRyYWN0ID0gYXN5bmMgKHZpZGVvVXJsKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHZpZGVvVXJsLmhyZWYpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1hdGVkID0gZXZhbCgvKGV2YWwpKFxcKGYuKj8pKFxcbjxcXC9zY3JpcHQ+KS9zLmV4ZWMoZGF0YSlbMl0ucmVwbGFjZSgnZXZhbCcsICcnKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgW3Bvc3Rlciwgc291cmNlXSA9IGZvcm1hdGVkXG4gICAgICAgICAgICAgICAgICAgIC5tYXRjaCgvcG9zdGVyPVwiKFteXCJdKylcInx3dXJsPVwiKFteXCJdKylcIi9nKVxuICAgICAgICAgICAgICAgICAgICAubWFwKCh4KSA9PiB4LnNwbGl0KGA9XCJgKVsxXS5yZXBsYWNlKC9cIi9nLCAnJykpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKHgpID0+ICh4LnN0YXJ0c1dpdGgoJ2h0dHAnKSA/IHggOiBgaHR0cHM6JHt4fWApKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogc291cmNlLFxuICAgICAgICAgICAgICAgICAgICBpc00zVTg6IHNvdXJjZS5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgICAgICAgICAgcG9zdGVyOiBwb3N0ZXIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IE1peERyb3A7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhkcm9wLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/mixdrop.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/mp4player.js":
/*!************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/mp4player.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass Mp4Player extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'mp4player';\n        this.sources = [];\n        this.domains = ['mp4player.site'];\n        this.extract = async (videoUrl) => {\n            var _a, _b;\n            try {\n                const result = {\n                    sources: [],\n                    subtitles: [],\n                };\n                const response = await this.client.get(videoUrl.href);\n                const data = (_b = (_a = response.data\n                    .match(new RegExp('(?<=sniff\\\\()(.*)(?=\\\\))'))[0]) === null || _a === void 0 ? void 0 : _a.replace(/\\\"/g, '')) === null || _b === void 0 ? void 0 : _b.split(',');\n                const link = `https://${videoUrl.host}/m3u8/${data[1]}/${data[2]}/master.txt?s=1&cache=${data[7]}`;\n                //const thumbnails = response.data.match(new RegExp('(?<=file\":\")(.*)(?=\",\"kind)'))[0]?.replace(/\\\\/g, '');\n                const m3u8Content = await this.client.get(link, {\n                    headers: {\n                        accept: '*/*',\n                        referer: videoUrl.href,\n                    },\n                });\n                if (m3u8Content.data.includes('EXTM3U')) {\n                    const videoList = m3u8Content.data.split('#EXT-X-STREAM-INF:');\n                    for (const video of videoList !== null && videoList !== void 0 ? videoList : []) {\n                        if (video.includes('BANDWIDTH')) {\n                            const url = video.split('\\n')[1];\n                            const quality = video.split('RESOLUTION=')[1].split('\\n')[0].split('x')[1];\n                            result.sources.push({\n                                url: url,\n                                quality: `${quality}`,\n                                isM3U8: url.includes('.m3u8'),\n                            });\n                        }\n                    }\n                }\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = Mp4Player;\n//# sourceMappingURL=mp4player.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL21wNHBsYXllci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUIsbUJBQU8sQ0FBQyxpRkFBVztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxjQUFjLFFBQVEsUUFBUSxHQUFHLFFBQVEsd0JBQXdCLFFBQVE7QUFDakg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxleHRyYWN0b3JzXFxtcDRwbGF5ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi9tb2RlbHNcIik7XG5jbGFzcyBNcDRQbGF5ZXIgZXh0ZW5kcyBtb2RlbHNfMS5WaWRlb0V4dHJhY3RvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc2VydmVyTmFtZSA9ICdtcDRwbGF5ZXInO1xuICAgICAgICB0aGlzLnNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5kb21haW5zID0gWydtcDRwbGF5ZXIuc2l0ZSddO1xuICAgICAgICB0aGlzLmV4dHJhY3QgPSBhc3luYyAodmlkZW9VcmwpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlczogW10sXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlczogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh2aWRlb1VybC5ocmVmKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gKF9iID0gKF9hID0gcmVzcG9uc2UuZGF0YVxuICAgICAgICAgICAgICAgICAgICAubWF0Y2gobmV3IFJlZ0V4cCgnKD88PXNuaWZmXFxcXCgpKC4qKSg/PVxcXFwpKScpKVswXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcGxhY2UoL1xcXCIvZywgJycpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc3BsaXQoJywnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gYGh0dHBzOi8vJHt2aWRlb1VybC5ob3N0fS9tM3U4LyR7ZGF0YVsxXX0vJHtkYXRhWzJdfS9tYXN0ZXIudHh0P3M9MSZjYWNoZT0ke2RhdGFbN119YDtcbiAgICAgICAgICAgICAgICAvL2NvbnN0IHRodW1ibmFpbHMgPSByZXNwb25zZS5kYXRhLm1hdGNoKG5ldyBSZWdFeHAoJyg/PD1maWxlXCI6XCIpKC4qKSg/PVwiLFwia2luZCknKSlbMF0/LnJlcGxhY2UoL1xcXFwvZywgJycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG0zdThDb250ZW50ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGxpbmssIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0OiAnKi8qJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZXI6IHZpZGVvVXJsLmhyZWYsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG0zdThDb250ZW50LmRhdGEuaW5jbHVkZXMoJ0VYVE0zVScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvTGlzdCA9IG0zdThDb250ZW50LmRhdGEuc3BsaXQoJyNFWFQtWC1TVFJFQU0tSU5GOicpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZpZGVvIG9mIHZpZGVvTGlzdCAhPT0gbnVsbCAmJiB2aWRlb0xpc3QgIT09IHZvaWQgMCA/IHZpZGVvTGlzdCA6IFtdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmlkZW8uaW5jbHVkZXMoJ0JBTkRXSURUSCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gdmlkZW8uc3BsaXQoJ1xcbicpWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1YWxpdHkgPSB2aWRlby5zcGxpdCgnUkVTT0xVVElPTj0nKVsxXS5zcGxpdCgnXFxuJylbMF0uc3BsaXQoJ3gnKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6IGAke3F1YWxpdHl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiB1cmwuaW5jbHVkZXMoJy5tM3U4JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IE1wNFBsYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1wNHBsYXllci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/mp4player.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/mp4upload.js":
/*!************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/mp4upload.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass Mp4Upload extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'mp4upload';\n        this.sources = [];\n        this.extract = async (videoUrl) => {\n            try {\n                const { data } = await this.client.get(videoUrl.href);\n                const playerSrc = data.match(/(?<=player\\.src\\()\\s*{\\s*type:\\s*\"[^\"]+\",\\s*src:\\s*\"([^\"]+)\"\\s*}\\s*(?=\\);)/s);\n                const streamUrl = playerSrc[1];\n                if (!streamUrl)\n                    throw new Error('Stream url not found');\n                this.sources.push({\n                    quality: 'auto',\n                    url: streamUrl,\n                    isM3U8: streamUrl.includes('.m3u8'),\n                });\n                return this.sources;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = Mp4Upload;\n//# sourceMappingURL=mp4upload.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL21wNHVwbG9hZC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUIsbUJBQU8sQ0FBQyxpRkFBVztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CLG9FQUFvRSwwQ0FBMEMsU0FBUztBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcZXh0cmFjdG9yc1xcbXA0dXBsb2FkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuY2xhc3MgTXA0VXBsb2FkIGV4dGVuZHMgbW9kZWxzXzEuVmlkZW9FeHRyYWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnNlcnZlck5hbWUgPSAnbXA0dXBsb2FkJztcbiAgICAgICAgdGhpcy5zb3VyY2VzID0gW107XG4gICAgICAgIHRoaXMuZXh0cmFjdCA9IGFzeW5jICh2aWRlb1VybCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh2aWRlb1VybC5ocmVmKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJTcmMgPSBkYXRhLm1hdGNoKC8oPzw9cGxheWVyXFwuc3JjXFwoKVxccyp7XFxzKnR5cGU6XFxzKlwiW15cIl0rXCIsXFxzKnNyYzpcXHMqXCIoW15cIl0rKVwiXFxzKn1cXHMqKD89XFwpOykvcyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtVXJsID0gcGxheWVyU3JjWzFdO1xuICAgICAgICAgICAgICAgIGlmICghc3RyZWFtVXJsKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0cmVhbSB1cmwgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgIHVybDogc3RyZWFtVXJsLFxuICAgICAgICAgICAgICAgICAgICBpc00zVTg6IHN0cmVhbVVybC5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gTXA0VXBsb2FkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXA0dXBsb2FkLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/mp4upload.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/rapidcloud.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/rapidcloud.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst crypto_js_1 = __importDefault(__webpack_require__(/*! crypto-js */ \"(rsc)/./node_modules/crypto-js/index.js\"));\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass RapidCloud extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'RapidCloud';\n        this.sources = [];\n        this.fallbackKey = 'c1d17096f2ca11b7';\n        this.host = 'https://rapid-cloud.co';\n        this.extract = async (videoUrl) => {\n            var _a, _b;\n            const result = {\n                sources: [],\n                subtitles: [],\n            };\n            try {\n                const id = (_a = videoUrl.href.split('/').pop()) === null || _a === void 0 ? void 0 : _a.split('?')[0];\n                const options = {\n                    headers: {\n                        'X-Requested-With': 'XMLHttpRequest',\n                    },\n                };\n                let res = null;\n                res = await this.client.get(`https://${videoUrl.hostname}/embed-2/ajax/e-1/getSources?id=${id}`, options);\n                let { data: { sources, tracks, intro, outro, encrypted }, } = res;\n                let decryptKey = await (await this.client.get('https://raw.githubusercontent.com/cinemaxhq/keys/e1/key')).data;\n                decryptKey = (0, utils_1.substringBefore)((0, utils_1.substringAfter)(decryptKey, '\"blob-code blob-code-inner js-file-line\">'), '</td>');\n                if (!decryptKey) {\n                    decryptKey = await (await this.client.get('https://raw.githubusercontent.com/cinemaxhq/keys/e1/key')).data;\n                }\n                if (!decryptKey)\n                    decryptKey = this.fallbackKey;\n                try {\n                    if (encrypted) {\n                        const sourcesArray = sources.split('');\n                        let extractedKey = '';\n                        let currentIndex = 0;\n                        for (const index of decryptKey) {\n                            const start = index[0] + currentIndex;\n                            const end = start + index[1];\n                            for (let i = start; i < end; i++) {\n                                extractedKey += res.data.sources[i];\n                                sourcesArray[i] = '';\n                            }\n                            currentIndex += index[1];\n                        }\n                        decryptKey = extractedKey;\n                        sources = sourcesArray.join('');\n                        const decrypt = crypto_js_1.default.AES.decrypt(sources, decryptKey);\n                        sources = JSON.parse(decrypt.toString(crypto_js_1.default.enc.Utf8));\n                    }\n                }\n                catch (err) {\n                    throw new Error('Cannot decrypt sources. Perhaps the key is invalid.');\n                }\n                this.sources = sources === null || sources === void 0 ? void 0 : sources.map((s) => ({\n                    url: s.file,\n                    isM3U8: s.file.includes('.m3u8'),\n                }));\n                result.sources.push(...this.sources);\n                if (videoUrl.href.includes(new URL(this.host).host)) {\n                    result.sources = [];\n                    this.sources = [];\n                    for (const source of sources) {\n                        const { data } = await this.client.get(source.file, options);\n                        const m3u8data = data\n                            .split('\\n')\n                            .filter((line) => line.includes('.m3u8') && line.includes('RESOLUTION='));\n                        const secondHalf = m3u8data.map((line) => { var _a; return (_a = line.match(/RESOLUTION=.*,(C)|URI=.*/g)) === null || _a === void 0 ? void 0 : _a.map((s) => s.split('=')[1]); });\n                        const TdArray = secondHalf.map((s) => {\n                            const f1 = s[0].split(',C')[0];\n                            const f2 = s[1].replace(/\"/g, '');\n                            return [f1, f2];\n                        });\n                        for (const [f1, f2] of TdArray) {\n                            this.sources.push({\n                                url: `${(_b = source.file) === null || _b === void 0 ? void 0 : _b.split('master.m3u8')[0]}${f2.replace('iframes', 'index')}`,\n                                quality: f1.split('x')[1] + 'p',\n                                isM3U8: f2.includes('.m3u8'),\n                            });\n                        }\n                        result.sources.push(...this.sources);\n                    }\n                }\n                result.intro = (intro === null || intro === void 0 ? void 0 : intro.end) > 1 ? { start: intro.start, end: intro.end } : undefined;\n                result.outro = (outro === null || outro === void 0 ? void 0 : outro.end) > 1 ? { start: outro.start, end: outro.end } : undefined;\n                result.sources.push({\n                    url: sources[0].file,\n                    isM3U8: sources[0].file.includes('.m3u8'),\n                    quality: 'auto',\n                });\n                result.subtitles = tracks\n                    .map((s) => s.file\n                    ? {\n                        url: s.file,\n                        lang: s.label ? s.label : 'Thumbnails',\n                    }\n                    : null)\n                    .filter((s) => s);\n                return result;\n            }\n            catch (err) {\n                throw err;\n            }\n        };\n        this.captcha = async (url, key) => {\n            const uri = new URL(url);\n            const domain = uri.protocol + '//' + uri.host;\n            const { data } = await this.client.get(`https://www.google.com/recaptcha/api.js?render=${key}`, {\n                headers: {\n                    Referer: domain,\n                },\n            });\n            const v = data === null || data === void 0 ? void 0 : data.substring(data.indexOf('/releases/'), data.lastIndexOf('/recaptcha')).split('/releases/')[1];\n            //TODO: NEED to fix the co (domain) parameter to work with every domain\n            const anchor = `https://www.google.com/recaptcha/api2/anchor?ar=1&hl=en&size=invisible&cb=kr42069kr&k=${key}&co=aHR0cHM6Ly9yYXBpZC1jbG91ZC5ydTo0NDM.&v=${v}`;\n            const c = (0, cheerio_1.load)((await this.client.get(anchor)).data)('#recaptcha-token').attr('value');\n            // currently its not returning proper response. not sure why\n            const res = await this.client.post(`https://www.google.com/recaptcha/api2/reload?k=${key}`, {\n                v: v,\n                k: key,\n                c: c,\n                co: 'aHR0cHM6Ly9yYXBpZC1jbG91ZC5ydTo0NDM.',\n                sa: '',\n                reason: 'q',\n            }, {\n                headers: {\n                    Referer: anchor,\n                },\n            });\n            return res.data.substring(res.data.indexOf('rresp\",\"'), res.data.lastIndexOf('\",null'));\n        };\n        // private wss = async (): Promise<string> => {\n        //   let sId = '';\n        //   const ws = new WebSocket('wss://ws1.rapid-cloud.ru/socket.io/?EIO=4&transport=websocket');\n        //   ws.on('open', () => {\n        //     ws.send('40');\n        //   });\n        //   return await new Promise((resolve, reject) => {\n        //     ws.on('message', (data: string) => {\n        //       data = data.toString();\n        //       if (data?.startsWith('40')) {\n        //         sId = JSON.parse(data.split('40')[1]).sid;\n        //         ws.close(4969, \"I'm a teapot\");\n        //         resolve(sId);\n        //       }\n        //     });\n        //   });\n        // };\n    }\n}\nexports[\"default\"] = RapidCloud;\n//# sourceMappingURL=rapidcloud.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL3JhcGlkY2xvdWQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxvQ0FBb0MsbUJBQU8sQ0FBQywwREFBVztBQUN2RCxnQkFBZ0IsbUJBQU8sQ0FBQywrRUFBVTtBQUNsQyxpQkFBaUIsbUJBQU8sQ0FBQyxpRkFBVztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHVEQUF1RCxrQkFBa0Isa0NBQWtDLEdBQUc7QUFDOUcsc0JBQXNCLFFBQVEsMENBQTBDLElBQUk7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELFNBQVM7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLE9BQU87QUFDdkM7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLFFBQVEsNEhBQTRIO0FBQ3hNO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSx3Q0FBd0MsbUZBQW1GLEVBQUUsK0JBQStCO0FBQzVKO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcscUNBQXFDO0FBQ3RJLGlHQUFpRyxxQ0FBcUM7QUFDdEk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPLDBFQUEwRSxJQUFJO0FBQ3pHO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxvSEFBb0gsSUFBSSw2Q0FBNkMsRUFBRTtBQUN2SztBQUNBO0FBQ0EsaUdBQWlHLElBQUk7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXGV4dHJhY3RvcnNcXHJhcGlkY2xvdWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IGNyeXB0b19qc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJjcnlwdG8tanNcIikpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcbmNsYXNzIFJhcGlkQ2xvdWQgZXh0ZW5kcyBtb2RlbHNfMS5WaWRlb0V4dHJhY3RvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc2VydmVyTmFtZSA9ICdSYXBpZENsb3VkJztcbiAgICAgICAgdGhpcy5zb3VyY2VzID0gW107XG4gICAgICAgIHRoaXMuZmFsbGJhY2tLZXkgPSAnYzFkMTcwOTZmMmNhMTFiNyc7XG4gICAgICAgIHRoaXMuaG9zdCA9ICdodHRwczovL3JhcGlkLWNsb3VkLmNvJztcbiAgICAgICAgdGhpcy5leHRyYWN0ID0gYXN5bmMgKHZpZGVvVXJsKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIHNvdXJjZXM6IFtdLFxuICAgICAgICAgICAgICAgIHN1YnRpdGxlczogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IChfYSA9IHZpZGVvVXJsLmhyZWYuc3BsaXQoJy8nKS5wb3AoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KCc/JylbMF07XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbGV0IHJlcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGBodHRwczovLyR7dmlkZW9VcmwuaG9zdG5hbWV9L2VtYmVkLTIvYWpheC9lLTEvZ2V0U291cmNlcz9pZD0ke2lkfWAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGxldCB7IGRhdGE6IHsgc291cmNlcywgdHJhY2tzLCBpbnRybywgb3V0cm8sIGVuY3J5cHRlZCB9LCB9ID0gcmVzO1xuICAgICAgICAgICAgICAgIGxldCBkZWNyeXB0S2V5ID0gYXdhaXQgKGF3YWl0IHRoaXMuY2xpZW50LmdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NpbmVtYXhocS9rZXlzL2UxL2tleScpKS5kYXRhO1xuICAgICAgICAgICAgICAgIGRlY3J5cHRLZXkgPSAoMCwgdXRpbHNfMS5zdWJzdHJpbmdCZWZvcmUpKCgwLCB1dGlsc18xLnN1YnN0cmluZ0FmdGVyKShkZWNyeXB0S2V5LCAnXCJibG9iLWNvZGUgYmxvYi1jb2RlLWlubmVyIGpzLWZpbGUtbGluZVwiPicpLCAnPC90ZD4nKTtcbiAgICAgICAgICAgICAgICBpZiAoIWRlY3J5cHRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjcnlwdEtleSA9IGF3YWl0IChhd2FpdCB0aGlzLmNsaWVudC5nZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9jaW5lbWF4aHEva2V5cy9lMS9rZXknKSkuZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFkZWNyeXB0S2V5KVxuICAgICAgICAgICAgICAgICAgICBkZWNyeXB0S2V5ID0gdGhpcy5mYWxsYmFja0tleTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW5jcnlwdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VzQXJyYXkgPSBzb3VyY2VzLnNwbGl0KCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBleHRyYWN0ZWRLZXkgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbmRleCBvZiBkZWNyeXB0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBpbmRleFswXSArIGN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBzdGFydCArIGluZGV4WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhY3RlZEtleSArPSByZXMuZGF0YS5zb3VyY2VzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzQXJyYXlbaV0gPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEluZGV4ICs9IGluZGV4WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVjcnlwdEtleSA9IGV4dHJhY3RlZEtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXMgPSBzb3VyY2VzQXJyYXkuam9pbignJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWNyeXB0ID0gY3J5cHRvX2pzXzEuZGVmYXVsdC5BRVMuZGVjcnlwdChzb3VyY2VzLCBkZWNyeXB0S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXMgPSBKU09OLnBhcnNlKGRlY3J5cHQudG9TdHJpbmcoY3J5cHRvX2pzXzEuZGVmYXVsdC5lbmMuVXRmOCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZGVjcnlwdCBzb3VyY2VzLiBQZXJoYXBzIHRoZSBrZXkgaXMgaW52YWxpZC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VzID0gc291cmNlcyA9PT0gbnVsbCB8fCBzb3VyY2VzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2VzLm1hcCgocykgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBzLmZpbGUsXG4gICAgICAgICAgICAgICAgICAgIGlzTTNVODogcy5maWxlLmluY2x1ZGVzKCcubTN1OCcpLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICByZXN1bHQuc291cmNlcy5wdXNoKC4uLnRoaXMuc291cmNlcyk7XG4gICAgICAgICAgICAgICAgaWYgKHZpZGVvVXJsLmhyZWYuaW5jbHVkZXMobmV3IFVSTCh0aGlzLmhvc3QpLmhvc3QpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zb3VyY2VzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291cmNlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChzb3VyY2UuZmlsZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtM3U4ZGF0YSA9IGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJ1xcbicpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigobGluZSkgPT4gbGluZS5pbmNsdWRlcygnLm0zdTgnKSAmJiBsaW5lLmluY2x1ZGVzKCdSRVNPTFVUSU9OPScpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZEhhbGYgPSBtM3U4ZGF0YS5tYXAoKGxpbmUpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gbGluZS5tYXRjaCgvUkVTT0xVVElPTj0uKiwoQyl8VVJJPS4qL2cpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKChzKSA9PiBzLnNwbGl0KCc9JylbMV0pOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFRkQXJyYXkgPSBzZWNvbmRIYWxmLm1hcCgocykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGYxID0gc1swXS5zcGxpdCgnLEMnKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmMiA9IHNbMV0ucmVwbGFjZSgvXCIvZywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbZjEsIGYyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBbZjEsIGYyXSBvZiBUZEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAkeyhfYiA9IHNvdXJjZS5maWxlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc3BsaXQoJ21hc3Rlci5tM3U4JylbMF19JHtmMi5yZXBsYWNlKCdpZnJhbWVzJywgJ2luZGV4Jyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogZjEuc3BsaXQoJ3gnKVsxXSArICdwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiBmMi5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zb3VyY2VzLnB1c2goLi4udGhpcy5zb3VyY2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQuaW50cm8gPSAoaW50cm8gPT09IG51bGwgfHwgaW50cm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludHJvLmVuZCkgPiAxID8geyBzdGFydDogaW50cm8uc3RhcnQsIGVuZDogaW50cm8uZW5kIH0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmVzdWx0Lm91dHJvID0gKG91dHJvID09PSBudWxsIHx8IG91dHJvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvdXRyby5lbmQpID4gMSA/IHsgc3RhcnQ6IG91dHJvLnN0YXJ0LCBlbmQ6IG91dHJvLmVuZCB9IDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHNvdXJjZXNbMF0uZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiBzb3VyY2VzWzBdLmZpbGUuaW5jbHVkZXMoJy5tM3U4JyksXG4gICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXN1bHQuc3VidGl0bGVzID0gdHJhY2tzXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKHMpID0+IHMuZmlsZVxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcy5maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZzogcy5sYWJlbCA/IHMubGFiZWwgOiAnVGh1bWJuYWlscycsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiBudWxsKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChzKSA9PiBzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jYXB0Y2hhID0gYXN5bmMgKHVybCwga2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cmkgPSBuZXcgVVJMKHVybCk7XG4gICAgICAgICAgICBjb25zdCBkb21haW4gPSB1cmkucHJvdG9jb2wgKyAnLy8nICsgdXJpLmhvc3Q7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzP3JlbmRlcj0ke2tleX1gLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiBkb21haW4sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdiA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5zdWJzdHJpbmcoZGF0YS5pbmRleE9mKCcvcmVsZWFzZXMvJyksIGRhdGEubGFzdEluZGV4T2YoJy9yZWNhcHRjaGEnKSkuc3BsaXQoJy9yZWxlYXNlcy8nKVsxXTtcbiAgICAgICAgICAgIC8vVE9ETzogTkVFRCB0byBmaXggdGhlIGNvIChkb21haW4pIHBhcmFtZXRlciB0byB3b3JrIHdpdGggZXZlcnkgZG9tYWluXG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpMi9hbmNob3I/YXI9MSZobD1lbiZzaXplPWludmlzaWJsZSZjYj1rcjQyMDY5a3Imaz0ke2tleX0mY289YUhSMGNITTZMeTl5WVhCcFpDMWpiRzkxWkM1eWRUbzBORE0uJnY9JHt2fWA7XG4gICAgICAgICAgICBjb25zdCBjID0gKDAsIGNoZWVyaW9fMS5sb2FkKSgoYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGFuY2hvcikpLmRhdGEpKCcjcmVjYXB0Y2hhLXRva2VuJykuYXR0cigndmFsdWUnKTtcbiAgICAgICAgICAgIC8vIGN1cnJlbnRseSBpdHMgbm90IHJldHVybmluZyBwcm9wZXIgcmVzcG9uc2UuIG5vdCBzdXJlIHdoeVxuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdChgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpMi9yZWxvYWQ/az0ke2tleX1gLCB7XG4gICAgICAgICAgICAgICAgdjogdixcbiAgICAgICAgICAgICAgICBrOiBrZXksXG4gICAgICAgICAgICAgICAgYzogYyxcbiAgICAgICAgICAgICAgICBjbzogJ2FIUjBjSE02THk5eVlYQnBaQzFqYkc5MVpDNXlkVG8wTkRNLicsXG4gICAgICAgICAgICAgICAgc2E6ICcnLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogJ3EnLFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogYW5jaG9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXMuZGF0YS5zdWJzdHJpbmcocmVzLmRhdGEuaW5kZXhPZigncnJlc3BcIixcIicpLCByZXMuZGF0YS5sYXN0SW5kZXhPZignXCIsbnVsbCcpKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gcHJpdmF0ZSB3c3MgPSBhc3luYyAoKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgICAgICAgLy8gICBsZXQgc0lkID0gJyc7XG4gICAgICAgIC8vICAgY29uc3Qgd3MgPSBuZXcgV2ViU29ja2V0KCd3c3M6Ly93czEucmFwaWQtY2xvdWQucnUvc29ja2V0LmlvLz9FSU89NCZ0cmFuc3BvcnQ9d2Vic29ja2V0Jyk7XG4gICAgICAgIC8vICAgd3Mub24oJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgIC8vICAgICB3cy5zZW5kKCc0MCcpO1xuICAgICAgICAvLyAgIH0pO1xuICAgICAgICAvLyAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vICAgICB3cy5vbignbWVzc2FnZScsIChkYXRhOiBzdHJpbmcpID0+IHtcbiAgICAgICAgLy8gICAgICAgZGF0YSA9IGRhdGEudG9TdHJpbmcoKTtcbiAgICAgICAgLy8gICAgICAgaWYgKGRhdGE/LnN0YXJ0c1dpdGgoJzQwJykpIHtcbiAgICAgICAgLy8gICAgICAgICBzSWQgPSBKU09OLnBhcnNlKGRhdGEuc3BsaXQoJzQwJylbMV0pLnNpZDtcbiAgICAgICAgLy8gICAgICAgICB3cy5jbG9zZSg0OTY5LCBcIkknbSBhIHRlYXBvdFwiKTtcbiAgICAgICAgLy8gICAgICAgICByZXNvbHZlKHNJZCk7XG4gICAgICAgIC8vICAgICAgIH1cbiAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAvLyAgIH0pO1xuICAgICAgICAvLyB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFJhcGlkQ2xvdWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYXBpZGNsb3VkLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/rapidcloud.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/smashystream.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/smashystream.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst crypto_1 = __importDefault(__webpack_require__(/*! crypto */ \"crypto\"));\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\n// Copied form https://github.com/JorrinKievit/restreamer/blob/main/src/main/extractors/smashystream.ts/smashystream.ts\n// Thanks Jorrin Kievit\nclass SmashyStream extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'SmashyStream';\n        this.sources = [];\n        this.host = 'https://embed.smashystream.com';\n        this.extract = async (videoUrl) => {\n            try {\n                const result = [];\n                const { data } = await this.client.get(videoUrl.href);\n                const $ = (0, cheerio_1.load)(data);\n                const sourceUrls = $('.dropdown-menu a[data-id]')\n                    .map((_, el) => $(el).attr('data-id'))\n                    .get()\n                    .filter(it => it !== '_default');\n                await Promise.all(sourceUrls.map(async (sourceUrl) => {\n                    if (sourceUrl.includes('/ffix')) {\n                        const data = await this.extractSmashyFfix(sourceUrl);\n                        result.push({\n                            source: 'FFix',\n                            data: data,\n                        });\n                    }\n                    if (sourceUrl.includes('/watchx')) {\n                        const data = await this.extractSmashyWatchX(sourceUrl);\n                        result.push({\n                            source: 'WatchX',\n                            data: data,\n                        });\n                    }\n                    if (sourceUrl.includes('/nflim')) {\n                        const data = await this.extractSmashyNFlim(sourceUrl);\n                        result.push({\n                            source: 'NFilm',\n                            data: data,\n                        });\n                    }\n                    if (sourceUrl.includes('/fx')) {\n                        const data = await this.extractSmashyFX(sourceUrl);\n                        result.push({\n                            source: 'FX',\n                            data: data,\n                        });\n                    }\n                    if (sourceUrl.includes('/cf')) {\n                        const data = await this.extractSmashyCF(sourceUrl);\n                        result.push({\n                            source: 'CF',\n                            data: data,\n                        });\n                    }\n                    if (sourceUrl.includes('eemovie')) {\n                        const data = await this.extractSmashyEEMovie(sourceUrl);\n                        result.push({\n                            source: 'EEMovie',\n                            data: data,\n                        });\n                    }\n                    return undefined;\n                }));\n                return result.filter(a => a.source === 'FFix')[0].data;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n    async extractSmashyFfix(url) {\n        try {\n            const result = {\n                sources: [],\n                subtitles: [],\n            };\n            const res = await this.client.get(url, {\n                headers: {\n                    referer: url,\n                },\n            });\n            const config = JSON.parse(res.data.match(/var\\s+config\\s*=\\s*({.*?});/)[1]);\n            const files = config.file\n                .match(/\\[([^\\]]+)\\](https?:\\/\\/\\S+?)(?=,\\[|$)/g)\n                .map((entry) => {\n                const [, quality, link] = entry.match(/\\[([^\\]]+)\\](https?:\\/\\/\\S+?)(?=,\\[|$)/);\n                return { quality, link: link.replace(',', '') };\n            });\n            const vttArray = config.subtitle\n                .match(/\\[([^\\]]+)\\](https?:\\/\\/\\S+?)(?=,\\[|$)/g)\n                .map((entry) => {\n                const [, language, link] = entry.match(/\\[([^\\]]+)\\](https?:\\/\\/\\S+?)(?=,\\[|$)/);\n                return { language, link: link.replace(',', '') };\n            });\n            files.map((source) => {\n                result.sources.push({\n                    url: source.link,\n                    quality: source.quality,\n                    isM3U8: source.link.includes('.m3u8'),\n                });\n            });\n            vttArray.map((subtitle) => {\n                result.subtitles.push({\n                    url: subtitle.link,\n                    lang: subtitle.language,\n                });\n            });\n            return result;\n        }\n        catch (err) {\n            throw new Error(err.message);\n        }\n    }\n    async extractSmashyWatchX(url) {\n        try {\n            const result = {\n                sources: [],\n                subtitles: [],\n            };\n            const key = '4VqE3#N7zt&HEP^a';\n            const res = await this.client.get(url, {\n                headers: {\n                    referer: url,\n                },\n            });\n            const regex = /MasterJS\\s*=\\s*'([^']*)'/;\n            const base64EncryptedData = regex.exec(res.data)[1];\n            const base64DecryptedData = JSON.parse(Buffer.from(base64EncryptedData, 'base64').toString('utf8'));\n            const derivedKey = crypto_1.default.pbkdf2Sync(key, Buffer.from(base64DecryptedData.salt, 'hex'), base64DecryptedData.iterations, 32, 'sha512');\n            const decipher = crypto_1.default.createDecipheriv('aes-256-cbc', derivedKey, Buffer.from(base64DecryptedData.iv, 'hex'));\n            decipher.setEncoding('utf8');\n            let decrypted = decipher.update(base64DecryptedData.ciphertext, 'base64', 'utf8');\n            decrypted += decipher.final('utf8');\n            const sources = JSON.parse(decrypted.match(/sources: ([^\\]]*\\])/)[1]);\n            const tracks = JSON.parse(decrypted.match(/tracks: ([^]*?\\}\\])/)[1]);\n            const subtitles = tracks.filter((it) => it.kind === 'captions');\n            sources.map((source) => {\n                result.sources.push({\n                    url: source.file,\n                    quality: source.label,\n                    isM3U8: source.file.includes('.m3u8'),\n                });\n            });\n            subtitles.map((subtitle) => {\n                result.subtitles.push({\n                    url: subtitle.file,\n                    lang: subtitle.label,\n                });\n            });\n            return result;\n        }\n        catch (err) {\n            throw new Error(err.message);\n        }\n    }\n    async extractSmashyNFlim(url) {\n        try {\n            const result = {\n                sources: [],\n                subtitles: [],\n            };\n            const res = await this.client.get(url, {\n                headers: {\n                    referer: url,\n                },\n            });\n            const configData = res.data.match(/var\\s+config\\s*=\\s*({.*?});/);\n            const config = JSON.parse((configData === null || configData === void 0 ? void 0 : configData.length) > 0 ? configData[1] : null);\n            const files = config === null || config === void 0 ? void 0 : config.file.match(/\\[([^\\]]+)\\](https?:\\/\\/\\S+?)(?=,\\[|$)/g).map((entry) => {\n                const [, quality, link] = entry.match(/\\[([^\\]]+)\\](https?:\\/\\/\\S+?)(?=,\\[|$)/);\n                return { quality, link: link.replace(',', '') };\n            });\n            const vttArray = config === null || config === void 0 ? void 0 : config.subtitle.match(/\\[([^\\]]+)\\](https?:\\/\\/\\S+?)(?=,\\[|$)/g).map((entry) => {\n                const [, language, link] = entry.match(/\\[([^\\]]+)\\](https?:\\/\\/\\S+?)(?=,\\[|$)/);\n                return { language, link: link.replace(',', '') };\n            });\n            let validFiles = files;\n            if (files) {\n                await Promise.all(files === null || files === void 0 ? void 0 : files.map(async (source) => {\n                    await this.client\n                        .head(source.link)\n                        .then(res => console.log(res.status))\n                        .catch(err => {\n                        if (err.response.status.status !== 200) {\n                            validFiles = validFiles.filter((obj) => obj.link !== source.link);\n                        }\n                    });\n                }));\n            }\n            if (validFiles) {\n                validFiles === null || validFiles === void 0 ? void 0 : validFiles.map((source) => {\n                    result.sources.push({\n                        url: source.link,\n                        quality: source.quality,\n                        isM3U8: source.link.includes('.m3u8'),\n                    });\n                });\n                if (vttArray) {\n                    vttArray === null || vttArray === void 0 ? void 0 : vttArray.map((subtitle) => {\n                        result.subtitles.push({\n                            url: subtitle.link,\n                            lang: subtitle.language,\n                        });\n                    });\n                }\n            }\n            return result;\n        }\n        catch (err) {\n            throw new Error(err.message);\n        }\n    }\n    async extractSmashyFX(url) {\n        try {\n            const result = {\n                sources: [],\n                subtitles: [],\n            };\n            const res = await this.client.get(url, {\n                headers: {\n                    referer: url,\n                },\n            });\n            const file = res.data.match(/file:\\s*\"([^\"]+)\"/)[1];\n            result.sources.push({\n                url: file,\n                isM3U8: file.includes('.m3u8'),\n            });\n            return result;\n        }\n        catch (err) {\n            throw new Error(err.message);\n        }\n    }\n    async extractSmashyCF(url) {\n        try {\n            const result = {\n                sources: [],\n                subtitles: [],\n            };\n            const res = await this.client.get(url, {\n                headers: {\n                    referer: url,\n                },\n            });\n            const file = res.data.match(/file:\\s*\"([^\"]+)\"/)[1];\n            const fileRes = await this.client.head(file);\n            if (fileRes.status !== 200 || fileRes.data.includes('404')) {\n                return result;\n            }\n            else {\n                result.sources.push({\n                    url: file,\n                    isM3U8: file.includes('.m3u8'),\n                });\n            }\n            return result;\n        }\n        catch (err) {\n            throw new Error(err.message);\n        }\n    }\n    async extractSmashyEEMovie(url) {\n        try {\n            const result = {\n                sources: [],\n                subtitles: [],\n            };\n            const res = await this.client.get(url, {\n                headers: {\n                    referer: url,\n                },\n            });\n            const file = res.data.match(/file:\\s*\"([^\"]+)\"/)[1];\n            result.sources.push({\n                url: file,\n                isM3U8: file.includes('.m3u8'),\n            });\n            return result;\n        }\n        catch (err) {\n            throw new Error(err.message);\n        }\n    }\n}\nexports[\"default\"] = SmashyStream;\n//# sourceMappingURL=smashystream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL3NtYXNoeXN0cmVhbS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlDQUFpQyxtQkFBTyxDQUFDLHNCQUFRO0FBQ2pELGlCQUFpQixtQkFBTyxDQUFDLGlGQUFXO0FBQ3BDLGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsMkVBQTJFLElBQUksRUFBRTtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2Isb0VBQW9FLElBQUksRUFBRTtBQUMxRTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsYUFBYTtBQUNiO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcZXh0cmFjdG9yc1xcc21hc2h5c3RyZWFtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY3J5cHRvXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImNyeXB0b1wiKSk7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi9tb2RlbHNcIik7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbi8vIENvcGllZCBmb3JtIGh0dHBzOi8vZ2l0aHViLmNvbS9Kb3JyaW5LaWV2aXQvcmVzdHJlYW1lci9ibG9iL21haW4vc3JjL21haW4vZXh0cmFjdG9ycy9zbWFzaHlzdHJlYW0udHMvc21hc2h5c3RyZWFtLnRzXG4vLyBUaGFua3MgSm9ycmluIEtpZXZpdFxuY2xhc3MgU21hc2h5U3RyZWFtIGV4dGVuZHMgbW9kZWxzXzEuVmlkZW9FeHRyYWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnNlcnZlck5hbWUgPSAnU21hc2h5U3RyZWFtJztcbiAgICAgICAgdGhpcy5zb3VyY2VzID0gW107XG4gICAgICAgIHRoaXMuaG9zdCA9ICdodHRwczovL2VtYmVkLnNtYXNoeXN0cmVhbS5jb20nO1xuICAgICAgICB0aGlzLmV4dHJhY3QgPSBhc3luYyAodmlkZW9VcmwpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQodmlkZW9VcmwuaHJlZik7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlVXJscyA9ICQoJy5kcm9wZG93bi1tZW51IGFbZGF0YS1pZF0nKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChfLCBlbCkgPT4gJChlbCkuYXR0cignZGF0YS1pZCcpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KClcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihpdCA9PiBpdCAhPT0gJ19kZWZhdWx0Jyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoc291cmNlVXJscy5tYXAoYXN5bmMgKHNvdXJjZVVybCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlVXJsLmluY2x1ZGVzKCcvZmZpeCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5leHRyYWN0U21hc2h5RmZpeChzb3VyY2VVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogJ0ZGaXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlVXJsLmluY2x1ZGVzKCcvd2F0Y2h4JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmV4dHJhY3RTbWFzaHlXYXRjaFgoc291cmNlVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICdXYXRjaFgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlVXJsLmluY2x1ZGVzKCcvbmZsaW0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuZXh0cmFjdFNtYXNoeU5GbGltKHNvdXJjZVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiAnTkZpbG0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlVXJsLmluY2x1ZGVzKCcvZngnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuZXh0cmFjdFNtYXNoeUZYKHNvdXJjZVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiAnRlgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlVXJsLmluY2x1ZGVzKCcvY2YnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuZXh0cmFjdFNtYXNoeUNGKHNvdXJjZVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiAnQ0YnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlVXJsLmluY2x1ZGVzKCdlZW1vdmllJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmV4dHJhY3RTbWFzaHlFRU1vdmllKHNvdXJjZVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiAnRUVNb3ZpZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQuZmlsdGVyKGEgPT4gYS5zb3VyY2UgPT09ICdGRml4JylbMF0uZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBleHRyYWN0U21hc2h5RmZpeCh1cmwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBzb3VyY2VzOiBbXSxcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZXM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlZmVyZXI6IHVybCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSBKU09OLnBhcnNlKHJlcy5kYXRhLm1hdGNoKC92YXJcXHMrY29uZmlnXFxzKj1cXHMqKHsuKj99KTsvKVsxXSk7XG4gICAgICAgICAgICBjb25zdCBmaWxlcyA9IGNvbmZpZy5maWxlXG4gICAgICAgICAgICAgICAgLm1hdGNoKC9cXFsoW15cXF1dKylcXF0oaHR0cHM/OlxcL1xcL1xcUys/KSg/PSxcXFt8JCkvZylcbiAgICAgICAgICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IFssIHF1YWxpdHksIGxpbmtdID0gZW50cnkubWF0Y2goL1xcWyhbXlxcXV0rKVxcXShodHRwcz86XFwvXFwvXFxTKz8pKD89LFxcW3wkKS8pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHF1YWxpdHksIGxpbms6IGxpbmsucmVwbGFjZSgnLCcsICcnKSB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB2dHRBcnJheSA9IGNvbmZpZy5zdWJ0aXRsZVxuICAgICAgICAgICAgICAgIC5tYXRjaCgvXFxbKFteXFxdXSspXFxdKGh0dHBzPzpcXC9cXC9cXFMrPykoPz0sXFxbfCQpL2cpXG4gICAgICAgICAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbLCBsYW5ndWFnZSwgbGlua10gPSBlbnRyeS5tYXRjaCgvXFxbKFteXFxdXSspXFxdKGh0dHBzPzpcXC9cXC9cXFMrPykoPz0sXFxbfCQpLyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbGFuZ3VhZ2UsIGxpbms6IGxpbmsucmVwbGFjZSgnLCcsICcnKSB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmaWxlcy5tYXAoKHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHNvdXJjZS5saW5rLFxuICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiBzb3VyY2UucXVhbGl0eSxcbiAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiBzb3VyY2UubGluay5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdnR0QXJyYXkubWFwKChzdWJ0aXRsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zdWJ0aXRsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogc3VidGl0bGUubGluayxcbiAgICAgICAgICAgICAgICAgICAgbGFuZzogc3VidGl0bGUubGFuZ3VhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBleHRyYWN0U21hc2h5V2F0Y2hYKHVybCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIHNvdXJjZXM6IFtdLFxuICAgICAgICAgICAgICAgIHN1YnRpdGxlczogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gJzRWcUUzI043enQmSEVQXmEnO1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHVybCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlcjogdXJsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gL01hc3RlckpTXFxzKj1cXHMqJyhbXiddKiknLztcbiAgICAgICAgICAgIGNvbnN0IGJhc2U2NEVuY3J5cHRlZERhdGEgPSByZWdleC5leGVjKHJlcy5kYXRhKVsxXTtcbiAgICAgICAgICAgIGNvbnN0IGJhc2U2NERlY3J5cHRlZERhdGEgPSBKU09OLnBhcnNlKEJ1ZmZlci5mcm9tKGJhc2U2NEVuY3J5cHRlZERhdGEsICdiYXNlNjQnKS50b1N0cmluZygndXRmOCcpKTtcbiAgICAgICAgICAgIGNvbnN0IGRlcml2ZWRLZXkgPSBjcnlwdG9fMS5kZWZhdWx0LnBia2RmMlN5bmMoa2V5LCBCdWZmZXIuZnJvbShiYXNlNjREZWNyeXB0ZWREYXRhLnNhbHQsICdoZXgnKSwgYmFzZTY0RGVjcnlwdGVkRGF0YS5pdGVyYXRpb25zLCAzMiwgJ3NoYTUxMicpO1xuICAgICAgICAgICAgY29uc3QgZGVjaXBoZXIgPSBjcnlwdG9fMS5kZWZhdWx0LmNyZWF0ZURlY2lwaGVyaXYoJ2Flcy0yNTYtY2JjJywgZGVyaXZlZEtleSwgQnVmZmVyLmZyb20oYmFzZTY0RGVjcnlwdGVkRGF0YS5pdiwgJ2hleCcpKTtcbiAgICAgICAgICAgIGRlY2lwaGVyLnNldEVuY29kaW5nKCd1dGY4Jyk7XG4gICAgICAgICAgICBsZXQgZGVjcnlwdGVkID0gZGVjaXBoZXIudXBkYXRlKGJhc2U2NERlY3J5cHRlZERhdGEuY2lwaGVydGV4dCwgJ2Jhc2U2NCcsICd1dGY4Jyk7XG4gICAgICAgICAgICBkZWNyeXB0ZWQgKz0gZGVjaXBoZXIuZmluYWwoJ3V0ZjgnKTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZXMgPSBKU09OLnBhcnNlKGRlY3J5cHRlZC5tYXRjaCgvc291cmNlczogKFteXFxdXSpcXF0pLylbMV0pO1xuICAgICAgICAgICAgY29uc3QgdHJhY2tzID0gSlNPTi5wYXJzZShkZWNyeXB0ZWQubWF0Y2goL3RyYWNrczogKFteXSo/XFx9XFxdKS8pWzFdKTtcbiAgICAgICAgICAgIGNvbnN0IHN1YnRpdGxlcyA9IHRyYWNrcy5maWx0ZXIoKGl0KSA9PiBpdC5raW5kID09PSAnY2FwdGlvbnMnKTtcbiAgICAgICAgICAgIHNvdXJjZXMubWFwKChzb3VyY2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXN1bHQuc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBzb3VyY2UuZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogc291cmNlLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICBpc00zVTg6IHNvdXJjZS5maWxlLmluY2x1ZGVzKCcubTN1OCcpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJ0aXRsZXMubWFwKChzdWJ0aXRsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zdWJ0aXRsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogc3VidGl0bGUuZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgbGFuZzogc3VidGl0bGUubGFiZWwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBleHRyYWN0U21hc2h5TkZsaW0odXJsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgc291cmNlczogW10sXG4gICAgICAgICAgICAgICAgc3VidGl0bGVzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQodXJsLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICByZWZlcmVyOiB1cmwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgY29uZmlnRGF0YSA9IHJlcy5kYXRhLm1hdGNoKC92YXJcXHMrY29uZmlnXFxzKj1cXHMqKHsuKj99KTsvKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IEpTT04ucGFyc2UoKGNvbmZpZ0RhdGEgPT09IG51bGwgfHwgY29uZmlnRGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnRGF0YS5sZW5ndGgpID4gMCA/IGNvbmZpZ0RhdGFbMV0gOiBudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLmZpbGUubWF0Y2goL1xcWyhbXlxcXV0rKVxcXShodHRwcz86XFwvXFwvXFxTKz8pKD89LFxcW3wkKS9nKS5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgWywgcXVhbGl0eSwgbGlua10gPSBlbnRyeS5tYXRjaCgvXFxbKFteXFxdXSspXFxdKGh0dHBzPzpcXC9cXC9cXFMrPykoPz0sXFxbfCQpLyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcXVhbGl0eSwgbGluazogbGluay5yZXBsYWNlKCcsJywgJycpIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHZ0dEFycmF5ID0gY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLnN1YnRpdGxlLm1hdGNoKC9cXFsoW15cXF1dKylcXF0oaHR0cHM/OlxcL1xcL1xcUys/KSg/PSxcXFt8JCkvZykubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IFssIGxhbmd1YWdlLCBsaW5rXSA9IGVudHJ5Lm1hdGNoKC9cXFsoW15cXF1dKylcXF0oaHR0cHM/OlxcL1xcL1xcUys/KSg/PSxcXFt8JCkvKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBsYW5ndWFnZSwgbGluazogbGluay5yZXBsYWNlKCcsJywgJycpIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCB2YWxpZEZpbGVzID0gZmlsZXM7XG4gICAgICAgICAgICBpZiAoZmlsZXMpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChmaWxlcyA9PT0gbnVsbCB8fCBmaWxlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmlsZXMubWFwKGFzeW5jIChzb3VyY2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGllbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5oZWFkKHNvdXJjZS5saW5rKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IGNvbnNvbGUubG9nKHJlcy5zdGF0dXMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLnJlc3BvbnNlLnN0YXR1cy5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkRmlsZXMgPSB2YWxpZEZpbGVzLmZpbHRlcigob2JqKSA9PiBvYmoubGluayAhPT0gc291cmNlLmxpbmspO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsaWRGaWxlcykge1xuICAgICAgICAgICAgICAgIHZhbGlkRmlsZXMgPT09IG51bGwgfHwgdmFsaWRGaWxlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsaWRGaWxlcy5tYXAoKHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc291cmNlLmxpbmssXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiBzb3VyY2UucXVhbGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTTNVODogc291cmNlLmxpbmsuaW5jbHVkZXMoJy5tM3U4JyksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh2dHRBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICB2dHRBcnJheSA9PT0gbnVsbCB8fCB2dHRBcnJheSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdnR0QXJyYXkubWFwKChzdWJ0aXRsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN1YnRpdGxlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHN1YnRpdGxlLmxpbmssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFuZzogc3VidGl0bGUubGFuZ3VhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGV4dHJhY3RTbWFzaHlGWCh1cmwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBzb3VyY2VzOiBbXSxcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZXM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlZmVyZXI6IHVybCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gcmVzLmRhdGEubWF0Y2goL2ZpbGU6XFxzKlwiKFteXCJdKylcIi8pWzFdO1xuICAgICAgICAgICAgcmVzdWx0LnNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdXJsOiBmaWxlLFxuICAgICAgICAgICAgICAgIGlzTTNVODogZmlsZS5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGV4dHJhY3RTbWFzaHlDRih1cmwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBzb3VyY2VzOiBbXSxcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZXM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlZmVyZXI6IHVybCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gcmVzLmRhdGEubWF0Y2goL2ZpbGU6XFxzKlwiKFteXCJdKylcIi8pWzFdO1xuICAgICAgICAgICAgY29uc3QgZmlsZVJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmhlYWQoZmlsZSk7XG4gICAgICAgICAgICBpZiAoZmlsZVJlcy5zdGF0dXMgIT09IDIwMCB8fCBmaWxlUmVzLmRhdGEuaW5jbHVkZXMoJzQwNCcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IGZpbGUsXG4gICAgICAgICAgICAgICAgICAgIGlzTTNVODogZmlsZS5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBleHRyYWN0U21hc2h5RUVNb3ZpZSh1cmwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBzb3VyY2VzOiBbXSxcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZXM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlZmVyZXI6IHVybCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gcmVzLmRhdGEubWF0Y2goL2ZpbGU6XFxzKlwiKFteXCJdKylcIi8pWzFdO1xuICAgICAgICAgICAgcmVzdWx0LnNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdXJsOiBmaWxlLFxuICAgICAgICAgICAgICAgIGlzTTNVODogZmlsZS5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gU21hc2h5U3RyZWFtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c21hc2h5c3RyZWFtLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/smashystream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamhub.js":
/*!************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/streamhub.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass StreamHub extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'StreamHub';\n        this.sources = [];\n        this.extract = async (videoUrl) => {\n            var _a;\n            try {\n                const result = {\n                    sources: [],\n                    subtitles: [],\n                };\n                const { data } = await this.client.get(videoUrl.href).catch(() => {\n                    throw new Error('Video not found');\n                });\n                const unpackedData = eval(/(eval)(\\(f.*?)(\\n<\\/script>)/s.exec(data)[2].replace('eval', ''));\n                const links = (_a = unpackedData.match(new RegExp('sources:\\\\[\\\\{src:\"(.*?)\"'))) !== null && _a !== void 0 ? _a : [];\n                const m3u8Content = await this.client.get(links[1], {\n                    headers: {\n                        Referer: links[1],\n                    },\n                });\n                result.sources.push({\n                    quality: 'auto',\n                    url: links[1],\n                    isM3U8: links[1].includes('.m3u8'),\n                });\n                if (m3u8Content.data.includes('EXTM3U')) {\n                    const videoList = m3u8Content.data.split('#EXT-X-STREAM-INF:');\n                    for (const video of videoList !== null && videoList !== void 0 ? videoList : []) {\n                        if (!video.includes('m3u8'))\n                            continue;\n                        const url = video.split('\\n')[1];\n                        const quality = video.split('RESOLUTION=')[1].split(',')[0].split('x')[1];\n                        result.sources.push({\n                            url: url,\n                            quality: `${quality}p`,\n                            isM3U8: url.includes('.m3u8'),\n                        });\n                    }\n                }\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = StreamHub;\n//# sourceMappingURL=streamhub.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL3N0cmVhbWh1Yi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUIsbUJBQU8sQ0FBQyxpRkFBVztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlGQUFpRjtBQUNqRjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxRQUFRO0FBQ2hEO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcZXh0cmFjdG9yc1xcc3RyZWFtaHViLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuY2xhc3MgU3RyZWFtSHViIGV4dGVuZHMgbW9kZWxzXzEuVmlkZW9FeHRyYWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnNlcnZlck5hbWUgPSAnU3RyZWFtSHViJztcbiAgICAgICAgdGhpcy5zb3VyY2VzID0gW107XG4gICAgICAgIHRoaXMuZXh0cmFjdCA9IGFzeW5jICh2aWRlb1VybCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZXM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQodmlkZW9VcmwuaHJlZikuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZpZGVvIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVucGFja2VkRGF0YSA9IGV2YWwoLyhldmFsKShcXChmLio/KShcXG48XFwvc2NyaXB0Pikvcy5leGVjKGRhdGEpWzJdLnJlcGxhY2UoJ2V2YWwnLCAnJykpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtzID0gKF9hID0gdW5wYWNrZWREYXRhLm1hdGNoKG5ldyBSZWdFeHAoJ3NvdXJjZXM6XFxcXFtcXFxce3NyYzpcIiguKj8pXCInKSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG0zdThDb250ZW50ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGxpbmtzWzFdLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6IGxpbmtzWzFdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgIHVybDogbGlua3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGlzTTNVODogbGlua3NbMV0uaW5jbHVkZXMoJy5tM3U4JyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG0zdThDb250ZW50LmRhdGEuaW5jbHVkZXMoJ0VYVE0zVScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvTGlzdCA9IG0zdThDb250ZW50LmRhdGEuc3BsaXQoJyNFWFQtWC1TVFJFQU0tSU5GOicpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZpZGVvIG9mIHZpZGVvTGlzdCAhPT0gbnVsbCAmJiB2aWRlb0xpc3QgIT09IHZvaWQgMCA/IHZpZGVvTGlzdCA6IFtdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZpZGVvLmluY2x1ZGVzKCdtM3U4JykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSB2aWRlby5zcGxpdCgnXFxuJylbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWFsaXR5ID0gdmlkZW8uc3BsaXQoJ1JFU09MVVRJT049JylbMV0uc3BsaXQoJywnKVswXS5zcGxpdCgneCcpWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogYCR7cXVhbGl0eX1wYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc00zVTg6IHVybC5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBTdHJlYW1IdWI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJlYW1odWIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamhub.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamlare.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/streamlare.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst video_extractor_1 = __importDefault(__webpack_require__(/*! ../models/video-extractor */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/video-extractor.js\"));\nclass StreamLare extends video_extractor_1.default {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'StreamLare';\n        this.sources = [];\n        this.host = 'https://streamlare.com';\n        this.regex = new RegExp('/[ve]/([^?#&/]+)');\n        this.USER_AGENT = 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36';\n    }\n    async extract(videoUrl, userAgent = this.USER_AGENT.toString(), ...args) {\n        var _a;\n        const res = await this.client.get(videoUrl.href);\n        const $ = (0, cheerio_1.load)(res.data);\n        const CSRF_TOKEN = (_a = $('head > meta:nth-child(3)').attr('content')) === null || _a === void 0 ? void 0 : _a.toString();\n        const videoId = videoUrl.href.match(this.regex)[1];\n        if (videoId == undefined) {\n            throw new Error('Video id not matched!');\n        }\n        const POST = await this.client.post(this.host + '/api/video/stream/get', {\n            id: videoId,\n        }, {\n            headers: {\n                'User-Agent': userAgent,\n            },\n        });\n        const POST_RES = POST.data;\n        const result = {\n            headers: {\n                'User-Agent': userAgent,\n            },\n            status: POST_RES.status,\n            message: POST_RES.message,\n            type: POST_RES.type,\n            token: POST_RES.token,\n            sources: POST_RES.result,\n        };\n        if (POST_RES.status == 'error') {\n            throw new Error('Request Failed! Error: ' + POST_RES.message);\n        }\n        return result;\n    }\n}\nexports[\"default\"] = StreamLare;\n//# sourceMappingURL=streamlare.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL3N0cmVhbWxhcmUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQywwQ0FBMEMsbUJBQU8sQ0FBQywyR0FBMkI7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXGV4dHJhY3RvcnNcXHN0cmVhbWxhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IHZpZGVvX2V4dHJhY3Rvcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9tb2RlbHMvdmlkZW8tZXh0cmFjdG9yXCIpKTtcbmNsYXNzIFN0cmVhbUxhcmUgZXh0ZW5kcyB2aWRlb19leHRyYWN0b3JfMS5kZWZhdWx0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5zZXJ2ZXJOYW1lID0gJ1N0cmVhbUxhcmUnO1xuICAgICAgICB0aGlzLnNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5ob3N0ID0gJ2h0dHBzOi8vc3RyZWFtbGFyZS5jb20nO1xuICAgICAgICB0aGlzLnJlZ2V4ID0gbmV3IFJlZ0V4cCgnL1t2ZV0vKFtePyMmL10rKScpO1xuICAgICAgICB0aGlzLlVTRVJfQUdFTlQgPSAnTW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTExLjAuMC4wIFNhZmFyaS81MzcuMzYnO1xuICAgIH1cbiAgICBhc3luYyBleHRyYWN0KHZpZGVvVXJsLCB1c2VyQWdlbnQgPSB0aGlzLlVTRVJfQUdFTlQudG9TdHJpbmcoKSwgLi4uYXJncykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh2aWRlb1VybC5ocmVmKTtcbiAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzLmRhdGEpO1xuICAgICAgICBjb25zdCBDU1JGX1RPS0VOID0gKF9hID0gJCgnaGVhZCA+IG1ldGE6bnRoLWNoaWxkKDMpJykuYXR0cignY29udGVudCcpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgdmlkZW9JZCA9IHZpZGVvVXJsLmhyZWYubWF0Y2godGhpcy5yZWdleClbMV07XG4gICAgICAgIGlmICh2aWRlb0lkID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWaWRlbyBpZCBub3QgbWF0Y2hlZCEnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBQT1NUID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdCh0aGlzLmhvc3QgKyAnL2FwaS92aWRlby9zdHJlYW0vZ2V0Jywge1xuICAgICAgICAgICAgaWQ6IHZpZGVvSWQsXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6IHVzZXJBZ2VudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBQT1NUX1JFUyA9IFBPU1QuZGF0YTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdVc2VyLUFnZW50JzogdXNlckFnZW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXR1czogUE9TVF9SRVMuc3RhdHVzLFxuICAgICAgICAgICAgbWVzc2FnZTogUE9TVF9SRVMubWVzc2FnZSxcbiAgICAgICAgICAgIHR5cGU6IFBPU1RfUkVTLnR5cGUsXG4gICAgICAgICAgICB0b2tlbjogUE9TVF9SRVMudG9rZW4sXG4gICAgICAgICAgICBzb3VyY2VzOiBQT1NUX1JFUy5yZXN1bHQsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChQT1NUX1JFUy5zdGF0dXMgPT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0IEZhaWxlZCEgRXJyb3I6ICcgKyBQT1NUX1JFUy5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFN0cmVhbUxhcmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJlYW1sYXJlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamlare.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamsb.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/streamsb.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nclass StreamSB extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'streamsb';\n        this.sources = [];\n        this.host = 'https://streamsss.net/sources50';\n        // TODO: update host2\n        this.host2 = 'https://watchsb.com/sources50';\n        this.PAYLOAD = (hex) => `566d337678566f743674494a7c7c${hex}7c7c346b6767586d6934774855537c7c73747265616d7362/6565417268755339773461447c7c346133383438333436313335376136323337373433383634376337633465366534393338373136643732373736343735373237613763376334363733353737303533366236333463353333363534366137633763373337343732363536313664373336327c7c6b586c3163614468645a47617c7c73747265616d7362`;\n        this.extract = async (videoUrl, isAlt = false) => {\n            let headers = {\n                watchsb: 'sbstream',\n                'User-Agent': utils_1.USER_AGENT,\n                Referer: videoUrl.href,\n            };\n            let id = videoUrl.href.split('/e/').pop();\n            if (id === null || id === void 0 ? void 0 : id.includes('html'))\n                id = id.split('.html')[0];\n            const bytes = new TextEncoder().encode(id);\n            const res = await this.client\n                .get(`${isAlt ? this.host2 : this.host}/${this.PAYLOAD(Buffer.from(bytes).toString('hex'))}`, {\n                headers,\n            })\n                .catch(() => null);\n            if (!(res === null || res === void 0 ? void 0 : res.data.stream_data))\n                throw new Error('No source found. Try a different server.');\n            headers = {\n                'User-Agent': utils_1.USER_AGENT,\n                Referer: videoUrl.href.split('e/')[0],\n            };\n            const m3u8Urls = await this.client.get(res.data.stream_data.file, {\n                headers,\n            });\n            const videoList = m3u8Urls.data.split('#EXT-X-STREAM-INF:');\n            for (const video of videoList !== null && videoList !== void 0 ? videoList : []) {\n                if (!video.includes('m3u8'))\n                    continue;\n                const url = video.split('\\n')[1];\n                const quality = video.split('RESOLUTION=')[1].split(',')[0].split('x')[1];\n                this.sources.push({\n                    url: url,\n                    quality: `${quality}p`,\n                    isM3U8: true,\n                });\n            }\n            this.sources.push({\n                quality: 'auto',\n                url: res.data.stream_data.file,\n                isM3U8: res.data.stream_data.file.includes('.m3u8'),\n            });\n            return this.sources;\n        };\n        this.addSources = (source) => {\n            this.sources.push({\n                url: source.file,\n                isM3U8: source.file.includes('.m3u8'),\n            });\n        };\n    }\n}\nexports[\"default\"] = StreamSB;\n//# sourceMappingURL=streamsb.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL3N0cmVhbXNiLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQixtQkFBTyxDQUFDLGlGQUFXO0FBQ3BDLGdCQUFnQixtQkFBTyxDQUFDLCtFQUFVO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsSUFBSTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLCtCQUErQixHQUFHLGlEQUFpRDtBQUMzRztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxRQUFRO0FBQ3hDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXGV4dHJhY3RvcnNcXHN0cmVhbXNiLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcbmNsYXNzIFN0cmVhbVNCIGV4dGVuZHMgbW9kZWxzXzEuVmlkZW9FeHRyYWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnNlcnZlck5hbWUgPSAnc3RyZWFtc2InO1xuICAgICAgICB0aGlzLnNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5ob3N0ID0gJ2h0dHBzOi8vc3RyZWFtc3NzLm5ldC9zb3VyY2VzNTAnO1xuICAgICAgICAvLyBUT0RPOiB1cGRhdGUgaG9zdDJcbiAgICAgICAgdGhpcy5ob3N0MiA9ICdodHRwczovL3dhdGNoc2IuY29tL3NvdXJjZXM1MCc7XG4gICAgICAgIHRoaXMuUEFZTE9BRCA9IChoZXgpID0+IGA1NjZkMzM3Njc4NTY2Zjc0MzY3NDQ5NGE3YzdjJHtoZXh9N2M3YzM0NmI2NzY3NTg2ZDY5MzQ3NzQ4NTU1MzdjN2M3Mzc0NzI2NTYxNmQ3MzYyLzY1NjU0MTcyNjg3NTUzMzk3NzM0NjE0NDdjN2MzNDYxMzMzODM0MzgzMzM0MzYzMTMzMzUzNzYxMzYzMjMzMzczNzM0MzMzODM2MzQzNzYzMzc2MzM0NjUzNjY1MzQzOTMzMzgzNzMxMzY2NDM3MzIzNzM3MzYzNDM3MzUzNzMyMzc2MTM3NjMzNzYzMzQzNjM3MzMzNTM3MzczMDM1MzMzNjYyMzYzMzM0NjMzNTMzMzMzNjM1MzQzNjYxMzc2MzM3NjMzNzMzMzczNDM3MzIzNjM1MzYzMTM2NjQzNzMzMzYzMjdjN2M2YjU4NmMzMTYzNjE0NDY4NjQ1YTQ3NjE3YzdjNzM3NDcyNjU2MTZkNzM2MmA7XG4gICAgICAgIHRoaXMuZXh0cmFjdCA9IGFzeW5jICh2aWRlb1VybCwgaXNBbHQgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgbGV0IGhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgd2F0Y2hzYjogJ3Nic3RyZWFtJyxcbiAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6IHV0aWxzXzEuVVNFUl9BR0VOVCxcbiAgICAgICAgICAgICAgICBSZWZlcmVyOiB2aWRlb1VybC5ocmVmLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBpZCA9IHZpZGVvVXJsLmhyZWYuc3BsaXQoJy9lLycpLnBvcCgpO1xuICAgICAgICAgICAgaWYgKGlkID09PSBudWxsIHx8IGlkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpZC5pbmNsdWRlcygnaHRtbCcpKVxuICAgICAgICAgICAgICAgIGlkID0gaWQuc3BsaXQoJy5odG1sJylbMF07XG4gICAgICAgICAgICBjb25zdCBieXRlcyA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShpZCk7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudFxuICAgICAgICAgICAgICAgIC5nZXQoYCR7aXNBbHQgPyB0aGlzLmhvc3QyIDogdGhpcy5ob3N0fS8ke3RoaXMuUEFZTE9BRChCdWZmZXIuZnJvbShieXRlcykudG9TdHJpbmcoJ2hleCcpKX1gLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IG51bGwpO1xuICAgICAgICAgICAgaWYgKCEocmVzID09PSBudWxsIHx8IHJlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzLmRhdGEuc3RyZWFtX2RhdGEpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc291cmNlIGZvdW5kLiBUcnkgYSBkaWZmZXJlbnQgc2VydmVyLicpO1xuICAgICAgICAgICAgaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6IHV0aWxzXzEuVVNFUl9BR0VOVCxcbiAgICAgICAgICAgICAgICBSZWZlcmVyOiB2aWRlb1VybC5ocmVmLnNwbGl0KCdlLycpWzBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG0zdThVcmxzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHJlcy5kYXRhLnN0cmVhbV9kYXRhLmZpbGUsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB2aWRlb0xpc3QgPSBtM3U4VXJscy5kYXRhLnNwbGl0KCcjRVhULVgtU1RSRUFNLUlORjonKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdmlkZW8gb2YgdmlkZW9MaXN0ICE9PSBudWxsICYmIHZpZGVvTGlzdCAhPT0gdm9pZCAwID8gdmlkZW9MaXN0IDogW10pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXZpZGVvLmluY2x1ZGVzKCdtM3U4JykpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHZpZGVvLnNwbGl0KCdcXG4nKVsxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBxdWFsaXR5ID0gdmlkZW8uc3BsaXQoJ1JFU09MVVRJT049JylbMV0uc3BsaXQoJywnKVswXS5zcGxpdCgneCcpWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6IGAke3F1YWxpdHl9cGAsXG4gICAgICAgICAgICAgICAgICAgIGlzTTNVODogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBxdWFsaXR5OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgdXJsOiByZXMuZGF0YS5zdHJlYW1fZGF0YS5maWxlLFxuICAgICAgICAgICAgICAgIGlzTTNVODogcmVzLmRhdGEuc3RyZWFtX2RhdGEuZmlsZS5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlcztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hZGRTb3VyY2VzID0gKHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIHVybDogc291cmNlLmZpbGUsXG4gICAgICAgICAgICAgICAgaXNNM1U4OiBzb3VyY2UuZmlsZS5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFN0cmVhbVNCO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyZWFtc2IuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamsb.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamtape.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/streamtape.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass StreamTape extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'StreamTape';\n        this.sources = [];\n        this.extract = async (videoUrl) => {\n            var _a;\n            try {\n                const { data } = await this.client.get(videoUrl.href).catch(() => {\n                    throw new Error('Video not found');\n                });\n                const $ = (0, cheerio_1.load)(data);\n                let [fh, sh] = (_a = $.html()) === null || _a === void 0 ? void 0 : _a.match(/robotlink'\\).innerHTML = (.*)'/)[1].split(\"+ ('\");\n                sh = sh.substring(3);\n                fh = fh.replace(/\\'/g, '');\n                const url = `https:${fh}${sh}`;\n                this.sources.push({\n                    url: url,\n                    isM3U8: url.includes('.m3u8'),\n                });\n                return this.sources;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = StreamTape;\n//# sourceMappingURL=streamtape.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL3N0cmVhbXRhcGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLG1CQUFPLENBQUMsb0VBQVM7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMsaUZBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLEdBQUcsRUFBRSxHQUFHO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcZXh0cmFjdG9yc1xcc3RyZWFtdGFwZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuY2xhc3MgU3RyZWFtVGFwZSBleHRlbmRzIG1vZGVsc18xLlZpZGVvRXh0cmFjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5zZXJ2ZXJOYW1lID0gJ1N0cmVhbVRhcGUnO1xuICAgICAgICB0aGlzLnNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5leHRyYWN0ID0gYXN5bmMgKHZpZGVvVXJsKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHZpZGVvVXJsLmhyZWYpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWaWRlbyBub3QgZm91bmQnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBsZXQgW2ZoLCBzaF0gPSAoX2EgPSAkLmh0bWwoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hdGNoKC9yb2JvdGxpbmsnXFwpLmlubmVySFRNTCA9ICguKiknLylbMV0uc3BsaXQoXCIrICgnXCIpO1xuICAgICAgICAgICAgICAgIHNoID0gc2guc3Vic3RyaW5nKDMpO1xuICAgICAgICAgICAgICAgIGZoID0gZmgucmVwbGFjZSgvXFwnL2csICcnKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBgaHR0cHM6JHtmaH0ke3NofWA7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiB1cmwuaW5jbHVkZXMoJy5tM3U4JyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFN0cmVhbVRhcGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJlYW10YXBlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamtape.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamwish.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/streamwish.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nclass StreamWish extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'streamwish';\n        this.sources = [];\n        this.extract = async (videoUrl) => {\n            var _a, _b;\n            try {\n                const options = {\n                    headers: {\n                        Accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7',\n                        'Accept-Encoding': '*',\n                        'Accept-Language': 'en-US,en;q=0.9',\n                        'Cache-Control': 'max-age=0',\n                        Priority: 'u=0, i',\n                        Origin: videoUrl.origin,\n                        Referer: videoUrl.origin,\n                        'Sec-Ch-Ua': '\"Google Chrome\";v=\"129\", \"Not=A?Brand\";v=\"8\", \"Chromium\";v=\"129\"',\n                        'Sec-Ch-Ua-Mobile': '?0',\n                        'Sec-Ch-Ua-Platform': 'Windows',\n                        'Sec-Fetch-Dest': 'document',\n                        'Sec-Fetch-Mode': 'navigate',\n                        'Sec-Fetch-Site': 'none',\n                        'Sec-Fetch-User': '?1',\n                        'Upgrade-Insecure-Requests': '1',\n                        'User-Agent': utils_1.USER_AGENT,\n                    },\n                };\n                const { data } = await this.client.get(videoUrl.href, options);\n                // Code adapted from Zenda-Cross (https://github.com/Zenda-Cross/vega-app/blob/main/src/lib/providers/multi/multiGetStream.ts)\n                // Thank you to Zenda-Cross for the original implementation.\n                const functionRegex = /eval\\(function\\((.*?)\\)\\{.*?return p\\}.*?\\('(.*?)'\\.split/;\n                const match = functionRegex.exec(data);\n                let p = '';\n                if (match) {\n                    const params = match[1].split(',').map(param => param.trim());\n                    const encodedString = match[0];\n                    p = (_a = encodedString.split(\"',36,\")) === null || _a === void 0 ? void 0 : _a[0].trim();\n                    const a = 36;\n                    let c = encodedString.split(\"',36,\")[1].slice(2).split('|').length;\n                    const k = encodedString.split(\"',36,\")[1].slice(2).split('|');\n                    while (c--) {\n                        if (k[c]) {\n                            const regex = new RegExp('\\\\b' + c.toString(a) + '\\\\b', 'g');\n                            p = p.replace(regex, k[c]);\n                        }\n                    }\n                    // console.log('Decoded String:', p);\n                }\n                else {\n                    console.log('No match found');\n                }\n                let link = p.match(/https?:\\/\\/[^\"]+?\\.m3u8[^\"]*/)[0];\n                // console.log('Decoded Links:', link);\n                const subtitleMatches = (_b = p === null || p === void 0 ? void 0 : p.match(/{file:\"([^\"]+)\",(label:\"([^\"]+)\",)?kind:\"(thumbnails|captions)\"/g)) !== null && _b !== void 0 ? _b : [];\n                // console.log(subtitleMatches, 'subtitleMatches');\n                const subtitles = subtitleMatches.map(sub => {\n                    var _a, _b, _c, _d, _e, _f;\n                    const lang = (_b = (_a = sub === null || sub === void 0 ? void 0 : sub.match(/label:\"([^\"]+)\"/)) === null || _a === void 0 ? void 0 : _a[1]) !== null && _b !== void 0 ? _b : '';\n                    const url = (_d = (_c = sub === null || sub === void 0 ? void 0 : sub.match(/file:\"([^\"]+)\"/)) === null || _c === void 0 ? void 0 : _c[1]) !== null && _d !== void 0 ? _d : '';\n                    const kind = (_f = (_e = sub === null || sub === void 0 ? void 0 : sub.match(/kind:\"([^\"]+)\"/)) === null || _e === void 0 ? void 0 : _e[1]) !== null && _f !== void 0 ? _f : '';\n                    if (kind.includes('thumbnail')) {\n                        return {\n                            lang: kind,\n                            url: `https://streamwish.com${url}`,\n                        };\n                    }\n                    return {\n                        lang: lang,\n                        url: url,\n                    };\n                });\n                if (link.includes('hls2\"')) {\n                    link = link.replace('hls2\"', '').replace(new RegExp('\"', 'g'), '');\n                }\n                const linkParser = new URL(link);\n                linkParser.searchParams.set('i', '0.4');\n                this.sources.push({\n                    quality: 'default',\n                    url: linkParser.href,\n                    isM3U8: link.includes('.m3u8'),\n                });\n                try {\n                    const m3u8Content = await this.client.get(this.sources[0].url, options);\n                    if (m3u8Content.data.includes('EXTM3U')) {\n                        const videoList = m3u8Content.data.split('#EXT-X-STREAM-INF:');\n                        for (const video of videoList !== null && videoList !== void 0 ? videoList : []) {\n                            if (!video.includes('m3u8'))\n                                continue;\n                            const url = link.split('master.m3u8')[0] + video.split('\\n')[1];\n                            const quality = video.split('RESOLUTION=')[1].split(',')[0].split('x')[1];\n                            this.sources.push({\n                                url: url,\n                                quality: `${quality}p`,\n                                isM3U8: url.includes('.m3u8'),\n                            });\n                        }\n                    }\n                }\n                catch (e) { }\n                return {\n                    sources: this.sources,\n                    subtitles: subtitles,\n                };\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = StreamWish;\n//# sourceMappingURL=streamwish.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL3N0cmVhbXdpc2guanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLG1CQUFPLENBQUMsaUZBQVc7QUFDcEMsZ0JBQWdCLG1CQUFPLENBQUMsK0VBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRkFBaUYsMkNBQTJDLGtDQUFrQyxLQUFLO0FBQ25LO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHVCQUF1QixrQkFBa0I7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQSxnRUFBZ0UsYUFBYTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhGQUE4RjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsSUFBSTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxleHRyYWN0b3JzXFxzdHJlYW13aXNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcbmNsYXNzIFN0cmVhbVdpc2ggZXh0ZW5kcyBtb2RlbHNfMS5WaWRlb0V4dHJhY3RvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc2VydmVyTmFtZSA9ICdzdHJlYW13aXNoJztcbiAgICAgICAgdGhpcy5zb3VyY2VzID0gW107XG4gICAgICAgIHRoaXMuZXh0cmFjdCA9IGFzeW5jICh2aWRlb1VybCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC43JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdBY2NlcHQtRW5jb2RpbmcnOiAnKicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnQWNjZXB0LUxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ21heC1hZ2U9MCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBQcmlvcml0eTogJ3U9MCwgaScsXG4gICAgICAgICAgICAgICAgICAgICAgICBPcmlnaW46IHZpZGVvVXJsLm9yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6IHZpZGVvVXJsLm9yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgICdTZWMtQ2gtVWEnOiAnXCJHb29nbGUgQ2hyb21lXCI7dj1cIjEyOVwiLCBcIk5vdD1BP0JyYW5kXCI7dj1cIjhcIiwgXCJDaHJvbWl1bVwiO3Y9XCIxMjlcIicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnU2VjLUNoLVVhLU1vYmlsZSc6ICc/MCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnU2VjLUNoLVVhLVBsYXRmb3JtJzogJ1dpbmRvd3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1NlYy1GZXRjaC1EZXN0JzogJ2RvY3VtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdTZWMtRmV0Y2gtTW9kZSc6ICduYXZpZ2F0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnU2VjLUZldGNoLVNpdGUnOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnU2VjLUZldGNoLVVzZXInOiAnPzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1VwZ3JhZGUtSW5zZWN1cmUtUmVxdWVzdHMnOiAnMScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6IHV0aWxzXzEuVVNFUl9BR0VOVCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHZpZGVvVXJsLmhyZWYsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIC8vIENvZGUgYWRhcHRlZCBmcm9tIFplbmRhLUNyb3NzIChodHRwczovL2dpdGh1Yi5jb20vWmVuZGEtQ3Jvc3MvdmVnYS1hcHAvYmxvYi9tYWluL3NyYy9saWIvcHJvdmlkZXJzL211bHRpL211bHRpR2V0U3RyZWFtLnRzKVxuICAgICAgICAgICAgICAgIC8vIFRoYW5rIHlvdSB0byBaZW5kYS1Dcm9zcyBmb3IgdGhlIG9yaWdpbmFsIGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uUmVnZXggPSAvZXZhbFxcKGZ1bmN0aW9uXFwoKC4qPylcXClcXHsuKj9yZXR1cm4gcFxcfS4qP1xcKCcoLio/KSdcXC5zcGxpdC87XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBmdW5jdGlvblJlZ2V4LmV4ZWMoZGF0YSk7XG4gICAgICAgICAgICAgICAgbGV0IHAgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gbWF0Y2hbMV0uc3BsaXQoJywnKS5tYXAocGFyYW0gPT4gcGFyYW0udHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5jb2RlZFN0cmluZyA9IG1hdGNoWzBdO1xuICAgICAgICAgICAgICAgICAgICBwID0gKF9hID0gZW5jb2RlZFN0cmluZy5zcGxpdChcIicsMzYsXCIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbMF0udHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhID0gMzY7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjID0gZW5jb2RlZFN0cmluZy5zcGxpdChcIicsMzYsXCIpWzFdLnNsaWNlKDIpLnNwbGl0KCd8JykubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrID0gZW5jb2RlZFN0cmluZy5zcGxpdChcIicsMzYsXCIpWzFdLnNsaWNlKDIpLnNwbGl0KCd8Jyk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrW2NdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKCdcXFxcYicgKyBjLnRvU3RyaW5nKGEpICsgJ1xcXFxiJywgJ2cnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gcC5yZXBsYWNlKHJlZ2V4LCBrW2NdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnRGVjb2RlZCBTdHJpbmc6JywgcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gbWF0Y2ggZm91bmQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGxpbmsgPSBwLm1hdGNoKC9odHRwcz86XFwvXFwvW15cIl0rP1xcLm0zdThbXlwiXSovKVswXTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnRGVjb2RlZCBMaW5rczonLCBsaW5rKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJ0aXRsZU1hdGNoZXMgPSAoX2IgPSBwID09PSBudWxsIHx8IHAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHAubWF0Y2goL3tmaWxlOlwiKFteXCJdKylcIiwobGFiZWw6XCIoW15cIl0rKVwiLCk/a2luZDpcIih0aHVtYm5haWxzfGNhcHRpb25zKVwiL2cpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdWJ0aXRsZU1hdGNoZXMsICdzdWJ0aXRsZU1hdGNoZXMnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJ0aXRsZXMgPSBzdWJ0aXRsZU1hdGNoZXMubWFwKHN1YiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW5nID0gKF9iID0gKF9hID0gc3ViID09PSBudWxsIHx8IHN1YiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3ViLm1hdGNoKC9sYWJlbDpcIihbXlwiXSspXCIvKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWzFdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gKF9kID0gKF9jID0gc3ViID09PSBudWxsIHx8IHN1YiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3ViLm1hdGNoKC9maWxlOlwiKFteXCJdKylcIi8pKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbMV0pICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBraW5kID0gKF9mID0gKF9lID0gc3ViID09PSBudWxsIHx8IHN1YiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3ViLm1hdGNoKC9raW5kOlwiKFteXCJdKylcIi8pKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VbMV0pICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2luZC5pbmNsdWRlcygndGh1bWJuYWlsJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFuZzoga2luZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGBodHRwczovL3N0cmVhbXdpc2guY29tJHt1cmx9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmc6IGxhbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAobGluay5pbmNsdWRlcygnaGxzMlwiJykpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluayA9IGxpbmsucmVwbGFjZSgnaGxzMlwiJywgJycpLnJlcGxhY2UobmV3IFJlZ0V4cCgnXCInLCAnZycpLCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtQYXJzZXIgPSBuZXcgVVJMKGxpbmspO1xuICAgICAgICAgICAgICAgIGxpbmtQYXJzZXIuc2VhcmNoUGFyYW1zLnNldCgnaScsICcwLjQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBsaW5rUGFyc2VyLmhyZWYsXG4gICAgICAgICAgICAgICAgICAgIGlzTTNVODogbGluay5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtM3U4Q29udGVudCA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh0aGlzLnNvdXJjZXNbMF0udXJsLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG0zdThDb250ZW50LmRhdGEuaW5jbHVkZXMoJ0VYVE0zVScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWRlb0xpc3QgPSBtM3U4Q29udGVudC5kYXRhLnNwbGl0KCcjRVhULVgtU1RSRUFNLUlORjonKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdmlkZW8gb2YgdmlkZW9MaXN0ICE9PSBudWxsICYmIHZpZGVvTGlzdCAhPT0gdm9pZCAwID8gdmlkZW9MaXN0IDogW10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZpZGVvLmluY2x1ZGVzKCdtM3U4JykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGxpbmsuc3BsaXQoJ21hc3Rlci5tM3U4JylbMF0gKyB2aWRlby5zcGxpdCgnXFxuJylbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVhbGl0eSA9IHZpZGVvLnNwbGl0KCdSRVNPTFVUSU9OPScpWzFdLnNwbGl0KCcsJylbMF0uc3BsaXQoJ3gnKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiBgJHtxdWFsaXR5fXBgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc00zVTg6IHVybC5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlczogdGhpcy5zb3VyY2VzLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZXM6IHN1YnRpdGxlcyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gU3RyZWFtV2lzaDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbXdpc2guanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/streamwish.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/vidcloud.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/vidcloud.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nconst megacloud_getsrcs_1 = __webpack_require__(/*! ./megacloud/megacloud.getsrcs */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/megacloud/megacloud.getsrcs.js\");\nclass VidCloud extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'VidCloud';\n        this.sources = [];\n        this.extract = async (videoUrl, _, referer = 'https://flixhq.to/') => {\n            const result = {\n                sources: [],\n                subtitles: [],\n            };\n            try {\n                const options = {\n                    headers: {\n                        'X-Requested-With': 'XMLHttpRequest',\n                        Referer: videoUrl.href,\n                        'User-Agent': utils_1.USER_AGENT,\n                    },\n                };\n                const res = await (0, megacloud_getsrcs_1.getSources)(videoUrl.href, referer);\n                const sources = res.sources;\n                this.sources = sources.map((s) => ({\n                    url: s.file,\n                    isM3U8: s.file.includes('.m3u8') || s.file.endsWith('m3u8'),\n                }));\n                result.sources.push(...this.sources);\n                result.sources = [];\n                this.sources = [];\n                for (const source of sources) {\n                    const { data } = await this.client.get(source.file, options);\n                    const urls = data\n                        .split('\\n')\n                        .filter((line) => line.includes('.m3u8') || line.endsWith('m3u8'));\n                    const qualities = data.split('\\n').filter((line) => line.includes('RESOLUTION='));\n                    const TdArray = qualities.map((s, i) => {\n                        const f1 = s.split('x')[1];\n                        const f2 = urls[i];\n                        return [f1, f2];\n                    });\n                    for (const [f1, f2] of TdArray) {\n                        this.sources.push({\n                            url: f2,\n                            quality: f1,\n                            isM3U8: f2.includes('.m3u8') || f2.endsWith('m3u8'),\n                        });\n                    }\n                    result.sources.push(...this.sources);\n                }\n                result.sources.push({\n                    url: sources[0].file,\n                    isM3U8: sources[0].file.includes('.m3u8') || sources[0].file.endsWith('m3u8'),\n                    quality: 'auto',\n                });\n                result.subtitles = res.tracks.map((s) => ({\n                    url: s.file,\n                    lang: s.label ? s.label : 'Default (maybe)',\n                }));\n                return result;\n            }\n            catch (err) {\n                throw err;\n            }\n        };\n    }\n}\nexports[\"default\"] = VidCloud;\n//# sourceMappingURL=vidcloud.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL3ZpZGNsb3VkLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQixtQkFBTyxDQUFDLGlGQUFXO0FBQ3BDLGdCQUFnQixtQkFBTyxDQUFDLCtFQUFVO0FBQ2xDLDRCQUE0QixtQkFBTyxDQUFDLCtIQUErQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsT0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxleHRyYWN0b3JzXFx2aWRjbG91ZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XG5jb25zdCBtZWdhY2xvdWRfZ2V0c3Jjc18xID0gcmVxdWlyZShcIi4vbWVnYWNsb3VkL21lZ2FjbG91ZC5nZXRzcmNzXCIpO1xuY2xhc3MgVmlkQ2xvdWQgZXh0ZW5kcyBtb2RlbHNfMS5WaWRlb0V4dHJhY3RvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc2VydmVyTmFtZSA9ICdWaWRDbG91ZCc7XG4gICAgICAgIHRoaXMuc291cmNlcyA9IFtdO1xuICAgICAgICB0aGlzLmV4dHJhY3QgPSBhc3luYyAodmlkZW9VcmwsIF8sIHJlZmVyZXIgPSAnaHR0cHM6Ly9mbGl4aHEudG8vJykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIHNvdXJjZXM6IFtdLFxuICAgICAgICAgICAgICAgIHN1YnRpdGxlczogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiB2aWRlb1VybC5ocmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiB1dGlsc18xLlVTRVJfQUdFTlQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCAoMCwgbWVnYWNsb3VkX2dldHNyY3NfMS5nZXRTb3VyY2VzKSh2aWRlb1VybC5ocmVmLCByZWZlcmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VzID0gcmVzLnNvdXJjZXM7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VzID0gc291cmNlcy5tYXAoKHMpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogcy5maWxlLFxuICAgICAgICAgICAgICAgICAgICBpc00zVTg6IHMuZmlsZS5pbmNsdWRlcygnLm0zdTgnKSB8fCBzLmZpbGUuZW5kc1dpdGgoJ20zdTgnKSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnNvdXJjZXMucHVzaCguLi50aGlzLnNvdXJjZXMpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zb3VyY2VzID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzb3VyY2Ugb2Ygc291cmNlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChzb3VyY2UuZmlsZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybHMgPSBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJ1xcbicpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChsaW5lKSA9PiBsaW5lLmluY2x1ZGVzKCcubTN1OCcpIHx8IGxpbmUuZW5kc1dpdGgoJ20zdTgnKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1YWxpdGllcyA9IGRhdGEuc3BsaXQoJ1xcbicpLmZpbHRlcigobGluZSkgPT4gbGluZS5pbmNsdWRlcygnUkVTT0xVVElPTj0nKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFRkQXJyYXkgPSBxdWFsaXRpZXMubWFwKChzLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmMSA9IHMuc3BsaXQoJ3gnKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGYyID0gdXJsc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbZjEsIGYyXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2YxLCBmMl0gb2YgVGRBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogZjEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiBmMi5pbmNsdWRlcygnLm0zdTgnKSB8fCBmMi5lbmRzV2l0aCgnbTN1OCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNvdXJjZXMucHVzaCguLi50aGlzLnNvdXJjZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQuc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBzb3VyY2VzWzBdLmZpbGUsXG4gICAgICAgICAgICAgICAgICAgIGlzTTNVODogc291cmNlc1swXS5maWxlLmluY2x1ZGVzKCcubTN1OCcpIHx8IHNvdXJjZXNbMF0uZmlsZS5lbmRzV2l0aCgnbTN1OCcpLFxuICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnN1YnRpdGxlcyA9IHJlcy50cmFja3MubWFwKChzKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHMuZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgbGFuZzogcy5sYWJlbCA/IHMubGFiZWwgOiAnRGVmYXVsdCAobWF5YmUpJyxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gVmlkQ2xvdWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWRjbG91ZC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/vidcloud.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/vidhide.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/vidhide.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass VidHide extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'VidHide';\n        this.sources = [];\n        this.extract = async (videoUrl) => {\n            var _a, _b;\n            try {\n                const result = {\n                    sources: [],\n                    subtitles: [],\n                };\n                const { data } = await this.client.get(videoUrl.href).catch(() => {\n                    throw new Error('Video not found');\n                });\n                const unpackedData = eval(/(eval)(\\(f.*?)(\\n<\\/script>)/s.exec(data)[2].replace('eval', ''));\n                const links = (_a = unpackedData.match(new RegExp('sources:\\\\[\\\\{file:\"(.*?)\"'))) !== null && _a !== void 0 ? _a : [];\n                const m3u8Link = links[1];\n                const m3u8Content = await this.client.get(m3u8Link, {\n                    headers: {\n                        Referer: m3u8Link,\n                    },\n                });\n                result.sources.push({\n                    quality: 'auto',\n                    url: m3u8Link,\n                    isM3U8: m3u8Link.includes('.m3u8'),\n                });\n                if (m3u8Content.data.includes('EXTM3U')) {\n                    const pathWithoutMaster = m3u8Link.split('/master.m3u8')[0];\n                    const videoList = m3u8Content.data.split('#EXT-X-STREAM-INF:');\n                    for (const video of videoList !== null && videoList !== void 0 ? videoList : []) {\n                        if (!video.includes('m3u8'))\n                            continue;\n                        const url = video.split('\\n')[1];\n                        const quality = (_b = video.split('RESOLUTION=')[1]) === null || _b === void 0 ? void 0 : _b.split(',')[0].split('x')[1];\n                        result.sources.push({\n                            url: `${pathWithoutMaster}/${url}`,\n                            quality: `${quality}p`,\n                            isM3U8: url.includes('.m3u8'),\n                        });\n                    }\n                }\n                return result.sources;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = VidHide;\n//# sourceMappingURL=vidhide.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL3ZpZGhpZGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLG1CQUFPLENBQUMsaUZBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpRkFBaUY7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxrQkFBa0IsR0FBRyxJQUFJO0FBQzdELHdDQUF3QyxRQUFRO0FBQ2hEO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcZXh0cmFjdG9yc1xcdmlkaGlkZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcbmNsYXNzIFZpZEhpZGUgZXh0ZW5kcyBtb2RlbHNfMS5WaWRlb0V4dHJhY3RvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc2VydmVyTmFtZSA9ICdWaWRIaWRlJztcbiAgICAgICAgdGhpcy5zb3VyY2VzID0gW107XG4gICAgICAgIHRoaXMuZXh0cmFjdCA9IGFzeW5jICh2aWRlb1VybCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHZpZGVvVXJsLmhyZWYpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWaWRlbyBub3QgZm91bmQnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB1bnBhY2tlZERhdGEgPSBldmFsKC8oZXZhbCkoXFwoZi4qPykoXFxuPFxcL3NjcmlwdD4pL3MuZXhlYyhkYXRhKVsyXS5yZXBsYWNlKCdldmFsJywgJycpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rcyA9IChfYSA9IHVucGFja2VkRGF0YS5tYXRjaChuZXcgUmVnRXhwKCdzb3VyY2VzOlxcXFxbXFxcXHtmaWxlOlwiKC4qPylcIicpKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgICAgICAgICAgICAgY29uc3QgbTN1OExpbmsgPSBsaW5rc1sxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBtM3U4Q29udGVudCA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChtM3U4TGluaywge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiBtM3U4TGluayxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXN1bHQuc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IG0zdThMaW5rLFxuICAgICAgICAgICAgICAgICAgICBpc00zVTg6IG0zdThMaW5rLmluY2x1ZGVzKCcubTN1OCcpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChtM3U4Q29udGVudC5kYXRhLmluY2x1ZGVzKCdFWFRNM1UnKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoV2l0aG91dE1hc3RlciA9IG0zdThMaW5rLnNwbGl0KCcvbWFzdGVyLm0zdTgnKVswXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9MaXN0ID0gbTN1OENvbnRlbnQuZGF0YS5zcGxpdCgnI0VYVC1YLVNUUkVBTS1JTkY6Jyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdmlkZW8gb2YgdmlkZW9MaXN0ICE9PSBudWxsICYmIHZpZGVvTGlzdCAhPT0gdm9pZCAwID8gdmlkZW9MaXN0IDogW10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmlkZW8uaW5jbHVkZXMoJ20zdTgnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHZpZGVvLnNwbGl0KCdcXG4nKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1YWxpdHkgPSAoX2IgPSB2aWRlby5zcGxpdCgnUkVTT0xVVElPTj0nKVsxXSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNwbGl0KCcsJylbMF0uc3BsaXQoJ3gnKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7cGF0aFdpdGhvdXRNYXN0ZXJ9LyR7dXJsfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogYCR7cXVhbGl0eX1wYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc00zVTg6IHVybC5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQuc291cmNlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFZpZEhpZGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWRoaWRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/vidhide.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/vidmoly.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/vidmoly.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass VidMoly extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'vidmoly';\n        this.sources = [];\n        this.extract = async (videoUrl) => {\n            try {\n                const { data } = await this.client.get(videoUrl.href);\n                const links = data.match(/file:\\s*\"([^\"]+)\"/);\n                const m3u8Content = await this.client.get(links[1], {\n                    headers: {\n                        Referer: videoUrl.href,\n                    },\n                });\n                this.sources.push({\n                    quality: 'auto',\n                    url: links[1],\n                    isM3U8: links[1].includes('.m3u8'),\n                });\n                if (m3u8Content.data.includes('EXTM3U')) {\n                    const videoList = m3u8Content.data.split('#EXT-X-STREAM-INF:');\n                    for (const video of videoList !== null && videoList !== void 0 ? videoList : []) {\n                        if (!video.includes('m3u8'))\n                            continue;\n                        const url = video.split('\\n')[1];\n                        const quality = video.split('RESOLUTION=')[1].split(',')[0].split('x')[1];\n                        this.sources.push({\n                            url: url,\n                            quality: `${quality}`,\n                            isM3U8: url.includes('.m3u8'),\n                        });\n                    }\n                }\n                return this.sources;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = VidMoly;\n//# sourceMappingURL=vidmoly.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL3ZpZG1vbHkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLG1CQUFPLENBQUMsaUZBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxleHRyYWN0b3JzXFx2aWRtb2x5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpO1xuY2xhc3MgVmlkTW9seSBleHRlbmRzIG1vZGVsc18xLlZpZGVvRXh0cmFjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5zZXJ2ZXJOYW1lID0gJ3ZpZG1vbHknO1xuICAgICAgICB0aGlzLnNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5leHRyYWN0ID0gYXN5bmMgKHZpZGVvVXJsKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHZpZGVvVXJsLmhyZWYpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtzID0gZGF0YS5tYXRjaCgvZmlsZTpcXHMqXCIoW15cIl0rKVwiLyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbTN1OENvbnRlbnQgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQobGlua3NbMV0sIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogdmlkZW9VcmwuaHJlZixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBsaW5rc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiBsaW5rc1sxXS5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAobTN1OENvbnRlbnQuZGF0YS5pbmNsdWRlcygnRVhUTTNVJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9MaXN0ID0gbTN1OENvbnRlbnQuZGF0YS5zcGxpdCgnI0VYVC1YLVNUUkVBTS1JTkY6Jyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdmlkZW8gb2YgdmlkZW9MaXN0ICE9PSBudWxsICYmIHZpZGVvTGlzdCAhPT0gdm9pZCAwID8gdmlkZW9MaXN0IDogW10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmlkZW8uaW5jbHVkZXMoJ20zdTgnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHZpZGVvLnNwbGl0KCdcXG4nKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1YWxpdHkgPSB2aWRlby5zcGxpdCgnUkVTT0xVVElPTj0nKVsxXS5zcGxpdCgnLCcpWzBdLnNwbGl0KCd4JylbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogYCR7cXVhbGl0eX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTTNVODogdXJsLmluY2x1ZGVzKCcubTN1OCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFZpZE1vbHk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWRtb2x5LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/vidmoly.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/vizcloud.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/vizcloud.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass VizCloud extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'VizCloud';\n        this.sources = [];\n        this.host = 'https://vidstream.pro';\n        this.keys = {\n            cipher: '',\n            encrypt: '',\n            main: '',\n            operations: new Map(),\n            pre: [],\n            post: [],\n        };\n        this.extract = async (videoUrl, vizCloudHelper, apiKey) => {\n            var _a, _b;\n            const vizID = videoUrl.href.split('/');\n            let url;\n            if (!vizID.length) {\n                throw new Error('Video not found');\n            }\n            else {\n                url = `${vizCloudHelper}/vizcloud?query=${encodeURIComponent((_a = vizID.pop()) !== null && _a !== void 0 ? _a : '')}&apikey=${apiKey}`;\n            }\n            const { data } = await this.client.get(url);\n            if (!((_b = data.data) === null || _b === void 0 ? void 0 : _b.media))\n                throw new Error('Video not found');\n            this.sources = [\n                ...this.sources,\n                ...data.data.media.sources.map((source) => {\n                    var _a;\n                    return ({\n                        url: source.file,\n                        quality: 'auto',\n                        isM3U8: (_a = source.file) === null || _a === void 0 ? void 0 : _a.includes('.m3u8'),\n                    });\n                }),\n            ];\n            const main = this.sources[this.sources.length - 1].url;\n            const req = await this.client({\n                method: 'get',\n                url: main,\n                headers: { referer: 'https://9anime.to' },\n            });\n            const resolutions = req.data.match(/(RESOLUTION=)(.*)(\\s*?)(\\s*.*)/g);\n            resolutions === null || resolutions === void 0 ? void 0 : resolutions.forEach((res) => {\n                const index = main.lastIndexOf('/');\n                const quality = res.split('\\n')[0].split('x')[1].split(',')[0];\n                const url = main.slice(0, index);\n                this.sources.push({\n                    url: url + '/' + res.split('\\n')[1],\n                    isM3U8: (url + res.split('\\n')[1]).includes('.m3u8'),\n                    quality: quality + 'p',\n                });\n            });\n            return this.sources;\n        };\n    }\n}\nexports[\"default\"] = VizCloud;\n//# sourceMappingURL=vizcloud.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL3ZpemNsb3VkLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQixtQkFBTyxDQUFDLGlGQUFXO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGVBQWUsa0JBQWtCLDJFQUEyRSxVQUFVLE9BQU87QUFDdEo7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw4QkFBOEI7QUFDekQsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxleHRyYWN0b3JzXFx2aXpjbG91ZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKTtcbmNsYXNzIFZpekNsb3VkIGV4dGVuZHMgbW9kZWxzXzEuVmlkZW9FeHRyYWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnNlcnZlck5hbWUgPSAnVml6Q2xvdWQnO1xuICAgICAgICB0aGlzLnNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5ob3N0ID0gJ2h0dHBzOi8vdmlkc3RyZWFtLnBybyc7XG4gICAgICAgIHRoaXMua2V5cyA9IHtcbiAgICAgICAgICAgIGNpcGhlcjogJycsXG4gICAgICAgICAgICBlbmNyeXB0OiAnJyxcbiAgICAgICAgICAgIG1haW46ICcnLFxuICAgICAgICAgICAgb3BlcmF0aW9uczogbmV3IE1hcCgpLFxuICAgICAgICAgICAgcHJlOiBbXSxcbiAgICAgICAgICAgIHBvc3Q6IFtdLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmV4dHJhY3QgPSBhc3luYyAodmlkZW9VcmwsIHZpekNsb3VkSGVscGVyLCBhcGlLZXkpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBjb25zdCB2aXpJRCA9IHZpZGVvVXJsLmhyZWYuc3BsaXQoJy8nKTtcbiAgICAgICAgICAgIGxldCB1cmw7XG4gICAgICAgICAgICBpZiAoIXZpeklELmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVmlkZW8gbm90IGZvdW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBgJHt2aXpDbG91ZEhlbHBlcn0vdml6Y2xvdWQ/cXVlcnk9JHtlbmNvZGVVUklDb21wb25lbnQoKF9hID0gdml6SUQucG9wKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnKX0mYXBpa2V5PSR7YXBpS2V5fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwpO1xuICAgICAgICAgICAgaWYgKCEoKF9iID0gZGF0YS5kYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWVkaWEpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVmlkZW8gbm90IGZvdW5kJyk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZXMgPSBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zb3VyY2VzLFxuICAgICAgICAgICAgICAgIC4uLmRhdGEuZGF0YS5tZWRpYS5zb3VyY2VzLm1hcCgoc291cmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNvdXJjZS5maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiAoX2EgPSBzb3VyY2UuZmlsZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKCcubTN1OCcpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjb25zdCBtYWluID0gdGhpcy5zb3VyY2VzW3RoaXMuc291cmNlcy5sZW5ndGggLSAxXS51cmw7XG4gICAgICAgICAgICBjb25zdCByZXEgPSBhd2FpdCB0aGlzLmNsaWVudCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JyxcbiAgICAgICAgICAgICAgICB1cmw6IG1haW4sXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyByZWZlcmVyOiAnaHR0cHM6Ly85YW5pbWUudG8nIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdXRpb25zID0gcmVxLmRhdGEubWF0Y2goLyhSRVNPTFVUSU9OPSkoLiopKFxccyo/KShcXHMqLiopL2cpO1xuICAgICAgICAgICAgcmVzb2x1dGlvbnMgPT09IG51bGwgfHwgcmVzb2x1dGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc29sdXRpb25zLmZvckVhY2goKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gbWFpbi5sYXN0SW5kZXhPZignLycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHF1YWxpdHkgPSByZXMuc3BsaXQoJ1xcbicpWzBdLnNwbGl0KCd4JylbMV0uc3BsaXQoJywnKVswXTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBtYWluLnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogdXJsICsgJy8nICsgcmVzLnNwbGl0KCdcXG4nKVsxXSxcbiAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiAodXJsICsgcmVzLnNwbGl0KCdcXG4nKVsxXSkuaW5jbHVkZXMoJy5tM3U4JyksXG4gICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6IHF1YWxpdHkgKyAncCcsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNvdXJjZXM7XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gVml6Q2xvdWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aXpjbG91ZC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/vizcloud.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/extractors/voe.js":
/*!******************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/extractors/voe.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass Voe extends models_1.VideoExtractor {\n    constructor() {\n        super(...arguments);\n        this.serverName = 'voe';\n        this.sources = [];\n        this.domains = ['voe.sx'];\n        this.extract = async (videoUrl) => {\n            var _a, _b, _c;\n            try {\n                const res = await this.client.get(videoUrl.href);\n                const $ = (0, cheerio_1.load)(res.data);\n                const scriptContent = $('script').html();\n                const pageUrl = scriptContent\n                    ? (_b = (_a = scriptContent.match(/window\\.location\\.href\\s*=\\s*'(https:\\/\\/[^']+)';/)) === null || _a === void 0 ? void 0 : _a[1]) !== null && _b !== void 0 ? _b : ''\n                    : '';\n                const { data } = await this.client.get(pageUrl);\n                const $$ = (0, cheerio_1.load)(data);\n                const bodyHtml = $$('body').html() || '';\n                const url = ((_c = bodyHtml.match(/'hls'\\s*:\\s*'([^']+)'/s)) === null || _c === void 0 ? void 0 : _c[1]) || '';\n                const subtitleRegex = /<track\\s+kind=\"subtitles\"\\s+label=\"([^\"]+)\"\\s+srclang=\"([^\"]+)\"\\s+src=\"([^\"]+)\"/g;\n                let subtitles = [];\n                let match;\n                while ((match = subtitleRegex.exec(bodyHtml)) !== null) {\n                    subtitles.push({\n                        lang: match[1],\n                        url: new URL(match[3], videoUrl.origin).href,\n                    });\n                }\n                let thumbnailSrc = '';\n                $$('script').each((i, el) => {\n                    const scriptContent = $(el).html();\n                    const regex = /previewThumbnails:\\s*{[^}]*src:\\s*\\[\"([^\"]+)\"\\]/;\n                    if (scriptContent) {\n                        const match = scriptContent.match(regex);\n                        if (match && match[1]) {\n                            thumbnailSrc = match[1];\n                            return false;\n                        }\n                    }\n                });\n                if (thumbnailSrc) {\n                    subtitles.push({\n                        lang: 'thumbnails',\n                        url: `${videoUrl.origin}${thumbnailSrc}`,\n                    });\n                }\n                this.sources.push({\n                    url: atob(url),\n                    quality: 'default',\n                    isM3U8: atob(url).includes('.m3u8'),\n                });\n                return {\n                    sources: this.sources,\n                    subtitles: subtitles,\n                };\n            }\n            catch (err) {\n                console.log(err);\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = Voe;\n//# sourceMappingURL=voe.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9leHRyYWN0b3JzL3ZvZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxpQkFBaUIsbUJBQU8sQ0FBQyxpRkFBVztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdHQUF3RztBQUN4RztBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELEdBQUc7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGdCQUFnQixFQUFFLGFBQWE7QUFDL0QscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcZXh0cmFjdG9yc1xcdm9lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2hlZXJpb18xID0gcmVxdWlyZShcImNoZWVyaW9cIik7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi9tb2RlbHNcIik7XG5jbGFzcyBWb2UgZXh0ZW5kcyBtb2RlbHNfMS5WaWRlb0V4dHJhY3RvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc2VydmVyTmFtZSA9ICd2b2UnO1xuICAgICAgICB0aGlzLnNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5kb21haW5zID0gWyd2b2Uuc3gnXTtcbiAgICAgICAgdGhpcy5leHRyYWN0ID0gYXN5bmMgKHZpZGVvVXJsKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHZpZGVvVXJsLmhyZWYpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKHJlcy5kYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRDb250ZW50ID0gJCgnc2NyaXB0JykuaHRtbCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VVcmwgPSBzY3JpcHRDb250ZW50XG4gICAgICAgICAgICAgICAgICAgID8gKF9iID0gKF9hID0gc2NyaXB0Q29udGVudC5tYXRjaCgvd2luZG93XFwubG9jYXRpb25cXC5ocmVmXFxzKj1cXHMqJyhodHRwczpcXC9cXC9bXiddKyknOy8pKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbMV0pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnXG4gICAgICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQocGFnZVVybCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvZHlIdG1sID0gJCQoJ2JvZHknKS5odG1sKCkgfHwgJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gKChfYyA9IGJvZHlIdG1sLm1hdGNoKC8naGxzJ1xccyo6XFxzKicoW14nXSspJy9zKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jWzFdKSB8fCAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJ0aXRsZVJlZ2V4ID0gLzx0cmFja1xccytraW5kPVwic3VidGl0bGVzXCJcXHMrbGFiZWw9XCIoW15cIl0rKVwiXFxzK3NyY2xhbmc9XCIoW15cIl0rKVwiXFxzK3NyYz1cIihbXlwiXSspXCIvZztcbiAgICAgICAgICAgICAgICBsZXQgc3VidGl0bGVzID0gW107XG4gICAgICAgICAgICAgICAgbGV0IG1hdGNoO1xuICAgICAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSBzdWJ0aXRsZVJlZ2V4LmV4ZWMoYm9keUh0bWwpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5nOiBtYXRjaFsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogbmV3IFVSTChtYXRjaFszXSwgdmlkZW9Vcmwub3JpZ2luKS5ocmVmLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHRodW1ibmFpbFNyYyA9ICcnO1xuICAgICAgICAgICAgICAgICQkKCdzY3JpcHQnKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRDb250ZW50ID0gJChlbCkuaHRtbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IC9wcmV2aWV3VGh1bWJuYWlsczpcXHMqe1tefV0qc3JjOlxccypcXFtcIihbXlwiXSspXCJcXF0vO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NyaXB0Q29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBzY3JpcHRDb250ZW50Lm1hdGNoKHJlZ2V4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbFNyYyA9IG1hdGNoWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0aHVtYm5haWxTcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZzogJ3RodW1ibmFpbHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt2aWRlb1VybC5vcmlnaW59JHt0aHVtYm5haWxTcmN9YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBhdG9iKHVybCksXG4gICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiBhdG9iKHVybCkuaW5jbHVkZXMoJy5tM3U4JyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlczogdGhpcy5zb3VyY2VzLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZXM6IHN1YnRpdGxlcyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBWb2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12b2UuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/extractors/voe.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MegaUp = exports.VidMoly = exports.StreamWish = exports.Mp4Upload = exports.Filemoon = exports.BilibiliExtractor = exports.AsianLoad = exports.VizCloud = exports.SmashyStream = exports.StreamHub = exports.StreamTape = exports.RapidCloud = exports.Kwik = exports.MixDrop = exports.VidCloud = exports.StreamSB = exports.GogoCDN = exports.MediaFormat = exports.TvType = exports.MediaStatus = exports.StreamingServers = exports.SubOrSub = exports.Genres = exports.Topics = exports.PROVIDERS_LIST = exports.NEWS = exports.META = exports.MOVIES = exports.LIGHT_NOVELS = exports.MANGA = exports.COMICS = exports.BOOKS = exports.ANIME = void 0;\nconst providers_1 = __webpack_require__(/*! ./providers */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/index.js\");\nObject.defineProperty(exports, \"ANIME\", ({ enumerable: true, get: function () { return providers_1.ANIME; } }));\nObject.defineProperty(exports, \"BOOKS\", ({ enumerable: true, get: function () { return providers_1.BOOKS; } }));\nObject.defineProperty(exports, \"COMICS\", ({ enumerable: true, get: function () { return providers_1.COMICS; } }));\nObject.defineProperty(exports, \"LIGHT_NOVELS\", ({ enumerable: true, get: function () { return providers_1.LIGHT_NOVELS; } }));\nObject.defineProperty(exports, \"MANGA\", ({ enumerable: true, get: function () { return providers_1.MANGA; } }));\nObject.defineProperty(exports, \"MOVIES\", ({ enumerable: true, get: function () { return providers_1.MOVIES; } }));\nObject.defineProperty(exports, \"META\", ({ enumerable: true, get: function () { return providers_1.META; } }));\nObject.defineProperty(exports, \"NEWS\", ({ enumerable: true, get: function () { return providers_1.NEWS; } }));\nconst providers_list_1 = __webpack_require__(/*! ./utils/providers-list */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/providers-list.js\");\nObject.defineProperty(exports, \"PROVIDERS_LIST\", ({ enumerable: true, get: function () { return providers_list_1.PROVIDERS_LIST; } }));\nconst extractors_1 = __webpack_require__(/*! ./extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nObject.defineProperty(exports, \"VizCloud\", ({ enumerable: true, get: function () { return extractors_1.VizCloud; } }));\nObject.defineProperty(exports, \"AsianLoad\", ({ enumerable: true, get: function () { return extractors_1.AsianLoad; } }));\nObject.defineProperty(exports, \"GogoCDN\", ({ enumerable: true, get: function () { return extractors_1.GogoCDN; } }));\nObject.defineProperty(exports, \"Kwik\", ({ enumerable: true, get: function () { return extractors_1.Kwik; } }));\nObject.defineProperty(exports, \"MixDrop\", ({ enumerable: true, get: function () { return extractors_1.MixDrop; } }));\nObject.defineProperty(exports, \"RapidCloud\", ({ enumerable: true, get: function () { return extractors_1.RapidCloud; } }));\nObject.defineProperty(exports, \"BilibiliExtractor\", ({ enumerable: true, get: function () { return extractors_1.BilibiliExtractor; } }));\nObject.defineProperty(exports, \"Filemoon\", ({ enumerable: true, get: function () { return extractors_1.Filemoon; } }));\nObject.defineProperty(exports, \"StreamSB\", ({ enumerable: true, get: function () { return extractors_1.StreamSB; } }));\nObject.defineProperty(exports, \"StreamTape\", ({ enumerable: true, get: function () { return extractors_1.StreamTape; } }));\nObject.defineProperty(exports, \"VidCloud\", ({ enumerable: true, get: function () { return extractors_1.VidCloud; } }));\nObject.defineProperty(exports, \"StreamHub\", ({ enumerable: true, get: function () { return extractors_1.StreamHub; } }));\nObject.defineProperty(exports, \"SmashyStream\", ({ enumerable: true, get: function () { return extractors_1.SmashyStream; } }));\nObject.defineProperty(exports, \"VidMoly\", ({ enumerable: true, get: function () { return extractors_1.VidMoly; } }));\nObject.defineProperty(exports, \"Mp4Upload\", ({ enumerable: true, get: function () { return extractors_1.Mp4Upload; } }));\nObject.defineProperty(exports, \"StreamWish\", ({ enumerable: true, get: function () { return extractors_1.StreamWish; } }));\nObject.defineProperty(exports, \"MegaUp\", ({ enumerable: true, get: function () { return extractors_1.MegaUp; } }));\nconst models_1 = __webpack_require__(/*! ./models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nObject.defineProperty(exports, \"StreamingServers\", ({ enumerable: true, get: function () { return models_1.StreamingServers; } }));\nObject.defineProperty(exports, \"MediaStatus\", ({ enumerable: true, get: function () { return models_1.MediaStatus; } }));\nObject.defineProperty(exports, \"SubOrSub\", ({ enumerable: true, get: function () { return models_1.SubOrSub; } }));\nObject.defineProperty(exports, \"TvType\", ({ enumerable: true, get: function () { return models_1.TvType; } }));\nObject.defineProperty(exports, \"Genres\", ({ enumerable: true, get: function () { return models_1.Genres; } }));\nObject.defineProperty(exports, \"Topics\", ({ enumerable: true, get: function () { return models_1.Topics; } }));\nObject.defineProperty(exports, \"MediaFormat\", ({ enumerable: true, get: function () { return models_1.MediaFormat; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjLEdBQUcsZUFBZSxHQUFHLGtCQUFrQixHQUFHLGlCQUFpQixHQUFHLGdCQUFnQixHQUFHLHlCQUF5QixHQUFHLGlCQUFpQixHQUFHLGdCQUFnQixHQUFHLG9CQUFvQixHQUFHLGlCQUFpQixHQUFHLGtCQUFrQixHQUFHLGtCQUFrQixHQUFHLFlBQVksR0FBRyxlQUFlLEdBQUcsZ0JBQWdCLEdBQUcsZ0JBQWdCLEdBQUcsZUFBZSxHQUFHLG1CQUFtQixHQUFHLGNBQWMsR0FBRyxtQkFBbUIsR0FBRyx3QkFBd0IsR0FBRyxnQkFBZ0IsR0FBRyxjQUFjLEdBQUcsY0FBYyxHQUFHLHNCQUFzQixHQUFHLFlBQVksR0FBRyxZQUFZLEdBQUcsY0FBYyxHQUFHLG9CQUFvQixHQUFHLGFBQWEsR0FBRyxjQUFjLEdBQUcsYUFBYSxHQUFHLGFBQWE7QUFDMW5CLG9CQUFvQixtQkFBTyxDQUFDLHNGQUFhO0FBQ3pDLHlDQUF3QyxFQUFFLHFDQUFxQyw2QkFBNkIsRUFBQztBQUM3Ryx5Q0FBd0MsRUFBRSxxQ0FBcUMsNkJBQTZCLEVBQUM7QUFDN0csMENBQXlDLEVBQUUscUNBQXFDLDhCQUE4QixFQUFDO0FBQy9HLGdEQUErQyxFQUFFLHFDQUFxQyxvQ0FBb0MsRUFBQztBQUMzSCx5Q0FBd0MsRUFBRSxxQ0FBcUMsNkJBQTZCLEVBQUM7QUFDN0csMENBQXlDLEVBQUUscUNBQXFDLDhCQUE4QixFQUFDO0FBQy9HLHdDQUF1QyxFQUFFLHFDQUFxQyw0QkFBNEIsRUFBQztBQUMzRyx3Q0FBdUMsRUFBRSxxQ0FBcUMsNEJBQTRCLEVBQUM7QUFDM0cseUJBQXlCLG1CQUFPLENBQUMsc0dBQXdCO0FBQ3pELGtEQUFpRCxFQUFFLHFDQUFxQywyQ0FBMkMsRUFBQztBQUNwSSxxQkFBcUIsbUJBQU8sQ0FBQyx3RkFBYztBQUMzQyw0Q0FBMkMsRUFBRSxxQ0FBcUMsaUNBQWlDLEVBQUM7QUFDcEgsNkNBQTRDLEVBQUUscUNBQXFDLGtDQUFrQyxFQUFDO0FBQ3RILDJDQUEwQyxFQUFFLHFDQUFxQyxnQ0FBZ0MsRUFBQztBQUNsSCx3Q0FBdUMsRUFBRSxxQ0FBcUMsNkJBQTZCLEVBQUM7QUFDNUcsMkNBQTBDLEVBQUUscUNBQXFDLGdDQUFnQyxFQUFDO0FBQ2xILDhDQUE2QyxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUN4SCxxREFBb0QsRUFBRSxxQ0FBcUMsMENBQTBDLEVBQUM7QUFDdEksNENBQTJDLEVBQUUscUNBQXFDLGlDQUFpQyxFQUFDO0FBQ3BILDRDQUEyQyxFQUFFLHFDQUFxQyxpQ0FBaUMsRUFBQztBQUNwSCw4Q0FBNkMsRUFBRSxxQ0FBcUMsbUNBQW1DLEVBQUM7QUFDeEgsNENBQTJDLEVBQUUscUNBQXFDLGlDQUFpQyxFQUFDO0FBQ3BILDZDQUE0QyxFQUFFLHFDQUFxQyxrQ0FBa0MsRUFBQztBQUN0SCxnREFBK0MsRUFBRSxxQ0FBcUMscUNBQXFDLEVBQUM7QUFDNUgsMkNBQTBDLEVBQUUscUNBQXFDLGdDQUFnQyxFQUFDO0FBQ2xILDZDQUE0QyxFQUFFLHFDQUFxQyxrQ0FBa0MsRUFBQztBQUN0SCw4Q0FBNkMsRUFBRSxxQ0FBcUMsbUNBQW1DLEVBQUM7QUFDeEgsMENBQXlDLEVBQUUscUNBQXFDLCtCQUErQixFQUFDO0FBQ2hILGlCQUFpQixtQkFBTyxDQUFDLGdGQUFVO0FBQ25DLG9EQUFtRCxFQUFFLHFDQUFxQyxxQ0FBcUMsRUFBQztBQUNoSSwrQ0FBOEMsRUFBRSxxQ0FBcUMsZ0NBQWdDLEVBQUM7QUFDdEgsNENBQTJDLEVBQUUscUNBQXFDLDZCQUE2QixFQUFDO0FBQ2hILDBDQUF5QyxFQUFFLHFDQUFxQywyQkFBMkIsRUFBQztBQUM1RywwQ0FBeUMsRUFBRSxxQ0FBcUMsMkJBQTJCLEVBQUM7QUFDNUcsMENBQXlDLEVBQUUscUNBQXFDLDJCQUEyQixFQUFDO0FBQzVHLCtDQUE4QyxFQUFFLHFDQUFxQyxnQ0FBZ0MsRUFBQztBQUN0SCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1lZ2FVcCA9IGV4cG9ydHMuVmlkTW9seSA9IGV4cG9ydHMuU3RyZWFtV2lzaCA9IGV4cG9ydHMuTXA0VXBsb2FkID0gZXhwb3J0cy5GaWxlbW9vbiA9IGV4cG9ydHMuQmlsaWJpbGlFeHRyYWN0b3IgPSBleHBvcnRzLkFzaWFuTG9hZCA9IGV4cG9ydHMuVml6Q2xvdWQgPSBleHBvcnRzLlNtYXNoeVN0cmVhbSA9IGV4cG9ydHMuU3RyZWFtSHViID0gZXhwb3J0cy5TdHJlYW1UYXBlID0gZXhwb3J0cy5SYXBpZENsb3VkID0gZXhwb3J0cy5Ld2lrID0gZXhwb3J0cy5NaXhEcm9wID0gZXhwb3J0cy5WaWRDbG91ZCA9IGV4cG9ydHMuU3RyZWFtU0IgPSBleHBvcnRzLkdvZ29DRE4gPSBleHBvcnRzLk1lZGlhRm9ybWF0ID0gZXhwb3J0cy5UdlR5cGUgPSBleHBvcnRzLk1lZGlhU3RhdHVzID0gZXhwb3J0cy5TdHJlYW1pbmdTZXJ2ZXJzID0gZXhwb3J0cy5TdWJPclN1YiA9IGV4cG9ydHMuR2VucmVzID0gZXhwb3J0cy5Ub3BpY3MgPSBleHBvcnRzLlBST1ZJREVSU19MSVNUID0gZXhwb3J0cy5ORVdTID0gZXhwb3J0cy5NRVRBID0gZXhwb3J0cy5NT1ZJRVMgPSBleHBvcnRzLkxJR0hUX05PVkVMUyA9IGV4cG9ydHMuTUFOR0EgPSBleHBvcnRzLkNPTUlDUyA9IGV4cG9ydHMuQk9PS1MgPSBleHBvcnRzLkFOSU1FID0gdm9pZCAwO1xuY29uc3QgcHJvdmlkZXJzXzEgPSByZXF1aXJlKFwiLi9wcm92aWRlcnNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJBTklNRVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvdmlkZXJzXzEuQU5JTUU7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJCT09LU1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvdmlkZXJzXzEuQk9PS1M7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDT01JQ1NcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb3ZpZGVyc18xLkNPTUlDUzsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkxJR0hUX05PVkVMU1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvdmlkZXJzXzEuTElHSFRfTk9WRUxTOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTUFOR0FcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb3ZpZGVyc18xLk1BTkdBOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTU9WSUVTXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm92aWRlcnNfMS5NT1ZJRVM7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJNRVRBXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm92aWRlcnNfMS5NRVRBOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTkVXU1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvdmlkZXJzXzEuTkVXUzsgfSB9KTtcbmNvbnN0IHByb3ZpZGVyc19saXN0XzEgPSByZXF1aXJlKFwiLi91dGlscy9wcm92aWRlcnMtbGlzdFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlBST1ZJREVSU19MSVNUXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm92aWRlcnNfbGlzdF8xLlBST1ZJREVSU19MSVNUOyB9IH0pO1xuY29uc3QgZXh0cmFjdG9yc18xID0gcmVxdWlyZShcIi4vZXh0cmFjdG9yc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlZpekNsb3VkXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleHRyYWN0b3JzXzEuVml6Q2xvdWQ7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJBc2lhbkxvYWRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4dHJhY3RvcnNfMS5Bc2lhbkxvYWQ7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJHb2dvQ0ROXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleHRyYWN0b3JzXzEuR29nb0NETjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkt3aWtcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4dHJhY3RvcnNfMS5Ld2lrOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTWl4RHJvcFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXh0cmFjdG9yc18xLk1peERyb3A7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSYXBpZENsb3VkXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleHRyYWN0b3JzXzEuUmFwaWRDbG91ZDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkJpbGliaWxpRXh0cmFjdG9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleHRyYWN0b3JzXzEuQmlsaWJpbGlFeHRyYWN0b3I7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJGaWxlbW9vblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXh0cmFjdG9yc18xLkZpbGVtb29uOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU3RyZWFtU0JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4dHJhY3RvcnNfMS5TdHJlYW1TQjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlN0cmVhbVRhcGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4dHJhY3RvcnNfMS5TdHJlYW1UYXBlOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVmlkQ2xvdWRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4dHJhY3RvcnNfMS5WaWRDbG91ZDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlN0cmVhbUh1YlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXh0cmFjdG9yc18xLlN0cmVhbUh1YjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNtYXNoeVN0cmVhbVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXh0cmFjdG9yc18xLlNtYXNoeVN0cmVhbTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlZpZE1vbHlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4dHJhY3RvcnNfMS5WaWRNb2x5OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTXA0VXBsb2FkXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleHRyYWN0b3JzXzEuTXA0VXBsb2FkOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU3RyZWFtV2lzaFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXh0cmFjdG9yc18xLlN0cmVhbVdpc2g7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJNZWdhVXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4dHJhY3RvcnNfMS5NZWdhVXA7IH0gfSk7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuL21vZGVsc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlN0cmVhbWluZ1NlcnZlcnNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnM7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJNZWRpYVN0YXR1c1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbW9kZWxzXzEuTWVkaWFTdGF0dXM7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTdWJPclN1YlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbW9kZWxzXzEuU3ViT3JTdWI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJUdlR5cGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1vZGVsc18xLlR2VHlwZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkdlbnJlc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbW9kZWxzXzEuR2VucmVzOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVG9waWNzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtb2RlbHNfMS5Ub3BpY3M7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJNZWRpYUZvcm1hdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbW9kZWxzXzEuTWVkaWFGb3JtYXQ7IH0gfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/models/anime-parser.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/models/anime-parser.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst _1 = __webpack_require__(/*! . */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass AnimeParser extends _1.BaseParser {\n    constructor() {\n        super(...arguments);\n        /**\n         * if the provider has dub and it's avialable seperatly from sub set this to `true`\n         */\n        this.isDubAvailableSeparately = false;\n    }\n}\nexports[\"default\"] = AnimeParser;\n//# sourceMappingURL=anime-parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9tb2RlbHMvYW5pbWUtcGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFdBQVcsbUJBQU8sQ0FBQyx5RUFBRztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxtb2RlbHNcXGFuaW1lLXBhcnNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF8xID0gcmVxdWlyZShcIi5cIik7XG5jbGFzcyBBbmltZVBhcnNlciBleHRlbmRzIF8xLkJhc2VQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogaWYgdGhlIHByb3ZpZGVyIGhhcyBkdWIgYW5kIGl0J3MgYXZpYWxhYmxlIHNlcGVyYXRseSBmcm9tIHN1YiBzZXQgdGhpcyB0byBgdHJ1ZWBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNEdWJBdmFpbGFibGVTZXBhcmF0ZWx5ID0gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gQW5pbWVQYXJzZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmltZS1wYXJzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/models/anime-parser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/models/base-parser.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/models/base-parser.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst _1 = __webpack_require__(/*! . */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass BaseParser extends _1.BaseProvider {\n}\nexports[\"default\"] = BaseParser;\n//# sourceMappingURL=base-parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9tb2RlbHMvYmFzZS1wYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsV0FBVyxtQkFBTyxDQUFDLHlFQUFHO0FBQ3RCO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxtb2RlbHNcXGJhc2UtcGFyc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgXzEgPSByZXF1aXJlKFwiLlwiKTtcbmNsYXNzIEJhc2VQYXJzZXIgZXh0ZW5kcyBfMS5CYXNlUHJvdmlkZXIge1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gQmFzZVBhcnNlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UtcGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/models/base-parser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/models/base-provider.js":
/*!************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/models/base-provider.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst proxy_1 = __importDefault(__webpack_require__(/*! ./proxy */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/proxy.js\"));\nclass BaseProvider extends proxy_1.default {\n    constructor() {\n        super(...arguments);\n        /**\n         * Most providers are english based, but if the provider is not english based override this value.\n         * must be in [ISO 639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) format\n         */\n        this.languages = 'en';\n        /**\n         * override as `true` if the provider **only** supports NSFW content\n         */\n        this.isNSFW = false;\n        /**\n         * Logo of the provider (used in the website) or `undefined` if not available. ***128x128px is preferred***\\\n         * Must be a valid URL (not a data URL)\n         */\n        this.logo = 'https://png.pngtree.com/png-vector/20210221/ourmid/pngtree-error-404-not-found-neon-effect-png-image_2928214.jpg';\n        /**\n         * override as `false` if the provider is **down** or **not working**\n         */\n        this.isWorking = true;\n    }\n    /**\n     * returns provider stats\n     */\n    get toString() {\n        return {\n            name: this.name,\n            baseUrl: this.baseUrl,\n            lang: this.languages,\n            isNSFW: this.isNSFW,\n            logo: this.logo,\n            classPath: this.classPath,\n            isWorking: this.isWorking,\n        };\n    }\n}\nexports[\"default\"] = BaseProvider;\n//# sourceMappingURL=base-provider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9tb2RlbHMvYmFzZS1wcm92aWRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdDQUFnQyxtQkFBTyxDQUFDLCtFQUFTO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcbW9kZWxzXFxiYXNlLXByb3ZpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgcHJveHlfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9wcm94eVwiKSk7XG5jbGFzcyBCYXNlUHJvdmlkZXIgZXh0ZW5kcyBwcm94eV8xLmRlZmF1bHQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW9zdCBwcm92aWRlcnMgYXJlIGVuZ2xpc2ggYmFzZWQsIGJ1dCBpZiB0aGUgcHJvdmlkZXIgaXMgbm90IGVuZ2xpc2ggYmFzZWQgb3ZlcnJpZGUgdGhpcyB2YWx1ZS5cbiAgICAgICAgICogbXVzdCBiZSBpbiBbSVNPIDYzOS0xXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX0lTT182MzktMV9jb2RlcykgZm9ybWF0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhbmd1YWdlcyA9ICdlbic7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBvdmVycmlkZSBhcyBgdHJ1ZWAgaWYgdGhlIHByb3ZpZGVyICoqb25seSoqIHN1cHBvcnRzIE5TRlcgY29udGVudFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc05TRlcgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvZ28gb2YgdGhlIHByb3ZpZGVyICh1c2VkIGluIHRoZSB3ZWJzaXRlKSBvciBgdW5kZWZpbmVkYCBpZiBub3QgYXZhaWxhYmxlLiAqKioxMjh4MTI4cHggaXMgcHJlZmVycmVkKioqXFxcbiAgICAgICAgICogTXVzdCBiZSBhIHZhbGlkIFVSTCAobm90IGEgZGF0YSBVUkwpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvZ28gPSAnaHR0cHM6Ly9wbmcucG5ndHJlZS5jb20vcG5nLXZlY3Rvci8yMDIxMDIyMS9vdXJtaWQvcG5ndHJlZS1lcnJvci00MDQtbm90LWZvdW5kLW5lb24tZWZmZWN0LXBuZy1pbWFnZV8yOTI4MjE0LmpwZyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBvdmVycmlkZSBhcyBgZmFsc2VgIGlmIHRoZSBwcm92aWRlciBpcyAqKmRvd24qKiBvciAqKm5vdCB3b3JraW5nKipcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNXb3JraW5nID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcmV0dXJucyBwcm92aWRlciBzdGF0c1xuICAgICAqL1xuICAgIGdldCB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIGJhc2VVcmw6IHRoaXMuYmFzZVVybCxcbiAgICAgICAgICAgIGxhbmc6IHRoaXMubGFuZ3VhZ2VzLFxuICAgICAgICAgICAgaXNOU0ZXOiB0aGlzLmlzTlNGVyxcbiAgICAgICAgICAgIGxvZ286IHRoaXMubG9nbyxcbiAgICAgICAgICAgIGNsYXNzUGF0aDogdGhpcy5jbGFzc1BhdGgsXG4gICAgICAgICAgICBpc1dvcmtpbmc6IHRoaXMuaXNXb3JraW5nLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IEJhc2VQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UtcHJvdmlkZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/models/base-provider.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/models/book-parser.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/models/book-parser.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst _1 = __webpack_require__(/*! . */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass BookParser extends _1.BaseParser {\n}\nexports[\"default\"] = BookParser;\n//# sourceMappingURL=book-parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9tb2RlbHMvYm9vay1wYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsV0FBVyxtQkFBTyxDQUFDLHlFQUFHO0FBQ3RCO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxtb2RlbHNcXGJvb2stcGFyc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgXzEgPSByZXF1aXJlKFwiLlwiKTtcbmNsYXNzIEJvb2tQYXJzZXIgZXh0ZW5kcyBfMS5CYXNlUGFyc2VyIHtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IEJvb2tQYXJzZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ib29rLXBhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/models/book-parser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/models/comic-parser.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/models/comic-parser.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst _1 = __webpack_require__(/*! . */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass ComicParser extends _1.BaseParser {\n}\nexports[\"default\"] = ComicParser;\n//# sourceMappingURL=comic-parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9tb2RlbHMvY29taWMtcGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFdBQVcsbUJBQU8sQ0FBQyx5RUFBRztBQUN0QjtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcbW9kZWxzXFxjb21pYy1wYXJzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfMSA9IHJlcXVpcmUoXCIuXCIpO1xuY2xhc3MgQ29taWNQYXJzZXIgZXh0ZW5kcyBfMS5CYXNlUGFyc2VyIHtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IENvbWljUGFyc2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29taWMtcGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/models/comic-parser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/models/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/models/index.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WatchListType = exports.MediaFormat = exports.Topics = exports.Genres = exports.MovieParser = exports.TvType = exports.GetComicsComicsObject = exports.ComicParser = exports.NewsParser = exports.MangaParser = exports.LightNovelParser = exports.SubOrSub = exports.MediaStatus = exports.StreamingServers = exports.LibgenBookObject = exports.VideoExtractor = exports.BookParser = exports.AnimeParser = exports.BaseParser = exports.BaseProvider = void 0;\nconst base_provider_1 = __importDefault(__webpack_require__(/*! ./base-provider */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/base-provider.js\"));\nexports.BaseProvider = base_provider_1.default;\nconst base_parser_1 = __importDefault(__webpack_require__(/*! ./base-parser */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/base-parser.js\"));\nexports.BaseParser = base_parser_1.default;\nconst anime_parser_1 = __importDefault(__webpack_require__(/*! ./anime-parser */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/anime-parser.js\"));\nexports.AnimeParser = anime_parser_1.default;\nconst book_parser_1 = __importDefault(__webpack_require__(/*! ./book-parser */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/book-parser.js\"));\nexports.BookParser = book_parser_1.default;\nconst comic_parser_1 = __importDefault(__webpack_require__(/*! ./comic-parser */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/comic-parser.js\"));\nexports.ComicParser = comic_parser_1.default;\nconst video_extractor_1 = __importDefault(__webpack_require__(/*! ./video-extractor */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/video-extractor.js\"));\nexports.VideoExtractor = video_extractor_1.default;\nconst manga_parser_1 = __importDefault(__webpack_require__(/*! ./manga-parser */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/manga-parser.js\"));\nexports.MangaParser = manga_parser_1.default;\nconst lightnovel_parser_1 = __importDefault(__webpack_require__(/*! ./lightnovel-parser */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/lightnovel-parser.js\"));\nexports.LightNovelParser = lightnovel_parser_1.default;\nconst movie_parser_1 = __importDefault(__webpack_require__(/*! ./movie-parser */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/movie-parser.js\"));\nexports.MovieParser = movie_parser_1.default;\nconst news_parser_1 = __importDefault(__webpack_require__(/*! ./news-parser */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/news-parser.js\"));\nexports.NewsParser = news_parser_1.default;\nconst types_1 = __webpack_require__(/*! ./types */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/types.js\");\nObject.defineProperty(exports, \"StreamingServers\", ({ enumerable: true, get: function () { return types_1.StreamingServers; } }));\nObject.defineProperty(exports, \"MediaStatus\", ({ enumerable: true, get: function () { return types_1.MediaStatus; } }));\nObject.defineProperty(exports, \"SubOrSub\", ({ enumerable: true, get: function () { return types_1.SubOrSub; } }));\nObject.defineProperty(exports, \"TvType\", ({ enumerable: true, get: function () { return types_1.TvType; } }));\nObject.defineProperty(exports, \"Genres\", ({ enumerable: true, get: function () { return types_1.Genres; } }));\nObject.defineProperty(exports, \"Topics\", ({ enumerable: true, get: function () { return types_1.Topics; } }));\nObject.defineProperty(exports, \"MediaFormat\", ({ enumerable: true, get: function () { return types_1.MediaFormat; } }));\nObject.defineProperty(exports, \"WatchListType\", ({ enumerable: true, get: function () { return types_1.WatchListType; } }));\nconst type_objects_1 = __webpack_require__(/*! ./type-objects */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/type-objects.js\");\nObject.defineProperty(exports, \"LibgenBookObject\", ({ enumerable: true, get: function () { return type_objects_1.LibgenBookObject; } }));\nObject.defineProperty(exports, \"GetComicsComicsObject\", ({ enumerable: true, get: function () { return type_objects_1.GetComicsComicsObject; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9tb2RlbHMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUIsR0FBRyxtQkFBbUIsR0FBRyxjQUFjLEdBQUcsY0FBYyxHQUFHLG1CQUFtQixHQUFHLGNBQWMsR0FBRyw2QkFBNkIsR0FBRyxtQkFBbUIsR0FBRyxrQkFBa0IsR0FBRyxtQkFBbUIsR0FBRyx3QkFBd0IsR0FBRyxnQkFBZ0IsR0FBRyxtQkFBbUIsR0FBRyx3QkFBd0IsR0FBRyx3QkFBd0IsR0FBRyxzQkFBc0IsR0FBRyxrQkFBa0IsR0FBRyxtQkFBbUIsR0FBRyxrQkFBa0IsR0FBRyxvQkFBb0I7QUFDL2Isd0NBQXdDLG1CQUFPLENBQUMsK0ZBQWlCO0FBQ2pFLG9CQUFvQjtBQUNwQixzQ0FBc0MsbUJBQU8sQ0FBQywyRkFBZTtBQUM3RCxrQkFBa0I7QUFDbEIsdUNBQXVDLG1CQUFPLENBQUMsNkZBQWdCO0FBQy9ELG1CQUFtQjtBQUNuQixzQ0FBc0MsbUJBQU8sQ0FBQywyRkFBZTtBQUM3RCxrQkFBa0I7QUFDbEIsdUNBQXVDLG1CQUFPLENBQUMsNkZBQWdCO0FBQy9ELG1CQUFtQjtBQUNuQiwwQ0FBMEMsbUJBQU8sQ0FBQyxtR0FBbUI7QUFDckUsc0JBQXNCO0FBQ3RCLHVDQUF1QyxtQkFBTyxDQUFDLDZGQUFnQjtBQUMvRCxtQkFBbUI7QUFDbkIsNENBQTRDLG1CQUFPLENBQUMsdUdBQXFCO0FBQ3pFLHdCQUF3QjtBQUN4Qix1Q0FBdUMsbUJBQU8sQ0FBQyw2RkFBZ0I7QUFDL0QsbUJBQW1CO0FBQ25CLHNDQUFzQyxtQkFBTyxDQUFDLDJGQUFlO0FBQzdELGtCQUFrQjtBQUNsQixnQkFBZ0IsbUJBQU8sQ0FBQywrRUFBUztBQUNqQyxvREFBbUQsRUFBRSxxQ0FBcUMsb0NBQW9DLEVBQUM7QUFDL0gsK0NBQThDLEVBQUUscUNBQXFDLCtCQUErQixFQUFDO0FBQ3JILDRDQUEyQyxFQUFFLHFDQUFxQyw0QkFBNEIsRUFBQztBQUMvRywwQ0FBeUMsRUFBRSxxQ0FBcUMsMEJBQTBCLEVBQUM7QUFDM0csMENBQXlDLEVBQUUscUNBQXFDLDBCQUEwQixFQUFDO0FBQzNHLDBDQUF5QyxFQUFFLHFDQUFxQywwQkFBMEIsRUFBQztBQUMzRywrQ0FBOEMsRUFBRSxxQ0FBcUMsK0JBQStCLEVBQUM7QUFDckgsaURBQWdELEVBQUUscUNBQXFDLGlDQUFpQyxFQUFDO0FBQ3pILHVCQUF1QixtQkFBTyxDQUFDLDZGQUFnQjtBQUMvQyxvREFBbUQsRUFBRSxxQ0FBcUMsMkNBQTJDLEVBQUM7QUFDdEkseURBQXdELEVBQUUscUNBQXFDLGdEQUFnRCxFQUFDO0FBQ2hKIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxtb2RlbHNcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5XYXRjaExpc3RUeXBlID0gZXhwb3J0cy5NZWRpYUZvcm1hdCA9IGV4cG9ydHMuVG9waWNzID0gZXhwb3J0cy5HZW5yZXMgPSBleHBvcnRzLk1vdmllUGFyc2VyID0gZXhwb3J0cy5UdlR5cGUgPSBleHBvcnRzLkdldENvbWljc0NvbWljc09iamVjdCA9IGV4cG9ydHMuQ29taWNQYXJzZXIgPSBleHBvcnRzLk5ld3NQYXJzZXIgPSBleHBvcnRzLk1hbmdhUGFyc2VyID0gZXhwb3J0cy5MaWdodE5vdmVsUGFyc2VyID0gZXhwb3J0cy5TdWJPclN1YiA9IGV4cG9ydHMuTWVkaWFTdGF0dXMgPSBleHBvcnRzLlN0cmVhbWluZ1NlcnZlcnMgPSBleHBvcnRzLkxpYmdlbkJvb2tPYmplY3QgPSBleHBvcnRzLlZpZGVvRXh0cmFjdG9yID0gZXhwb3J0cy5Cb29rUGFyc2VyID0gZXhwb3J0cy5BbmltZVBhcnNlciA9IGV4cG9ydHMuQmFzZVBhcnNlciA9IGV4cG9ydHMuQmFzZVByb3ZpZGVyID0gdm9pZCAwO1xuY29uc3QgYmFzZV9wcm92aWRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2Jhc2UtcHJvdmlkZXJcIikpO1xuZXhwb3J0cy5CYXNlUHJvdmlkZXIgPSBiYXNlX3Byb3ZpZGVyXzEuZGVmYXVsdDtcbmNvbnN0IGJhc2VfcGFyc2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYmFzZS1wYXJzZXJcIikpO1xuZXhwb3J0cy5CYXNlUGFyc2VyID0gYmFzZV9wYXJzZXJfMS5kZWZhdWx0O1xuY29uc3QgYW5pbWVfcGFyc2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYW5pbWUtcGFyc2VyXCIpKTtcbmV4cG9ydHMuQW5pbWVQYXJzZXIgPSBhbmltZV9wYXJzZXJfMS5kZWZhdWx0O1xuY29uc3QgYm9va19wYXJzZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib29rLXBhcnNlclwiKSk7XG5leHBvcnRzLkJvb2tQYXJzZXIgPSBib29rX3BhcnNlcl8xLmRlZmF1bHQ7XG5jb25zdCBjb21pY19wYXJzZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jb21pYy1wYXJzZXJcIikpO1xuZXhwb3J0cy5Db21pY1BhcnNlciA9IGNvbWljX3BhcnNlcl8xLmRlZmF1bHQ7XG5jb25zdCB2aWRlb19leHRyYWN0b3JfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi92aWRlby1leHRyYWN0b3JcIikpO1xuZXhwb3J0cy5WaWRlb0V4dHJhY3RvciA9IHZpZGVvX2V4dHJhY3Rvcl8xLmRlZmF1bHQ7XG5jb25zdCBtYW5nYV9wYXJzZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9tYW5nYS1wYXJzZXJcIikpO1xuZXhwb3J0cy5NYW5nYVBhcnNlciA9IG1hbmdhX3BhcnNlcl8xLmRlZmF1bHQ7XG5jb25zdCBsaWdodG5vdmVsX3BhcnNlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2xpZ2h0bm92ZWwtcGFyc2VyXCIpKTtcbmV4cG9ydHMuTGlnaHROb3ZlbFBhcnNlciA9IGxpZ2h0bm92ZWxfcGFyc2VyXzEuZGVmYXVsdDtcbmNvbnN0IG1vdmllX3BhcnNlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL21vdmllLXBhcnNlclwiKSk7XG5leHBvcnRzLk1vdmllUGFyc2VyID0gbW92aWVfcGFyc2VyXzEuZGVmYXVsdDtcbmNvbnN0IG5ld3NfcGFyc2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbmV3cy1wYXJzZXJcIikpO1xuZXhwb3J0cy5OZXdzUGFyc2VyID0gbmV3c19wYXJzZXJfMS5kZWZhdWx0O1xuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCIuL3R5cGVzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU3RyZWFtaW5nU2VydmVyc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZXNfMS5TdHJlYW1pbmdTZXJ2ZXJzOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTWVkaWFTdGF0dXNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHR5cGVzXzEuTWVkaWFTdGF0dXM7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTdWJPclN1YlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZXNfMS5TdWJPclN1YjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlR2VHlwZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZXNfMS5UdlR5cGU7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJHZW5yZXNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHR5cGVzXzEuR2VucmVzOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVG9waWNzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0eXBlc18xLlRvcGljczsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk1lZGlhRm9ybWF0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0eXBlc18xLk1lZGlhRm9ybWF0OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiV2F0Y2hMaXN0VHlwZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZXNfMS5XYXRjaExpc3RUeXBlOyB9IH0pO1xuY29uc3QgdHlwZV9vYmplY3RzXzEgPSByZXF1aXJlKFwiLi90eXBlLW9iamVjdHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJMaWJnZW5Cb29rT2JqZWN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0eXBlX29iamVjdHNfMS5MaWJnZW5Cb29rT2JqZWN0OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiR2V0Q29taWNzQ29taWNzT2JqZWN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0eXBlX29iamVjdHNfMS5HZXRDb21pY3NDb21pY3NPYmplY3Q7IH0gfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/models/lightnovel-parser.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/models/lightnovel-parser.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst _1 = __webpack_require__(/*! . */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass LightNovelParser extends _1.BaseParser {\n}\nexports[\"default\"] = LightNovelParser;\n//# sourceMappingURL=lightnovel-parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9tb2RlbHMvbGlnaHRub3ZlbC1wYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsV0FBVyxtQkFBTyxDQUFDLHlFQUFHO0FBQ3RCO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxtb2RlbHNcXGxpZ2h0bm92ZWwtcGFyc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgXzEgPSByZXF1aXJlKFwiLlwiKTtcbmNsYXNzIExpZ2h0Tm92ZWxQYXJzZXIgZXh0ZW5kcyBfMS5CYXNlUGFyc2VyIHtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IExpZ2h0Tm92ZWxQYXJzZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saWdodG5vdmVsLXBhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/models/lightnovel-parser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/models/manga-parser.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/models/manga-parser.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst _1 = __webpack_require__(/*! . */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass MangaParser extends _1.BaseParser {\n}\nexports[\"default\"] = MangaParser;\n//# sourceMappingURL=manga-parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9tb2RlbHMvbWFuZ2EtcGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFdBQVcsbUJBQU8sQ0FBQyx5RUFBRztBQUN0QjtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcbW9kZWxzXFxtYW5nYS1wYXJzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfMSA9IHJlcXVpcmUoXCIuXCIpO1xuY2xhc3MgTWFuZ2FQYXJzZXIgZXh0ZW5kcyBfMS5CYXNlUGFyc2VyIHtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IE1hbmdhUGFyc2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFuZ2EtcGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/models/manga-parser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/models/movie-parser.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/models/movie-parser.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst _1 = __webpack_require__(/*! . */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass MovieParser extends _1.BaseParser {\n}\nexports[\"default\"] = MovieParser;\n//# sourceMappingURL=movie-parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9tb2RlbHMvbW92aWUtcGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFdBQVcsbUJBQU8sQ0FBQyx5RUFBRztBQUN0QjtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcbW9kZWxzXFxtb3ZpZS1wYXJzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfMSA9IHJlcXVpcmUoXCIuXCIpO1xuY2xhc3MgTW92aWVQYXJzZXIgZXh0ZW5kcyBfMS5CYXNlUGFyc2VyIHtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IE1vdmllUGFyc2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW92aWUtcGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/models/movie-parser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/models/news-parser.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/models/news-parser.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst _1 = __webpack_require__(/*! . */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass NewsParser extends _1.BaseProvider {\n}\nexports[\"default\"] = NewsParser;\n//# sourceMappingURL=news-parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9tb2RlbHMvbmV3cy1wYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsV0FBVyxtQkFBTyxDQUFDLHlFQUFHO0FBQ3RCO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxtb2RlbHNcXG5ld3MtcGFyc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgXzEgPSByZXF1aXJlKFwiLlwiKTtcbmNsYXNzIE5ld3NQYXJzZXIgZXh0ZW5kcyBfMS5CYXNlUHJvdmlkZXIge1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gTmV3c1BhcnNlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5ld3MtcGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/models/news-parser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/models/proxy.js":
/*!****************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/models/proxy.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Proxy = void 0;\nconst axios_1 = __importDefault(__webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/dist/node/axios.cjs\"));\nclass Proxy {\n    /**\n     *\n     * @param proxyConfig The proxy config (optional)\n     * @param adapter The axios adapter (optional)\n     */\n    constructor(proxyConfig, adapter) {\n        this.proxyConfig = proxyConfig;\n        this.adapter = adapter;\n        this.validUrl = /^https?:\\/\\/.+/;\n        this.rotateProxy = (proxy) => {\n            var _a;\n            setInterval(() => {\n                const url = proxy.urls.shift();\n                if (url)\n                    proxy.urls.push(url);\n                this.setProxy({ url: proxy.urls[0], key: proxy.key });\n            }, (_a = proxy === null || proxy === void 0 ? void 0 : proxy.rotateInterval) !== null && _a !== void 0 ? _a : 5000);\n        };\n        this.toMap = (arr) => arr.map((v, i) => [i, v]);\n        this.client = axios_1.default.create();\n        if (proxyConfig)\n            this.setProxy(proxyConfig);\n        if (adapter)\n            this.setAxiosAdapter(adapter);\n    }\n    /**\n     * Set or Change the proxy config\n     */\n    setProxy(proxyConfig) {\n        if (!(proxyConfig === null || proxyConfig === void 0 ? void 0 : proxyConfig.url))\n            return;\n        if (typeof (proxyConfig === null || proxyConfig === void 0 ? void 0 : proxyConfig.url) === 'string')\n            if (!this.validUrl.test(proxyConfig.url))\n                throw new Error('Proxy URL is invalid!');\n        if (Array.isArray(proxyConfig === null || proxyConfig === void 0 ? void 0 : proxyConfig.url)) {\n            for (const [i, url] of this.toMap(proxyConfig.url))\n                if (!this.validUrl.test(url))\n                    throw new Error(`Proxy URL at index ${i} is invalid!`);\n            this.rotateProxy({ ...proxyConfig, urls: proxyConfig.url });\n            return;\n        }\n        this.client.interceptors.request.use(config => {\n            var _a, _b;\n            if (proxyConfig === null || proxyConfig === void 0 ? void 0 : proxyConfig.url) {\n                config.headers.set('x-api-key', (_a = proxyConfig === null || proxyConfig === void 0 ? void 0 : proxyConfig.key) !== null && _a !== void 0 ? _a : '');\n                config.url = `${proxyConfig.url}${(config === null || config === void 0 ? void 0 : config.url) ? config === null || config === void 0 ? void 0 : config.url : ''}`;\n            }\n            if ((_b = config === null || config === void 0 ? void 0 : config.url) === null || _b === void 0 ? void 0 : _b.includes('anify'))\n                config.headers.set('User-Agent', 'consumet');\n            return config;\n        });\n    }\n    /**\n     * Set or Change the axios adapter\n     */\n    setAxiosAdapter(adapter) {\n        this.client.defaults.adapter = adapter;\n    }\n}\nexports.Proxy = Proxy;\nexports[\"default\"] = Proxy;\n//# sourceMappingURL=proxy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9tb2RlbHMvcHJveHkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhO0FBQ2IsZ0NBQWdDLG1CQUFPLENBQUMsNkRBQU87QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msb0NBQW9DO0FBQ3BFLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELEdBQUc7QUFDN0QsK0JBQStCLHVDQUF1QztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0JBQWdCLEVBQUUsK0hBQStIO0FBQ2pMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcbW9kZWxzXFxwcm94eS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUHJveHkgPSB2b2lkIDA7XG5jb25zdCBheGlvc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJheGlvc1wiKSk7XG5jbGFzcyBQcm94eSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJveHlDb25maWcgVGhlIHByb3h5IGNvbmZpZyAob3B0aW9uYWwpXG4gICAgICogQHBhcmFtIGFkYXB0ZXIgVGhlIGF4aW9zIGFkYXB0ZXIgKG9wdGlvbmFsKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3h5Q29uZmlnLCBhZGFwdGVyKSB7XG4gICAgICAgIHRoaXMucHJveHlDb25maWcgPSBwcm94eUNvbmZpZztcbiAgICAgICAgdGhpcy5hZGFwdGVyID0gYWRhcHRlcjtcbiAgICAgICAgdGhpcy52YWxpZFVybCA9IC9eaHR0cHM/OlxcL1xcLy4rLztcbiAgICAgICAgdGhpcy5yb3RhdGVQcm94eSA9IChwcm94eSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHByb3h5LnVybHMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBpZiAodXJsKVxuICAgICAgICAgICAgICAgICAgICBwcm94eS51cmxzLnB1c2godXJsKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByb3h5KHsgdXJsOiBwcm94eS51cmxzWzBdLCBrZXk6IHByb3h5LmtleSB9KTtcbiAgICAgICAgICAgIH0sIChfYSA9IHByb3h5ID09PSBudWxsIHx8IHByb3h5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm94eS5yb3RhdGVJbnRlcnZhbCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogNTAwMCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudG9NYXAgPSAoYXJyKSA9PiBhcnIubWFwKCh2LCBpKSA9PiBbaSwgdl0pO1xuICAgICAgICB0aGlzLmNsaWVudCA9IGF4aW9zXzEuZGVmYXVsdC5jcmVhdGUoKTtcbiAgICAgICAgaWYgKHByb3h5Q29uZmlnKVxuICAgICAgICAgICAgdGhpcy5zZXRQcm94eShwcm94eUNvbmZpZyk7XG4gICAgICAgIGlmIChhZGFwdGVyKVxuICAgICAgICAgICAgdGhpcy5zZXRBeGlvc0FkYXB0ZXIoYWRhcHRlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBvciBDaGFuZ2UgdGhlIHByb3h5IGNvbmZpZ1xuICAgICAqL1xuICAgIHNldFByb3h5KHByb3h5Q29uZmlnKSB7XG4gICAgICAgIGlmICghKHByb3h5Q29uZmlnID09PSBudWxsIHx8IHByb3h5Q29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm94eUNvbmZpZy51cmwpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZW9mIChwcm94eUNvbmZpZyA9PT0gbnVsbCB8fCBwcm94eUNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJveHlDb25maWcudXJsKSA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICBpZiAoIXRoaXMudmFsaWRVcmwudGVzdChwcm94eUNvbmZpZy51cmwpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJveHkgVVJMIGlzIGludmFsaWQhJyk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3h5Q29uZmlnID09PSBudWxsIHx8IHByb3h5Q29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm94eUNvbmZpZy51cmwpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtpLCB1cmxdIG9mIHRoaXMudG9NYXAocHJveHlDb25maWcudXJsKSlcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudmFsaWRVcmwudGVzdCh1cmwpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3h5IFVSTCBhdCBpbmRleCAke2l9IGlzIGludmFsaWQhYCk7XG4gICAgICAgICAgICB0aGlzLnJvdGF0ZVByb3h5KHsgLi4ucHJveHlDb25maWcsIHVybHM6IHByb3h5Q29uZmlnLnVybCB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsaWVudC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoY29uZmlnID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBpZiAocHJveHlDb25maWcgPT09IG51bGwgfHwgcHJveHlDb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3h5Q29uZmlnLnVybCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5oZWFkZXJzLnNldCgneC1hcGkta2V5JywgKF9hID0gcHJveHlDb25maWcgPT09IG51bGwgfHwgcHJveHlDb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3h5Q29uZmlnLmtleSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycpO1xuICAgICAgICAgICAgICAgIGNvbmZpZy51cmwgPSBgJHtwcm94eUNvbmZpZy51cmx9JHsoY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLnVybCkgPyBjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcudXJsIDogJyd9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoX2IgPSBjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcudXJsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW5jbHVkZXMoJ2FuaWZ5JykpXG4gICAgICAgICAgICAgICAgY29uZmlnLmhlYWRlcnMuc2V0KCdVc2VyLUFnZW50JywgJ2NvbnN1bWV0Jyk7XG4gICAgICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IG9yIENoYW5nZSB0aGUgYXhpb3MgYWRhcHRlclxuICAgICAqL1xuICAgIHNldEF4aW9zQWRhcHRlcihhZGFwdGVyKSB7XG4gICAgICAgIHRoaXMuY2xpZW50LmRlZmF1bHRzLmFkYXB0ZXIgPSBhZGFwdGVyO1xuICAgIH1cbn1cbmV4cG9ydHMuUHJveHkgPSBQcm94eTtcbmV4cG9ydHMuZGVmYXVsdCA9IFByb3h5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJveHkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/models/proxy.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/models/type-objects.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/models/type-objects.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GetComicsComicsObject = exports.LibgenBookObject = void 0;\nclass LibgenBookObject {\n    constructor() {\n        this.title = '';\n        this.authors = [];\n        this.publisher = '';\n        this.year = '';\n        this.edition = '';\n        this.volume = '';\n        this.series = '';\n        this.isbn = [];\n        this.link = '';\n        this.id = '';\n        this.language = '';\n        this.format = '';\n        this.size = '';\n        this.pages = '';\n        this.image = '';\n        this.description = '';\n        this.tableOfContents = '';\n        this.topic = '';\n        this.hashes = new HashesObject();\n    }\n}\nexports.LibgenBookObject = LibgenBookObject;\nclass HashesObject {\n    constructor() {\n        this.AICH = '';\n        this.CRC32 = '';\n        this.eDonkey = '';\n        this.MD5 = '';\n        this.SHA1 = '';\n        this.SHA256 = [];\n        this.TTH = '';\n    }\n}\nclass GetComicsComicsObject {\n    constructor() {\n        this.image = '';\n        this.title = '';\n        this.year = '';\n        this.size = '';\n        this.excerpt = '';\n        this.description = '';\n        this.download = '';\n        this.category = '';\n        this.ufile = '';\n        this.mega = '';\n        this.mediafire = '';\n        this.zippyshare = '';\n        this.readOnline = '';\n    }\n}\nexports.GetComicsComicsObject = GetComicsComicsObject;\n//# sourceMappingURL=type-objects.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9tb2RlbHMvdHlwZS1vYmplY3RzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDZCQUE2QixHQUFHLHdCQUF3QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxtb2RlbHNcXHR5cGUtb2JqZWN0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR2V0Q29taWNzQ29taWNzT2JqZWN0ID0gZXhwb3J0cy5MaWJnZW5Cb29rT2JqZWN0ID0gdm9pZCAwO1xuY2xhc3MgTGliZ2VuQm9va09iamVjdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSAnJztcbiAgICAgICAgdGhpcy5hdXRob3JzID0gW107XG4gICAgICAgIHRoaXMucHVibGlzaGVyID0gJyc7XG4gICAgICAgIHRoaXMueWVhciA9ICcnO1xuICAgICAgICB0aGlzLmVkaXRpb24gPSAnJztcbiAgICAgICAgdGhpcy52b2x1bWUgPSAnJztcbiAgICAgICAgdGhpcy5zZXJpZXMgPSAnJztcbiAgICAgICAgdGhpcy5pc2JuID0gW107XG4gICAgICAgIHRoaXMubGluayA9ICcnO1xuICAgICAgICB0aGlzLmlkID0gJyc7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSAnJztcbiAgICAgICAgdGhpcy5mb3JtYXQgPSAnJztcbiAgICAgICAgdGhpcy5zaXplID0gJyc7XG4gICAgICAgIHRoaXMucGFnZXMgPSAnJztcbiAgICAgICAgdGhpcy5pbWFnZSA9ICcnO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gJyc7XG4gICAgICAgIHRoaXMudGFibGVPZkNvbnRlbnRzID0gJyc7XG4gICAgICAgIHRoaXMudG9waWMgPSAnJztcbiAgICAgICAgdGhpcy5oYXNoZXMgPSBuZXcgSGFzaGVzT2JqZWN0KCk7XG4gICAgfVxufVxuZXhwb3J0cy5MaWJnZW5Cb29rT2JqZWN0ID0gTGliZ2VuQm9va09iamVjdDtcbmNsYXNzIEhhc2hlc09iamVjdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuQUlDSCA9ICcnO1xuICAgICAgICB0aGlzLkNSQzMyID0gJyc7XG4gICAgICAgIHRoaXMuZURvbmtleSA9ICcnO1xuICAgICAgICB0aGlzLk1ENSA9ICcnO1xuICAgICAgICB0aGlzLlNIQTEgPSAnJztcbiAgICAgICAgdGhpcy5TSEEyNTYgPSBbXTtcbiAgICAgICAgdGhpcy5UVEggPSAnJztcbiAgICB9XG59XG5jbGFzcyBHZXRDb21pY3NDb21pY3NPYmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmltYWdlID0gJyc7XG4gICAgICAgIHRoaXMudGl0bGUgPSAnJztcbiAgICAgICAgdGhpcy55ZWFyID0gJyc7XG4gICAgICAgIHRoaXMuc2l6ZSA9ICcnO1xuICAgICAgICB0aGlzLmV4Y2VycHQgPSAnJztcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9ICcnO1xuICAgICAgICB0aGlzLmRvd25sb2FkID0gJyc7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnkgPSAnJztcbiAgICAgICAgdGhpcy51ZmlsZSA9ICcnO1xuICAgICAgICB0aGlzLm1lZ2EgPSAnJztcbiAgICAgICAgdGhpcy5tZWRpYWZpcmUgPSAnJztcbiAgICAgICAgdGhpcy56aXBweXNoYXJlID0gJyc7XG4gICAgICAgIHRoaXMucmVhZE9ubGluZSA9ICcnO1xuICAgIH1cbn1cbmV4cG9ydHMuR2V0Q29taWNzQ29taWNzT2JqZWN0ID0gR2V0Q29taWNzQ29taWNzT2JqZWN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZS1vYmplY3RzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/models/type-objects.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/models/types.js":
/*!****************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/models/types.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Topics = exports.Genres = exports.TvType = exports.SubOrSub = exports.WatchListType = exports.MediaStatus = exports.StreamingServers = exports.MediaFormat = void 0;\nvar MediaFormat;\n(function (MediaFormat) {\n    MediaFormat[\"TV\"] = \"TV\";\n    MediaFormat[\"TV_SHORT\"] = \"TV_SHORT\";\n    MediaFormat[\"TV_SPECIAL\"] = \"TV_SPECIAL\";\n    MediaFormat[\"MOVIE\"] = \"MOVIE\";\n    MediaFormat[\"SPECIAL\"] = \"SPECIAL\";\n    MediaFormat[\"OVA\"] = \"OVA\";\n    MediaFormat[\"ONA\"] = \"ONA\";\n    MediaFormat[\"MUSIC\"] = \"MUSIC\";\n    MediaFormat[\"MANGA\"] = \"MANGA\";\n    MediaFormat[\"NOVEL\"] = \"NOVEL\";\n    MediaFormat[\"ONE_SHOT\"] = \"ONE_SHOT\";\n    MediaFormat[\"PV\"] = \"PV\";\n    MediaFormat[\"COMIC\"] = \"COMIC\";\n})(MediaFormat || (exports.MediaFormat = MediaFormat = {}));\nvar StreamingServers;\n(function (StreamingServers) {\n    StreamingServers[\"AsianLoad\"] = \"asianload\";\n    StreamingServers[\"GogoCDN\"] = \"gogocdn\";\n    StreamingServers[\"StreamSB\"] = \"streamsb\";\n    StreamingServers[\"MixDrop\"] = \"mixdrop\";\n    StreamingServers[\"Mp4Upload\"] = \"mp4upload\";\n    StreamingServers[\"UpCloud\"] = \"upcloud\";\n    StreamingServers[\"VidCloud\"] = \"vidcloud\";\n    StreamingServers[\"StreamTape\"] = \"streamtape\";\n    StreamingServers[\"VizCloud\"] = \"vizcloud\";\n    // same as vizcloud\n    StreamingServers[\"MyCloud\"] = \"mycloud\";\n    StreamingServers[\"Filemoon\"] = \"filemoon\";\n    StreamingServers[\"VidStreaming\"] = \"vidstreaming\";\n    StreamingServers[\"BuiltIn\"] = \"builtin\";\n    StreamingServers[\"SmashyStream\"] = \"smashystream\";\n    StreamingServers[\"StreamHub\"] = \"streamhub\";\n    StreamingServers[\"StreamWish\"] = \"streamwish\";\n    StreamingServers[\"VidHide\"] = \"vidhide\";\n    StreamingServers[\"VidMoly\"] = \"vidmoly\";\n    StreamingServers[\"Voe\"] = \"voe\";\n    StreamingServers[\"MegaUp\"] = \"megaup\";\n})(StreamingServers || (exports.StreamingServers = StreamingServers = {}));\nvar MediaStatus;\n(function (MediaStatus) {\n    MediaStatus[\"ONGOING\"] = \"Ongoing\";\n    MediaStatus[\"COMPLETED\"] = \"Completed\";\n    MediaStatus[\"HIATUS\"] = \"Hiatus\";\n    MediaStatus[\"CANCELLED\"] = \"Cancelled\";\n    MediaStatus[\"NOT_YET_AIRED\"] = \"Not yet aired\";\n    MediaStatus[\"UNKNOWN\"] = \"Unknown\";\n})(MediaStatus || (exports.MediaStatus = MediaStatus = {}));\nvar WatchListType;\n(function (WatchListType) {\n    WatchListType[\"WATCHING\"] = \"watching\";\n    WatchListType[\"ONHOLD\"] = \"on-hold\";\n    WatchListType[\"PLAN_TO_WATCH\"] = \"plan to watch\";\n    WatchListType[\"DROPPED\"] = \"dropped\";\n    WatchListType[\"COMPLETED\"] = \"completed\";\n    WatchListType[\"NONE\"] = \"none\";\n})(WatchListType || (exports.WatchListType = WatchListType = {}));\nvar SubOrSub;\n(function (SubOrSub) {\n    SubOrSub[\"SUB\"] = \"sub\";\n    SubOrSub[\"DUB\"] = \"dub\";\n    SubOrSub[\"BOTH\"] = \"both\";\n})(SubOrSub || (exports.SubOrSub = SubOrSub = {}));\n/**\n * Used **only** for movie/tvshow providers\n */\nvar TvType;\n(function (TvType) {\n    TvType[\"TVSERIES\"] = \"TV Series\";\n    TvType[\"MOVIE\"] = \"Movie\";\n    TvType[\"ANIME\"] = \"Anime\";\n    TvType[\"PEOPLE\"] = \"People\";\n})(TvType || (exports.TvType = TvType = {}));\nvar Genres;\n(function (Genres) {\n    Genres[\"ACTION\"] = \"Action\";\n    Genres[\"ADVENTURE\"] = \"Adventure\";\n    Genres[\"CARS\"] = \"Cars\";\n    Genres[\"COMEDY\"] = \"Comedy\";\n    Genres[\"DRAMA\"] = \"Drama\";\n    Genres[\"FANTASY\"] = \"Fantasy\";\n    Genres[\"HORROR\"] = \"Horror\";\n    Genres[\"MAHOU_SHOUJO\"] = \"Mahou Shoujo\";\n    Genres[\"MECHA\"] = \"Mecha\";\n    Genres[\"MUSIC\"] = \"Music\";\n    Genres[\"MYSTERY\"] = \"Mystery\";\n    Genres[\"PSYCHOLOGICAL\"] = \"Psychological\";\n    Genres[\"ROMANCE\"] = \"Romance\";\n    Genres[\"SCI_FI\"] = \"Sci-Fi\";\n    Genres[\"SLICE_OF_LIFE\"] = \"Slice of Life\";\n    Genres[\"SPORTS\"] = \"Sports\";\n    Genres[\"SUPERNATURAL\"] = \"Supernatural\";\n    Genres[\"THRILLER\"] = \"Thriller\";\n})(Genres || (exports.Genres = Genres = {}));\nvar Topics;\n(function (Topics) {\n    Topics[\"ANIME\"] = \"anime\";\n    Topics[\"ANIMATION\"] = \"animation\";\n    Topics[\"MANGA\"] = \"manga\";\n    Topics[\"GAMES\"] = \"games\";\n    Topics[\"NOVELS\"] = \"novels\";\n    Topics[\"LIVE_ACTION\"] = \"live-action\";\n    Topics[\"COVID_19\"] = \"covid-19\";\n    Topics[\"INDUSTRY\"] = \"industry\";\n    Topics[\"MUSIC\"] = \"music\";\n    Topics[\"PEOPLE\"] = \"people\";\n    Topics[\"MERCH\"] = \"merch\";\n    Topics[\"EVENTS\"] = \"events\";\n})(Topics || (exports.Topics = Topics = {}));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9tb2RlbHMvdHlwZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYyxHQUFHLGNBQWMsR0FBRyxjQUFjLEdBQUcsZ0JBQWdCLEdBQUcscUJBQXFCLEdBQUcsbUJBQW1CLEdBQUcsd0JBQXdCLEdBQUcsbUJBQW1CO0FBQ2xLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0JBQWtCLG1CQUFtQixtQkFBbUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsdUJBQXVCLHdCQUF3Qix3QkFBd0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0JBQWtCLG1CQUFtQixtQkFBbUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0JBQW9CLHFCQUFxQixxQkFBcUI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZUFBZSxnQkFBZ0IsZ0JBQWdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsYUFBYSxjQUFjLGNBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsYUFBYSxjQUFjLGNBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsYUFBYSxjQUFjLGNBQWM7QUFDMUMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXG1vZGVsc1xcdHlwZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRvcGljcyA9IGV4cG9ydHMuR2VucmVzID0gZXhwb3J0cy5UdlR5cGUgPSBleHBvcnRzLlN1Yk9yU3ViID0gZXhwb3J0cy5XYXRjaExpc3RUeXBlID0gZXhwb3J0cy5NZWRpYVN0YXR1cyA9IGV4cG9ydHMuU3RyZWFtaW5nU2VydmVycyA9IGV4cG9ydHMuTWVkaWFGb3JtYXQgPSB2b2lkIDA7XG52YXIgTWVkaWFGb3JtYXQ7XG4oZnVuY3Rpb24gKE1lZGlhRm9ybWF0KSB7XG4gICAgTWVkaWFGb3JtYXRbXCJUVlwiXSA9IFwiVFZcIjtcbiAgICBNZWRpYUZvcm1hdFtcIlRWX1NIT1JUXCJdID0gXCJUVl9TSE9SVFwiO1xuICAgIE1lZGlhRm9ybWF0W1wiVFZfU1BFQ0lBTFwiXSA9IFwiVFZfU1BFQ0lBTFwiO1xuICAgIE1lZGlhRm9ybWF0W1wiTU9WSUVcIl0gPSBcIk1PVklFXCI7XG4gICAgTWVkaWFGb3JtYXRbXCJTUEVDSUFMXCJdID0gXCJTUEVDSUFMXCI7XG4gICAgTWVkaWFGb3JtYXRbXCJPVkFcIl0gPSBcIk9WQVwiO1xuICAgIE1lZGlhRm9ybWF0W1wiT05BXCJdID0gXCJPTkFcIjtcbiAgICBNZWRpYUZvcm1hdFtcIk1VU0lDXCJdID0gXCJNVVNJQ1wiO1xuICAgIE1lZGlhRm9ybWF0W1wiTUFOR0FcIl0gPSBcIk1BTkdBXCI7XG4gICAgTWVkaWFGb3JtYXRbXCJOT1ZFTFwiXSA9IFwiTk9WRUxcIjtcbiAgICBNZWRpYUZvcm1hdFtcIk9ORV9TSE9UXCJdID0gXCJPTkVfU0hPVFwiO1xuICAgIE1lZGlhRm9ybWF0W1wiUFZcIl0gPSBcIlBWXCI7XG4gICAgTWVkaWFGb3JtYXRbXCJDT01JQ1wiXSA9IFwiQ09NSUNcIjtcbn0pKE1lZGlhRm9ybWF0IHx8IChleHBvcnRzLk1lZGlhRm9ybWF0ID0gTWVkaWFGb3JtYXQgPSB7fSkpO1xudmFyIFN0cmVhbWluZ1NlcnZlcnM7XG4oZnVuY3Rpb24gKFN0cmVhbWluZ1NlcnZlcnMpIHtcbiAgICBTdHJlYW1pbmdTZXJ2ZXJzW1wiQXNpYW5Mb2FkXCJdID0gXCJhc2lhbmxvYWRcIjtcbiAgICBTdHJlYW1pbmdTZXJ2ZXJzW1wiR29nb0NETlwiXSA9IFwiZ29nb2NkblwiO1xuICAgIFN0cmVhbWluZ1NlcnZlcnNbXCJTdHJlYW1TQlwiXSA9IFwic3RyZWFtc2JcIjtcbiAgICBTdHJlYW1pbmdTZXJ2ZXJzW1wiTWl4RHJvcFwiXSA9IFwibWl4ZHJvcFwiO1xuICAgIFN0cmVhbWluZ1NlcnZlcnNbXCJNcDRVcGxvYWRcIl0gPSBcIm1wNHVwbG9hZFwiO1xuICAgIFN0cmVhbWluZ1NlcnZlcnNbXCJVcENsb3VkXCJdID0gXCJ1cGNsb3VkXCI7XG4gICAgU3RyZWFtaW5nU2VydmVyc1tcIlZpZENsb3VkXCJdID0gXCJ2aWRjbG91ZFwiO1xuICAgIFN0cmVhbWluZ1NlcnZlcnNbXCJTdHJlYW1UYXBlXCJdID0gXCJzdHJlYW10YXBlXCI7XG4gICAgU3RyZWFtaW5nU2VydmVyc1tcIlZpekNsb3VkXCJdID0gXCJ2aXpjbG91ZFwiO1xuICAgIC8vIHNhbWUgYXMgdml6Y2xvdWRcbiAgICBTdHJlYW1pbmdTZXJ2ZXJzW1wiTXlDbG91ZFwiXSA9IFwibXljbG91ZFwiO1xuICAgIFN0cmVhbWluZ1NlcnZlcnNbXCJGaWxlbW9vblwiXSA9IFwiZmlsZW1vb25cIjtcbiAgICBTdHJlYW1pbmdTZXJ2ZXJzW1wiVmlkU3RyZWFtaW5nXCJdID0gXCJ2aWRzdHJlYW1pbmdcIjtcbiAgICBTdHJlYW1pbmdTZXJ2ZXJzW1wiQnVpbHRJblwiXSA9IFwiYnVpbHRpblwiO1xuICAgIFN0cmVhbWluZ1NlcnZlcnNbXCJTbWFzaHlTdHJlYW1cIl0gPSBcInNtYXNoeXN0cmVhbVwiO1xuICAgIFN0cmVhbWluZ1NlcnZlcnNbXCJTdHJlYW1IdWJcIl0gPSBcInN0cmVhbWh1YlwiO1xuICAgIFN0cmVhbWluZ1NlcnZlcnNbXCJTdHJlYW1XaXNoXCJdID0gXCJzdHJlYW13aXNoXCI7XG4gICAgU3RyZWFtaW5nU2VydmVyc1tcIlZpZEhpZGVcIl0gPSBcInZpZGhpZGVcIjtcbiAgICBTdHJlYW1pbmdTZXJ2ZXJzW1wiVmlkTW9seVwiXSA9IFwidmlkbW9seVwiO1xuICAgIFN0cmVhbWluZ1NlcnZlcnNbXCJWb2VcIl0gPSBcInZvZVwiO1xuICAgIFN0cmVhbWluZ1NlcnZlcnNbXCJNZWdhVXBcIl0gPSBcIm1lZ2F1cFwiO1xufSkoU3RyZWFtaW5nU2VydmVycyB8fCAoZXhwb3J0cy5TdHJlYW1pbmdTZXJ2ZXJzID0gU3RyZWFtaW5nU2VydmVycyA9IHt9KSk7XG52YXIgTWVkaWFTdGF0dXM7XG4oZnVuY3Rpb24gKE1lZGlhU3RhdHVzKSB7XG4gICAgTWVkaWFTdGF0dXNbXCJPTkdPSU5HXCJdID0gXCJPbmdvaW5nXCI7XG4gICAgTWVkaWFTdGF0dXNbXCJDT01QTEVURURcIl0gPSBcIkNvbXBsZXRlZFwiO1xuICAgIE1lZGlhU3RhdHVzW1wiSElBVFVTXCJdID0gXCJIaWF0dXNcIjtcbiAgICBNZWRpYVN0YXR1c1tcIkNBTkNFTExFRFwiXSA9IFwiQ2FuY2VsbGVkXCI7XG4gICAgTWVkaWFTdGF0dXNbXCJOT1RfWUVUX0FJUkVEXCJdID0gXCJOb3QgeWV0IGFpcmVkXCI7XG4gICAgTWVkaWFTdGF0dXNbXCJVTktOT1dOXCJdID0gXCJVbmtub3duXCI7XG59KShNZWRpYVN0YXR1cyB8fCAoZXhwb3J0cy5NZWRpYVN0YXR1cyA9IE1lZGlhU3RhdHVzID0ge30pKTtcbnZhciBXYXRjaExpc3RUeXBlO1xuKGZ1bmN0aW9uIChXYXRjaExpc3RUeXBlKSB7XG4gICAgV2F0Y2hMaXN0VHlwZVtcIldBVENISU5HXCJdID0gXCJ3YXRjaGluZ1wiO1xuICAgIFdhdGNoTGlzdFR5cGVbXCJPTkhPTERcIl0gPSBcIm9uLWhvbGRcIjtcbiAgICBXYXRjaExpc3RUeXBlW1wiUExBTl9UT19XQVRDSFwiXSA9IFwicGxhbiB0byB3YXRjaFwiO1xuICAgIFdhdGNoTGlzdFR5cGVbXCJEUk9QUEVEXCJdID0gXCJkcm9wcGVkXCI7XG4gICAgV2F0Y2hMaXN0VHlwZVtcIkNPTVBMRVRFRFwiXSA9IFwiY29tcGxldGVkXCI7XG4gICAgV2F0Y2hMaXN0VHlwZVtcIk5PTkVcIl0gPSBcIm5vbmVcIjtcbn0pKFdhdGNoTGlzdFR5cGUgfHwgKGV4cG9ydHMuV2F0Y2hMaXN0VHlwZSA9IFdhdGNoTGlzdFR5cGUgPSB7fSkpO1xudmFyIFN1Yk9yU3ViO1xuKGZ1bmN0aW9uIChTdWJPclN1Yikge1xuICAgIFN1Yk9yU3ViW1wiU1VCXCJdID0gXCJzdWJcIjtcbiAgICBTdWJPclN1YltcIkRVQlwiXSA9IFwiZHViXCI7XG4gICAgU3ViT3JTdWJbXCJCT1RIXCJdID0gXCJib3RoXCI7XG59KShTdWJPclN1YiB8fCAoZXhwb3J0cy5TdWJPclN1YiA9IFN1Yk9yU3ViID0ge30pKTtcbi8qKlxuICogVXNlZCAqKm9ubHkqKiBmb3IgbW92aWUvdHZzaG93IHByb3ZpZGVyc1xuICovXG52YXIgVHZUeXBlO1xuKGZ1bmN0aW9uIChUdlR5cGUpIHtcbiAgICBUdlR5cGVbXCJUVlNFUklFU1wiXSA9IFwiVFYgU2VyaWVzXCI7XG4gICAgVHZUeXBlW1wiTU9WSUVcIl0gPSBcIk1vdmllXCI7XG4gICAgVHZUeXBlW1wiQU5JTUVcIl0gPSBcIkFuaW1lXCI7XG4gICAgVHZUeXBlW1wiUEVPUExFXCJdID0gXCJQZW9wbGVcIjtcbn0pKFR2VHlwZSB8fCAoZXhwb3J0cy5UdlR5cGUgPSBUdlR5cGUgPSB7fSkpO1xudmFyIEdlbnJlcztcbihmdW5jdGlvbiAoR2VucmVzKSB7XG4gICAgR2VucmVzW1wiQUNUSU9OXCJdID0gXCJBY3Rpb25cIjtcbiAgICBHZW5yZXNbXCJBRFZFTlRVUkVcIl0gPSBcIkFkdmVudHVyZVwiO1xuICAgIEdlbnJlc1tcIkNBUlNcIl0gPSBcIkNhcnNcIjtcbiAgICBHZW5yZXNbXCJDT01FRFlcIl0gPSBcIkNvbWVkeVwiO1xuICAgIEdlbnJlc1tcIkRSQU1BXCJdID0gXCJEcmFtYVwiO1xuICAgIEdlbnJlc1tcIkZBTlRBU1lcIl0gPSBcIkZhbnRhc3lcIjtcbiAgICBHZW5yZXNbXCJIT1JST1JcIl0gPSBcIkhvcnJvclwiO1xuICAgIEdlbnJlc1tcIk1BSE9VX1NIT1VKT1wiXSA9IFwiTWFob3UgU2hvdWpvXCI7XG4gICAgR2VucmVzW1wiTUVDSEFcIl0gPSBcIk1lY2hhXCI7XG4gICAgR2VucmVzW1wiTVVTSUNcIl0gPSBcIk11c2ljXCI7XG4gICAgR2VucmVzW1wiTVlTVEVSWVwiXSA9IFwiTXlzdGVyeVwiO1xuICAgIEdlbnJlc1tcIlBTWUNIT0xPR0lDQUxcIl0gPSBcIlBzeWNob2xvZ2ljYWxcIjtcbiAgICBHZW5yZXNbXCJST01BTkNFXCJdID0gXCJSb21hbmNlXCI7XG4gICAgR2VucmVzW1wiU0NJX0ZJXCJdID0gXCJTY2ktRmlcIjtcbiAgICBHZW5yZXNbXCJTTElDRV9PRl9MSUZFXCJdID0gXCJTbGljZSBvZiBMaWZlXCI7XG4gICAgR2VucmVzW1wiU1BPUlRTXCJdID0gXCJTcG9ydHNcIjtcbiAgICBHZW5yZXNbXCJTVVBFUk5BVFVSQUxcIl0gPSBcIlN1cGVybmF0dXJhbFwiO1xuICAgIEdlbnJlc1tcIlRIUklMTEVSXCJdID0gXCJUaHJpbGxlclwiO1xufSkoR2VucmVzIHx8IChleHBvcnRzLkdlbnJlcyA9IEdlbnJlcyA9IHt9KSk7XG52YXIgVG9waWNzO1xuKGZ1bmN0aW9uIChUb3BpY3MpIHtcbiAgICBUb3BpY3NbXCJBTklNRVwiXSA9IFwiYW5pbWVcIjtcbiAgICBUb3BpY3NbXCJBTklNQVRJT05cIl0gPSBcImFuaW1hdGlvblwiO1xuICAgIFRvcGljc1tcIk1BTkdBXCJdID0gXCJtYW5nYVwiO1xuICAgIFRvcGljc1tcIkdBTUVTXCJdID0gXCJnYW1lc1wiO1xuICAgIFRvcGljc1tcIk5PVkVMU1wiXSA9IFwibm92ZWxzXCI7XG4gICAgVG9waWNzW1wiTElWRV9BQ1RJT05cIl0gPSBcImxpdmUtYWN0aW9uXCI7XG4gICAgVG9waWNzW1wiQ09WSURfMTlcIl0gPSBcImNvdmlkLTE5XCI7XG4gICAgVG9waWNzW1wiSU5EVVNUUllcIl0gPSBcImluZHVzdHJ5XCI7XG4gICAgVG9waWNzW1wiTVVTSUNcIl0gPSBcIm11c2ljXCI7XG4gICAgVG9waWNzW1wiUEVPUExFXCJdID0gXCJwZW9wbGVcIjtcbiAgICBUb3BpY3NbXCJNRVJDSFwiXSA9IFwibWVyY2hcIjtcbiAgICBUb3BpY3NbXCJFVkVOVFNcIl0gPSBcImV2ZW50c1wiO1xufSkoVG9waWNzIHx8IChleHBvcnRzLlRvcGljcyA9IFRvcGljcyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/models/types.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/models/video-extractor.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/models/video-extractor.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst proxy_1 = __importDefault(__webpack_require__(/*! ../models/proxy */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/proxy.js\"));\nclass VideoExtractor extends proxy_1.default {\n}\nexports[\"default\"] = VideoExtractor;\n//# sourceMappingURL=video-extractor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9tb2RlbHMvdmlkZW8tZXh0cmFjdG9yLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0NBQWdDLG1CQUFPLENBQUMsdUZBQWlCO0FBQ3pEO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxtb2RlbHNcXHZpZGVvLWV4dHJhY3Rvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHByb3h5XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL21vZGVscy9wcm94eVwiKSk7XG5jbGFzcyBWaWRlb0V4dHJhY3RvciBleHRlbmRzIHByb3h5XzEuZGVmYXVsdCB7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBWaWRlb0V4dHJhY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZGVvLWV4dHJhY3Rvci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/models/video-extractor.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/9anime.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/9anime.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\n/**\n * **Use at your own risk :)** 9anime devs keep changing the keys every week\n */\nclass NineAnime extends models_1.AnimeParser {\n    constructor(nineAnimeResolver, proxyConfig, apiKey, adapter) {\n        super(proxyConfig, adapter);\n        this.name = '9Anime';\n        this.nineAnimeResolver = '';\n        this.apiKey = '';\n        this.baseUrl = 'https://aniwave.to';\n        this.logo = 'https://d1nxzqpcg2bym0.cloudfront.net/google_play/com.my.nineanime/87b2fe48-9c36-11eb-8292-21241b1c199b/128x128';\n        this.classPath = 'ANIME.NineAnime';\n        this.isWorking = false;\n        this.nineAnimeResolver = nineAnimeResolver !== null && nineAnimeResolver !== void 0 ? nineAnimeResolver : this.nineAnimeResolver;\n        this.apiKey = apiKey !== null && apiKey !== void 0 ? apiKey : this.apiKey;\n    }\n    async search(query, page = 1) {\n        const searchResult = {\n            currentPage: page,\n            hasNextPage: false,\n            results: [],\n        };\n        try {\n            const vrf = await this.searchVrf(query);\n            const res = await this.client.get(`${this.baseUrl}/filter?keyword=${encodeURIComponent(query).replace(/%20/g, '+')}&vrf=${encodeURIComponent(vrf)}&page=${page}`);\n            const $ = (0, cheerio_1.load)(res.data);\n            searchResult.hasNextPage =\n                $(`ul.pagination`).length > 0\n                    ? $('ul.pagination > li').last().hasClass('disabled')\n                        ? false\n                        : true\n                    : false;\n            $('#list-items > div.item').each((i, el) => {\n                var _a;\n                let type = undefined;\n                switch ($(el).find('div > div.ani > a > div.meta > div > div.right').text().trim()) {\n                    case 'MOVIE':\n                        type = models_1.MediaFormat.MOVIE;\n                        break;\n                    case 'TV':\n                        type = models_1.MediaFormat.TV;\n                        break;\n                    case 'OVA':\n                        type = models_1.MediaFormat.OVA;\n                        break;\n                    case 'SPECIAL':\n                        type = models_1.MediaFormat.SPECIAL;\n                        break;\n                    case 'ONA':\n                        type = models_1.MediaFormat.ONA;\n                        break;\n                    case 'MUSIC':\n                        type = models_1.MediaFormat.MUSIC;\n                        break;\n                }\n                searchResult.results.push({\n                    id: (_a = $(el).find('div > div.ani > a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[2],\n                    title: $(el).find('div > div.info > div.b1 > a').text(),\n                    url: `${this.baseUrl}${$(el).find('div > div.ani > a').attr('href')}`,\n                    image: $(el).find('div > div.ani > a > img').attr('src'),\n                    type: type,\n                    hasSub: $(el).find('div > div.ani > a .meta .sub').length > 0,\n                    hasDub: $(el).find('div > div.ani > a .meta .dub').length > 0,\n                });\n            });\n            return searchResult;\n        }\n        catch (err) {\n            throw new Error(err.message);\n        }\n    }\n    async fetchAnimeInfo(animeUrl) {\n        var _a, _b, _c, _d, _e;\n        if (!animeUrl.startsWith(this.baseUrl))\n            animeUrl = `${this.baseUrl}/watch/${animeUrl}`;\n        const animeInfo = {\n            id: '',\n            title: '',\n            url: animeUrl,\n        };\n        try {\n            const res = await this.client.get(animeUrl);\n            const $ = (0, cheerio_1.load)(res.data);\n            animeInfo.id = new URL(`${this.baseUrl}/animeUrl`).pathname.split('/')[2];\n            animeInfo.title = $('h1.title').text();\n            animeInfo.jpTitle = $('h1.title').attr('data-jp');\n            animeInfo.genres = Array.from($('div.meta:nth-child(1) > div:nth-child(5) > span > a').map((i, el) => $(el).text()));\n            animeInfo.image = $('.binfo > div.poster > span > img').attr('src');\n            animeInfo.description = (_a = $('.content').text()) === null || _a === void 0 ? void 0 : _a.trim();\n            switch ($('div.meta:nth-child(1) > div:nth-child(1) > span:nth-child(1) > a').text()) {\n                case 'MOVIE':\n                    animeInfo.type = models_1.MediaFormat.MOVIE;\n                    break;\n                case 'TV':\n                    animeInfo.type = models_1.MediaFormat.TV;\n                    break;\n                case 'OVA':\n                    animeInfo.type = models_1.MediaFormat.OVA;\n                    break;\n                case 'SPECIAL':\n                    animeInfo.type = models_1.MediaFormat.SPECIAL;\n                    break;\n                case 'ONA':\n                    animeInfo.type = models_1.MediaFormat.ONA;\n                    break;\n                case 'MUSIC':\n                    animeInfo.type = models_1.MediaFormat.MUSIC;\n                    break;\n            }\n            animeInfo.studios = Array.from($('div.meta:nth-child(1) > div:nth-child(2) > span:nth-child(1) > a').map((i, el) => { var _a; return (_a = $(el).text()) === null || _a === void 0 ? void 0 : _a.trim(); }));\n            animeInfo.releaseDate = (_b = $('div.meta:nth-child(1) > div:nth-child(3) > span:nth-child(1)')\n                .text()\n                .trim()\n                .split('to')[0]) === null || _b === void 0 ? void 0 : _b.trim();\n            switch ((_c = $('div.meta:nth-child(1) > div:nth-child(4) > span:nth-child(1)').text()) === null || _c === void 0 ? void 0 : _c.trim()) {\n                case 'Releasing':\n                    animeInfo.status = models_1.MediaStatus.ONGOING;\n                    break;\n                case 'Completed':\n                    animeInfo.status = models_1.MediaStatus.COMPLETED;\n                    break;\n                case 'Cancelled':\n                    animeInfo.status = models_1.MediaStatus.CANCELLED;\n                    break;\n                case 'Unknown':\n                    animeInfo.status = models_1.MediaStatus.UNKNOWN;\n                    break;\n                default:\n                    animeInfo.status = models_1.MediaStatus.UNKNOWN;\n                    break;\n            }\n            animeInfo.score = parseFloat((_d = $('.bmeta > div:nth-child(2) > div:nth-child(2) > span:nth-child(1)')) === null || _d === void 0 ? void 0 : _d.text().split('by')[0]);\n            animeInfo.premiered = $('.bmeta > div:nth-child(2) > div:nth-child(3) > span:nth-child(1) > a:nth-child(1)').text();\n            animeInfo.duration = $('.bmeta > div:nth-child(2) > div:nth-child(4) > span:nth-child(1)').text();\n            animeInfo.views = parseInt($('.bmeta > div:nth-child(2) > div:nth-child(5) > span:nth-child(1)')\n                .text()\n                .split('by')\n                .join('')\n                .split(',')\n                .join('')\n                .trim());\n            animeInfo.otherNames = $('.names')\n                .text()\n                .split('; ')\n                .map(name => name === null || name === void 0 ? void 0 : name.trim());\n            animeInfo.hasSub = $('div#w-info > .binfo > .info > .meta .sub').length == 1;\n            animeInfo.hasDub = $('div#w-info > .binfo > .info > .meta .dub').length == 1;\n            const id = $('#watch-main').attr('data-id');\n            const vrf = await this.ev(id);\n            const { data: { result }, } = await this.client.get(`${this.baseUrl}/ajax/episode/list/${id}?vrf=${encodeURIComponent(vrf)}`);\n            const $$ = (0, cheerio_1.load)(result);\n            animeInfo.totalEpisodes = $$('div.episodes > ul > li > a').length;\n            animeInfo.episodes = [];\n            const episodes = [];\n            $$('div.episodes > ul > li > a').map((i, el) => {\n                $$(el)\n                    .map((i, el) => {\n                    var _a, _b;\n                    const possibleIds = (_a = $$(el).attr('data-ids')) === null || _a === void 0 ? void 0 : _a.split(',');\n                    const number = parseInt((_b = $$(el).attr('data-num')) === null || _b === void 0 ? void 0 : _b.toString());\n                    const title = $$(el).find('span').text().length > 0 ? $$(el).find('span').text() : undefined;\n                    const isFiller = $$(el).hasClass('filler');\n                    episodes.push({\n                        id: possibleIds[0],\n                        dubId: possibleIds[1],\n                        number: number,\n                        title: title,\n                        isFiller: isFiller,\n                    });\n                })\n                    .get();\n            });\n            (_e = animeInfo.episodes) === null || _e === void 0 ? void 0 : _e.push(...episodes);\n            return animeInfo;\n        }\n        catch (err) {\n            console.log(err);\n            throw new Error(err.message);\n        }\n    }\n    async fetchEpisodeSources(episodeId, server = models_1.StreamingServers.VizCloud) {\n        var _a, _b, _c, _d, _e, _f;\n        if (episodeId.startsWith('http')) {\n            const serverUrl = new URL(episodeId);\n            switch (server) {\n                case models_1.StreamingServers.StreamTape:\n                    return {\n                        headers: { Referer: serverUrl.href, 'User-Agent': utils_1.USER_AGENT },\n                        sources: await new extractors_1.StreamTape().extract(serverUrl),\n                    };\n                case models_1.StreamingServers.VizCloud:\n                case models_1.StreamingServers.VidCloud:\n                    return {\n                        headers: { Referer: serverUrl.href, 'User-Agent': utils_1.USER_AGENT },\n                        sources: await new extractors_1.VizCloud().extract(serverUrl, this.nineAnimeResolver, this.apiKey),\n                    };\n                case models_1.StreamingServers.MyCloud:\n                    return {\n                        headers: { Referer: serverUrl.href, 'User-Agent': utils_1.USER_AGENT },\n                        sources: await new extractors_1.VizCloud().extract(serverUrl, this.nineAnimeResolver, this.apiKey),\n                    };\n                case models_1.StreamingServers.Filemoon:\n                    return {\n                        headers: { Referer: serverUrl.href, 'User-Agent': utils_1.USER_AGENT },\n                        sources: await new extractors_1.Filemoon().extract(serverUrl),\n                    };\n                default:\n                    throw new Error('Server not supported');\n            }\n        }\n        try {\n            const servers = await this.fetchEpisodeServers(episodeId);\n            let s = servers.find(s => s.name === server);\n            switch (server) {\n                case models_1.StreamingServers.VizCloud:\n                    s = servers.find(s => s.name === 'vidstream');\n                    if (!s)\n                        throw new Error('Vidstream server found');\n                    break;\n                case models_1.StreamingServers.StreamTape:\n                    s = servers.find(s => s.name === 'streamtape');\n                    if (!s)\n                        throw new Error('Streamtape server found');\n                    break;\n                case models_1.StreamingServers.MyCloud:\n                    s = servers.find(s => s.name === 'mycloud');\n                    if (!s)\n                        throw new Error('Mycloud server found');\n                    break;\n                case models_1.StreamingServers.Filemoon:\n                    s = servers.find(s => s.name === 'filemoon');\n                    if (!s)\n                        throw new Error('Filemoon server found');\n                    break;\n                default:\n                    throw new Error('Server not found');\n            }\n            const serverVrf = (await this.client.get(`${this.nineAnimeResolver}/vrf?query=${encodeURIComponent(s.url)}&apikey=${this.apiKey}`)).data.url;\n            const serverSource = (await this.client.get(`${this.baseUrl}/ajax/server/${s.url}?vrf=${encodeURIComponent(serverVrf)}`)).data;\n            const embedURL = (await this.client.get(`${this.nineAnimeResolver}/decrypt?query=${encodeURIComponent(serverSource.result.url)}&apikey=${this.apiKey}`)).data.url;\n            if (embedURL.startsWith('http')) {\n                const response = await this.fetchEpisodeSources(embedURL, server);\n                response.embedURL = embedURL;\n                response.intro = {\n                    start: (_c = (_b = (_a = serverSource === null || serverSource === void 0 ? void 0 : serverSource.result) === null || _a === void 0 ? void 0 : _a.skip_data) === null || _b === void 0 ? void 0 : _b.intro_begin) !== null && _c !== void 0 ? _c : 0,\n                    end: (_f = (_e = (_d = serverSource === null || serverSource === void 0 ? void 0 : serverSource.result) === null || _d === void 0 ? void 0 : _d.skip_data) === null || _e === void 0 ? void 0 : _e.intro_end) !== null && _f !== void 0 ? _f : 0,\n                };\n                return response;\n            }\n            else {\n                throw new Error('Server did not respond correctly');\n            }\n        }\n        catch (err) {\n            throw new Error(err.message);\n        }\n    }\n    async fetchEpisodeServers(episodeId) {\n        if (!episodeId.startsWith(this.baseUrl))\n            episodeId = `${this.baseUrl}/ajax/server/list/${episodeId}?vrf=${encodeURIComponent(await this.ev(episodeId))}`;\n        const { data: { result }, } = await this.client.get(episodeId);\n        const $ = (0, cheerio_1.load)(result);\n        const servers = [];\n        $('.type > ul > li').each((i, el) => {\n            const serverId = $(el).attr('data-link-id');\n            servers.push({\n                name: $(el).text().toLocaleLowerCase(),\n                url: `${serverId}`,\n            });\n        });\n        return servers;\n    }\n    async ev(query, raw = false) {\n        const { data } = await this.client.get(`${this.nineAnimeResolver}/vrf?query=${encodeURIComponent(query)}&apikey=${this.apiKey}`);\n        if (raw) {\n            return data;\n        }\n        else {\n            return data.url;\n        }\n    }\n    async searchVrf(query, raw = false) {\n        const { data } = await this.client.get(`${this.nineAnimeResolver}/9anime-search?query=${encodeURIComponent(query)}&apikey=${this.apiKey}`);\n        if (raw) {\n            return data;\n        }\n        else {\n            return data.url;\n        }\n    }\n    async decrypt(query, raw = false) {\n        const { data } = await this.client.get(`${this.nineAnimeResolver}/decrypt?query=${encodeURIComponent(query)}&apikey=${this.apiKey}`);\n        if (raw) {\n            return data;\n        }\n        else {\n            return data.url;\n        }\n    }\n    async vizcloud(query) {\n        const { data } = await this.client.get(`${this.nineAnimeResolver}/vizcloud?query=${encodeURIComponent(query)}&apikey=${this.apiKey}`);\n        return data;\n    }\n    async customRequest(query, action) {\n        const { data } = await this.client.get(`${this.nineAnimeResolver}/${action}?query=${encodeURIComponent(query)}&apikey=${this.apiKey}`);\n        return data;\n    }\n}\n// (async () => {\n//   // const nineAnime = new NineAnime();\n//   // const searchResults = await nineAnime.search('attack on titan');\n//   // const animeInfo = await nineAnime.fetchAnimeInfo('shadowverse-flame.rljqn');\n//   // @ts-ignore\n//   // const episodeSources = await nineAnime.fetchEpisodeSources(\"ab68\", \"decrypt\");\n//   // console.log(await nineAnime.vizcloud(\"LNPEK8Q0QPXW\"));\n//   // console.log(await nineAnime.decrypt(\"ab6/\", true));\n//   // console.log(await nineAnime.customRequest(\"LNPEK8Q0QPXW\", \"9anime-search\"));\n// })();\nexports[\"default\"] = NineAnime;\n//# sourceMappingURL=9anime.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvOWFuaW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLDRGQUFrQjtBQUMvQyxnQkFBZ0IsbUJBQU8sQ0FBQyxrRkFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsYUFBYSxrQkFBa0IsK0NBQStDLE9BQU8sd0JBQXdCLFFBQVEsS0FBSztBQUMzSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsYUFBYSxFQUFFLDZDQUE2QztBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGFBQWEsU0FBUyxTQUFTO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsYUFBYTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtJQUFrSSxRQUFRLDRFQUE0RTtBQUN0TjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRLFFBQVEsSUFBSSwyQkFBMkIsYUFBYSxxQkFBcUIsR0FBRyxPQUFPLHdCQUF3QjtBQUN2STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywyREFBMkQ7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywyREFBMkQ7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsMkRBQTJEO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDJEQUEyRDtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsdUJBQXVCLGFBQWEsMEJBQTBCLFVBQVUsWUFBWTtBQUM1SSwyREFBMkQsYUFBYSxlQUFlLE1BQU0sT0FBTyw4QkFBOEI7QUFDbEksdURBQXVELHVCQUF1QixpQkFBaUIsNENBQTRDLFVBQVUsWUFBWTtBQUNqSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixhQUFhLG9CQUFvQixVQUFVLE9BQU8sNkNBQTZDO0FBQzFILGdCQUFnQixRQUFRLFFBQVEsSUFBSTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsU0FBUztBQUNqQyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPLDJCQUEyQix1QkFBdUIsYUFBYSwwQkFBMEIsVUFBVSxZQUFZO0FBQ3RJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTywyQkFBMkIsdUJBQXVCLHVCQUF1QiwwQkFBMEIsVUFBVSxZQUFZO0FBQ2hKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTywyQkFBMkIsdUJBQXVCLGlCQUFpQiwwQkFBMEIsVUFBVSxZQUFZO0FBQzFJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTywyQkFBMkIsdUJBQXVCLGtCQUFrQiwwQkFBMEIsVUFBVSxZQUFZO0FBQzNJO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPLDJCQUEyQix1QkFBdUIsR0FBRyxPQUFPLFNBQVMsMEJBQTBCLFVBQVUsWUFBWTtBQUM1STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxhbmltZVxcOWFuaW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2hlZXJpb18xID0gcmVxdWlyZShcImNoZWVyaW9cIik7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHNcIik7XG5jb25zdCBleHRyYWN0b3JzXzEgPSByZXF1aXJlKFwiLi4vLi4vZXh0cmFjdG9yc1wiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHNcIik7XG4vKipcbiAqICoqVXNlIGF0IHlvdXIgb3duIHJpc2sgOikqKiA5YW5pbWUgZGV2cyBrZWVwIGNoYW5naW5nIHRoZSBrZXlzIGV2ZXJ5IHdlZWtcbiAqL1xuY2xhc3MgTmluZUFuaW1lIGV4dGVuZHMgbW9kZWxzXzEuQW5pbWVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKG5pbmVBbmltZVJlc29sdmVyLCBwcm94eUNvbmZpZywgYXBpS2V5LCBhZGFwdGVyKSB7XG4gICAgICAgIHN1cGVyKHByb3h5Q29uZmlnLCBhZGFwdGVyKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJzlBbmltZSc7XG4gICAgICAgIHRoaXMubmluZUFuaW1lUmVzb2x2ZXIgPSAnJztcbiAgICAgICAgdGhpcy5hcGlLZXkgPSAnJztcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJ2h0dHBzOi8vYW5pd2F2ZS50byc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL2Qxbnh6cXBjZzJieW0wLmNsb3VkZnJvbnQubmV0L2dvb2dsZV9wbGF5L2NvbS5teS5uaW5lYW5pbWUvODdiMmZlNDgtOWMzNi0xMWViLTgyOTItMjEyNDFiMWMxOTliLzEyOHgxMjgnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdBTklNRS5OaW5lQW5pbWUnO1xuICAgICAgICB0aGlzLmlzV29ya2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5pbmVBbmltZVJlc29sdmVyID0gbmluZUFuaW1lUmVzb2x2ZXIgIT09IG51bGwgJiYgbmluZUFuaW1lUmVzb2x2ZXIgIT09IHZvaWQgMCA/IG5pbmVBbmltZVJlc29sdmVyIDogdGhpcy5uaW5lQW5pbWVSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXkgIT09IG51bGwgJiYgYXBpS2V5ICE9PSB2b2lkIDAgPyBhcGlLZXkgOiB0aGlzLmFwaUtleTtcbiAgICB9XG4gICAgYXN5bmMgc2VhcmNoKHF1ZXJ5LCBwYWdlID0gMSkge1xuICAgICAgICBjb25zdCBzZWFyY2hSZXN1bHQgPSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdnJmID0gYXdhaXQgdGhpcy5zZWFyY2hWcmYocXVlcnkpO1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vZmlsdGVyP2tleXdvcmQ9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpLnJlcGxhY2UoLyUyMC9nLCAnKycpfSZ2cmY9JHtlbmNvZGVVUklDb21wb25lbnQodnJmKX0mcGFnZT0ke3BhZ2V9YCk7XG4gICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShyZXMuZGF0YSk7XG4gICAgICAgICAgICBzZWFyY2hSZXN1bHQuaGFzTmV4dFBhZ2UgPVxuICAgICAgICAgICAgICAgICQoYHVsLnBhZ2luYXRpb25gKS5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgID8gJCgndWwucGFnaW5hdGlvbiA+IGxpJykubGFzdCgpLmhhc0NsYXNzKCdkaXNhYmxlZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgICAgICQoJyNsaXN0LWl0ZW1zID4gZGl2Lml0ZW0nKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKCQoZWwpLmZpbmQoJ2RpdiA+IGRpdi5hbmkgPiBhID4gZGl2Lm1ldGEgPiBkaXYgPiBkaXYucmlnaHQnKS50ZXh0KCkudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ01PVklFJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5NT1ZJRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdUVic6XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuVFY7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnT1ZBJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5PVkE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnU1BFQ0lBTCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuU1BFQ0lBTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdPTkEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0Lk9OQTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdNVVNJQyc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuTVVTSUM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0LnJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdkaXYgPiBkaXYuYW5pID4gYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KCcvJylbMl0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdkaXYgPiBkaXYuaW5mbyA+IGRpdi5iMSA+IGEnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnZGl2ID4gZGl2LmFuaSA+IGEnKS5hdHRyKCdocmVmJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWwpLmZpbmQoJ2RpdiA+IGRpdi5hbmkgPiBhID4gaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGhhc1N1YjogJChlbCkuZmluZCgnZGl2ID4gZGl2LmFuaSA+IGEgLm1ldGEgLnN1YicpLmxlbmd0aCA+IDAsXG4gICAgICAgICAgICAgICAgICAgIGhhc0R1YjogJChlbCkuZmluZCgnZGl2ID4gZGl2LmFuaSA+IGEgLm1ldGEgLmR1YicpLmxlbmd0aCA+IDAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzZWFyY2hSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmZXRjaEFuaW1lSW5mbyhhbmltZVVybCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICBpZiAoIWFuaW1lVXJsLnN0YXJ0c1dpdGgodGhpcy5iYXNlVXJsKSlcbiAgICAgICAgICAgIGFuaW1lVXJsID0gYCR7dGhpcy5iYXNlVXJsfS93YXRjaC8ke2FuaW1lVXJsfWA7XG4gICAgICAgIGNvbnN0IGFuaW1lSW5mbyA9IHtcbiAgICAgICAgICAgIGlkOiAnJyxcbiAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIHVybDogYW5pbWVVcmwsXG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYW5pbWVVcmwpO1xuICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzLmRhdGEpO1xuICAgICAgICAgICAgYW5pbWVJbmZvLmlkID0gbmV3IFVSTChgJHt0aGlzLmJhc2VVcmx9L2FuaW1lVXJsYCkucGF0aG5hbWUuc3BsaXQoJy8nKVsyXTtcbiAgICAgICAgICAgIGFuaW1lSW5mby50aXRsZSA9ICQoJ2gxLnRpdGxlJykudGV4dCgpO1xuICAgICAgICAgICAgYW5pbWVJbmZvLmpwVGl0bGUgPSAkKCdoMS50aXRsZScpLmF0dHIoJ2RhdGEtanAnKTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5nZW5yZXMgPSBBcnJheS5mcm9tKCQoJ2Rpdi5tZXRhOm50aC1jaGlsZCgxKSA+IGRpdjpudGgtY2hpbGQoNSkgPiBzcGFuID4gYScpLm1hcCgoaSwgZWwpID0+ICQoZWwpLnRleHQoKSkpO1xuICAgICAgICAgICAgYW5pbWVJbmZvLmltYWdlID0gJCgnLmJpbmZvID4gZGl2LnBvc3RlciA+IHNwYW4gPiBpbWcnKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5kZXNjcmlwdGlvbiA9IChfYSA9ICQoJy5jb250ZW50JykudGV4dCgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHJpbSgpO1xuICAgICAgICAgICAgc3dpdGNoICgkKCdkaXYubWV0YTpudGgtY2hpbGQoMSkgPiBkaXY6bnRoLWNoaWxkKDEpID4gc3BhbjpudGgtY2hpbGQoMSkgPiBhJykudGV4dCgpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnTU9WSUUnOlxuICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8udHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0Lk1PVklFO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdUVic6XG4gICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby50eXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuVFY7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ09WQSc6XG4gICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby50eXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuT1ZBO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdTUEVDSUFMJzpcbiAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5TUEVDSUFMO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdPTkEnOlxuICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8udHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0Lk9OQTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnTVVTSUMnOlxuICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8udHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0Lk1VU0lDO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFuaW1lSW5mby5zdHVkaW9zID0gQXJyYXkuZnJvbSgkKCdkaXYubWV0YTpudGgtY2hpbGQoMSkgPiBkaXY6bnRoLWNoaWxkKDIpID4gc3BhbjpudGgtY2hpbGQoMSkgPiBhJykubWFwKChpLCBlbCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSAkKGVsKS50ZXh0KCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50cmltKCk7IH0pKTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5yZWxlYXNlRGF0ZSA9IChfYiA9ICQoJ2Rpdi5tZXRhOm50aC1jaGlsZCgxKSA+IGRpdjpudGgtY2hpbGQoMykgPiBzcGFuOm50aC1jaGlsZCgxKScpXG4gICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAuc3BsaXQoJ3RvJylbMF0pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50cmltKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKChfYyA9ICQoJ2Rpdi5tZXRhOm50aC1jaGlsZCgxKSA+IGRpdjpudGgtY2hpbGQoNCkgPiBzcGFuOm50aC1jaGlsZCgxKScpLnRleHQoKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ1JlbGVhc2luZyc6XG4gICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdDb21wbGV0ZWQnOlxuICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdDYW5jZWxsZWQnOlxuICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ0FOQ0VMTEVEO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdVbmtub3duJzpcbiAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV047XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5VTktOT1dOO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFuaW1lSW5mby5zY29yZSA9IHBhcnNlRmxvYXQoKF9kID0gJCgnLmJtZXRhID4gZGl2Om50aC1jaGlsZCgyKSA+IGRpdjpudGgtY2hpbGQoMikgPiBzcGFuOm50aC1jaGlsZCgxKScpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudGV4dCgpLnNwbGl0KCdieScpWzBdKTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5wcmVtaWVyZWQgPSAkKCcuYm1ldGEgPiBkaXY6bnRoLWNoaWxkKDIpID4gZGl2Om50aC1jaGlsZCgzKSA+IHNwYW46bnRoLWNoaWxkKDEpID4gYTpudGgtY2hpbGQoMSknKS50ZXh0KCk7XG4gICAgICAgICAgICBhbmltZUluZm8uZHVyYXRpb24gPSAkKCcuYm1ldGEgPiBkaXY6bnRoLWNoaWxkKDIpID4gZGl2Om50aC1jaGlsZCg0KSA+IHNwYW46bnRoLWNoaWxkKDEpJykudGV4dCgpO1xuICAgICAgICAgICAgYW5pbWVJbmZvLnZpZXdzID0gcGFyc2VJbnQoJCgnLmJtZXRhID4gZGl2Om50aC1jaGlsZCgyKSA+IGRpdjpudGgtY2hpbGQoNSkgPiBzcGFuOm50aC1jaGlsZCgxKScpXG4gICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgIC5zcGxpdCgnYnknKVxuICAgICAgICAgICAgICAgIC5qb2luKCcnKVxuICAgICAgICAgICAgICAgIC5zcGxpdCgnLCcpXG4gICAgICAgICAgICAgICAgLmpvaW4oJycpXG4gICAgICAgICAgICAgICAgLnRyaW0oKSk7XG4gICAgICAgICAgICBhbmltZUluZm8ub3RoZXJOYW1lcyA9ICQoJy5uYW1lcycpXG4gICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgIC5zcGxpdCgnOyAnKVxuICAgICAgICAgICAgICAgIC5tYXAobmFtZSA9PiBuYW1lID09PSBudWxsIHx8IG5hbWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5hbWUudHJpbSgpKTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5oYXNTdWIgPSAkKCdkaXYjdy1pbmZvID4gLmJpbmZvID4gLmluZm8gPiAubWV0YSAuc3ViJykubGVuZ3RoID09IDE7XG4gICAgICAgICAgICBhbmltZUluZm8uaGFzRHViID0gJCgnZGl2I3ctaW5mbyA+IC5iaW5mbyA+IC5pbmZvID4gLm1ldGEgLmR1YicpLmxlbmd0aCA9PSAxO1xuICAgICAgICAgICAgY29uc3QgaWQgPSAkKCcjd2F0Y2gtbWFpbicpLmF0dHIoJ2RhdGEtaWQnKTtcbiAgICAgICAgICAgIGNvbnN0IHZyZiA9IGF3YWl0IHRoaXMuZXYoaWQpO1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhOiB7IHJlc3VsdCB9LCB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vYWpheC9lcGlzb2RlL2xpc3QvJHtpZH0/dnJmPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHZyZil9YCk7XG4gICAgICAgICAgICBjb25zdCAkJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzdWx0KTtcbiAgICAgICAgICAgIGFuaW1lSW5mby50b3RhbEVwaXNvZGVzID0gJCQoJ2Rpdi5lcGlzb2RlcyA+IHVsID4gbGkgPiBhJykubGVuZ3RoO1xuICAgICAgICAgICAgYW5pbWVJbmZvLmVwaXNvZGVzID0gW107XG4gICAgICAgICAgICBjb25zdCBlcGlzb2RlcyA9IFtdO1xuICAgICAgICAgICAgJCQoJ2Rpdi5lcGlzb2RlcyA+IHVsID4gbGkgPiBhJykubWFwKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICQkKGVsKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NzaWJsZUlkcyA9IChfYSA9ICQkKGVsKS5hdHRyKCdkYXRhLWlkcycpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3BsaXQoJywnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtYmVyID0gcGFyc2VJbnQoKF9iID0gJCQoZWwpLmF0dHIoJ2RhdGEtbnVtJykpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSAkJChlbCkuZmluZCgnc3BhbicpLnRleHQoKS5sZW5ndGggPiAwID8gJCQoZWwpLmZpbmQoJ3NwYW4nKS50ZXh0KCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRmlsbGVyID0gJCQoZWwpLmhhc0NsYXNzKCdmaWxsZXInKTtcbiAgICAgICAgICAgICAgICAgICAgZXBpc29kZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogcG9zc2libGVJZHNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkdWJJZDogcG9zc2libGVJZHNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRmlsbGVyOiBpc0ZpbGxlcixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAoX2UgPSBhbmltZUluZm8uZXBpc29kZXMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5wdXNoKC4uLmVwaXNvZGVzKTtcbiAgICAgICAgICAgIHJldHVybiBhbmltZUluZm87XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZmV0Y2hFcGlzb2RlU291cmNlcyhlcGlzb2RlSWQsIHNlcnZlciA9IG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVml6Q2xvdWQpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIGlmIChlcGlzb2RlSWQuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJ2ZXJVcmwgPSBuZXcgVVJMKGVwaXNvZGVJZCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHNlcnZlcikge1xuICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5TdHJlYW1UYXBlOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwuaHJlZiwgJ1VzZXItQWdlbnQnOiB1dGlsc18xLlVTRVJfQUdFTlQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuU3RyZWFtVGFwZSgpLmV4dHJhY3Qoc2VydmVyVXJsKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVml6Q2xvdWQ6XG4gICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlZpZENsb3VkOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwuaHJlZiwgJ1VzZXItQWdlbnQnOiB1dGlsc18xLlVTRVJfQUdFTlQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuVml6Q2xvdWQoKS5leHRyYWN0KHNlcnZlclVybCwgdGhpcy5uaW5lQW5pbWVSZXNvbHZlciwgdGhpcy5hcGlLZXkpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5NeUNsb3VkOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwuaHJlZiwgJ1VzZXItQWdlbnQnOiB1dGlsc18xLlVTRVJfQUdFTlQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuVml6Q2xvdWQoKS5leHRyYWN0KHNlcnZlclVybCwgdGhpcy5uaW5lQW5pbWVSZXNvbHZlciwgdGhpcy5hcGlLZXkpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5GaWxlbW9vbjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLmhyZWYsICdVc2VyLUFnZW50JzogdXRpbHNfMS5VU0VSX0FHRU5UIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBhd2FpdCBuZXcgZXh0cmFjdG9yc18xLkZpbGVtb29uKCkuZXh0cmFjdChzZXJ2ZXJVcmwpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2VydmVyIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc2VydmVycyA9IGF3YWl0IHRoaXMuZmV0Y2hFcGlzb2RlU2VydmVycyhlcGlzb2RlSWQpO1xuICAgICAgICAgICAgbGV0IHMgPSBzZXJ2ZXJzLmZpbmQocyA9PiBzLm5hbWUgPT09IHNlcnZlcik7XG4gICAgICAgICAgICBzd2l0Y2ggKHNlcnZlcikge1xuICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5WaXpDbG91ZDpcbiAgICAgICAgICAgICAgICAgICAgcyA9IHNlcnZlcnMuZmluZChzID0+IHMubmFtZSA9PT0gJ3ZpZHN0cmVhbScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXMpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZpZHN0cmVhbSBzZXJ2ZXIgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlN0cmVhbVRhcGU6XG4gICAgICAgICAgICAgICAgICAgIHMgPSBzZXJ2ZXJzLmZpbmQocyA9PiBzLm5hbWUgPT09ICdzdHJlYW10YXBlJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3RyZWFtdGFwZSBzZXJ2ZXIgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLk15Q2xvdWQ6XG4gICAgICAgICAgICAgICAgICAgIHMgPSBzZXJ2ZXJzLmZpbmQocyA9PiBzLm5hbWUgPT09ICdteWNsb3VkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTXljbG91ZCBzZXJ2ZXIgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLkZpbGVtb29uOlxuICAgICAgICAgICAgICAgICAgICBzID0gc2VydmVycy5maW5kKHMgPT4gcy5uYW1lID09PSAnZmlsZW1vb24nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaWxlbW9vbiBzZXJ2ZXIgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZXJ2ZXIgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXJ2ZXJWcmYgPSAoYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMubmluZUFuaW1lUmVzb2x2ZXJ9L3ZyZj9xdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChzLnVybCl9JmFwaWtleT0ke3RoaXMuYXBpS2V5fWApKS5kYXRhLnVybDtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlclNvdXJjZSA9IChhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9hamF4L3NlcnZlci8ke3MudXJsfT92cmY9JHtlbmNvZGVVUklDb21wb25lbnQoc2VydmVyVnJmKX1gKSkuZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGVtYmVkVVJMID0gKGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLm5pbmVBbmltZVJlc29sdmVyfS9kZWNyeXB0P3F1ZXJ5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHNlcnZlclNvdXJjZS5yZXN1bHQudXJsKX0mYXBpa2V5PSR7dGhpcy5hcGlLZXl9YCkpLmRhdGEudXJsO1xuICAgICAgICAgICAgaWYgKGVtYmVkVVJMLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzKGVtYmVkVVJMLCBzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmVtYmVkVVJMID0gZW1iZWRVUkw7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuaW50cm8gPSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiAoX2MgPSAoX2IgPSAoX2EgPSBzZXJ2ZXJTb3VyY2UgPT09IG51bGwgfHwgc2VydmVyU291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZXJ2ZXJTb3VyY2UucmVzdWx0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2tpcF9kYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW50cm9fYmVnaW4pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IDAsXG4gICAgICAgICAgICAgICAgICAgIGVuZDogKF9mID0gKF9lID0gKF9kID0gc2VydmVyU291cmNlID09PSBudWxsIHx8IHNlcnZlclNvdXJjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VydmVyU291cmNlLnJlc3VsdCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnNraXBfZGF0YSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmludHJvX2VuZCkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogMCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2VydmVyIGRpZCBub3QgcmVzcG9uZCBjb3JyZWN0bHknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZldGNoRXBpc29kZVNlcnZlcnMoZXBpc29kZUlkKSB7XG4gICAgICAgIGlmICghZXBpc29kZUlkLnN0YXJ0c1dpdGgodGhpcy5iYXNlVXJsKSlcbiAgICAgICAgICAgIGVwaXNvZGVJZCA9IGAke3RoaXMuYmFzZVVybH0vYWpheC9zZXJ2ZXIvbGlzdC8ke2VwaXNvZGVJZH0/dnJmPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGF3YWl0IHRoaXMuZXYoZXBpc29kZUlkKSl9YDtcbiAgICAgICAgY29uc3QgeyBkYXRhOiB7IHJlc3VsdCB9LCB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGVwaXNvZGVJZCk7XG4gICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKHJlc3VsdCk7XG4gICAgICAgIGNvbnN0IHNlcnZlcnMgPSBbXTtcbiAgICAgICAgJCgnLnR5cGUgPiB1bCA+IGxpJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlcklkID0gJChlbCkuYXR0cignZGF0YS1saW5rLWlkJyk7XG4gICAgICAgICAgICBzZXJ2ZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6ICQoZWwpLnRleHQoKS50b0xvY2FsZUxvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgIHVybDogYCR7c2VydmVySWR9YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlcnZlcnM7XG4gICAgfVxuICAgIGFzeW5jIGV2KHF1ZXJ5LCByYXcgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLm5pbmVBbmltZVJlc29sdmVyfS92cmY/cXVlcnk9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfSZhcGlrZXk9JHt0aGlzLmFwaUtleX1gKTtcbiAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS51cmw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgc2VhcmNoVnJmKHF1ZXJ5LCByYXcgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLm5pbmVBbmltZVJlc29sdmVyfS85YW5pbWUtc2VhcmNoP3F1ZXJ5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX0mYXBpa2V5PSR7dGhpcy5hcGlLZXl9YCk7XG4gICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudXJsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGRlY3J5cHQocXVlcnksIHJhdyA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMubmluZUFuaW1lUmVzb2x2ZXJ9L2RlY3J5cHQ/cXVlcnk9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfSZhcGlrZXk9JHt0aGlzLmFwaUtleX1gKTtcbiAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS51cmw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgdml6Y2xvdWQocXVlcnkpIHtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5uaW5lQW5pbWVSZXNvbHZlcn0vdml6Y2xvdWQ/cXVlcnk9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfSZhcGlrZXk9JHt0aGlzLmFwaUtleX1gKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGFzeW5jIGN1c3RvbVJlcXVlc3QocXVlcnksIGFjdGlvbikge1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLm5pbmVBbmltZVJlc29sdmVyfS8ke2FjdGlvbn0/cXVlcnk9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfSZhcGlrZXk9JHt0aGlzLmFwaUtleX1gKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxufVxuLy8gKGFzeW5jICgpID0+IHtcbi8vICAgLy8gY29uc3QgbmluZUFuaW1lID0gbmV3IE5pbmVBbmltZSgpO1xuLy8gICAvLyBjb25zdCBzZWFyY2hSZXN1bHRzID0gYXdhaXQgbmluZUFuaW1lLnNlYXJjaCgnYXR0YWNrIG9uIHRpdGFuJyk7XG4vLyAgIC8vIGNvbnN0IGFuaW1lSW5mbyA9IGF3YWl0IG5pbmVBbmltZS5mZXRjaEFuaW1lSW5mbygnc2hhZG93dmVyc2UtZmxhbWUucmxqcW4nKTtcbi8vICAgLy8gQHRzLWlnbm9yZVxuLy8gICAvLyBjb25zdCBlcGlzb2RlU291cmNlcyA9IGF3YWl0IG5pbmVBbmltZS5mZXRjaEVwaXNvZGVTb3VyY2VzKFwiYWI2OFwiLCBcImRlY3J5cHRcIik7XG4vLyAgIC8vIGNvbnNvbGUubG9nKGF3YWl0IG5pbmVBbmltZS52aXpjbG91ZChcIkxOUEVLOFEwUVBYV1wiKSk7XG4vLyAgIC8vIGNvbnNvbGUubG9nKGF3YWl0IG5pbmVBbmltZS5kZWNyeXB0KFwiYWI2L1wiLCB0cnVlKSk7XG4vLyAgIC8vIGNvbnNvbGUubG9nKGF3YWl0IG5pbmVBbmltZS5jdXN0b21SZXF1ZXN0KFwiTE5QRUs4UTBRUFhXXCIsIFwiOWFuaW1lLXNlYXJjaFwiKSk7XG4vLyB9KSgpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTmluZUFuaW1lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9OWFuaW1lLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/9anime.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/anify.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/anify.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils/utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/utils.js\");\nclass Anify extends models_1.AnimeParser {\n    constructor(proxyConfig, adapter, providerId = 'gogoanime') {\n        super(proxyConfig, adapter);\n        this.proxyConfig = proxyConfig;\n        this.adapter = adapter;\n        this.providerId = providerId;\n        this.name = 'Anify';\n        this.baseUrl = utils_1.ANIFY_URL;\n        this.classPath = 'ANIME.Anify';\n        this.actions = {\n            gogoanime: {\n                format: (episodeId) => `/${episodeId}`,\n                unformat: (episodeId) => episodeId.replace('/', ''),\n            },\n            zoro: {\n                format: (episodeId) => `watch/${episodeId.replace('$episode$', '?ep=')}`,\n                unformat: (episodeId) => episodeId.replace('?ep=', '$episode$').split('watch/')[1] + '$sub',\n            },\n            animepahe: {\n                format: (episodeId) => episodeId,\n                unformat: (episodeId) => episodeId,\n            },\n            '9anime': {\n                format: (episodeId) => episodeId,\n                unformat: (episodeId) => episodeId,\n            },\n        };\n        /**\n         * @param query Search query\n         * @param page Page number (optional)\n         */\n        this.rawSearch = async (query, page = 1) => {\n            const { data } = await this.client.get(`${this.baseUrl}/search/anime/${query}?page=${page}`);\n            return data.results;\n        };\n        /**\n         * @param query Search query\n         * @param page Page number (optional)\n         */\n        this.search = async (query, page = 1) => {\n            const res = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            const { data } = await this.client.get(`${this.baseUrl}/search-advanced?type=anime&query=${query}&page=${page}`);\n            if (data.currentPage !== res.currentPage)\n                res.hasNextPage = true;\n            res.results = data === null || data === void 0 ? void 0 : data.results.map((anime) => {\n                var _a, _b;\n                return ({\n                    id: anime.id,\n                    anilistId: anime.id,\n                    title: (_b = (_a = anime.title.english) !== null && _a !== void 0 ? _a : anime.title.romaji) !== null && _b !== void 0 ? _b : anime.title.native,\n                    image: anime.coverImage,\n                    cover: anime.bannerImage,\n                    releaseDate: anime.year,\n                    description: anime.description,\n                    genres: anime.genres,\n                    rating: anime.rating.anilist,\n                    status: anime.status,\n                    mappings: anime.mappings,\n                    type: anime.type,\n                });\n            });\n            return res;\n        };\n        /**\n         * @param id Anime id\n         */\n        this.fetchAnimeInfo = async (id) => {\n            var _a, _b;\n            const animeInfo = {\n                id: id,\n                title: '',\n            };\n            const { data } = await this.client.get(`${this.baseUrl}/info/${id}`).catch(() => {\n                throw new Error('Anime not found. Please use a valid id!');\n            });\n            animeInfo.anilistId = data.id;\n            animeInfo.title = (_b = (_a = data.title.english) !== null && _a !== void 0 ? _a : data.title.romaji) !== null && _b !== void 0 ? _b : data.title.native;\n            animeInfo.image = data.coverImage;\n            animeInfo.cover = data.bannerImage;\n            animeInfo.season = data.season;\n            animeInfo.releaseDate = data.year;\n            animeInfo.duration = data.duration;\n            animeInfo.popularity = data.popularity.anilist;\n            animeInfo.description = data.description;\n            animeInfo.genres = data.genres;\n            animeInfo.rating = data.rating.anilist;\n            animeInfo.status = data.status;\n            animeInfo.synonyms = data.synonyms;\n            animeInfo.mappings = data.mappings;\n            animeInfo.type = data.type;\n            animeInfo.artwork = data.artwork;\n            const providerData = data.episodes.data.filter((e) => e.providerId === this.providerId)[0];\n            animeInfo.episodes = providerData.episodes.map((episode) => ({\n                id: this.actions[this.providerId].unformat(episode.id),\n                number: episode.number,\n                isFiller: episode.isFiller,\n                title: episode.title,\n                description: episode.description,\n                image: episode.img,\n                rating: episode.rating,\n            }));\n            return animeInfo;\n        };\n        this.fetchAnimeInfoByIdRaw = async (id) => {\n            const { data } = await this.client.get(`${this.baseUrl}/info/${id}`).catch(err => {\n                throw new Error(\"Backup api seems to be down! Can't fetch anime info\");\n            });\n            return data;\n        };\n        /**\n         * @param id anilist id\n         */\n        this.fetchAnimeInfoByAnilistId = async (id, providerId = 'gogoanime') => {\n            var _a, _b;\n            const animeInfo = {\n                id: id,\n                title: '',\n            };\n            const { data } = await this.client.get(`${this.baseUrl}/media?providerId=${providerId}&id=${id}`);\n            animeInfo.anilistId = data.id;\n            animeInfo.title = (_b = (_a = data.title.english) !== null && _a !== void 0 ? _a : data.title.romaji) !== null && _b !== void 0 ? _b : data.title.native;\n            animeInfo.image = data.coverImage;\n            animeInfo.cover = data.bannerImage;\n            animeInfo.season = data.season;\n            animeInfo.releaseDate = data.year;\n            animeInfo.duration = data.duration;\n            animeInfo.popularity = data.popularity.anilist;\n            animeInfo.description = data.description;\n            animeInfo.genres = data.genres;\n            animeInfo.rating = data.rating.anilist;\n            animeInfo.status = data.status;\n            animeInfo.synonyms = data.synonyms;\n            animeInfo.mappings = data.mappings;\n            animeInfo.type = data.type;\n            animeInfo.artwork = data.artwork;\n            const providerData = data.episodes.data.filter((e) => e.providerId === this.providerId)[0];\n            animeInfo.episodes = providerData.episodes.map((episode) => ({\n                id: this.actions[this.providerId].unformat(episode.id),\n                number: episode.number,\n                isFiller: episode.isFiller,\n                title: episode.title,\n                description: episode.description,\n                image: episode.img,\n                rating: episode.rating,\n            }));\n            return animeInfo;\n        };\n        this.fetchEpisodeSources = async (episodeId, episodeNumber, id) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/sources?providerId=${this.providerId}&watchId=${this.actions[this.providerId].format(episodeId)}&episodeNumber=${episodeNumber}&id=${id}&subType=sub`);\n                return data;\n            }\n            catch (err) {\n                throw new Error('Episode not found!\\n' + err);\n            }\n        };\n    }\n    /**\n     * @deprecated\n     */\n    fetchEpisodeServers(episodeId) {\n        throw new Error('Method not implemented.');\n    }\n}\nexports[\"default\"] = Anify;\n// (async () => {\n//   const anify = new Anify();\n//   const res = await anify.fetchAnimeInfo('1');\n//   console.log(res);\n//   const souces = await anify.fetchEpisodeSources(res.episodes![0].id, 1, 1);\n//   console.log(souces);\n// })();\n//# sourceMappingURL=anify.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvYW5pZnkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkMsZ0JBQWdCLG1CQUFPLENBQUMsd0ZBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsVUFBVTtBQUNyRDtBQUNBLGFBQWE7QUFDYjtBQUNBLGdEQUFnRCx1Q0FBdUM7QUFDdkY7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTywyQkFBMkIsYUFBYSxnQkFBZ0IsTUFBTSxRQUFRLEtBQUs7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU8sMkJBQTJCLGFBQWEsb0NBQW9DLE1BQU0sUUFBUSxLQUFLO0FBQzFIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTywyQkFBMkIsYUFBYSxRQUFRLEdBQUc7QUFDOUU7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU8sMkJBQTJCLGFBQWEsUUFBUSxHQUFHO0FBQzlFO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTywyQkFBMkIsYUFBYSxvQkFBb0IsV0FBVyxNQUFNLEdBQUc7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxzQkFBc0IsZ0JBQWdCLFdBQVcsZ0RBQWdELGlCQUFpQixjQUFjLE1BQU0sR0FBRztBQUNoTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0oiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcYW5pbWVcXGFuaWZ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcbmNsYXNzIEFuaWZ5IGV4dGVuZHMgbW9kZWxzXzEuQW5pbWVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKHByb3h5Q29uZmlnLCBhZGFwdGVyLCBwcm92aWRlcklkID0gJ2dvZ29hbmltZScpIHtcbiAgICAgICAgc3VwZXIocHJveHlDb25maWcsIGFkYXB0ZXIpO1xuICAgICAgICB0aGlzLnByb3h5Q29uZmlnID0gcHJveHlDb25maWc7XG4gICAgICAgIHRoaXMuYWRhcHRlciA9IGFkYXB0ZXI7XG4gICAgICAgIHRoaXMucHJvdmlkZXJJZCA9IHByb3ZpZGVySWQ7XG4gICAgICAgIHRoaXMubmFtZSA9ICdBbmlmeSc7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9IHV0aWxzXzEuQU5JRllfVVJMO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdBTklNRS5BbmlmeSc7XG4gICAgICAgIHRoaXMuYWN0aW9ucyA9IHtcbiAgICAgICAgICAgIGdvZ29hbmltZToge1xuICAgICAgICAgICAgICAgIGZvcm1hdDogKGVwaXNvZGVJZCkgPT4gYC8ke2VwaXNvZGVJZH1gLFxuICAgICAgICAgICAgICAgIHVuZm9ybWF0OiAoZXBpc29kZUlkKSA9PiBlcGlzb2RlSWQucmVwbGFjZSgnLycsICcnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB6b3JvOiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiAoZXBpc29kZUlkKSA9PiBgd2F0Y2gvJHtlcGlzb2RlSWQucmVwbGFjZSgnJGVwaXNvZGUkJywgJz9lcD0nKX1gLFxuICAgICAgICAgICAgICAgIHVuZm9ybWF0OiAoZXBpc29kZUlkKSA9PiBlcGlzb2RlSWQucmVwbGFjZSgnP2VwPScsICckZXBpc29kZSQnKS5zcGxpdCgnd2F0Y2gvJylbMV0gKyAnJHN1YicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW5pbWVwYWhlOiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiAoZXBpc29kZUlkKSA9PiBlcGlzb2RlSWQsXG4gICAgICAgICAgICAgICAgdW5mb3JtYXQ6IChlcGlzb2RlSWQpID0+IGVwaXNvZGVJZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnOWFuaW1lJzoge1xuICAgICAgICAgICAgICAgIGZvcm1hdDogKGVwaXNvZGVJZCkgPT4gZXBpc29kZUlkLFxuICAgICAgICAgICAgICAgIHVuZm9ybWF0OiAoZXBpc29kZUlkKSA9PiBlcGlzb2RlSWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHF1ZXJ5IFNlYXJjaCBxdWVyeVxuICAgICAgICAgKiBAcGFyYW0gcGFnZSBQYWdlIG51bWJlciAob3B0aW9uYWwpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhd1NlYXJjaCA9IGFzeW5jIChxdWVyeSwgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vc2VhcmNoL2FuaW1lLyR7cXVlcnl9P3BhZ2U9JHtwYWdlfWApO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEucmVzdWx0cztcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSBTZWFyY2ggcXVlcnlcbiAgICAgICAgICogQHBhcmFtIHBhZ2UgUGFnZSBudW1iZXIgKG9wdGlvbmFsKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocXVlcnksIHBhZ2UgPSAxKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vc2VhcmNoLWFkdmFuY2VkP3R5cGU9YW5pbWUmcXVlcnk9JHtxdWVyeX0mcGFnZT0ke3BhZ2V9YCk7XG4gICAgICAgICAgICBpZiAoZGF0YS5jdXJyZW50UGFnZSAhPT0gcmVzLmN1cnJlbnRQYWdlKVxuICAgICAgICAgICAgICAgIHJlcy5oYXNOZXh0UGFnZSA9IHRydWU7XG4gICAgICAgICAgICByZXMucmVzdWx0cyA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5yZXN1bHRzLm1hcCgoYW5pbWUpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICBpZDogYW5pbWUuaWQsXG4gICAgICAgICAgICAgICAgICAgIGFuaWxpc3RJZDogYW5pbWUuaWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAoX2IgPSAoX2EgPSBhbmltZS50aXRsZS5lbmdsaXNoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBhbmltZS50aXRsZS5yb21hamkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGFuaW1lLnRpdGxlLm5hdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGFuaW1lLmNvdmVySW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgIGNvdmVyOiBhbmltZS5iYW5uZXJJbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IGFuaW1lLnllYXIsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBhbmltZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZ2VucmVzOiBhbmltZS5nZW5yZXMsXG4gICAgICAgICAgICAgICAgICAgIHJhdGluZzogYW5pbWUucmF0aW5nLmFuaWxpc3QsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogYW5pbWUuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBtYXBwaW5nczogYW5pbWUubWFwcGluZ3MsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGFuaW1lLnR5cGUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gaWQgQW5pbWUgaWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hBbmltZUluZm8gPSBhc3luYyAoaWQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBjb25zdCBhbmltZUluZm8gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2luZm8vJHtpZH1gKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbmltZSBub3QgZm91bmQuIFBsZWFzZSB1c2UgYSB2YWxpZCBpZCEnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYW5pbWVJbmZvLmFuaWxpc3RJZCA9IGRhdGEuaWQ7XG4gICAgICAgICAgICBhbmltZUluZm8udGl0bGUgPSAoX2IgPSAoX2EgPSBkYXRhLnRpdGxlLmVuZ2xpc2gpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRhdGEudGl0bGUucm9tYWppKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBkYXRhLnRpdGxlLm5hdGl2ZTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5pbWFnZSA9IGRhdGEuY292ZXJJbWFnZTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5jb3ZlciA9IGRhdGEuYmFubmVySW1hZ2U7XG4gICAgICAgICAgICBhbmltZUluZm8uc2Vhc29uID0gZGF0YS5zZWFzb247XG4gICAgICAgICAgICBhbmltZUluZm8ucmVsZWFzZURhdGUgPSBkYXRhLnllYXI7XG4gICAgICAgICAgICBhbmltZUluZm8uZHVyYXRpb24gPSBkYXRhLmR1cmF0aW9uO1xuICAgICAgICAgICAgYW5pbWVJbmZvLnBvcHVsYXJpdHkgPSBkYXRhLnBvcHVsYXJpdHkuYW5pbGlzdDtcbiAgICAgICAgICAgIGFuaW1lSW5mby5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XG4gICAgICAgICAgICBhbmltZUluZm8uZ2VucmVzID0gZGF0YS5nZW5yZXM7XG4gICAgICAgICAgICBhbmltZUluZm8ucmF0aW5nID0gZGF0YS5yYXRpbmcuYW5pbGlzdDtcbiAgICAgICAgICAgIGFuaW1lSW5mby5zdGF0dXMgPSBkYXRhLnN0YXR1cztcbiAgICAgICAgICAgIGFuaW1lSW5mby5zeW5vbnltcyA9IGRhdGEuc3lub255bXM7XG4gICAgICAgICAgICBhbmltZUluZm8ubWFwcGluZ3MgPSBkYXRhLm1hcHBpbmdzO1xuICAgICAgICAgICAgYW5pbWVJbmZvLnR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgICAgICBhbmltZUluZm8uYXJ0d29yayA9IGRhdGEuYXJ0d29yaztcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyRGF0YSA9IGRhdGEuZXBpc29kZXMuZGF0YS5maWx0ZXIoKGUpID0+IGUucHJvdmlkZXJJZCA9PT0gdGhpcy5wcm92aWRlcklkKVswXTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5lcGlzb2RlcyA9IHByb3ZpZGVyRGF0YS5lcGlzb2Rlcy5tYXAoKGVwaXNvZGUpID0+ICh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuYWN0aW9uc1t0aGlzLnByb3ZpZGVySWRdLnVuZm9ybWF0KGVwaXNvZGUuaWQpLFxuICAgICAgICAgICAgICAgIG51bWJlcjogZXBpc29kZS5udW1iZXIsXG4gICAgICAgICAgICAgICAgaXNGaWxsZXI6IGVwaXNvZGUuaXNGaWxsZXIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGVwaXNvZGUudGl0bGUsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGVwaXNvZGUuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgaW1hZ2U6IGVwaXNvZGUuaW1nLFxuICAgICAgICAgICAgICAgIHJhdGluZzogZXBpc29kZS5yYXRpbmcsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gYW5pbWVJbmZvO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQW5pbWVJbmZvQnlJZFJhdyA9IGFzeW5jIChpZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9pbmZvLyR7aWR9YCkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCYWNrdXAgYXBpIHNlZW1zIHRvIGJlIGRvd24hIENhbid0IGZldGNoIGFuaW1lIGluZm9cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIGlkIGFuaWxpc3QgaWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hBbmltZUluZm9CeUFuaWxpc3RJZCA9IGFzeW5jIChpZCwgcHJvdmlkZXJJZCA9ICdnb2dvYW5pbWUnKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgY29uc3QgYW5pbWVJbmZvID0ge1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9tZWRpYT9wcm92aWRlcklkPSR7cHJvdmlkZXJJZH0maWQ9JHtpZH1gKTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5hbmlsaXN0SWQgPSBkYXRhLmlkO1xuICAgICAgICAgICAgYW5pbWVJbmZvLnRpdGxlID0gKF9iID0gKF9hID0gZGF0YS50aXRsZS5lbmdsaXNoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkYXRhLnRpdGxlLnJvbWFqaSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGF0YS50aXRsZS5uYXRpdmU7XG4gICAgICAgICAgICBhbmltZUluZm8uaW1hZ2UgPSBkYXRhLmNvdmVySW1hZ2U7XG4gICAgICAgICAgICBhbmltZUluZm8uY292ZXIgPSBkYXRhLmJhbm5lckltYWdlO1xuICAgICAgICAgICAgYW5pbWVJbmZvLnNlYXNvbiA9IGRhdGEuc2Vhc29uO1xuICAgICAgICAgICAgYW5pbWVJbmZvLnJlbGVhc2VEYXRlID0gZGF0YS55ZWFyO1xuICAgICAgICAgICAgYW5pbWVJbmZvLmR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbjtcbiAgICAgICAgICAgIGFuaW1lSW5mby5wb3B1bGFyaXR5ID0gZGF0YS5wb3B1bGFyaXR5LmFuaWxpc3Q7XG4gICAgICAgICAgICBhbmltZUluZm8uZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgYW5pbWVJbmZvLmdlbnJlcyA9IGRhdGEuZ2VucmVzO1xuICAgICAgICAgICAgYW5pbWVJbmZvLnJhdGluZyA9IGRhdGEucmF0aW5nLmFuaWxpc3Q7XG4gICAgICAgICAgICBhbmltZUluZm8uc3RhdHVzID0gZGF0YS5zdGF0dXM7XG4gICAgICAgICAgICBhbmltZUluZm8uc3lub255bXMgPSBkYXRhLnN5bm9ueW1zO1xuICAgICAgICAgICAgYW5pbWVJbmZvLm1hcHBpbmdzID0gZGF0YS5tYXBwaW5ncztcbiAgICAgICAgICAgIGFuaW1lSW5mby50eXBlID0gZGF0YS50eXBlO1xuICAgICAgICAgICAgYW5pbWVJbmZvLmFydHdvcmsgPSBkYXRhLmFydHdvcms7XG4gICAgICAgICAgICBjb25zdCBwcm92aWRlckRhdGEgPSBkYXRhLmVwaXNvZGVzLmRhdGEuZmlsdGVyKChlKSA9PiBlLnByb3ZpZGVySWQgPT09IHRoaXMucHJvdmlkZXJJZClbMF07XG4gICAgICAgICAgICBhbmltZUluZm8uZXBpc29kZXMgPSBwcm92aWRlckRhdGEuZXBpc29kZXMubWFwKChlcGlzb2RlKSA9PiAoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmFjdGlvbnNbdGhpcy5wcm92aWRlcklkXS51bmZvcm1hdChlcGlzb2RlLmlkKSxcbiAgICAgICAgICAgICAgICBudW1iZXI6IGVwaXNvZGUubnVtYmVyLFxuICAgICAgICAgICAgICAgIGlzRmlsbGVyOiBlcGlzb2RlLmlzRmlsbGVyLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBlcGlzb2RlLnRpdGxlLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBlcGlzb2RlLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIGltYWdlOiBlcGlzb2RlLmltZyxcbiAgICAgICAgICAgICAgICByYXRpbmc6IGVwaXNvZGUucmF0aW5nLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIGFuaW1lSW5mbztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzID0gYXN5bmMgKGVwaXNvZGVJZCwgZXBpc29kZU51bWJlciwgaWQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9zb3VyY2VzP3Byb3ZpZGVySWQ9JHt0aGlzLnByb3ZpZGVySWR9JndhdGNoSWQ9JHt0aGlzLmFjdGlvbnNbdGhpcy5wcm92aWRlcklkXS5mb3JtYXQoZXBpc29kZUlkKX0mZXBpc29kZU51bWJlcj0ke2VwaXNvZGVOdW1iZXJ9JmlkPSR7aWR9JnN1YlR5cGU9c3ViYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcGlzb2RlIG5vdCBmb3VuZCFcXG4nICsgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICBmZXRjaEVwaXNvZGVTZXJ2ZXJzKGVwaXNvZGVJZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gQW5pZnk7XG4vLyAoYXN5bmMgKCkgPT4ge1xuLy8gICBjb25zdCBhbmlmeSA9IG5ldyBBbmlmeSgpO1xuLy8gICBjb25zdCByZXMgPSBhd2FpdCBhbmlmeS5mZXRjaEFuaW1lSW5mbygnMScpO1xuLy8gICBjb25zb2xlLmxvZyhyZXMpO1xuLy8gICBjb25zdCBzb3VjZXMgPSBhd2FpdCBhbmlmeS5mZXRjaEVwaXNvZGVTb3VyY2VzKHJlcy5lcGlzb2RlcyFbMF0uaWQsIDEsIDEpO1xuLy8gICBjb25zb2xlLmxvZyhzb3VjZXMpO1xuLy8gfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuaWZ5LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/anify.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animedrive.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/animedrive.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst axios_1 = __importDefault(__webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/dist/node/axios.cjs\"));\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass AnimeDrive extends models_1.AnimeParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'AnimeDrive';\n        this.baseUrl = 'https://animedrive.hu';\n        this.logo = 'https://cdn.rcd.gg/PreMiD/websites/A/AnimeDrive/assets/logo.png';\n        this.classPath = 'ANIME.animedrive';\n        /**\n         * @param query Search query\n         * @param page Page number (optional)\n         */\n        this.search = async (query, page = 1) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/search/?q=${decodeURIComponent(query)}&p=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                const hasNextPage = $('.nk-pagination.nk-pagination-center > nav > a.nk-pagination-current-white').next('a').length > 0;\n                const searchResults = [];\n                $('div.row.row--grid .card')\n                    .slice(1)\n                    .each((i, el) => {\n                    var _a;\n                    const id = (_a = $(el)\n                        .find('div.card__content > h3.card__title > a')\n                        .attr('href')) === null || _a === void 0 ? void 0 : _a.replace('https://animedrive.hu/anime/?id=', '');\n                    const title = $(el).find('div.card__content > h3.card__title > a').text();\n                    const image = $(el).find('div.card__cover > div.nk-image-box-1-a > img').attr('src');\n                    const url = $(el).find('div.card__content > h3.card__title > a').attr('href');\n                    const subOrDub = 'sub'; // there is no hungarian dub for animes sadly\n                    if (id && title && image && url) {\n                        searchResults.push({ id, title, image, url, subOrDub });\n                    }\n                });\n                return {\n                    currentPage: page,\n                    hasNextPage: hasNextPage,\n                    results: searchResults,\n                };\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         * @param id Anime id\n         */\n        this.fetchAnimeInfo = async (id) => {\n            const info = {\n                id: id,\n                title: '',\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/anime/?id=${id}`);\n                const $ = (0, cheerio_1.load)(data);\n                info.title = $('div.col-sm-12.col-md-8.col-lg-9 > h2').text();\n                info.image = $('div.nk-image-box-1-a.col-12 > img').attr('src');\n                info.description = $('div.col-sm-12.col-md-8.col-lg-9 > p.col-12').text().trim();\n                const typeText = $('table.animeSpecs.left td:contains(\"TÍPUS:\")').next('td').text().trim();\n                info.type = this.parseType(typeText);\n                info.releaseYear = $('table.animeSpecs.left td:contains(\"KIADÁS:\")').next('td').text().trim();\n                const statusText = $('table.animeSpecs.left td:contains(\"STÁTUSZ:\")').next('td').text().trim();\n                info.status = this.parseStatus(statusText);\n                const totalEpisodesWithSlash = $('table.animeSpecs.right td:contains(\"RÉSZEK:\")')\n                    .next('td')\n                    .text()\n                    .trim();\n                const totalEpisodesWithoutSlash = totalEpisodesWithSlash.split('/')[0].trim();\n                info.totalEpisodes = parseInt(totalEpisodesWithoutSlash);\n                info.url = `${this.baseUrl}/anime/?id=${id}`;\n                info.episodes = [];\n                const episodes = Array.from({ length: info.totalEpisodes }, (_, i) => i + 1);\n                episodes.forEach((_, i) => {\n                    var _a;\n                    (_a = info.episodes) === null || _a === void 0 ? void 0 : _a.push({\n                        id: `?id=${id}&ep=${i + 1}`,\n                        number: i + 1,\n                        title: `${info.title} Episode ${i + 1}`,\n                        url: `${this.baseUrl}/watch/?id=${id}&ep=${i + 1}`,\n                    });\n                });\n                return info;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         * @param page Page number\n         */\n        this.fetchRecentEpisodes = async (page = 1) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/latest-added?page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                const hasNextPage = !$('.pagination > nav > ul > li').last().hasClass('disabled');\n                const recentEpisodes = [];\n                $('div.film_list-wrap > div').each((i, el) => {\n                    var _a;\n                    const id = (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/watch/', '');\n                    const image = $(el).find('div.film-poster > img').attr('data-src');\n                    const title = $(el).find('div.film-poster > img').attr('alt');\n                    const url = `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`;\n                    const episode = parseInt($(el).find('div.tick-eps').text().replace('EP ', '').split('/')[0]);\n                    if (id && image && title && url && !isNaN(episode)) {\n                        recentEpisodes.push({ id, image, title, url, episode });\n                    }\n                });\n                return {\n                    currentPage: page,\n                    hasNextPage: hasNextPage,\n                    results: recentEpisodes,\n                };\n            }\n            catch (err) {\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        /**\n         *\n         * @param episodeId episode id\n         */\n        this.fetchEpisodeSources = async (episodeId) => {\n            const headers = {\n                Accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7',\n                'Accept-Language': 'en-US,en;q=0.9',\n                Dnt: '1',\n                Referer: 'https://animedrive.hu/',\n                'Sec-Ch-Ua': '\"Not(A:Brand\";v=\"24\", \"Chromium\";v=\"122\"',\n                'Sec-Ch-Ua-Mobile': '?0',\n                'Sec-Ch-Ua-Platform': '\"Windows\"',\n                'Sec-Fetch-Dest': 'iframe',\n                'Sec-Fetch-Mode': 'navigate',\n                'Sec-Fetch-Site': 'same-site',\n                'Upgrade-Insecure-Requests': '1',\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36',\n            };\n            try {\n                const response = await axios_1.default.get(`https://player.animedrive.hu/player_v1.5.php${episodeId}`, { headers });\n                const $ = (0, cheerio_1.load)(response.data);\n                const htmlData = response.data;\n                const sourcesDataMatch = /sources:\\s*\\[\\s*(.*?)\\s*\\],?\\s*poster:/.exec(htmlData);\n                const sources = [];\n                if (sourcesDataMatch) {\n                    const sourcesData = sourcesDataMatch[1];\n                    const sourceRegex = /{\\s*src:\\s*'(.*?)'.*?type:\\s*'(.*?)'.*?size:\\s*(\\d+),?\\s*}/g;\n                    let match;\n                    while ((match = sourceRegex.exec(sourcesData)) !== null) {\n                        const url = match[1];\n                        const size = match[3];\n                        const quality = `${size}p`;\n                        const isM3U8 = false; // it's always an mp4 file\n                        sources.push({ url: url, quality: quality, isM3U8: isM3U8 });\n                    }\n                }\n                const convertedSources = sources.map(wa => ({\n                    url: wa.url,\n                    quality: wa.quality,\n                    isM3U8: wa.isM3U8,\n                }));\n                return { sources: convertedSources }; // Ensure sources matches ISource's definition\n            }\n            catch (err) {\n                console.log(err);\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        /**\n         * @deprecated Use fetchEpisodeSources instead\n         */\n        this.fetchEpisodeServers = (_episodeId) => {\n            throw new Error('Method not implemented.');\n        };\n    }\n    parseType(typeText) {\n        switch (typeText) {\n            case 'Sorozat':\n                return models_1.MediaFormat.TV;\n            case 'Film':\n                return models_1.MediaFormat.MOVIE;\n            case 'Special':\n                return models_1.MediaFormat.SPECIAL;\n            case 'OVA':\n                return models_1.MediaFormat.OVA;\n            default:\n                return models_1.MediaFormat.TV;\n        }\n    }\n    parseStatus(statusText) {\n        switch (statusText) {\n            case 'Fut':\n                return models_1.MediaStatus.ONGOING;\n            case 'Befejezett':\n                return models_1.MediaStatus.COMPLETED;\n            case 'Hamarosan':\n                return models_1.MediaStatus.NOT_YET_AIRED;\n            default:\n                return models_1.MediaStatus.UNKNOWN;\n        }\n    }\n}\nexports[\"default\"] = AnimeDrive;\n//# sourceMappingURL=animedrive.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvYW5pbWVkcml2ZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLGdDQUFnQyxtQkFBTyxDQUFDLDZEQUFPO0FBQy9DLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsYUFBYSwwQkFBMEIsS0FBSyxLQUFLO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0EsNkNBQTZDLGlDQUFpQztBQUM5RTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLGFBQWEsR0FBRztBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsYUFBYSxhQUFhLEdBQUc7QUFDM0Q7QUFDQSw4Q0FBOEMsNEJBQTRCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxHQUFHLE1BQU0sTUFBTTtBQUNsRDtBQUNBLGtDQUFrQyxZQUFZLFVBQVUsTUFBTTtBQUM5RCxnQ0FBZ0MsYUFBYSxhQUFhLEdBQUcsTUFBTSxNQUFNO0FBQ3pFLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLHFCQUFxQixLQUFLO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsYUFBYSxFQUFFLCtDQUErQztBQUNqRztBQUNBO0FBQ0EsOENBQThDLGdDQUFnQztBQUM5RTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSwyQ0FBMkMsa0NBQWtDLEtBQUs7QUFDM0osNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQSw0Q0FBNEMsbUJBQW1CO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxPQUFPO0FBQ3BFO0FBQ0E7QUFDQSwwR0FBMEcsVUFBVSxLQUFLLFNBQVM7QUFDbEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHlEQUF5RDtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxLQUFLO0FBQ2hELDhDQUE4QztBQUM5Qyx1Q0FBdUMsNENBQTRDO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQix5QkFBeUIsNkJBQTZCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxhbmltZVxcYW5pbWVkcml2ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgYXhpb3NfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiYXhpb3NcIikpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY2xhc3MgQW5pbWVEcml2ZSBleHRlbmRzIG1vZGVsc18xLkFuaW1lUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0FuaW1lRHJpdmUnO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9hbmltZWRyaXZlLmh1JztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvd2Vic2l0ZXMvQS9BbmltZURyaXZlL2Fzc2V0cy9sb2dvLnBuZyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ0FOSU1FLmFuaW1lZHJpdmUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHF1ZXJ5IFNlYXJjaCBxdWVyeVxuICAgICAgICAgKiBAcGFyYW0gcGFnZSBQYWdlIG51bWJlciAob3B0aW9uYWwpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGFzeW5jIChxdWVyeSwgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9zZWFyY2gvP3E9JHtkZWNvZGVVUklDb21wb25lbnQocXVlcnkpfSZwPSR7cGFnZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNOZXh0UGFnZSA9ICQoJy5uay1wYWdpbmF0aW9uLm5rLXBhZ2luYXRpb24tY2VudGVyID4gbmF2ID4gYS5uay1wYWdpbmF0aW9uLWN1cnJlbnQtd2hpdGUnKS5uZXh0KCdhJykubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hSZXN1bHRzID0gW107XG4gICAgICAgICAgICAgICAgJCgnZGl2LnJvdy5yb3ctLWdyaWQgLmNhcmQnKVxuICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMSlcbiAgICAgICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSAoX2EgPSAkKGVsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2Rpdi5jYXJkX19jb250ZW50ID4gaDMuY2FyZF9fdGl0bGUgPiBhJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXBsYWNlKCdodHRwczovL2FuaW1lZHJpdmUuaHUvYW5pbWUvP2lkPScsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSAkKGVsKS5maW5kKCdkaXYuY2FyZF9fY29udGVudCA+IGgzLmNhcmRfX3RpdGxlID4gYScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSAkKGVsKS5maW5kKCdkaXYuY2FyZF9fY292ZXIgPiBkaXYubmstaW1hZ2UtYm94LTEtYSA+IGltZycpLmF0dHIoJ3NyYycpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSAkKGVsKS5maW5kKCdkaXYuY2FyZF9fY29udGVudCA+IGgzLmNhcmRfX3RpdGxlID4gYScpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViT3JEdWIgPSAnc3ViJzsgLy8gdGhlcmUgaXMgbm8gaHVuZ2FyaWFuIGR1YiBmb3IgYW5pbWVzIHNhZGx5XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZCAmJiB0aXRsZSAmJiBpbWFnZSAmJiB1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdHMucHVzaCh7IGlkLCB0aXRsZSwgaW1hZ2UsIHVybCwgc3ViT3JEdWIgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGhhc05leHRQYWdlLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBzZWFyY2hSZXN1bHRzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBpZCBBbmltZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEFuaW1lSW5mbyA9IGFzeW5jIChpZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9hbmltZS8/aWQ9JHtpZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBpbmZvLnRpdGxlID0gJCgnZGl2LmNvbC1zbS0xMi5jb2wtbWQtOC5jb2wtbGctOSA+IGgyJykudGV4dCgpO1xuICAgICAgICAgICAgICAgIGluZm8uaW1hZ2UgPSAkKCdkaXYubmstaW1hZ2UtYm94LTEtYS5jb2wtMTIgPiBpbWcnKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgICAgICBpbmZvLmRlc2NyaXB0aW9uID0gJCgnZGl2LmNvbC1zbS0xMi5jb2wtbWQtOC5jb2wtbGctOSA+IHAuY29sLTEyJykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlVGV4dCA9ICQoJ3RhYmxlLmFuaW1lU3BlY3MubGVmdCB0ZDpjb250YWlucyhcIlTDjVBVUzpcIiknKS5uZXh0KCd0ZCcpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgaW5mby50eXBlID0gdGhpcy5wYXJzZVR5cGUodHlwZVRleHQpO1xuICAgICAgICAgICAgICAgIGluZm8ucmVsZWFzZVllYXIgPSAkKCd0YWJsZS5hbmltZVNwZWNzLmxlZnQgdGQ6Y29udGFpbnMoXCJLSUFEw4FTOlwiKScpLm5leHQoJ3RkJykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXNUZXh0ID0gJCgndGFibGUuYW5pbWVTcGVjcy5sZWZ0IHRkOmNvbnRhaW5zKFwiU1TDgVRVU1o6XCIpJykubmV4dCgndGQnKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgIGluZm8uc3RhdHVzID0gdGhpcy5wYXJzZVN0YXR1cyhzdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbEVwaXNvZGVzV2l0aFNsYXNoID0gJCgndGFibGUuYW5pbWVTcGVjcy5yaWdodCB0ZDpjb250YWlucyhcIlLDiVNaRUs6XCIpJylcbiAgICAgICAgICAgICAgICAgICAgLm5leHQoJ3RkJylcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAudHJpbSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsRXBpc29kZXNXaXRob3V0U2xhc2ggPSB0b3RhbEVwaXNvZGVzV2l0aFNsYXNoLnNwbGl0KCcvJylbMF0udHJpbSgpO1xuICAgICAgICAgICAgICAgIGluZm8udG90YWxFcGlzb2RlcyA9IHBhcnNlSW50KHRvdGFsRXBpc29kZXNXaXRob3V0U2xhc2gpO1xuICAgICAgICAgICAgICAgIGluZm8udXJsID0gYCR7dGhpcy5iYXNlVXJsfS9hbmltZS8/aWQ9JHtpZH1gO1xuICAgICAgICAgICAgICAgIGluZm8uZXBpc29kZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBlcGlzb2RlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IGluZm8udG90YWxFcGlzb2RlcyB9LCAoXywgaSkgPT4gaSArIDEpO1xuICAgICAgICAgICAgICAgIGVwaXNvZGVzLmZvckVhY2goKF8sIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBpbmZvLmVwaXNvZGVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogYD9pZD0ke2lkfSZlcD0ke2kgKyAxfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGkgKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGAke2luZm8udGl0bGV9IEVwaXNvZGUgJHtpICsgMX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9L3dhdGNoLz9pZD0ke2lkfSZlcD0ke2kgKyAxfWAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gcGFnZSBQYWdlIG51bWJlclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaFJlY2VudEVwaXNvZGVzID0gYXN5bmMgKHBhZ2UgPSAxKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vbGF0ZXN0LWFkZGVkP3BhZ2U9JHtwYWdlfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc05leHRQYWdlID0gISQoJy5wYWdpbmF0aW9uID4gbmF2ID4gdWwgPiBsaScpLmxhc3QoKS5oYXNDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWNlbnRFcGlzb2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgICQoJ2Rpdi5maWxtX2xpc3Qtd3JhcCA+IGRpdicpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSAoX2EgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVwbGFjZSgnL3dhdGNoLycsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBpbWcnKS5hdHRyKCdkYXRhLXNyYycpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGltZycpLmF0dHIoJ2FsdCcpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9JHskKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpfWA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGUgPSBwYXJzZUludCgkKGVsKS5maW5kKCdkaXYudGljay1lcHMnKS50ZXh0KCkucmVwbGFjZSgnRVAgJywgJycpLnNwbGl0KCcvJylbMF0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWQgJiYgaW1hZ2UgJiYgdGl0bGUgJiYgdXJsICYmICFpc05hTihlcGlzb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjZW50RXBpc29kZXMucHVzaCh7IGlkLCBpbWFnZSwgdGl0bGUsIHVybCwgZXBpc29kZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogaGFzTmV4dFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IHJlY2VudEVwaXNvZGVzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgZXBpc29kZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzID0gYXN5bmMgKGVwaXNvZGVJZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjcnLFxuICAgICAgICAgICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjknLFxuICAgICAgICAgICAgICAgIERudDogJzEnLFxuICAgICAgICAgICAgICAgIFJlZmVyZXI6ICdodHRwczovL2FuaW1lZHJpdmUuaHUvJyxcbiAgICAgICAgICAgICAgICAnU2VjLUNoLVVhJzogJ1wiTm90KEE6QnJhbmRcIjt2PVwiMjRcIiwgXCJDaHJvbWl1bVwiO3Y9XCIxMjJcIicsXG4gICAgICAgICAgICAgICAgJ1NlYy1DaC1VYS1Nb2JpbGUnOiAnPzAnLFxuICAgICAgICAgICAgICAgICdTZWMtQ2gtVWEtUGxhdGZvcm0nOiAnXCJXaW5kb3dzXCInLFxuICAgICAgICAgICAgICAgICdTZWMtRmV0Y2gtRGVzdCc6ICdpZnJhbWUnLFxuICAgICAgICAgICAgICAgICdTZWMtRmV0Y2gtTW9kZSc6ICduYXZpZ2F0ZScsXG4gICAgICAgICAgICAgICAgJ1NlYy1GZXRjaC1TaXRlJzogJ3NhbWUtc2l0ZScsXG4gICAgICAgICAgICAgICAgJ1VwZ3JhZGUtSW5zZWN1cmUtUmVxdWVzdHMnOiAnMScsXG4gICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMi4wLjAuMCBTYWZhcmkvNTM3LjM2JyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3NfMS5kZWZhdWx0LmdldChgaHR0cHM6Ly9wbGF5ZXIuYW5pbWVkcml2ZS5odS9wbGF5ZXJfdjEuNS5waHAke2VwaXNvZGVJZH1gLCB7IGhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaHRtbERhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZXNEYXRhTWF0Y2ggPSAvc291cmNlczpcXHMqXFxbXFxzKiguKj8pXFxzKlxcXSw/XFxzKnBvc3RlcjovLmV4ZWMoaHRtbERhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlc0RhdGFNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VzRGF0YSA9IHNvdXJjZXNEYXRhTWF0Y2hbMV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZVJlZ2V4ID0gL3tcXHMqc3JjOlxccyonKC4qPyknLio/dHlwZTpcXHMqJyguKj8pJy4qP3NpemU6XFxzKihcXGQrKSw/XFxzKn0vZztcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gc291cmNlUmVnZXguZXhlYyhzb3VyY2VzRGF0YSkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBtYXRjaFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemUgPSBtYXRjaFszXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1YWxpdHkgPSBgJHtzaXplfXBgO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNNM1U4ID0gZmFsc2U7IC8vIGl0J3MgYWx3YXlzIGFuIG1wNCBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2goeyB1cmw6IHVybCwgcXVhbGl0eTogcXVhbGl0eSwgaXNNM1U4OiBpc00zVTggfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY29udmVydGVkU291cmNlcyA9IHNvdXJjZXMubWFwKHdhID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogd2EudXJsLFxuICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiB3YS5xdWFsaXR5LFxuICAgICAgICAgICAgICAgICAgICBpc00zVTg6IHdhLmlzTTNVOCxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc291cmNlczogY29udmVydGVkU291cmNlcyB9OyAvLyBFbnN1cmUgc291cmNlcyBtYXRjaGVzIElTb3VyY2UncyBkZWZpbml0aW9uXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgVXNlIGZldGNoRXBpc29kZVNvdXJjZXMgaW5zdGVhZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTZXJ2ZXJzID0gKF9lcGlzb2RlSWQpID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcGFyc2VUeXBlKHR5cGVUZXh0KSB7XG4gICAgICAgIHN3aXRjaCAodHlwZVRleHQpIHtcbiAgICAgICAgICAgIGNhc2UgJ1Nvcm96YXQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbHNfMS5NZWRpYUZvcm1hdC5UVjtcbiAgICAgICAgICAgIGNhc2UgJ0ZpbG0nOlxuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbHNfMS5NZWRpYUZvcm1hdC5NT1ZJRTtcbiAgICAgICAgICAgIGNhc2UgJ1NwZWNpYWwnOlxuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbHNfMS5NZWRpYUZvcm1hdC5TUEVDSUFMO1xuICAgICAgICAgICAgY2FzZSAnT1ZBJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxzXzEuTWVkaWFGb3JtYXQuT1ZBO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxzXzEuTWVkaWFGb3JtYXQuVFY7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGFyc2VTdGF0dXMoc3RhdHVzVGV4dCkge1xuICAgICAgICBzd2l0Y2ggKHN0YXR1c1RleHQpIHtcbiAgICAgICAgICAgIGNhc2UgJ0Z1dCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkc7XG4gICAgICAgICAgICBjYXNlICdCZWZlamV6ZXR0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEO1xuICAgICAgICAgICAgY2FzZSAnSGFtYXJvc2FuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxzXzEuTWVkaWFTdGF0dXMuTk9UX1lFVF9BSVJFRDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV047XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBBbmltZURyaXZlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5pbWVkcml2ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animedrive.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animefox.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/animefox.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nclass AnimeFox extends models_1.AnimeParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'AnimeFox';\n        this.baseUrl = 'https://animefox.fun';\n        this.logo = 'https://animefox.fun/assets/images/logo.png';\n        this.classPath = 'ANIME.AnimeFox';\n        /**\n         * @param query Search query\n         * @param page Page number (optional)\n         */\n        this.search = async (query, page = 1) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/search?keyword=${decodeURIComponent(query)}&page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                const hasNextPage = $('.pagination > nav > ul > li').last().hasClass('disabled') ? false : true;\n                const searchResults = [];\n                $('div.film_list-wrap > div').each((i, el) => {\n                    var _a;\n                    let type = undefined;\n                    switch ($(el).find('div.fd-infor > span').text()) {\n                        case 'TV Series':\n                            type = models_1.MediaFormat.TV;\n                            break;\n                        case 'Movie':\n                            type = models_1.MediaFormat.MOVIE;\n                            break;\n                        case 'Special':\n                            type = models_1.MediaFormat.SPECIAL;\n                            break;\n                        case 'OVA':\n                            type = models_1.MediaFormat.OVA;\n                            break;\n                        default:\n                            type = models_1.MediaFormat.TV;\n                            break;\n                    }\n                    searchResults.push({\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/anime/', ''),\n                        title: $(el).find('div.film-poster > img').attr('alt'),\n                        type: type,\n                        image: $(el).find('div.fd-infor > span:nth-child(1)').text(),\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        episode: parseInt($(el).find('div.tick-eps').text().replace('EP', '').trim()),\n                    });\n                });\n                return {\n                    currentPage: page,\n                    hasNextPage: hasNextPage,\n                    results: searchResults,\n                };\n            }\n            catch (err) {\n                throw new Error(err);\n            }\n        };\n        /**\n         * @param id Anime id\n         */\n        this.fetchAnimeInfo = async (id) => {\n            const info = {\n                id: id,\n                title: '',\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/anime/${id}`);\n                const $ = (0, cheerio_1.load)(data);\n                info.title = $('h2.film-name').attr('data-jname');\n                info.image = $('img.film-poster-img').attr('data-src');\n                info.description = $('div.anisc-info > div:nth-child(1) > div').text().trim();\n                switch ($('div.anisc-info > div:nth-child(8) > a').text().trim()) {\n                    case 'TV Series':\n                        info.type = models_1.MediaFormat.TV;\n                        break;\n                    case 'Movie':\n                        info.type = models_1.MediaFormat.MOVIE;\n                        break;\n                    case 'Special':\n                        info.type = models_1.MediaFormat.SPECIAL;\n                        break;\n                    case 'OVA':\n                        info.type = models_1.MediaFormat.OVA;\n                        break;\n                    default:\n                        info.type = models_1.MediaFormat.TV;\n                        break;\n                }\n                info.releaseYear = $('div.anisc-info > div:nth-child(7) > a').text().trim();\n                switch ($('div.anisc-info > div:nth-child(9) > a').text().trim()) {\n                    case 'Ongoing':\n                        info.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    case 'Completed':\n                        info.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                    case 'Upcoming':\n                        info.status = models_1.MediaStatus.NOT_YET_AIRED;\n                        break;\n                    default:\n                        info.status = models_1.MediaStatus.UNKNOWN;\n                        break;\n                }\n                info.totalEpisodes = parseInt($('div.anisc-info > div:nth-child(4) > span:nth-child(2)').text().trim());\n                info.url = `${this.baseUrl}/${id}`;\n                info.episodes = [];\n                info.hasSub = $('div.anisc-info > div:nth-child(3) > span:nth-child(2)').text().trim() == 'Subbed';\n                info.hasDub = $('div.anisc-info > div:nth-child(3) > span:nth-child(2)').text().trim() == 'Dubbed';\n                const episodes = Array.from({ length: info.totalEpisodes }, (_, i) => i + 1);\n                episodes.forEach((element, i) => {\n                    var _a;\n                    return (_a = info.episodes) === null || _a === void 0 ? void 0 : _a.push({\n                        id: `${id}-episode-${i + 1}`,\n                        number: i + 1,\n                        title: `${info.title} Episode ${i + 1}`,\n                        url: `${this.baseUrl}/watch/${id}-episode-${i + 1}`,\n                    });\n                });\n                return info;\n            }\n            catch (err) {\n                throw new Error(err);\n            }\n        };\n        /**\n         * @param page Page number\n         */\n        this.fetchRecentEpisodes = async (page = 1) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/latest-added?page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                const hasNextPage = $('.pagination > nav > ul > li').last().hasClass('disabled') ? false : true;\n                const recentEpisodes = [];\n                $('div.film_list-wrap > div').each((i, el) => {\n                    var _a;\n                    recentEpisodes.push({\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/watch/', ''),\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        title: $(el).find('div.film-poster > img').attr('alt'),\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}!`,\n                        episode: parseInt($(el).find('div.tick-eps').text().replace('EP ', '').split('/')[0]),\n                    });\n                });\n                return {\n                    currentPage: page,\n                    hasNextPage: hasNextPage,\n                    results: recentEpisodes,\n                };\n            }\n            catch (err) {\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        /**\n         *\n         * @param episodeId episode id\n         */\n        this.fetchEpisodeSources = async (episodeId) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/watch/${episodeId}`);\n                const $ = (0, cheerio_1.load)(data);\n                const iframe = $('#iframe-to-load').attr('src') || '';\n                const streamUrl = `https://goload.io/streaming.php?id=${iframe.split('=')[1]}`;\n                return {\n                    ...(await new extractors_1.GogoCDN(this.proxyConfig).extract(new URL(streamUrl))),\n                };\n            }\n            catch (err) {\n                console.log(err);\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        /**\n         * @deprecated Use fetchEpisodeSources instead\n         */\n        this.fetchEpisodeServers = (episodeIs) => {\n            throw new Error('Method not implemented.');\n        };\n    }\n}\nexports[\"default\"] = AnimeFox;\n// (async () => {\n//   const animepahe = new AnimeFox();\n//   const sources = await animepahe.fetchEpisodeSources(\n//     'youkoso-jitsuryoku-shijou-shugi-no-kyoushitsu-e-tv-episode-1'\n//   );\n//   console.log(sources);\n// })();\n//# sourceMappingURL=animefox.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvYW5pbWVmb3guanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLG1CQUFPLENBQUMsb0VBQVM7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkMscUJBQXFCLG1CQUFPLENBQUMsNEZBQWtCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsa0JBQWtCLDBCQUEwQixRQUFRLEtBQUs7QUFDaEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLCtDQUErQztBQUM5RjtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxTQUFTLEdBQUc7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsYUFBYSxHQUFHLEdBQUc7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsOENBQThDLDRCQUE0QjtBQUMxRTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsR0FBRyxXQUFXLE1BQU07QUFDbkQ7QUFDQSxrQ0FBa0MsWUFBWSxVQUFVLE1BQU07QUFDOUQsZ0NBQWdDLGFBQWEsU0FBUyxHQUFHLFdBQVcsTUFBTTtBQUMxRSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxxQkFBcUIsS0FBSztBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLCtDQUErQztBQUM5RjtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxTQUFTLFVBQVU7QUFDMUY7QUFDQTtBQUNBLHdFQUF3RSxxQkFBcUI7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXGFuaW1lXFxhbmltZWZveC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY29uc3QgZXh0cmFjdG9yc18xID0gcmVxdWlyZShcIi4uLy4uL2V4dHJhY3RvcnNcIik7XG5jbGFzcyBBbmltZUZveCBleHRlbmRzIG1vZGVsc18xLkFuaW1lUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0FuaW1lRm94JztcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJ2h0dHBzOi8vYW5pbWVmb3guZnVuJztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vYW5pbWVmb3guZnVuL2Fzc2V0cy9pbWFnZXMvbG9nby5wbmcnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdBTklNRS5BbmltZUZveCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgU2VhcmNoIHF1ZXJ5XG4gICAgICAgICAqIEBwYXJhbSBwYWdlIFBhZ2UgbnVtYmVyIChvcHRpb25hbClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5LCBwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L3NlYXJjaD9rZXl3b3JkPSR7ZGVjb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX0mcGFnZT0ke3BhZ2V9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzTmV4dFBhZ2UgPSAkKCcucGFnaW5hdGlvbiA+IG5hdiA+IHVsID4gbGknKS5sYXN0KCkuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgPyBmYWxzZSA6IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgICAgICQoJ2Rpdi5maWxtX2xpc3Qtd3JhcCA+IGRpdicpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoJChlbCkuZmluZCgnZGl2LmZkLWluZm9yID4gc3BhbicpLnRleHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnVFYgU2VyaWVzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuVFY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdNb3ZpZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0Lk1PVklFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnU3BlY2lhbCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0LlNQRUNJQUw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdPVkEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5PVkE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5UVjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXBsYWNlKCcvYW5pbWUvJywgJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGltZycpLmF0dHIoJ2FsdCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdkaXYuZmQtaW5mb3IgPiBzcGFuOm50aC1jaGlsZCgxKScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZTogcGFyc2VJbnQoJChlbCkuZmluZCgnZGl2LnRpY2stZXBzJykudGV4dCgpLnJlcGxhY2UoJ0VQJywgJycpLnRyaW0oKSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogaGFzTmV4dFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IHNlYXJjaFJlc3VsdHMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBpZCBBbmltZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEFuaW1lSW5mbyA9IGFzeW5jIChpZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9hbmltZS8ke2lkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGluZm8udGl0bGUgPSAkKCdoMi5maWxtLW5hbWUnKS5hdHRyKCdkYXRhLWpuYW1lJyk7XG4gICAgICAgICAgICAgICAgaW5mby5pbWFnZSA9ICQoJ2ltZy5maWxtLXBvc3Rlci1pbWcnKS5hdHRyKCdkYXRhLXNyYycpO1xuICAgICAgICAgICAgICAgIGluZm8uZGVzY3JpcHRpb24gPSAkKCdkaXYuYW5pc2MtaW5mbyA+IGRpdjpudGgtY2hpbGQoMSkgPiBkaXYnKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoJCgnZGl2LmFuaXNjLWluZm8gPiBkaXY6bnRoLWNoaWxkKDgpID4gYScpLnRleHQoKS50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVFYgU2VyaWVzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm8udHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0LlRWO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ01vdmllJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm8udHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0Lk1PVklFO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NwZWNpYWwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mby50eXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuU1BFQ0lBTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdPVkEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mby50eXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuT1ZBO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvLnR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5UVjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmZvLnJlbGVhc2VZZWFyID0gJCgnZGl2LmFuaXNjLWluZm8gPiBkaXY6bnRoLWNoaWxkKDcpID4gYScpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoICgkKCdkaXYuYW5pc2MtaW5mbyA+IGRpdjpudGgtY2hpbGQoOSkgPiBhJykudGV4dCgpLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdPbmdvaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lORztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdDb21wbGV0ZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5DT01QTEVURUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVXBjb21pbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5OT1RfWUVUX0FJUkVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV047XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5mby50b3RhbEVwaXNvZGVzID0gcGFyc2VJbnQoJCgnZGl2LmFuaXNjLWluZm8gPiBkaXY6bnRoLWNoaWxkKDQpID4gc3BhbjpudGgtY2hpbGQoMiknKS50ZXh0KCkudHJpbSgpKTtcbiAgICAgICAgICAgICAgICBpbmZvLnVybCA9IGAke3RoaXMuYmFzZVVybH0vJHtpZH1gO1xuICAgICAgICAgICAgICAgIGluZm8uZXBpc29kZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBpbmZvLmhhc1N1YiA9ICQoJ2Rpdi5hbmlzYy1pbmZvID4gZGl2Om50aC1jaGlsZCgzKSA+IHNwYW46bnRoLWNoaWxkKDIpJykudGV4dCgpLnRyaW0oKSA9PSAnU3ViYmVkJztcbiAgICAgICAgICAgICAgICBpbmZvLmhhc0R1YiA9ICQoJ2Rpdi5hbmlzYy1pbmZvID4gZGl2Om50aC1jaGlsZCgzKSA+IHNwYW46bnRoLWNoaWxkKDIpJykudGV4dCgpLnRyaW0oKSA9PSAnRHViYmVkJztcbiAgICAgICAgICAgICAgICBjb25zdCBlcGlzb2RlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IGluZm8udG90YWxFcGlzb2RlcyB9LCAoXywgaSkgPT4gaSArIDEpO1xuICAgICAgICAgICAgICAgIGVwaXNvZGVzLmZvckVhY2goKGVsZW1lbnQsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKF9hID0gaW5mby5lcGlzb2RlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGAke2lkfS1lcGlzb2RlLSR7aSArIDF9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaSArIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogYCR7aW5mby50aXRsZX0gRXBpc29kZSAke2kgKyAxfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0vd2F0Y2gvJHtpZH0tZXBpc29kZS0ke2kgKyAxfWAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHBhZ2UgUGFnZSBudW1iZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hSZWNlbnRFcGlzb2RlcyA9IGFzeW5jIChwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2xhdGVzdC1hZGRlZD9wYWdlPSR7cGFnZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNOZXh0UGFnZSA9ICQoJy5wYWdpbmF0aW9uID4gbmF2ID4gdWwgPiBsaScpLmxhc3QoKS5oYXNDbGFzcygnZGlzYWJsZWQnKSA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWNlbnRFcGlzb2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgICQoJ2Rpdi5maWxtX2xpc3Qtd3JhcCA+IGRpdicpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgcmVjZW50RXBpc29kZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9hID0gJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcGxhY2UoJy93YXRjaC8nLCAnJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gaW1nJykuYXR0cignZGF0YS1zcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBpbWcnKS5hdHRyKCdhbHQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKX0hYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGU6IHBhcnNlSW50KCQoZWwpLmZpbmQoJ2Rpdi50aWNrLWVwcycpLnRleHQoKS5yZXBsYWNlKCdFUCAnLCAnJykuc3BsaXQoJy8nKVswXSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogaGFzTmV4dFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IHJlY2VudEVwaXNvZGVzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgZXBpc29kZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzID0gYXN5bmMgKGVwaXNvZGVJZCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L3dhdGNoLyR7ZXBpc29kZUlkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlmcmFtZSA9ICQoJyNpZnJhbWUtdG8tbG9hZCcpLmF0dHIoJ3NyYycpIHx8ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbVVybCA9IGBodHRwczovL2dvbG9hZC5pby9zdHJlYW1pbmcucGhwP2lkPSR7aWZyYW1lLnNwbGl0KCc9JylbMV19YDtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi4oYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5Hb2dvQ0ROKHRoaXMucHJveHlDb25maWcpLmV4dHJhY3QobmV3IFVSTChzdHJlYW1VcmwpKSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBVc2UgZmV0Y2hFcGlzb2RlU291cmNlcyBpbnN0ZWFkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNlcnZlcnMgPSAoZXBpc29kZUlzKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gQW5pbWVGb3g7XG4vLyAoYXN5bmMgKCkgPT4ge1xuLy8gICBjb25zdCBhbmltZXBhaGUgPSBuZXcgQW5pbWVGb3goKTtcbi8vICAgY29uc3Qgc291cmNlcyA9IGF3YWl0IGFuaW1lcGFoZS5mZXRjaEVwaXNvZGVTb3VyY2VzKFxuLy8gICAgICd5b3Vrb3NvLWppdHN1cnlva3Utc2hpam91LXNodWdpLW5vLWt5b3VzaGl0c3UtZS10di1lcGlzb2RlLTEnXG4vLyAgICk7XG4vLyAgIGNvbnNvbGUubG9nKHNvdXJjZXMpO1xuLy8gfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuaW1lZm94LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animefox.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animekai.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/animekai.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nconst { GenerateToken, DecodeIframeData } = new utils_1.MegaUp();\nclass AnimeKai extends models_1.AnimeParser {\n    constructor(customBaseURL) {\n        super(...arguments);\n        this.name = 'AnimeKai';\n        this.baseUrl = 'https://animekai.to';\n        this.logo = 'https://animekai.to/assets/uploads/37585a39fe8c8d8fafaa2c7bfbf5374ecac859ea6a0288a6da2c61f5.png';\n        this.classPath = 'ANIME.AnimeKai';\n        /**\n         * @param id Anime id\n         */\n        this.fetchAnimeInfo = async (id) => {\n            var _a;\n            const info = {\n                id: id,\n                title: '',\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/watch/${id}`, { headers: this.Headers() });\n                const $ = (0, cheerio_1.load)(data);\n                info.title = $('.entity-scroll > .title').text();\n                info.japaneseTitle = (_a = $('.entity-scroll > .title').attr('data-jp')) === null || _a === void 0 ? void 0 : _a.trim();\n                info.image = $('div.poster > div >img').attr('src');\n                info.description = $('.entity-scroll > .desc').text().trim();\n                // Movie, TV, OVA, ONA, Special, Music\n                info.type = $('.entity-scroll > .info').children().last().text().toUpperCase();\n                info.url = `${this.baseUrl}/watch/${id}`;\n                info.recommendations = [];\n                $('section.sidebar-section:not(#related-anime) .aitem-col .aitem').each((i, ele) => {\n                    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n                    const aTag = $(ele);\n                    const id = (_a = aTag.attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/watch/', '');\n                    (_b = info.recommendations) === null || _b === void 0 ? void 0 : _b.push({\n                        id: id,\n                        title: aTag.find('.title').text().trim(),\n                        url: `${this.baseUrl}${aTag.attr('href')}`,\n                        image: (_d = (_c = aTag.attr('style')) === null || _c === void 0 ? void 0 : _c.match(/background-image:\\s*url\\('(.+?)'\\)/)) === null || _d === void 0 ? void 0 : _d[1],\n                        japaneseTitle: (_e = aTag.find('.title').attr('data-jp')) === null || _e === void 0 ? void 0 : _e.trim(),\n                        type: aTag.find('.info').children().last().text().trim(),\n                        sub: parseInt((_f = aTag.find('.info span.sub')) === null || _f === void 0 ? void 0 : _f.text()) || 0,\n                        dub: parseInt((_g = aTag.find('.info span.dub')) === null || _g === void 0 ? void 0 : _g.text()) || 0,\n                        episodes: parseInt((_h = aTag.find('.info').children().eq(-2).text().trim()) !== null && _h !== void 0 ? _h : (_j = aTag.find('.info span.sub')) === null || _j === void 0 ? void 0 : _j.text()) || 0,\n                    });\n                });\n                info.relations = [];\n                $('section#related-anime .tab-body .aitem-col').each((i, ele) => {\n                    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n                    const card = $(ele);\n                    const aTag = card.find('a.aitem');\n                    const id = (_a = aTag.attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/watch/', '');\n                    (_b = info.relations) === null || _b === void 0 ? void 0 : _b.push({\n                        id: id,\n                        title: aTag.find('.title').text().trim(),\n                        url: `${this.baseUrl}${aTag.attr('href')}`,\n                        image: (_d = (_c = aTag.attr('style')) === null || _c === void 0 ? void 0 : _c.match(/background-image:\\s*url\\('(.+?)'\\)/)) === null || _d === void 0 ? void 0 : _d[1],\n                        japaneseTitle: (_e = aTag.find('.title').attr('data-jp')) === null || _e === void 0 ? void 0 : _e.trim(),\n                        type: card.find('.info').children().eq(-2).text().trim(),\n                        sub: parseInt((_f = card.find('.info span.sub')) === null || _f === void 0 ? void 0 : _f.text()) || 0,\n                        dub: parseInt((_g = card.find('.info span.dub')) === null || _g === void 0 ? void 0 : _g.text()) || 0,\n                        relationType: card.find('.info').children().last().text().trim(),\n                        episodes: parseInt((_h = card.find('.info').children().eq(-3).text().trim()) !== null && _h !== void 0 ? _h : (_j = card.find('.info span.sub')) === null || _j === void 0 ? void 0 : _j.text()) || 0,\n                    });\n                });\n                const hasSub = $('.entity-scroll > .info > span.sub').length > 0;\n                const hasDub = $('.entity-scroll > .info > span.dub').length > 0;\n                if (hasSub) {\n                    info.subOrDub = models_1.SubOrSub.SUB;\n                    info.hasSub = hasSub;\n                }\n                if (hasDub) {\n                    info.subOrDub = models_1.SubOrSub.DUB;\n                    info.hasDub = hasDub;\n                }\n                if (hasSub && hasDub) {\n                    info.subOrDub = models_1.SubOrSub.BOTH;\n                }\n                info.genres = [];\n                $('.entity-scroll > .detail')\n                    .find('div:contains(\"Genres\")')\n                    .each(function () {\n                    var _a;\n                    const genre = $(this).text().trim();\n                    if (genre != undefined)\n                        (_a = info.genres) === null || _a === void 0 ? void 0 : _a.push(genre);\n                });\n                switch ($('.entity-scroll > .detail').find(\"div:contains('Status') > span\").text().trim()) {\n                    case 'Completed':\n                        info.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                    case 'Releasing':\n                        info.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    case 'Not yet aired':\n                        info.status = models_1.MediaStatus.NOT_YET_AIRED;\n                        break;\n                    default:\n                        info.status = models_1.MediaStatus.UNKNOWN;\n                        break;\n                }\n                info.season = $('.entity-scroll > .detail').find(\"div:contains('Premiered') > span\").text().trim();\n                const ani_id = $('.rate-box#anime-rating').attr('data-id');\n                const episodesAjax = await this.client.get(`${this.baseUrl}/ajax/episodes/list?ani_id=${ani_id}&_=${GenerateToken(ani_id)}`, {\n                    headers: {\n                        'X-Requested-With': 'XMLHttpRequest',\n                        Referer: `${this.baseUrl}/watch/${id}`,\n                        ...this.Headers(),\n                    },\n                });\n                const $$ = (0, cheerio_1.load)(episodesAjax.data.result);\n                info.totalEpisodes = $$('div.eplist > ul > li').length;\n                info.episodes = [];\n                $$('div.eplist > ul > li > a').each((i, el) => {\n                    var _a;\n                    const episodeId = `${info.id}$ep=${$$(el).attr('num')}$token=${$$(el).attr('token')}`; //appending token to episode id, as it is required to fetch servers keeping the structure same as other providers\n                    const number = parseInt($$(el).attr('num'));\n                    const title = $$(el).children('span').text().trim();\n                    const url = `${this.baseUrl}/watch/${info.id}${$$(el).attr('href')}ep=${$$(el).attr('num')}`;\n                    const isFiller = $$(el).hasClass('filler');\n                    const isSubbed = number <= (parseInt($('.entity-scroll > .info > span.sub').text().trim()) || 0);\n                    const isDubbed = number <= (parseInt($('.entity-scroll > .info > span.dub').text().trim()) || 0);\n                    (_a = info.episodes) === null || _a === void 0 ? void 0 : _a.push({\n                        id: episodeId,\n                        number: number,\n                        title: title,\n                        isFiller: isFiller,\n                        isSubbed: isSubbed,\n                        isDubbed: isDubbed,\n                        url: url,\n                    });\n                });\n                return info;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId Episode id\n         * @param server server type (default `VidCloud`) (optional)\n         * @param subOrDub sub or dub (default `SubOrSub.SUB`) (optional)\n         */\n        this.fetchEpisodeSources = async (episodeId, server = models_1.StreamingServers.MegaUp, subOrDub = models_1.SubOrSub.SUB) => {\n            var _a, _b;\n            if (episodeId.startsWith('http')) {\n                const serverUrl = new URL(episodeId);\n                switch (server) {\n                    case models_1.StreamingServers.MegaUp:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new utils_1.MegaUp(this.proxyConfig, this.adapter).extract(serverUrl)),\n                            download: serverUrl.href.replace(/\\/e\\//, '/download/'),\n                        };\n                    default:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new utils_1.MegaUp(this.proxyConfig, this.adapter).extract(serverUrl)),\n                            download: serverUrl.href.replace(/\\/e\\//, '/download/'),\n                        };\n                }\n            }\n            try {\n                const servers = await this.fetchEpisodeServers(episodeId, subOrDub);\n                const i = servers.findIndex(s => s.name.toLowerCase().includes(server)); //for now only megaup is available, hence directly using it\n                if (i === -1) {\n                    throw new Error(`Server ${server} not found`);\n                }\n                const serverUrl = new URL(servers[i].url);\n                const sources = await this.fetchEpisodeSources(serverUrl.href, server, subOrDub);\n                sources.intro = (_a = servers[i]) === null || _a === void 0 ? void 0 : _a.intro;\n                sources.outro = (_b = servers[i]) === null || _b === void 0 ? void 0 : _b.outro;\n                return sources;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         * @param url string\n         */\n        this.scrapeCardPage = async (url) => {\n            var _a, _b;\n            try {\n                const res = {\n                    currentPage: 0,\n                    hasNextPage: false,\n                    totalPages: 0,\n                    results: [],\n                };\n                const { data } = await this.client.get(url, {\n                    headers: this.Headers(),\n                });\n                const $ = (0, cheerio_1.load)(data);\n                const pagination = $('ul.pagination');\n                res.currentPage = parseInt(pagination.find('.page-item.active span.page-link').text().trim()) || 0;\n                const nextPage = (_a = pagination\n                    .find('.page-item.active')\n                    .next()\n                    .find('a.page-link')\n                    .attr('href')) === null || _a === void 0 ? void 0 : _a.split('page=')[1];\n                if (nextPage != undefined && nextPage != '') {\n                    res.hasNextPage = true;\n                }\n                const totalPages = (_b = pagination.find('.page-item:last-child a.page-link').attr('href')) === null || _b === void 0 ? void 0 : _b.split('page=')[1];\n                if (totalPages === undefined || totalPages === '') {\n                    res.totalPages = res.currentPage;\n                }\n                else {\n                    res.totalPages = parseInt(totalPages) || 0;\n                }\n                res.results = await this.scrapeCard($);\n                if (res.results.length === 0) {\n                    res.currentPage = 0;\n                    res.hasNextPage = false;\n                    res.totalPages = 0;\n                }\n                return res;\n            }\n            catch (err) {\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        /**\n         * @param $ cheerio instance\n         */\n        this.scrapeCard = async ($) => {\n            try {\n                const results = [];\n                $('.aitem').each((i, ele) => {\n                    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n                    const card = $(ele);\n                    const atag = card.find('div.inner > a');\n                    const id = (_a = atag.attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/watch/', '');\n                    const type = (_b = card.find('.info').children().last()) === null || _b === void 0 ? void 0 : _b.text().trim();\n                    results.push({\n                        id: id,\n                        title: atag.text().trim(),\n                        url: `${this.baseUrl}${atag.attr('href')}`,\n                        image: (_d = (_c = card.find('img')) === null || _c === void 0 ? void 0 : _c.attr('data-src')) !== null && _d !== void 0 ? _d : (_e = card.find('img')) === null || _e === void 0 ? void 0 : _e.attr('src'),\n                        //   duration: card.find('.fdi-duration')?.text(),\n                        japaneseTitle: (_g = (_f = card.find('a.title')) === null || _f === void 0 ? void 0 : _f.attr('data-jp')) === null || _g === void 0 ? void 0 : _g.trim(),\n                        type: type,\n                        //   nsfw: card.find('.tick-rate')?.text() === '18+' ? true : false,\n                        sub: parseInt((_h = card.find('.info span.sub')) === null || _h === void 0 ? void 0 : _h.text()) || 0,\n                        dub: parseInt((_j = card.find('.info span.dub')) === null || _j === void 0 ? void 0 : _j.text()) || 0,\n                        episodes: parseInt((_k = card.find('.info').children().eq(-2).text().trim()) !== null && _k !== void 0 ? _k : (_l = card.find('.info span.sub')) === null || _l === void 0 ? void 0 : _l.text()) || 0, //if no direct episode count, then just use sub count\n                    });\n                });\n                return results;\n            }\n            catch (err) {\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        /**\n         * @param episodeId Episode id\n         * @param subOrDub sub or dub (default `sub`) (optional)\n         */\n        this.fetchEpisodeServers = async (episodeId, subOrDub = models_1.SubOrSub.SUB) => {\n            if (!episodeId.startsWith(this.baseUrl + '/ajax'))\n                episodeId = `${this.baseUrl}/ajax/links/list?token=${episodeId.split('$token=')[1]}&_=${GenerateToken(episodeId.split('$token=')[1])}`;\n            try {\n                const { data } = await this.client.get(episodeId, { headers: this.Headers() });\n                const $ = (0, cheerio_1.load)(data.result);\n                const servers = [];\n                const serverItems = $(`.server-items.lang-group[data-id=\"${subOrDub}\"] .server`);\n                await Promise.all(serverItems.map(async (i, server) => {\n                    const id = $(server).attr('data-lid');\n                    const { data } = await this.client.get(`${this.baseUrl}/ajax/links/view?id=${id}&_=${GenerateToken(id)}`, { headers: this.Headers() });\n                    const decodedData = JSON.parse(DecodeIframeData(data.result));\n                    servers.push({\n                        name: `MegaUp ${$(server).text().trim()}`.toLowerCase(), //megaup is the only server for now\n                        url: decodedData.url,\n                        intro: {\n                            start: decodedData === null || decodedData === void 0 ? void 0 : decodedData.skip.intro[0],\n                            end: decodedData === null || decodedData === void 0 ? void 0 : decodedData.skip.intro[1],\n                        },\n                        outro: {\n                            start: decodedData === null || decodedData === void 0 ? void 0 : decodedData.skip.outro[0],\n                            end: decodedData === null || decodedData === void 0 ? void 0 : decodedData.skip.outro[1],\n                        },\n                    });\n                }));\n                return servers;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        if (customBaseURL) {\n            if (customBaseURL.startsWith('http://') || customBaseURL.startsWith('https://')) {\n                this.baseUrl = customBaseURL;\n            }\n            else {\n                this.baseUrl = `http://${customBaseURL}`;\n            }\n        }\n        else {\n            this.baseUrl = this.baseUrl;\n        }\n    }\n    /**\n     * @param query Search query\n     * @param page Page number (optional)\n     */\n    search(query, page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/browser?keyword=${query.replace(/[\\W_]+/g, '+')}&page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchLatestCompleted(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/completed?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchRecentlyAdded(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/recent?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchRecentlyUpdated(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/updates?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchNewReleases(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/new-releases?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchMovie(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/movie?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchTV(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/tv?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchOVA(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/ova?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchONA(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/ona?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchSpecial(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/special?page=${page}`);\n    }\n    async fetchGenres() {\n        try {\n            const res = [];\n            const { data } = await this.client.get(`${this.baseUrl}/home`, { headers: this.Headers() });\n            const $ = (0, cheerio_1.load)(data);\n            const sideBar = $('#menu');\n            sideBar.find('ul.c4 li a').each((i, ele) => {\n                const genres = $(ele);\n                res.push(genres.text().toLowerCase());\n            });\n            return res;\n        }\n        catch (err) {\n            throw new Error('Something went wrong. Please try again later.');\n        }\n    }\n    /**\n     * @param page number\n     */\n    genreSearch(genre, page = 1) {\n        if (genre == '') {\n            throw new Error('genre is empty');\n        }\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/genres/${genre}?page=${page}`);\n    }\n    /**\n     * Fetches the schedule for a given date.\n     * @param date The date in format 'YYYY-MM-DD'. Defaults to the current date.\n     * @returns A promise that resolves to an object containing the search results.\n     */\n    async fetchSchedule(date = new Date().toISOString().split('T')[0]) {\n        try {\n            const res = {\n                results: [],\n            };\n            const { data } = await this.client.get(`${this.baseUrl}/ajax/schedule/items?tz=5.5&time=${Math.floor(new Date(`${date}T00:00:00Z`).getTime() / 1000)}`, { headers: this.Headers() });\n            const $ = (0, cheerio_1.load)(data.result);\n            $('ul.collapsed li').each((i, ele) => {\n                var _a;\n                const card = $(ele);\n                const titleElement = card.find('span.title');\n                const episodeText = card.find('span').last().text().trim();\n                res.results.push({\n                    id: (_a = card.find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[2], // Extract anime ID\n                    title: titleElement.text().trim(),\n                    japaneseTitle: titleElement.attr('data-jp'),\n                    airingTime: card.find('span.time').text().trim(),\n                    airingEpisode: episodeText.replace('EP ', ''), // Extract episode number\n                });\n            });\n            return res;\n        }\n        catch (err) {\n            throw new Error('Something went wrong. Please try again later.');\n        }\n    }\n    async fetchSpotlight() {\n        try {\n            const res = { results: [] };\n            const { data } = await this.client.get(`${this.baseUrl}/home`, { headers: this.Headers() });\n            const $ = (0, cheerio_1.load)(data);\n            $('div.swiper-wrapper > div.swiper-slide').each((i, el) => {\n                var _a, _b;\n                const card = $(el);\n                const titleElement = card.find('div.detail > p.title');\n                const id = (_a = card.find('div.swiper-ctrl > a.btn').attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/watch/', '');\n                const img = card.attr('style');\n                res.results.push({\n                    id: id,\n                    title: titleElement.text(),\n                    japaneseTitle: titleElement.attr('data-jp'),\n                    banner: ((_b = img === null || img === void 0 ? void 0 : img.match(/background-image:\\s*url\\([\"']?(.+?)[\"']?\\)/)) === null || _b === void 0 ? void 0 : _b[1]) || null,\n                    url: `${this.baseUrl}/watch/${id}`,\n                    type: card.find('div.detail > div.info').children().eq(-2).text().trim(),\n                    genres: card\n                        .find('div.detail > div.info')\n                        .children()\n                        .last()\n                        .text()\n                        .trim()\n                        .split(',')\n                        .map(genre => genre.trim()),\n                    releaseDate: card\n                        .find('div.detail > div.mics >div:contains(\"Release\")')\n                        .children('span')\n                        .text()\n                        .trim(),\n                    quality: card.find('div.detail > div.mics >div:contains(\"Quality\")').children('span').text().trim(),\n                    sub: parseInt(card.find('div.detail > div.info > span.sub').text().trim()) || 0,\n                    dub: parseInt(card.find('div.detail > div.info > span.dub').text().trim()) || 0,\n                    description: card.find('div.detail > p.desc').text().trim(),\n                });\n            });\n            return res;\n        }\n        catch (error) {\n            throw new Error('Something went wrong. Please try again later.');\n        }\n    }\n    async fetchSearchSuggestions(query) {\n        try {\n            const { data } = await this.client.get(`${this.baseUrl}/ajax/anime/search?keyword=${query.replace(/[\\W_]+/g, '+')}`, { headers: this.Headers() });\n            const $ = (0, cheerio_1.load)(data.result.html);\n            const res = {\n                results: [],\n            };\n            $('a.aitem').each((i, el) => {\n                var _a, _b, _c, _d, _e;\n                const card = $(el);\n                const image = card.find('.poster img').attr('src');\n                const titleElement = card.find('.title');\n                const title = titleElement.text().trim();\n                const japaneseTitle = titleElement.attr('data-jp');\n                const id = (_a = card.attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[2];\n                const year = card.find('.info').children().eq(-2).text().trim();\n                const type = card.find('.info').children().eq(-3).text().trim();\n                const sub = parseInt((_b = card.find('.info span.sub')) === null || _b === void 0 ? void 0 : _b.text()) || 0;\n                const dub = parseInt((_c = card.find('.info span.dub')) === null || _c === void 0 ? void 0 : _c.text()) || 0;\n                const episodes = parseInt((_d = card.find('.info').children().eq(-4).text().trim()) !== null && _d !== void 0 ? _d : (_e = card.find('.info span.sub')) === null || _e === void 0 ? void 0 : _e.text()) || 0;\n                res.results.push({\n                    id: id,\n                    title: title,\n                    url: `${this.baseUrl}/watch/${id}`,\n                    image: image,\n                    japaneseTitle: japaneseTitle || null,\n                    type: type,\n                    year: year,\n                    sub: sub,\n                    dub: dub,\n                    episodes: episodes,\n                });\n            });\n            return res;\n        }\n        catch (error) {\n            throw new Error('Something went wrong. Please try again later.');\n        }\n    }\n    Headers() {\n        return {\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:134.0) Gecko/20100101 Firefox/134.0',\n            Accept: 'text/html, */*; q=0.01',\n            'Accept-Language': 'en-US,en;q=0.5',\n            'Sec-GPC': '1',\n            'Sec-Fetch-Dest': 'empty',\n            'Sec-Fetch-Mode': 'cors',\n            'Sec-Fetch-Site': 'same-origin',\n            Priority: 'u=0',\n            Pragma: 'no-cache',\n            'Cache-Control': 'no-cache',\n            Referer: `${this.baseUrl}/`,\n            Cookie: 'usertype=guest; session=hxYne0BNXguMc8zK1FHqQKXPmmoANzBBOuNPM64a; cf_clearance=WfGWV1bKGAaNySbh.yzCyuobBOtjg0ncfPwMhtsvsrs-1737611098-1.2.1.1-zWHcaytuokjFTKbCAxnSPDc_BWAeubpf9TAAVfuJ2vZuyYXByqZBXAZDl_VILwkO5NOLck8N0C4uQr4yGLbXRcZ_7jfWUvfPGayTADQLuh.SH.7bvhC7DmxrMGZ8SW.hGKEQzRJf8N7h6ZZ27GMyqOfz1zfrOiu9W30DhEtW2N7FAXUPrdolyKjCsP1AK3DqsDtYOiiPNLnu47l.zxK80XogfBRQkiGecCBaeDOJHenjn._Zgykkr.F_2bj2C3AS3A5mCpZSlWK5lqhV6jQSQLF9wKWitHye39V.6NoE3RE',\n        };\n    }\n}\n//(async () => {\n//  const animekai = new AnimeKai();\n//  const anime = await animekai.search('dandadan');\n//  const info = await animekai.fetchAnimeInfo('solo-leveling-season-2-arise-from-the-shadow-x7rq');\n//  console.log(info.episodes);\n//  const sources = await animekai.fetchEpisodeSources(info?.episodes![0].id!);\n//  console.log(sources);\n//})();\nexports[\"default\"] = AnimeKai;\n//# sourceMappingURL=animekai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvYW5pbWVrYWkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLG1CQUFPLENBQUMsb0VBQVM7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkMsZ0JBQWdCLG1CQUFPLENBQUMsa0ZBQWE7QUFDckMsUUFBUSxrQ0FBa0M7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLFNBQVMsR0FBRyxLQUFLLHlCQUF5QjtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixhQUFhLFNBQVMsR0FBRztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSxrQkFBa0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLGtCQUFrQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELGFBQWEsNkJBQTZCLE9BQU8sS0FBSyxzQkFBc0I7QUFDMUk7QUFDQTtBQUNBLG9DQUFvQyxhQUFhLFNBQVMsR0FBRztBQUM3RDtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxRQUFRLE1BQU0sbUJBQW1CLFNBQVMscUJBQXFCLEdBQUc7QUFDM0c7QUFDQTtBQUNBLG1DQUFtQyxhQUFhLFNBQVMsUUFBUSxFQUFFLG9CQUFvQixLQUFLLG1CQUFtQjtBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx5QkFBeUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx5QkFBeUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUY7QUFDekY7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSxrQkFBa0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGFBQWEseUJBQXlCLDhCQUE4QixLQUFLLDZDQUE2QztBQUNySjtBQUNBLHdCQUF3QixPQUFPLHFDQUFxQyx5QkFBeUI7QUFDN0Y7QUFDQTtBQUNBLDJFQUEyRSxTQUFTO0FBQ3BGO0FBQ0E7QUFDQSw0QkFBNEIsT0FBTywyQkFBMkIsYUFBYSxzQkFBc0IsR0FBRyxLQUFLLGtCQUFrQixLQUFLLHlCQUF5QjtBQUN6SjtBQUNBO0FBQ0Esd0NBQXdDLHdCQUF3QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxhQUFhLG1CQUFtQiw4QkFBOEIsUUFBUSxLQUFLO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsYUFBYSxrQkFBa0IsS0FBSztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGFBQWEsZUFBZSxLQUFLO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsYUFBYSxnQkFBZ0IsS0FBSztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGFBQWEscUJBQXFCLEtBQUs7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxhQUFhLGNBQWMsS0FBSztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGFBQWEsV0FBVyxLQUFLO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsYUFBYSxZQUFZLEtBQUs7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxhQUFhLFlBQVksS0FBSztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGFBQWEsZ0JBQWdCLEtBQUs7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTywyQkFBMkIsYUFBYSxVQUFVLHlCQUF5QjtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGFBQWEsVUFBVSxNQUFNLFFBQVEsS0FBSztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU8sMkJBQTJCLGFBQWEsbUNBQW1DLHVCQUF1QixLQUFLLCtCQUErQixLQUFLLHlCQUF5QjtBQUMvTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsb0JBQW9CLE9BQU8sMkJBQTJCLGFBQWEsVUFBVSx5QkFBeUI7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGFBQWEsU0FBUyxHQUFHO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPLDJCQUEyQixhQUFhLDZCQUE2Qiw4QkFBOEIsS0FBSyx5QkFBeUI7QUFDNUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixhQUFhLFNBQVMsR0FBRztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxPQUFPLEtBQUs7QUFDckUscUNBQXFDO0FBQ3JDLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixhQUFhO0FBQ3JDLHFDQUFxQyxrREFBa0Q7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxhbmltZVxcYW5pbWVrYWkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHNcIik7XG5jb25zdCB7IEdlbmVyYXRlVG9rZW4sIERlY29kZUlmcmFtZURhdGEgfSA9IG5ldyB1dGlsc18xLk1lZ2FVcCgpO1xuY2xhc3MgQW5pbWVLYWkgZXh0ZW5kcyBtb2RlbHNfMS5BbmltZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoY3VzdG9tQmFzZVVSTCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQW5pbWVLYWknO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9hbmltZWthaS50byc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL2FuaW1la2FpLnRvL2Fzc2V0cy91cGxvYWRzLzM3NTg1YTM5ZmU4YzhkOGZhZmFhMmM3YmZiZjUzNzRlY2FjODU5ZWE2YTAyODhhNmRhMmM2MWY1LnBuZyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ0FOSU1FLkFuaW1lS2FpJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBpZCBBbmltZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEFuaW1lSW5mbyA9IGFzeW5jIChpZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS93YXRjaC8ke2lkfWAsIHsgaGVhZGVyczogdGhpcy5IZWFkZXJzKCkgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgaW5mby50aXRsZSA9ICQoJy5lbnRpdHktc2Nyb2xsID4gLnRpdGxlJykudGV4dCgpO1xuICAgICAgICAgICAgICAgIGluZm8uamFwYW5lc2VUaXRsZSA9IChfYSA9ICQoJy5lbnRpdHktc2Nyb2xsID4gLnRpdGxlJykuYXR0cignZGF0YS1qcCcpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHJpbSgpO1xuICAgICAgICAgICAgICAgIGluZm8uaW1hZ2UgPSAkKCdkaXYucG9zdGVyID4gZGl2ID5pbWcnKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgICAgICBpbmZvLmRlc2NyaXB0aW9uID0gJCgnLmVudGl0eS1zY3JvbGwgPiAuZGVzYycpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgLy8gTW92aWUsIFRWLCBPVkEsIE9OQSwgU3BlY2lhbCwgTXVzaWNcbiAgICAgICAgICAgICAgICBpbmZvLnR5cGUgPSAkKCcuZW50aXR5LXNjcm9sbCA+IC5pbmZvJykuY2hpbGRyZW4oKS5sYXN0KCkudGV4dCgpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgaW5mby51cmwgPSBgJHt0aGlzLmJhc2VVcmx9L3dhdGNoLyR7aWR9YDtcbiAgICAgICAgICAgICAgICBpbmZvLnJlY29tbWVuZGF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICQoJ3NlY3Rpb24uc2lkZWJhci1zZWN0aW9uOm5vdCgjcmVsYXRlZC1hbmltZSkgLmFpdGVtLWNvbCAuYWl0ZW0nKS5lYWNoKChpLCBlbGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2o7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFUYWcgPSAkKGVsZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gKF9hID0gYVRhZy5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXBsYWNlKCcvd2F0Y2gvJywgJycpO1xuICAgICAgICAgICAgICAgICAgICAoX2IgPSBpbmZvLnJlY29tbWVuZGF0aW9ucykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGFUYWcuZmluZCgnLnRpdGxlJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7YVRhZy5hdHRyKCdocmVmJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX2QgPSAoX2MgPSBhVGFnLmF0dHIoJ3N0eWxlJykpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5tYXRjaCgvYmFja2dyb3VuZC1pbWFnZTpcXHMqdXJsXFwoJyguKz8pJ1xcKS8pKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBqYXBhbmVzZVRpdGxlOiAoX2UgPSBhVGFnLmZpbmQoJy50aXRsZScpLmF0dHIoJ2RhdGEtanAnKSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGFUYWcuZmluZCgnLmluZm8nKS5jaGlsZHJlbigpLmxhc3QoKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViOiBwYXJzZUludCgoX2YgPSBhVGFnLmZpbmQoJy5pbmZvIHNwYW4uc3ViJykpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi50ZXh0KCkpIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkdWI6IHBhcnNlSW50KChfZyA9IGFUYWcuZmluZCgnLmluZm8gc3Bhbi5kdWInKSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLnRleHQoKSkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVzOiBwYXJzZUludCgoX2ggPSBhVGFnLmZpbmQoJy5pbmZvJykuY2hpbGRyZW4oKS5lcSgtMikudGV4dCgpLnRyaW0oKSkgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogKF9qID0gYVRhZy5maW5kKCcuaW5mbyBzcGFuLnN1YicpKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2oudGV4dCgpKSB8fCAwLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpbmZvLnJlbGF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICQoJ3NlY3Rpb24jcmVsYXRlZC1hbmltZSAudGFiLWJvZHkgLmFpdGVtLWNvbCcpLmVhY2goKGksIGVsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfajtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZCA9ICQoZWxlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYVRhZyA9IGNhcmQuZmluZCgnYS5haXRlbScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IChfYSA9IGFUYWcuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVwbGFjZSgnL3dhdGNoLycsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgKF9iID0gaW5mby5yZWxhdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBhVGFnLmZpbmQoJy50aXRsZScpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0ke2FUYWcuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogKF9kID0gKF9jID0gYVRhZy5hdHRyKCdzdHlsZScpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MubWF0Y2goL2JhY2tncm91bmQtaW1hZ2U6XFxzKnVybFxcKCcoLis/KSdcXCkvKSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgamFwYW5lc2VUaXRsZTogKF9lID0gYVRhZy5maW5kKCcudGl0bGUnKS5hdHRyKCdkYXRhLWpwJykpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjYXJkLmZpbmQoJy5pbmZvJykuY2hpbGRyZW4oKS5lcSgtMikudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YjogcGFyc2VJbnQoKF9mID0gY2FyZC5maW5kKCcuaW5mbyBzcGFuLnN1YicpKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YudGV4dCgpKSB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHViOiBwYXJzZUludCgoX2cgPSBjYXJkLmZpbmQoJy5pbmZvIHNwYW4uZHViJykpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy50ZXh0KCkpIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvblR5cGU6IGNhcmQuZmluZCgnLmluZm8nKS5jaGlsZHJlbigpLmxhc3QoKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZXM6IHBhcnNlSW50KChfaCA9IGNhcmQuZmluZCgnLmluZm8nKS5jaGlsZHJlbigpLmVxKC0zKS50ZXh0KCkudHJpbSgpKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiAoX2ogPSBjYXJkLmZpbmQoJy5pbmZvIHNwYW4uc3ViJykpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai50ZXh0KCkpIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc1N1YiA9ICQoJy5lbnRpdHktc2Nyb2xsID4gLmluZm8gPiBzcGFuLnN1YicpLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzRHViID0gJCgnLmVudGl0eS1zY3JvbGwgPiAuaW5mbyA+IHNwYW4uZHViJykubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICBpZiAoaGFzU3ViKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZm8uc3ViT3JEdWIgPSBtb2RlbHNfMS5TdWJPclN1Yi5TVUI7XG4gICAgICAgICAgICAgICAgICAgIGluZm8uaGFzU3ViID0gaGFzU3ViO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaGFzRHViKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZm8uc3ViT3JEdWIgPSBtb2RlbHNfMS5TdWJPclN1Yi5EVUI7XG4gICAgICAgICAgICAgICAgICAgIGluZm8uaGFzRHViID0gaGFzRHViO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaGFzU3ViICYmIGhhc0R1Yikge1xuICAgICAgICAgICAgICAgICAgICBpbmZvLnN1Yk9yRHViID0gbW9kZWxzXzEuU3ViT3JTdWIuQk9USDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5mby5nZW5yZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAkKCcuZW50aXR5LXNjcm9sbCA+IC5kZXRhaWwnKVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnZGl2OmNvbnRhaW5zKFwiR2VucmVzXCIpJylcbiAgICAgICAgICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlbnJlID0gJCh0aGlzKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2VucmUgIT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gaW5mby5nZW5yZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wdXNoKGdlbnJlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKCQoJy5lbnRpdHktc2Nyb2xsID4gLmRldGFpbCcpLmZpbmQoXCJkaXY6Y29udGFpbnMoJ1N0YXR1cycpID4gc3BhblwiKS50ZXh0KCkudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdSZWxlYXNpbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ05vdCB5ZXQgYWlyZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5OT1RfWUVUX0FJUkVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV047XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5mby5zZWFzb24gPSAkKCcuZW50aXR5LXNjcm9sbCA+IC5kZXRhaWwnKS5maW5kKFwiZGl2OmNvbnRhaW5zKCdQcmVtaWVyZWQnKSA+IHNwYW5cIikudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmlfaWQgPSAkKCcucmF0ZS1ib3gjYW5pbWUtcmF0aW5nJykuYXR0cignZGF0YS1pZCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGVzQWpheCA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2FqYXgvZXBpc29kZXMvbGlzdD9hbmlfaWQ9JHthbmlfaWR9Jl89JHtHZW5lcmF0ZVRva2VuKGFuaV9pZCl9YCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiBgJHt0aGlzLmJhc2VVcmx9L3dhdGNoLyR7aWR9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuSGVhZGVycygpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShlcGlzb2Rlc0FqYXguZGF0YS5yZXN1bHQpO1xuICAgICAgICAgICAgICAgIGluZm8udG90YWxFcGlzb2RlcyA9ICQkKCdkaXYuZXBsaXN0ID4gdWwgPiBsaScpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpbmZvLmVwaXNvZGVzID0gW107XG4gICAgICAgICAgICAgICAgJCQoJ2Rpdi5lcGxpc3QgPiB1bCA+IGxpID4gYScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXBpc29kZUlkID0gYCR7aW5mby5pZH0kZXA9JHskJChlbCkuYXR0cignbnVtJyl9JHRva2VuPSR7JCQoZWwpLmF0dHIoJ3Rva2VuJyl9YDsgLy9hcHBlbmRpbmcgdG9rZW4gdG8gZXBpc29kZSBpZCwgYXMgaXQgaXMgcmVxdWlyZWQgdG8gZmV0Y2ggc2VydmVycyBrZWVwaW5nIHRoZSBzdHJ1Y3R1cmUgc2FtZSBhcyBvdGhlciBwcm92aWRlcnNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtYmVyID0gcGFyc2VJbnQoJCQoZWwpLmF0dHIoJ251bScpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSAkJChlbCkuY2hpbGRyZW4oJ3NwYW4nKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9L3dhdGNoLyR7aW5mby5pZH0keyQkKGVsKS5hdHRyKCdocmVmJyl9ZXA9JHskJChlbCkuYXR0cignbnVtJyl9YDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNGaWxsZXIgPSAkJChlbCkuaGFzQ2xhc3MoJ2ZpbGxlcicpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1N1YmJlZCA9IG51bWJlciA8PSAocGFyc2VJbnQoJCgnLmVudGl0eS1zY3JvbGwgPiAuaW5mbyA+IHNwYW4uc3ViJykudGV4dCgpLnRyaW0oKSkgfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRHViYmVkID0gbnVtYmVyIDw9IChwYXJzZUludCgkKCcuZW50aXR5LXNjcm9sbCA+IC5pbmZvID4gc3Bhbi5kdWInKS50ZXh0KCkudHJpbSgpKSB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gaW5mby5lcGlzb2RlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVwaXNvZGVJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGaWxsZXI6IGlzRmlsbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTdWJiZWQ6IGlzU3ViYmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEdWJiZWQ6IGlzRHViYmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gZXBpc29kZUlkIEVwaXNvZGUgaWRcbiAgICAgICAgICogQHBhcmFtIHNlcnZlciBzZXJ2ZXIgdHlwZSAoZGVmYXVsdCBgVmlkQ2xvdWRgKSAob3B0aW9uYWwpXG4gICAgICAgICAqIEBwYXJhbSBzdWJPckR1YiBzdWIgb3IgZHViIChkZWZhdWx0IGBTdWJPclN1Yi5TVUJgKSAob3B0aW9uYWwpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNvdXJjZXMgPSBhc3luYyAoZXBpc29kZUlkLCBzZXJ2ZXIgPSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLk1lZ2FVcCwgc3ViT3JEdWIgPSBtb2RlbHNfMS5TdWJPclN1Yi5TVUIpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBpZiAoZXBpc29kZUlkLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlclVybCA9IG5ldyBVUkwoZXBpc29kZUlkKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuTWVnYVVwOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IHNlcnZlclVybC5ocmVmIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGF3YWl0IG5ldyB1dGlsc18xLk1lZ2FVcCh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc2VydmVyVXJsKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWQ6IHNlcnZlclVybC5ocmVmLnJlcGxhY2UoL1xcL2VcXC8vLCAnL2Rvd25sb2FkLycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwuaHJlZiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihhd2FpdCBuZXcgdXRpbHNfMS5NZWdhVXAodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkOiBzZXJ2ZXJVcmwuaHJlZi5yZXBsYWNlKC9cXC9lXFwvLywgJy9kb3dubG9hZC8nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJzID0gYXdhaXQgdGhpcy5mZXRjaEVwaXNvZGVTZXJ2ZXJzKGVwaXNvZGVJZCwgc3ViT3JEdWIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBzZXJ2ZXJzLmZpbmRJbmRleChzID0+IHMubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlcnZlcikpOyAvL2ZvciBub3cgb25seSBtZWdhdXAgaXMgYXZhaWxhYmxlLCBoZW5jZSBkaXJlY3RseSB1c2luZyBpdFxuICAgICAgICAgICAgICAgIGlmIChpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciAke3NlcnZlcn0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlclVybCA9IG5ldyBVUkwoc2VydmVyc1tpXS51cmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZXMgPSBhd2FpdCB0aGlzLmZldGNoRXBpc29kZVNvdXJjZXMoc2VydmVyVXJsLmhyZWYsIHNlcnZlciwgc3ViT3JEdWIpO1xuICAgICAgICAgICAgICAgIHNvdXJjZXMuaW50cm8gPSAoX2EgPSBzZXJ2ZXJzW2ldKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW50cm87XG4gICAgICAgICAgICAgICAgc291cmNlcy5vdXRybyA9IChfYiA9IHNlcnZlcnNbaV0pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5vdXRybztcbiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHVybCBzdHJpbmdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NyYXBlQ2FyZFBhZ2UgPSBhc3luYyAodXJsKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAwLFxuICAgICAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUGFnZXM6IDAsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQodXJsLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuSGVhZGVycygpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2luYXRpb24gPSAkKCd1bC5wYWdpbmF0aW9uJyk7XG4gICAgICAgICAgICAgICAgcmVzLmN1cnJlbnRQYWdlID0gcGFyc2VJbnQocGFnaW5hdGlvbi5maW5kKCcucGFnZS1pdGVtLmFjdGl2ZSBzcGFuLnBhZ2UtbGluaycpLnRleHQoKS50cmltKCkpIHx8IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFBhZ2UgPSAoX2EgPSBwYWdpbmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcucGFnZS1pdGVtLmFjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgIC5uZXh0KClcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2EucGFnZS1saW5rJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KCdwYWdlPScpWzFdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0UGFnZSAhPSB1bmRlZmluZWQgJiYgbmV4dFBhZ2UgIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmhhc05leHRQYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdG90YWxQYWdlcyA9IChfYiA9IHBhZ2luYXRpb24uZmluZCgnLnBhZ2UtaXRlbTpsYXN0LWNoaWxkIGEucGFnZS1saW5rJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc3BsaXQoJ3BhZ2U9JylbMV07XG4gICAgICAgICAgICAgICAgaWYgKHRvdGFsUGFnZXMgPT09IHVuZGVmaW5lZCB8fCB0b3RhbFBhZ2VzID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICByZXMudG90YWxQYWdlcyA9IHJlcy5jdXJyZW50UGFnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy50b3RhbFBhZ2VzID0gcGFyc2VJbnQodG90YWxQYWdlcykgfHwgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzLnJlc3VsdHMgPSBhd2FpdCB0aGlzLnNjcmFwZUNhcmQoJCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5yZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXMuY3VycmVudFBhZ2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXMuaGFzTmV4dFBhZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnRvdGFsUGFnZXMgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gJCBjaGVlcmlvIGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjcmFwZUNhcmQgPSBhc3luYyAoJCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgICAgICAgICAgICAgJCgnLmFpdGVtJykuZWFjaCgoaSwgZWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2w7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmQgPSAkKGVsZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0YWcgPSBjYXJkLmZpbmQoJ2Rpdi5pbm5lciA+IGEnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSAoX2EgPSBhdGFnLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcGxhY2UoJy93YXRjaC8nLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSAoX2IgPSBjYXJkLmZpbmQoJy5pbmZvJykuY2hpbGRyZW4oKS5sYXN0KCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGF0YWcudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7YXRhZy5hdHRyKCdocmVmJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX2QgPSAoX2MgPSBjYXJkLmZpbmQoJ2ltZycpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYXR0cignZGF0YS1zcmMnKSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogKF9lID0gY2FyZC5maW5kKCdpbWcnKSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmF0dHIoJ3NyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBkdXJhdGlvbjogY2FyZC5maW5kKCcuZmRpLWR1cmF0aW9uJyk/LnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGphcGFuZXNlVGl0bGU6IChfZyA9IChfZiA9IGNhcmQuZmluZCgnYS50aXRsZScpKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuYXR0cignZGF0YS1qcCcpKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgbnNmdzogY2FyZC5maW5kKCcudGljay1yYXRlJyk/LnRleHQoKSA9PT0gJzE4KycgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWI6IHBhcnNlSW50KChfaCA9IGNhcmQuZmluZCgnLmluZm8gc3Bhbi5zdWInKSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLnRleHQoKSkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1YjogcGFyc2VJbnQoKF9qID0gY2FyZC5maW5kKCcuaW5mbyBzcGFuLmR1YicpKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2oudGV4dCgpKSB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZXM6IHBhcnNlSW50KChfayA9IGNhcmQuZmluZCgnLmluZm8nKS5jaGlsZHJlbigpLmVxKC0yKS50ZXh0KCkudHJpbSgpKSAhPT0gbnVsbCAmJiBfayAhPT0gdm9pZCAwID8gX2sgOiAoX2wgPSBjYXJkLmZpbmQoJy5pbmZvIHNwYW4uc3ViJykpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC50ZXh0KCkpIHx8IDAsIC8vaWYgbm8gZGlyZWN0IGVwaXNvZGUgY291bnQsIHRoZW4ganVzdCB1c2Ugc3ViIGNvdW50XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gZXBpc29kZUlkIEVwaXNvZGUgaWRcbiAgICAgICAgICogQHBhcmFtIHN1Yk9yRHViIHN1YiBvciBkdWIgKGRlZmF1bHQgYHN1YmApIChvcHRpb25hbClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU2VydmVycyA9IGFzeW5jIChlcGlzb2RlSWQsIHN1Yk9yRHViID0gbW9kZWxzXzEuU3ViT3JTdWIuU1VCKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVwaXNvZGVJZC5zdGFydHNXaXRoKHRoaXMuYmFzZVVybCArICcvYWpheCcpKVxuICAgICAgICAgICAgICAgIGVwaXNvZGVJZCA9IGAke3RoaXMuYmFzZVVybH0vYWpheC9saW5rcy9saXN0P3Rva2VuPSR7ZXBpc29kZUlkLnNwbGl0KCckdG9rZW49JylbMV19Jl89JHtHZW5lcmF0ZVRva2VuKGVwaXNvZGVJZC5zcGxpdCgnJHRva2VuPScpWzFdKX1gO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChlcGlzb2RlSWQsIHsgaGVhZGVyczogdGhpcy5IZWFkZXJzKCkgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YS5yZXN1bHQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJJdGVtcyA9ICQoYC5zZXJ2ZXItaXRlbXMubGFuZy1ncm91cFtkYXRhLWlkPVwiJHtzdWJPckR1Yn1cIl0gLnNlcnZlcmApO1xuICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHNlcnZlckl0ZW1zLm1hcChhc3luYyAoaSwgc2VydmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gJChzZXJ2ZXIpLmF0dHIoJ2RhdGEtbGlkJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vYWpheC9saW5rcy92aWV3P2lkPSR7aWR9Jl89JHtHZW5lcmF0ZVRva2VuKGlkKX1gLCB7IGhlYWRlcnM6IHRoaXMuSGVhZGVycygpIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWNvZGVkRGF0YSA9IEpTT04ucGFyc2UoRGVjb2RlSWZyYW1lRGF0YShkYXRhLnJlc3VsdCkpO1xuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYE1lZ2FVcCAkeyQoc2VydmVyKS50ZXh0KCkudHJpbSgpfWAudG9Mb3dlckNhc2UoKSwgLy9tZWdhdXAgaXMgdGhlIG9ubHkgc2VydmVyIGZvciBub3dcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZGVjb2RlZERhdGEudXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50cm86IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogZGVjb2RlZERhdGEgPT09IG51bGwgfHwgZGVjb2RlZERhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlY29kZWREYXRhLnNraXAuaW50cm9bMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBkZWNvZGVkRGF0YSA9PT0gbnVsbCB8fCBkZWNvZGVkRGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVjb2RlZERhdGEuc2tpcC5pbnRyb1sxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRybzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBkZWNvZGVkRGF0YSA9PT0gbnVsbCB8fCBkZWNvZGVkRGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVjb2RlZERhdGEuc2tpcC5vdXRyb1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IGRlY29kZWREYXRhID09PSBudWxsIHx8IGRlY29kZWREYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWNvZGVkRGF0YS5za2lwLm91dHJvWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXJ2ZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjdXN0b21CYXNlVVJMKSB7XG4gICAgICAgICAgICBpZiAoY3VzdG9tQmFzZVVSTC5zdGFydHNXaXRoKCdodHRwOi8vJykgfHwgY3VzdG9tQmFzZVVSTC5zdGFydHNXaXRoKCdodHRwczovLycpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVXJsID0gY3VzdG9tQmFzZVVSTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVVybCA9IGBodHRwOi8vJHtjdXN0b21CYXNlVVJMfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VVcmwgPSB0aGlzLmJhc2VVcmw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHF1ZXJ5IFNlYXJjaCBxdWVyeVxuICAgICAqIEBwYXJhbSBwYWdlIFBhZ2UgbnVtYmVyIChvcHRpb25hbClcbiAgICAgKi9cbiAgICBzZWFyY2gocXVlcnksIHBhZ2UgPSAxKSB7XG4gICAgICAgIGlmICgwID49IHBhZ2UpIHtcbiAgICAgICAgICAgIHBhZ2UgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmFwZUNhcmRQYWdlKGAke3RoaXMuYmFzZVVybH0vYnJvd3Nlcj9rZXl3b3JkPSR7cXVlcnkucmVwbGFjZSgvW1xcV19dKy9nLCAnKycpfSZwYWdlPSR7cGFnZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBhZ2UgbnVtYmVyXG4gICAgICovXG4gICAgZmV0Y2hMYXRlc3RDb21wbGV0ZWQocGFnZSA9IDEpIHtcbiAgICAgICAgaWYgKDAgPj0gcGFnZSkge1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyYXBlQ2FyZFBhZ2UoYCR7dGhpcy5iYXNlVXJsfS9jb21wbGV0ZWQ/cGFnZT0ke3BhZ2V9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwYWdlIG51bWJlclxuICAgICAqL1xuICAgIGZldGNoUmVjZW50bHlBZGRlZChwYWdlID0gMSkge1xuICAgICAgICBpZiAoMCA+PSBwYWdlKSB7XG4gICAgICAgICAgICBwYWdlID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zY3JhcGVDYXJkUGFnZShgJHt0aGlzLmJhc2VVcmx9L3JlY2VudD9wYWdlPSR7cGFnZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBhZ2UgbnVtYmVyXG4gICAgICovXG4gICAgZmV0Y2hSZWNlbnRseVVwZGF0ZWQocGFnZSA9IDEpIHtcbiAgICAgICAgaWYgKDAgPj0gcGFnZSkge1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyYXBlQ2FyZFBhZ2UoYCR7dGhpcy5iYXNlVXJsfS91cGRhdGVzP3BhZ2U9JHtwYWdlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcGFnZSBudW1iZXJcbiAgICAgKi9cbiAgICBmZXRjaE5ld1JlbGVhc2VzKHBhZ2UgPSAxKSB7XG4gICAgICAgIGlmICgwID49IHBhZ2UpIHtcbiAgICAgICAgICAgIHBhZ2UgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmFwZUNhcmRQYWdlKGAke3RoaXMuYmFzZVVybH0vbmV3LXJlbGVhc2VzP3BhZ2U9JHtwYWdlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcGFnZSBudW1iZXJcbiAgICAgKi9cbiAgICBmZXRjaE1vdmllKHBhZ2UgPSAxKSB7XG4gICAgICAgIGlmICgwID49IHBhZ2UpIHtcbiAgICAgICAgICAgIHBhZ2UgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmFwZUNhcmRQYWdlKGAke3RoaXMuYmFzZVVybH0vbW92aWU/cGFnZT0ke3BhZ2V9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwYWdlIG51bWJlclxuICAgICAqL1xuICAgIGZldGNoVFYocGFnZSA9IDEpIHtcbiAgICAgICAgaWYgKDAgPj0gcGFnZSkge1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyYXBlQ2FyZFBhZ2UoYCR7dGhpcy5iYXNlVXJsfS90dj9wYWdlPSR7cGFnZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBhZ2UgbnVtYmVyXG4gICAgICovXG4gICAgZmV0Y2hPVkEocGFnZSA9IDEpIHtcbiAgICAgICAgaWYgKDAgPj0gcGFnZSkge1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyYXBlQ2FyZFBhZ2UoYCR7dGhpcy5iYXNlVXJsfS9vdmE/cGFnZT0ke3BhZ2V9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwYWdlIG51bWJlclxuICAgICAqL1xuICAgIGZldGNoT05BKHBhZ2UgPSAxKSB7XG4gICAgICAgIGlmICgwID49IHBhZ2UpIHtcbiAgICAgICAgICAgIHBhZ2UgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmFwZUNhcmRQYWdlKGAke3RoaXMuYmFzZVVybH0vb25hP3BhZ2U9JHtwYWdlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcGFnZSBudW1iZXJcbiAgICAgKi9cbiAgICBmZXRjaFNwZWNpYWwocGFnZSA9IDEpIHtcbiAgICAgICAgaWYgKDAgPj0gcGFnZSkge1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyYXBlQ2FyZFBhZ2UoYCR7dGhpcy5iYXNlVXJsfS9zcGVjaWFsP3BhZ2U9JHtwYWdlfWApO1xuICAgIH1cbiAgICBhc3luYyBmZXRjaEdlbnJlcygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9ob21lYCwgeyBoZWFkZXJzOiB0aGlzLkhlYWRlcnMoKSB9KTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgY29uc3Qgc2lkZUJhciA9ICQoJyNtZW51Jyk7XG4gICAgICAgICAgICBzaWRlQmFyLmZpbmQoJ3VsLmM0IGxpIGEnKS5lYWNoKChpLCBlbGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBnZW5yZXMgPSAkKGVsZSk7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goZ2VucmVzLnRleHQoKS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwYWdlIG51bWJlclxuICAgICAqL1xuICAgIGdlbnJlU2VhcmNoKGdlbnJlLCBwYWdlID0gMSkge1xuICAgICAgICBpZiAoZ2VucmUgPT0gJycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2VucmUgaXMgZW1wdHknKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoMCA+PSBwYWdlKSB7XG4gICAgICAgICAgICBwYWdlID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zY3JhcGVDYXJkUGFnZShgJHt0aGlzLmJhc2VVcmx9L2dlbnJlcy8ke2dlbnJlfT9wYWdlPSR7cGFnZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB0aGUgc2NoZWR1bGUgZm9yIGEgZ2l2ZW4gZGF0ZS5cbiAgICAgKiBAcGFyYW0gZGF0ZSBUaGUgZGF0ZSBpbiBmb3JtYXQgJ1lZWVktTU0tREQnLiBEZWZhdWx0cyB0byB0aGUgY3VycmVudCBkYXRlLlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzZWFyY2ggcmVzdWx0cy5cbiAgICAgKi9cbiAgICBhc3luYyBmZXRjaFNjaGVkdWxlKGRhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vYWpheC9zY2hlZHVsZS9pdGVtcz90ej01LjUmdGltZT0ke01hdGguZmxvb3IobmV3IERhdGUoYCR7ZGF0ZX1UMDA6MDA6MDBaYCkuZ2V0VGltZSgpIC8gMTAwMCl9YCwgeyBoZWFkZXJzOiB0aGlzLkhlYWRlcnMoKSB9KTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEucmVzdWx0KTtcbiAgICAgICAgICAgICQoJ3VsLmNvbGxhcHNlZCBsaScpLmVhY2goKGksIGVsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gJChlbGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlRWxlbWVudCA9IGNhcmQuZmluZCgnc3Bhbi50aXRsZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGVUZXh0ID0gY2FyZC5maW5kKCdzcGFuJykubGFzdCgpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgcmVzLnJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSBjYXJkLmZpbmQoJ2EnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnLycpWzJdLCAvLyBFeHRyYWN0IGFuaW1lIElEXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZUVsZW1lbnQudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgamFwYW5lc2VUaXRsZTogdGl0bGVFbGVtZW50LmF0dHIoJ2RhdGEtanAnKSxcbiAgICAgICAgICAgICAgICAgICAgYWlyaW5nVGltZTogY2FyZC5maW5kKCdzcGFuLnRpbWUnKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICBhaXJpbmdFcGlzb2RlOiBlcGlzb2RlVGV4dC5yZXBsYWNlKCdFUCAnLCAnJyksIC8vIEV4dHJhY3QgZXBpc29kZSBudW1iZXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZldGNoU3BvdGxpZ2h0KCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0geyByZXN1bHRzOiBbXSB9O1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9ob21lYCwgeyBoZWFkZXJzOiB0aGlzLkhlYWRlcnMoKSB9KTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgJCgnZGl2LnN3aXBlci13cmFwcGVyID4gZGl2LnN3aXBlci1zbGlkZScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gJChlbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGVFbGVtZW50ID0gY2FyZC5maW5kKCdkaXYuZGV0YWlsID4gcC50aXRsZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gKF9hID0gY2FyZC5maW5kKCdkaXYuc3dpcGVyLWN0cmwgPiBhLmJ0bicpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcGxhY2UoJy93YXRjaC8nLCAnJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1nID0gY2FyZC5hdHRyKCdzdHlsZScpO1xuICAgICAgICAgICAgICAgIHJlcy5yZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZUVsZW1lbnQudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICBqYXBhbmVzZVRpdGxlOiB0aXRsZUVsZW1lbnQuYXR0cignZGF0YS1qcCcpLFxuICAgICAgICAgICAgICAgICAgICBiYW5uZXI6ICgoX2IgPSBpbWcgPT09IG51bGwgfHwgaW1nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbWcubWF0Y2goL2JhY2tncm91bmQtaW1hZ2U6XFxzKnVybFxcKFtcIiddPyguKz8pW1wiJ10/XFwpLykpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYlsxXSkgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9L3dhdGNoLyR7aWR9YCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogY2FyZC5maW5kKCdkaXYuZGV0YWlsID4gZGl2LmluZm8nKS5jaGlsZHJlbigpLmVxKC0yKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICBnZW5yZXM6IGNhcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCdkaXYuZGV0YWlsID4gZGl2LmluZm8nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5sYXN0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnLCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGdlbnJlID0+IGdlbnJlLnRyaW0oKSksXG4gICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBjYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnZGl2LmRldGFpbCA+IGRpdi5taWNzID5kaXY6Y29udGFpbnMoXCJSZWxlYXNlXCIpJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZHJlbignc3BhbicpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiBjYXJkLmZpbmQoJ2Rpdi5kZXRhaWwgPiBkaXYubWljcyA+ZGl2OmNvbnRhaW5zKFwiUXVhbGl0eVwiKScpLmNoaWxkcmVuKCdzcGFuJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgc3ViOiBwYXJzZUludChjYXJkLmZpbmQoJ2Rpdi5kZXRhaWwgPiBkaXYuaW5mbyA+IHNwYW4uc3ViJykudGV4dCgpLnRyaW0oKSkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgZHViOiBwYXJzZUludChjYXJkLmZpbmQoJ2Rpdi5kZXRhaWwgPiBkaXYuaW5mbyA+IHNwYW4uZHViJykudGV4dCgpLnRyaW0oKSkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGNhcmQuZmluZCgnZGl2LmRldGFpbCA+IHAuZGVzYycpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZldGNoU2VhcmNoU3VnZ2VzdGlvbnMocXVlcnkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vYWpheC9hbmltZS9zZWFyY2g/a2V5d29yZD0ke3F1ZXJ5LnJlcGxhY2UoL1tcXFdfXSsvZywgJysnKX1gLCB7IGhlYWRlcnM6IHRoaXMuSGVhZGVycygpIH0pO1xuICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YS5yZXN1bHQuaHRtbCk7XG4gICAgICAgICAgICBjb25zdCByZXMgPSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJCgnYS5haXRlbScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gJChlbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBjYXJkLmZpbmQoJy5wb3N0ZXIgaW1nJykuYXR0cignc3JjJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGVFbGVtZW50ID0gY2FyZC5maW5kKCcudGl0bGUnKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IHRpdGxlRWxlbWVudC50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGphcGFuZXNlVGl0bGUgPSB0aXRsZUVsZW1lbnQuYXR0cignZGF0YS1qcCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gKF9hID0gY2FyZC5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnLycpWzJdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHllYXIgPSBjYXJkLmZpbmQoJy5pbmZvJykuY2hpbGRyZW4oKS5lcSgtMikudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gY2FyZC5maW5kKCcuaW5mbycpLmNoaWxkcmVuKCkuZXEoLTMpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViID0gcGFyc2VJbnQoKF9iID0gY2FyZC5maW5kKCcuaW5mbyBzcGFuLnN1YicpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudGV4dCgpKSB8fCAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1YiA9IHBhcnNlSW50KChfYyA9IGNhcmQuZmluZCgnLmluZm8gc3Bhbi5kdWInKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRleHQoKSkgfHwgMDtcbiAgICAgICAgICAgICAgICBjb25zdCBlcGlzb2RlcyA9IHBhcnNlSW50KChfZCA9IGNhcmQuZmluZCgnLmluZm8nKS5jaGlsZHJlbigpLmVxKC00KS50ZXh0KCkudHJpbSgpKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAoX2UgPSBjYXJkLmZpbmQoJy5pbmZvIHNwYW4uc3ViJykpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS50ZXh0KCkpIHx8IDA7XG4gICAgICAgICAgICAgICAgcmVzLnJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0vd2F0Y2gvJHtpZH1gLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgIGphcGFuZXNlVGl0bGU6IGphcGFuZXNlVGl0bGUgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgeWVhcjogeWVhcixcbiAgICAgICAgICAgICAgICAgICAgc3ViOiBzdWIsXG4gICAgICAgICAgICAgICAgICAgIGR1YjogZHViLFxuICAgICAgICAgICAgICAgICAgICBlcGlzb2RlczogZXBpc29kZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEhlYWRlcnMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0OyBydjoxMzQuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC8xMzQuMCcsXG4gICAgICAgICAgICBBY2NlcHQ6ICd0ZXh0L2h0bWwsICovKjsgcT0wLjAxJyxcbiAgICAgICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjUnLFxuICAgICAgICAgICAgJ1NlYy1HUEMnOiAnMScsXG4gICAgICAgICAgICAnU2VjLUZldGNoLURlc3QnOiAnZW1wdHknLFxuICAgICAgICAgICAgJ1NlYy1GZXRjaC1Nb2RlJzogJ2NvcnMnLFxuICAgICAgICAgICAgJ1NlYy1GZXRjaC1TaXRlJzogJ3NhbWUtb3JpZ2luJyxcbiAgICAgICAgICAgIFByaW9yaXR5OiAndT0wJyxcbiAgICAgICAgICAgIFByYWdtYTogJ25vLWNhY2hlJyxcbiAgICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgICAgICAgIFJlZmVyZXI6IGAke3RoaXMuYmFzZVVybH0vYCxcbiAgICAgICAgICAgIENvb2tpZTogJ3VzZXJ0eXBlPWd1ZXN0OyBzZXNzaW9uPWh4WW5lMEJOWGd1TWM4eksxRkhxUUtYUG1tb0FOekJCT3VOUE02NGE7IGNmX2NsZWFyYW5jZT1XZkdXVjFiS0dBYU55U2JoLnl6Q3l1b2JCT3RqZzBuY2ZQd01odHN2c3JzLTE3Mzc2MTEwOTgtMS4yLjEuMS16V0hjYXl0dW9rakZUS2JDQXhuU1BEY19CV0FldWJwZjlUQUFWZnVKMnZadXlZWEJ5cVpCWEFaRGxfVklMd2tPNU5PTGNrOE4wQzR1UXI0eUdMYlhSY1pfN2pmV1V2ZlBHYXlUQURRTHVoLlNILjdidmhDN0RteHJNR1o4U1cuaEdLRVF6UkpmOE43aDZaWjI3R015cU9mejF6ZnJPaXU5VzMwRGhFdFcyTjdGQVhVUHJkb2x5S2pDc1AxQUszRHFzRHRZT2lpUE5MbnU0N2wuenhLODBYb2dmQlJRa2lHZWNDQmFlRE9KSGVuam4uX1pneWtrci5GXzJiajJDM0FTM0E1bUNwWlNsV0s1bHFoVjZqUVNRTEY5d0tXaXRIeWUzOVYuNk5vRTNSRScsXG4gICAgICAgIH07XG4gICAgfVxufVxuLy8oYXN5bmMgKCkgPT4ge1xuLy8gIGNvbnN0IGFuaW1la2FpID0gbmV3IEFuaW1lS2FpKCk7XG4vLyAgY29uc3QgYW5pbWUgPSBhd2FpdCBhbmltZWthaS5zZWFyY2goJ2RhbmRhZGFuJyk7XG4vLyAgY29uc3QgaW5mbyA9IGF3YWl0IGFuaW1la2FpLmZldGNoQW5pbWVJbmZvKCdzb2xvLWxldmVsaW5nLXNlYXNvbi0yLWFyaXNlLWZyb20tdGhlLXNoYWRvdy14N3JxJyk7XG4vLyAgY29uc29sZS5sb2coaW5mby5lcGlzb2Rlcyk7XG4vLyAgY29uc3Qgc291cmNlcyA9IGF3YWl0IGFuaW1la2FpLmZldGNoRXBpc29kZVNvdXJjZXMoaW5mbz8uZXBpc29kZXMhWzBdLmlkISk7XG4vLyAgY29uc29sZS5sb2coc291cmNlcyk7XG4vL30pKCk7XG5leHBvcnRzLmRlZmF1bHQgPSBBbmltZUthaTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuaW1la2FpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animekai.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animepahe.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/animepahe.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nclass AnimePahe extends models_1.AnimeParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'AnimePahe';\n        this.baseUrl = 'https://animepahe.ru';\n        this.logo = 'https://animepahe.com/pikacon.ico';\n        this.classPath = 'ANIME.AnimePahe';\n        // private readonly sgProxy = 'https://cors.consumet.stream';\n        /**\n         * @param query Search query\n         */\n        this.search = async (query) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/api?m=search&q=${encodeURIComponent(query)}`, {\n                    headers: this.Headers(false),\n                });\n                const res = {\n                    results: data.data.map((item) => ({\n                        id: item.session,\n                        title: item.title,\n                        image: item.poster,\n                        rating: item.score,\n                        releaseDate: item.year,\n                        type: item.type,\n                    })),\n                };\n                return res;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         * @param id id format id/session\n         * @param episodePage Episode page number (optional) default: -1 to get all episodes. number of episode pages can be found in the anime info object\n         */\n        this.fetchAnimeInfo = async (id, episodePage = -1) => {\n            const animeInfo = {\n                id: id,\n                title: '',\n            };\n            try {\n                const res = await this.client.get(`${this.baseUrl}/anime/${id}`, { headers: this.Headers(id) });\n                const $ = (0, cheerio_1.load)(res.data);\n                animeInfo.title = $('div.title-wrapper > h1 > span').first().text();\n                animeInfo.image = $('div.anime-poster a').attr('href');\n                animeInfo.cover = `https:${$('div.anime-cover').attr('data-src')}`;\n                animeInfo.description = $('div.anime-summary').text().trim();\n                animeInfo.genres = $('div.anime-genre ul li')\n                    .map((i, el) => $(el).find('a').attr('title'))\n                    .get();\n                animeInfo.hasSub = true;\n                animeInfo.externalLinks = [];\n                $('p.external-links > a').each((i, el) => {\n                    var _a, _b;\n                    const url = (_a = $(el).attr('href')) === null || _a === void 0 ? void 0 : _a.trim();\n                    (_b = animeInfo.externalLinks) === null || _b === void 0 ? void 0 : _b.push({\n                        id: (url === null || url === void 0 ? void 0 : url.includes('?')) ? url === null || url === void 0 ? void 0 : url.split('?')[1].split('=')[1] : url === null || url === void 0 ? void 0 : url.split('/').pop(),\n                        url: url,\n                        sourceName: $(el).text().trim(),\n                    });\n                });\n                switch ($('div.anime-info p:icontains(\"Status:\") a').text().trim()) {\n                    case 'Currently Airing':\n                        animeInfo.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    case 'Finished Airing':\n                        animeInfo.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                    default:\n                        animeInfo.status = models_1.MediaStatus.UNKNOWN;\n                }\n                animeInfo.type = $('div.anime-info > p:contains(\"Type:\") > a')\n                    .text()\n                    .trim()\n                    .toUpperCase();\n                animeInfo.releaseDate = $('div.anime-info > p:contains(\"Aired:\")')\n                    .text()\n                    .split('to')[0]\n                    .replace('Aired:', '')\n                    .trim();\n                animeInfo.studios = $('div.anime-info > p:contains(\"Studio:\")')\n                    .text()\n                    .replace('Studio:', '')\n                    .trim()\n                    .split('\\n');\n                animeInfo.totalEpisodes = parseInt($('div.anime-info > p:contains(\"Episodes:\")').text().replace('Episodes:', ''));\n                animeInfo.recommendations = [];\n                $('div.anime-recommendation .col-sm-6').each((i, el) => {\n                    var _a, _b, _c;\n                    (_a = animeInfo.recommendations) === null || _a === void 0 ? void 0 : _a.push({\n                        id: (_b = $(el).find('.col-2 > a').attr('href')) === null || _b === void 0 ? void 0 : _b.split('/')[2],\n                        title: $(el).find('.col-2 > a').attr('title'),\n                        image: $(el).find('.col-2 > a > img').attr('src') || $(el).find('.col-2 > a > img').attr('data-src'),\n                        url: `${this.baseUrl}/anime/${(_c = $(el).find('.col-2 > a').attr('href')) === null || _c === void 0 ? void 0 : _c.split('/')[2]}`,\n                        releaseDate: $(el).find('div.col-9 > a').text().trim(),\n                        status: $(el).find('div.col-9 > strong').text().trim(),\n                    });\n                });\n                animeInfo.relations = [];\n                $('div.anime-relation .col-sm-6').each((i, el) => {\n                    var _a, _b, _c;\n                    (_a = animeInfo.relations) === null || _a === void 0 ? void 0 : _a.push({\n                        id: (_b = $(el).find('.col-2 > a').attr('href')) === null || _b === void 0 ? void 0 : _b.split('/')[2],\n                        title: $(el).find('.col-2 > a').attr('title'),\n                        image: $(el).find('.col-2 > a > img').attr('src') || $(el).find('.col-2 > a > img').attr('data-src'),\n                        url: `${this.baseUrl}/anime/${(_c = $(el).find('.col-2 > a').attr('href')) === null || _c === void 0 ? void 0 : _c.split('/')[2]}`,\n                        releaseDate: $(el).find('div.col-9 > a').text().trim(),\n                        status: $(el).find('div.col-9 > strong').text().trim(),\n                        relationType: $(el).find('h4 > span').text().trim(),\n                    });\n                });\n                animeInfo.episodes = [];\n                if (episodePage < 0) {\n                    const { data: { last_page, data }, } = await this.client.get(`${this.baseUrl}/api?m=release&id=${id}&sort=episode_asc&page=1`, {\n                        headers: this.Headers(id),\n                    });\n                    animeInfo.episodePages = last_page;\n                    animeInfo.episodes.push(...data.map((item) => ({\n                        id: `${id}/${item.session}`,\n                        number: item.episode,\n                        title: item.title,\n                        image: item.snapshot,\n                        duration: item.duration,\n                        url: `${this.baseUrl}/play/${id}/${item.session}`,\n                    })));\n                    for (let i = 1; i < last_page; i++) {\n                        animeInfo.episodes.push(...(await this.fetchEpisodes(id, i + 1)));\n                    }\n                }\n                else {\n                    animeInfo.episodes.push(...(await this.fetchEpisodes(id, episodePage)));\n                }\n                return animeInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId episode id\n         */\n        this.fetchEpisodeSources = async (episodeId) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/play/${episodeId}`, {\n                    headers: this.Headers(episodeId.split('/')[0]),\n                });\n                const $ = (0, cheerio_1.load)(data);\n                const links = $('div#resolutionMenu > button').map((i, el) => ({\n                    url: $(el).attr('data-src'),\n                    quality: $(el).text(),\n                    audio: $(el).attr('data-audio'),\n                }));\n                const downloads = $('div#pickDownload > a')\n                    .map((i, el) => ({\n                    url: $(el).attr('href'),\n                    quality: $(el).text(),\n                }))\n                    .get();\n                const iSource = {\n                    headers: {\n                        Referer: 'https://kwik.cx/',\n                    },\n                    sources: [],\n                };\n                for (const link of links) {\n                    const res = await new extractors_1.Kwik(this.proxyConfig).extract(new URL(link.url));\n                    res[0].quality = link.quality;\n                    res[0].isDub = link.audio === 'eng';\n                    iSource.sources.push(res[0]);\n                }\n                iSource.download = downloads;\n                return iSource;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchEpisodes = async (session, page) => {\n            const res = await this.client.get(`${this.baseUrl}/api?m=release&id=${session}&sort=episode_asc&page=${page}`, { headers: this.Headers(session) });\n            const epData = res.data.data;\n            return [\n                ...epData.map((item) => ({\n                    id: `${session}/${item.session}`,\n                    number: item.episode,\n                    title: item.title,\n                    image: item.snapshot,\n                    duration: item.duration,\n                    url: `${this.baseUrl}/play/${session}/${item.session}`,\n                })),\n            ];\n        };\n        /**\n         * @deprecated\n         * @attention AnimePahe doesn't support this method\n         */\n        this.fetchEpisodeServers = (episodeLink) => {\n            throw new Error('Method not implemented.');\n        };\n    }\n    Headers(sessionId) {\n        return {\n            authority: 'animepahe.ru',\n            accept: 'application/json, text/javascript, */*; q=0.01',\n            'accept-language': 'en-US,en;q=0.9',\n            cookie: '__ddg2_=;',\n            dnt: '1',\n            'sec-ch-ua': '\"Not A(Brand\";v=\"99\", \"Microsoft Edge\";v=\"121\", \"Chromium\";v=\"121\"',\n            'sec-ch-ua-mobile': '?0',\n            'sec-ch-ua-platform': '\"Windows\"',\n            'sec-fetch-dest': 'empty',\n            'sec-fetch-mode': 'cors',\n            'sec-fetch-site': 'same-origin',\n            'x-requested-with': 'XMLHttpRequest',\n            referer: sessionId ? `${this.baseUrl}/anime/${sessionId}` : `${this.baseUrl}`,\n            'user-agent': utils_1.USER_AGENT,\n        };\n    }\n}\nexports[\"default\"] = AnimePahe;\n// (async () => {\n//   const animepahe = new AnimePahe();\n//   const anime = await animepahe.search('Classroom of the elite');\n//   const info = await animepahe.fetchAnimeInfo(anime.results[0].id);\n//   // console.log(info);\n//   const sources = await animepahe.fetchEpisodeSources(info.episodes![0].id);\n//   console.log(sources);\n// })();\n//# sourceMappingURL=animepahe.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvYW5pbWVwYWhlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLDRGQUFrQjtBQUMvQyxnQkFBZ0IsbUJBQU8sQ0FBQyxrRkFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLGtCQUFrQiwwQkFBMEI7QUFDbkg7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELGFBQWEsU0FBUyxHQUFHLEtBQUssMkJBQTJCO0FBQzlHO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxzQ0FBc0M7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxTQUFTLG1HQUFtRztBQUN6SjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLFNBQVMsbUdBQW1HO0FBQ3pKO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBLDRCQUE0QixRQUFRLGlCQUFpQixJQUFJLDJCQUEyQixhQUFhLG9CQUFvQixHQUFHO0FBQ3hIO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSwrQkFBK0IsR0FBRyxHQUFHLGFBQWE7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxRQUFRLEdBQUcsR0FBRyxhQUFhO0FBQ3hFLHFCQUFxQjtBQUNyQixvQ0FBb0MsZUFBZTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxRQUFRLFVBQVU7QUFDekY7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxhQUFhLG9CQUFvQixRQUFRLHlCQUF5QixLQUFLLEtBQUssZ0NBQWdDO0FBQzdKO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixRQUFRLEdBQUcsYUFBYTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixhQUFhLFFBQVEsUUFBUSxHQUFHLGFBQWE7QUFDekUsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdELHlDQUF5QztBQUN6Qyw4QkFBOEI7QUFDOUI7QUFDQSx3Q0FBd0MseUJBQXlCLG9CQUFvQjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsYUFBYSxTQUFTLFVBQVUsT0FBTyxhQUFhO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxhbmltZVxcYW5pbWVwYWhlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2hlZXJpb18xID0gcmVxdWlyZShcImNoZWVyaW9cIik7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHNcIik7XG5jb25zdCBleHRyYWN0b3JzXzEgPSByZXF1aXJlKFwiLi4vLi4vZXh0cmFjdG9yc1wiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHNcIik7XG5jbGFzcyBBbmltZVBhaGUgZXh0ZW5kcyBtb2RlbHNfMS5BbmltZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdBbmltZVBhaGUnO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9hbmltZXBhaGUucnUnO1xuICAgICAgICB0aGlzLmxvZ28gPSAnaHR0cHM6Ly9hbmltZXBhaGUuY29tL3Bpa2Fjb24uaWNvJztcbiAgICAgICAgdGhpcy5jbGFzc1BhdGggPSAnQU5JTUUuQW5pbWVQYWhlJztcbiAgICAgICAgLy8gcHJpdmF0ZSByZWFkb25seSBzZ1Byb3h5ID0gJ2h0dHBzOi8vY29ycy5jb25zdW1ldC5zdHJlYW0nO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHF1ZXJ5IFNlYXJjaCBxdWVyeVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocXVlcnkpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9hcGk/bT1zZWFyY2gmcT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9YCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLkhlYWRlcnMoZmFsc2UpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogZGF0YS5kYXRhLm1hcCgoaXRlbSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnNlc3Npb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBpdGVtLnBvc3RlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZzogaXRlbS5zY29yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBpdGVtLnllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBpZCBpZCBmb3JtYXQgaWQvc2Vzc2lvblxuICAgICAgICAgKiBAcGFyYW0gZXBpc29kZVBhZ2UgRXBpc29kZSBwYWdlIG51bWJlciAob3B0aW9uYWwpIGRlZmF1bHQ6IC0xIHRvIGdldCBhbGwgZXBpc29kZXMuIG51bWJlciBvZiBlcGlzb2RlIHBhZ2VzIGNhbiBiZSBmb3VuZCBpbiB0aGUgYW5pbWUgaW5mbyBvYmplY3RcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hBbmltZUluZm8gPSBhc3luYyAoaWQsIGVwaXNvZGVQYWdlID0gLTEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1lSW5mbyA9IHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vYW5pbWUvJHtpZH1gLCB7IGhlYWRlcnM6IHRoaXMuSGVhZGVycyhpZCkgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby50aXRsZSA9ICQoJ2Rpdi50aXRsZS13cmFwcGVyID4gaDEgPiBzcGFuJykuZmlyc3QoKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLmltYWdlID0gJCgnZGl2LmFuaW1lLXBvc3RlciBhJykuYXR0cignaHJlZicpO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5jb3ZlciA9IGBodHRwczokeyQoJ2Rpdi5hbmltZS1jb3ZlcicpLmF0dHIoJ2RhdGEtc3JjJyl9YDtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uZGVzY3JpcHRpb24gPSAkKCdkaXYuYW5pbWUtc3VtbWFyeScpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLmdlbnJlcyA9ICQoJ2Rpdi5hbmltZS1nZW5yZSB1bCBsaScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiAkKGVsKS5maW5kKCdhJykuYXR0cigndGl0bGUnKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5oYXNTdWIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5leHRlcm5hbExpbmtzID0gW107XG4gICAgICAgICAgICAgICAgJCgncC5leHRlcm5hbC1saW5rcyA+IGEnKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSAoX2EgPSAkKGVsKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIChfYiA9IGFuaW1lSW5mby5leHRlcm5hbExpbmtzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKHVybCA9PT0gbnVsbCB8fCB1cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVybC5pbmNsdWRlcygnPycpKSA/IHVybCA9PT0gbnVsbCB8fCB1cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVybC5zcGxpdCgnPycpWzFdLnNwbGl0KCc9JylbMV0gOiB1cmwgPT09IG51bGwgfHwgdXJsID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1cmwuc3BsaXQoJy8nKS5wb3AoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlTmFtZTogJChlbCkudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3dpdGNoICgkKCdkaXYuYW5pbWUtaW5mbyBwOmljb250YWlucyhcIlN0YXR1czpcIikgYScpLnRleHQoKS50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnQ3VycmVudGx5IEFpcmluZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lORztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdGaW5pc2hlZCBBaXJpbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV047XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFuaW1lSW5mby50eXBlID0gJCgnZGl2LmFuaW1lLWluZm8gPiBwOmNvbnRhaW5zKFwiVHlwZTpcIikgPiBhJylcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5yZWxlYXNlRGF0ZSA9ICQoJ2Rpdi5hbmltZS1pbmZvID4gcDpjb250YWlucyhcIkFpcmVkOlwiKScpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCd0bycpWzBdXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCdBaXJlZDonLCAnJylcbiAgICAgICAgICAgICAgICAgICAgLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uc3R1ZGlvcyA9ICQoJ2Rpdi5hbmltZS1pbmZvID4gcDpjb250YWlucyhcIlN0dWRpbzpcIiknKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCdTdHVkaW86JywgJycpXG4gICAgICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8udG90YWxFcGlzb2RlcyA9IHBhcnNlSW50KCQoJ2Rpdi5hbmltZS1pbmZvID4gcDpjb250YWlucyhcIkVwaXNvZGVzOlwiKScpLnRleHQoKS5yZXBsYWNlKCdFcGlzb2RlczonLCAnJykpO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5yZWNvbW1lbmRhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAkKCdkaXYuYW5pbWUtcmVjb21tZW5kYXRpb24gLmNvbC1zbS02JykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGFuaW1lSW5mby5yZWNvbW1lbmRhdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2IgPSAkKGVsKS5maW5kKCcuY29sLTIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc3BsaXQoJy8nKVsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCcuY29sLTIgPiBhJykuYXR0cigndGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCcuY29sLTIgPiBhID4gaW1nJykuYXR0cignc3JjJykgfHwgJChlbCkuZmluZCgnLmNvbC0yID4gYSA+IGltZycpLmF0dHIoJ2RhdGEtc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0vYW5pbWUvJHsoX2MgPSAkKGVsKS5maW5kKCcuY29sLTIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc3BsaXQoJy8nKVsyXX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6ICQoZWwpLmZpbmQoJ2Rpdi5jb2wtOSA+IGEnKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAkKGVsKS5maW5kKCdkaXYuY29sLTkgPiBzdHJvbmcnKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8ucmVsYXRpb25zID0gW107XG4gICAgICAgICAgICAgICAgJCgnZGl2LmFuaW1lLXJlbGF0aW9uIC5jb2wtc20tNicpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBhbmltZUluZm8ucmVsYXRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9iID0gJChlbCkuZmluZCgnLmNvbC0yID4gYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNwbGl0KCcvJylbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbCkuZmluZCgnLmNvbC0yID4gYScpLmF0dHIoJ3RpdGxlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnLmNvbC0yID4gYSA+IGltZycpLmF0dHIoJ3NyYycpIHx8ICQoZWwpLmZpbmQoJy5jb2wtMiA+IGEgPiBpbWcnKS5hdHRyKCdkYXRhLXNyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9L2FuaW1lLyR7KF9jID0gJChlbCkuZmluZCgnLmNvbC0yID4gYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnNwbGl0KCcvJylbMl19YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiAkKGVsKS5maW5kKCdkaXYuY29sLTkgPiBhJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJChlbCkuZmluZCgnZGl2LmNvbC05ID4gc3Ryb25nJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uVHlwZTogJChlbCkuZmluZCgnaDQgPiBzcGFuJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLmVwaXNvZGVzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKGVwaXNvZGVQYWdlIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGE6IHsgbGFzdF9wYWdlLCBkYXRhIH0sIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9hcGk/bT1yZWxlYXNlJmlkPSR7aWR9JnNvcnQ9ZXBpc29kZV9hc2MmcGFnZT0xYCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5IZWFkZXJzKGlkKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5lcGlzb2RlUGFnZXMgPSBsYXN0X3BhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5lcGlzb2Rlcy5wdXNoKC4uLmRhdGEubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGAke2lkfS8ke2l0ZW0uc2Vzc2lvbn1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdGVtLmVwaXNvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBpdGVtLnNuYXBzaG90LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGl0ZW0uZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0vcGxheS8ke2lkfS8ke2l0ZW0uc2Vzc2lvbn1gLFxuICAgICAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxhc3RfcGFnZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uZXBpc29kZXMucHVzaCguLi4oYXdhaXQgdGhpcy5mZXRjaEVwaXNvZGVzKGlkLCBpICsgMSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLmVwaXNvZGVzLnB1c2goLi4uKGF3YWl0IHRoaXMuZmV0Y2hFcGlzb2RlcyhpZCwgZXBpc29kZVBhZ2UpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhbmltZUluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgZXBpc29kZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzID0gYXN5bmMgKGVwaXNvZGVJZCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L3BsYXkvJHtlcGlzb2RlSWR9YCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLkhlYWRlcnMoZXBpc29kZUlkLnNwbGl0KCcvJylbMF0pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtzID0gJCgnZGl2I3Jlc29sdXRpb25NZW51ID4gYnV0dG9uJykubWFwKChpLCBlbCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKGVsKS5hdHRyKCdkYXRhLXNyYycpLFxuICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiAkKGVsKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvOiAkKGVsKS5hdHRyKCdkYXRhLWF1ZGlvJyksXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvd25sb2FkcyA9ICQoJ2RpdiNwaWNrRG93bmxvYWQgPiBhJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJChlbCkuYXR0cignaHJlZicpLFxuICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiAkKGVsKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpU291cmNlID0ge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiAnaHR0cHM6Ly9rd2lrLmN4LycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBsaW5rIG9mIGxpbmtzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuS3dpayh0aGlzLnByb3h5Q29uZmlnKS5leHRyYWN0KG5ldyBVUkwobGluay51cmwpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzWzBdLnF1YWxpdHkgPSBsaW5rLnF1YWxpdHk7XG4gICAgICAgICAgICAgICAgICAgIHJlc1swXS5pc0R1YiA9IGxpbmsuYXVkaW8gPT09ICdlbmcnO1xuICAgICAgICAgICAgICAgICAgICBpU291cmNlLnNvdXJjZXMucHVzaChyZXNbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpU291cmNlLmRvd25sb2FkID0gZG93bmxvYWRzO1xuICAgICAgICAgICAgICAgIHJldHVybiBpU291cmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlcyA9IGFzeW5jIChzZXNzaW9uLCBwYWdlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9hcGk/bT1yZWxlYXNlJmlkPSR7c2Vzc2lvbn0mc29ydD1lcGlzb2RlX2FzYyZwYWdlPSR7cGFnZX1gLCB7IGhlYWRlcnM6IHRoaXMuSGVhZGVycyhzZXNzaW9uKSB9KTtcbiAgICAgICAgICAgIGNvbnN0IGVwRGF0YSA9IHJlcy5kYXRhLmRhdGE7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIC4uLmVwRGF0YS5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBgJHtzZXNzaW9ufS8ke2l0ZW0uc2Vzc2lvbn1gLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGl0ZW0uZXBpc29kZSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiBpdGVtLnNuYXBzaG90LFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogaXRlbS5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9L3BsYXkvJHtzZXNzaW9ufS8ke2l0ZW0uc2Vzc2lvbn1gLFxuICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAgICAgKiBAYXR0ZW50aW9uIEFuaW1lUGFoZSBkb2Vzbid0IHN1cHBvcnQgdGhpcyBtZXRob2RcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU2VydmVycyA9IChlcGlzb2RlTGluaykgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBIZWFkZXJzKHNlc3Npb25JZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXV0aG9yaXR5OiAnYW5pbWVwYWhlLnJ1JyxcbiAgICAgICAgICAgIGFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCwgKi8qOyBxPTAuMDEnLFxuICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdlbi1VUyxlbjtxPTAuOScsXG4gICAgICAgICAgICBjb29raWU6ICdfX2RkZzJfPTsnLFxuICAgICAgICAgICAgZG50OiAnMScsXG4gICAgICAgICAgICAnc2VjLWNoLXVhJzogJ1wiTm90IEEoQnJhbmRcIjt2PVwiOTlcIiwgXCJNaWNyb3NvZnQgRWRnZVwiO3Y9XCIxMjFcIiwgXCJDaHJvbWl1bVwiO3Y9XCIxMjFcIicsXG4gICAgICAgICAgICAnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MCcsXG4gICAgICAgICAgICAnc2VjLWNoLXVhLXBsYXRmb3JtJzogJ1wiV2luZG93c1wiJyxcbiAgICAgICAgICAgICdzZWMtZmV0Y2gtZGVzdCc6ICdlbXB0eScsXG4gICAgICAgICAgICAnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsXG4gICAgICAgICAgICAnc2VjLWZldGNoLXNpdGUnOiAnc2FtZS1vcmlnaW4nLFxuICAgICAgICAgICAgJ3gtcmVxdWVzdGVkLXdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLFxuICAgICAgICAgICAgcmVmZXJlcjogc2Vzc2lvbklkID8gYCR7dGhpcy5iYXNlVXJsfS9hbmltZS8ke3Nlc3Npb25JZH1gIDogYCR7dGhpcy5iYXNlVXJsfWAsXG4gICAgICAgICAgICAndXNlci1hZ2VudCc6IHV0aWxzXzEuVVNFUl9BR0VOVCxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBBbmltZVBhaGU7XG4vLyAoYXN5bmMgKCkgPT4ge1xuLy8gICBjb25zdCBhbmltZXBhaGUgPSBuZXcgQW5pbWVQYWhlKCk7XG4vLyAgIGNvbnN0IGFuaW1lID0gYXdhaXQgYW5pbWVwYWhlLnNlYXJjaCgnQ2xhc3Nyb29tIG9mIHRoZSBlbGl0ZScpO1xuLy8gICBjb25zdCBpbmZvID0gYXdhaXQgYW5pbWVwYWhlLmZldGNoQW5pbWVJbmZvKGFuaW1lLnJlc3VsdHNbMF0uaWQpO1xuLy8gICAvLyBjb25zb2xlLmxvZyhpbmZvKTtcbi8vICAgY29uc3Qgc291cmNlcyA9IGF3YWl0IGFuaW1lcGFoZS5mZXRjaEVwaXNvZGVTb3VyY2VzKGluZm8uZXBpc29kZXMhWzBdLmlkKTtcbi8vICAgY29uc29sZS5sb2coc291cmNlcyk7XG4vLyB9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5pbWVwYWhlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animepahe.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animesaturn.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/animesaturn.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nclass AnimeSaturn extends models_1.AnimeParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'AnimeSaturn';\n        this.baseUrl = 'https://www.animesaturn.tv/';\n        this.logo = 'https://www.animesaturn.tv/immagini/favicon-32x32.png';\n        this.classPath = 'ANIME.AnimeSaturn';\n        /**\n         * @param query Search query\n         */\n        this.search = async (query) => {\n            // baseUrl/animelist?search={query}\n            const data = await this.client.get(`${this.baseUrl}animelist?search=${query}`);\n            const $ = await (0, cheerio_1.load)(data.data);\n            if (!$)\n                return { results: [] };\n            const res = {\n                hasNextPage: false,\n                results: [],\n            };\n            $('ul.list-group li').each((i, element) => {\n                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n                const item = {\n                    id: (_e = (_d = (_c = (_b = (_a = $(element)) === null || _a === void 0 ? void 0 : _a.find('a.thumb')) === null || _b === void 0 ? void 0 : _b.attr('href')) === null || _c === void 0 ? void 0 : _c.split('/')) === null || _d === void 0 ? void 0 : _d.pop()) !== null && _e !== void 0 ? _e : '',\n                    title: (_g = (_f = $(element)) === null || _f === void 0 ? void 0 : _f.find('h3 a')) === null || _g === void 0 ? void 0 : _g.text(),\n                    image: (_j = (_h = $(element)) === null || _h === void 0 ? void 0 : _h.find('img.copertina-archivio')) === null || _j === void 0 ? void 0 : _j.attr('src'),\n                    url: (_l = (_k = $(element)) === null || _k === void 0 ? void 0 : _k.find('h3 a')) === null || _l === void 0 ? void 0 : _l.attr('href'),\n                };\n                if (!item.id)\n                    throw new Error('Invalid id');\n                res.results.push(item);\n            });\n            return res;\n        };\n        /**\n         * @param id Anime id\n         */\n        this.fetchAnimeInfo = async (id) => {\n            var _a, _b, _c, _d, _e, _f, _g, _h;\n            const data = await this.client.get(`${this.baseUrl}anime/${id}`);\n            const $ = await (0, cheerio_1.load)(data.data);\n            const info = {\n                id,\n                title: $('div.container.anime-title-as> b').text(),\n                malID: (_a = $('a[href^=\"https://myanimelist.net/anime/\"]').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(30, -1),\n                alID: (_b = $('a[href^=\"https://anilist.co/anime/\"]').attr('href')) === null || _b === void 0 ? void 0 : _b.slice(25, -1),\n                genres: (_d = (_c = $('div.container a.badge.badge-light')) === null || _c === void 0 ? void 0 : _c.map((i, element) => {\n                    return $(element).text();\n                }).toArray()) !== null && _d !== void 0 ? _d : undefined,\n                image: ((_e = $('img.img-fluid')) === null || _e === void 0 ? void 0 : _e.attr('src')) || undefined,\n                cover: ((_h = (_g = (_f = $('div.banner')) === null || _f === void 0 ? void 0 : _f.attr('style')) === null || _g === void 0 ? void 0 : _g.match(/background:\\s*url\\(['\"]?([^'\")]+)['\"]?\\)/i)) === null || _h === void 0 ? void 0 : _h[1]) || undefined,\n                description: $('#full-trama').text(),\n                episodes: [],\n            };\n            const episodes = [];\n            $('.tab-pane.fade').each((i, element) => {\n                $(element)\n                    .find('.bottone-ep')\n                    .each((i, element) => {\n                    var _a, _b;\n                    const link = $(element).attr('href');\n                    const episodeNumber = $(element).text().trim().replace('Episodio ', '').trim();\n                    episodes.push({\n                        number: parseInt(episodeNumber),\n                        id: (_b = (_a = link === null || link === void 0 ? void 0 : link.split('/')) === null || _a === void 0 ? void 0 : _a.pop()) !== null && _b !== void 0 ? _b : '',\n                    });\n                });\n            });\n            info.episodes = episodes.sort((a, b) => a.number - b.number);\n            return info;\n        };\n        /**\n         *\n         * @param episodeId Episode id\n         */\n        this.fetchEpisodeSources = async (episodeId) => {\n            var _a;\n            const fakeData = await this.client.get(`${this.baseUrl}ep/${episodeId}`);\n            const $2 = await (0, cheerio_1.load)(fakeData.data);\n            const serverOneUrl = $2(\"div > a:contains('Guarda lo streaming')\").attr('href'); // scrape from server 1 (m3u8 and mp4 urls)\n            if (serverOneUrl == null)\n                throw new Error('Invalid url');\n            let data = await this.client.get(serverOneUrl);\n            let $ = await (0, cheerio_1.load)(data.data);\n            const sources = {\n                headers: {},\n                subtitles: [],\n                sources: [],\n            };\n            // M3U8 and MP4\n            const scriptTag = $('script').filter(function () {\n                return $(this).text().includes(\"jwplayer('player_hls')\");\n            });\n            let serverOneSource;\n            // m3u8\n            scriptTag.each((i, element) => {\n                const scriptText = $(element).text();\n                scriptText.split('\\n').forEach(line => {\n                    if (line.includes('file:') && !serverOneSource) {\n                        serverOneSource = line\n                            .split('file:')[1]\n                            .trim()\n                            .replace(/'/g, '')\n                            .replace(/,/g, '')\n                            .replace(/\"/g, '');\n                    }\n                });\n            });\n            // mp4\n            if (!serverOneSource) {\n                serverOneSource = $('#myvideo > source').attr('src');\n            }\n            if (!serverOneSource)\n                throw new Error('Invalid source');\n            sources.sources.push({\n                url: serverOneSource,\n                isM3U8: serverOneSource.includes('.m3u8'),\n            });\n            if (serverOneSource.includes('.m3u8')) {\n                (_a = sources.subtitles) === null || _a === void 0 ? void 0 : _a.push({\n                    url: serverOneSource.replace('playlist.m3u8', 'subtitles.vtt'),\n                    lang: 'Spanish',\n                });\n            }\n            // STREAMTAPE\n            const serverTwoUrl = serverOneUrl + '&server=1'; // scrape from server 2 (streamtape)\n            data = await this.client.get(serverTwoUrl);\n            $ = await (0, cheerio_1.load)(data.data);\n            const videoUrl = $('.embed-container > iframe').attr('src');\n            const serverTwoSource = await new utils_1.StreamTape(this.proxyConfig, this.adapter).extract(new URL(videoUrl));\n            if (!serverTwoSource)\n                throw new Error('Invalid source');\n            sources.sources.push({\n                url: serverTwoSource[0].url,\n                isM3U8: serverTwoSource[0].isM3U8,\n            });\n            return sources;\n        };\n        /**\n         *\n         * @param episodeId Episode id\n         */\n        this.fetchEpisodeServers = (episodeId) => {\n            throw new Error('Method not implemented.');\n        };\n    }\n}\nexports[\"default\"] = AnimeSaturn;\n// Test this dog code\n// const animeSaturn = new AnimeSaturn();\n/*animeSaturn.search('naruto').then((res) => {\nconsole.log(res);\n\n  animeSaturn.fetchAnimeInfo(res.results[0].id).then((res) => {\n    console.log(res);\n\n    animeSaturn.fetchEpisodeSources(res?.episodes?.at(0)?.id || \"0\").then((res) => {\n      console.log(res);\n    })\n  });\n});*/\n//# sourceMappingURL=animesaturn.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvYW5pbWVzYXR1cm4uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLG1CQUFPLENBQUMsb0VBQVM7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkMsZ0JBQWdCLG1CQUFPLENBQUMsa0ZBQWE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QyxrREFBa0QsYUFBYSxtQkFBbUIsTUFBTTtBQUN4RjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxhQUFhLFFBQVEsR0FBRztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGFBQWEsS0FBSyxVQUFVO0FBQ2xGO0FBQ0EsNkZBQTZGO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDLEVBQUU7QUFDSCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxhbmltZVxcYW5pbWVzYXR1cm4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHNcIik7XG5jbGFzcyBBbmltZVNhdHVybiBleHRlbmRzIG1vZGVsc18xLkFuaW1lUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0FuaW1lU2F0dXJuJztcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJ2h0dHBzOi8vd3d3LmFuaW1lc2F0dXJuLnR2Lyc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL3d3dy5hbmltZXNhdHVybi50di9pbW1hZ2luaS9mYXZpY29uLTMyeDMyLnBuZyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ0FOSU1FLkFuaW1lU2F0dXJuJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSBTZWFyY2ggcXVlcnlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICAvLyBiYXNlVXJsL2FuaW1lbGlzdD9zZWFyY2g9e3F1ZXJ5fVxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9YW5pbWVsaXN0P3NlYXJjaD0ke3F1ZXJ5fWApO1xuICAgICAgICAgICAgY29uc3QgJCA9IGF3YWl0ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgIGlmICghJClcbiAgICAgICAgICAgICAgICByZXR1cm4geyByZXN1bHRzOiBbXSB9O1xuICAgICAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkKCd1bC5saXN0LWdyb3VwIGxpJykuZWFjaCgoaSwgZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2w7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IChfZSA9IChfZCA9IChfYyA9IChfYiA9IChfYSA9ICQoZWxlbWVudCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maW5kKCdhLnRodW1iJykpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5zcGxpdCgnLycpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QucG9wKCkpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogKF9nID0gKF9mID0gJChlbGVtZW50KSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmZpbmQoJ2gzIGEnKSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfaiA9IChfaCA9ICQoZWxlbWVudCkpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC5maW5kKCdpbWcuY29wZXJ0aW5hLWFyY2hpdmlvJykpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAoX2wgPSAoX2sgPSAkKGVsZW1lbnQpKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2suZmluZCgnaDMgYScpKSA9PT0gbnVsbCB8fCBfbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2wuYXR0cignaHJlZicpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLmlkKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaWQnKTtcbiAgICAgICAgICAgICAgICByZXMucmVzdWx0cy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIGlkIEFuaW1lIGlkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoQW5pbWVJbmZvID0gYXN5bmMgKGlkKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9YW5pbWUvJHtpZH1gKTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSBhd2FpdCAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEuZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBpbmZvID0ge1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAkKCdkaXYuY29udGFpbmVyLmFuaW1lLXRpdGxlLWFzPiBiJykudGV4dCgpLFxuICAgICAgICAgICAgICAgIG1hbElEOiAoX2EgPSAkKCdhW2hyZWZePVwiaHR0cHM6Ly9teWFuaW1lbGlzdC5uZXQvYW5pbWUvXCJdJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMzAsIC0xKSxcbiAgICAgICAgICAgICAgICBhbElEOiAoX2IgPSAkKCdhW2hyZWZePVwiaHR0cHM6Ly9hbmlsaXN0LmNvL2FuaW1lL1wiXScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNsaWNlKDI1LCAtMSksXG4gICAgICAgICAgICAgICAgZ2VucmVzOiAoX2QgPSAoX2MgPSAkKCdkaXYuY29udGFpbmVyIGEuYmFkZ2UuYmFkZ2UtbGlnaHQnKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm1hcCgoaSwgZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChlbGVtZW50KS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgfSkudG9BcnJheSgpKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgaW1hZ2U6ICgoX2UgPSAkKCdpbWcuaW1nLWZsdWlkJykpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5hdHRyKCdzcmMnKSkgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGNvdmVyOiAoKF9oID0gKF9nID0gKF9mID0gJCgnZGl2LmJhbm5lcicpKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuYXR0cignc3R5bGUnKSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLm1hdGNoKC9iYWNrZ3JvdW5kOlxccyp1cmxcXChbJ1wiXT8oW14nXCIpXSspWydcIl0/XFwpL2kpKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2hbMV0pIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJCgnI2Z1bGwtdHJhbWEnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgZXBpc29kZXM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGVwaXNvZGVzID0gW107XG4gICAgICAgICAgICAkKCcudGFiLXBhbmUuZmFkZScpLmVhY2goKGksIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcuYm90dG9uZS1lcCcpXG4gICAgICAgICAgICAgICAgICAgIC5lYWNoKChpLCBlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSAkKGVsZW1lbnQpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXBpc29kZU51bWJlciA9ICQoZWxlbWVudCkudGV4dCgpLnRyaW0oKS5yZXBsYWNlKCdFcGlzb2RpbyAnLCAnJykudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBlcGlzb2Rlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogcGFyc2VJbnQoZXBpc29kZU51bWJlciksXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9iID0gKF9hID0gbGluayA9PT0gbnVsbCB8fCBsaW5rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsaW5rLnNwbGl0KCcvJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wb3AoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbmZvLmVwaXNvZGVzID0gZXBpc29kZXMuc29ydCgoYSwgYikgPT4gYS5udW1iZXIgLSBiLm51bWJlcik7XG4gICAgICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgRXBpc29kZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzID0gYXN5bmMgKGVwaXNvZGVJZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgZmFrZURhdGEgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfWVwLyR7ZXBpc29kZUlkfWApO1xuICAgICAgICAgICAgY29uc3QgJDIgPSBhd2FpdCAoMCwgY2hlZXJpb18xLmxvYWQpKGZha2VEYXRhLmRhdGEpO1xuICAgICAgICAgICAgY29uc3Qgc2VydmVyT25lVXJsID0gJDIoXCJkaXYgPiBhOmNvbnRhaW5zKCdHdWFyZGEgbG8gc3RyZWFtaW5nJylcIikuYXR0cignaHJlZicpOyAvLyBzY3JhcGUgZnJvbSBzZXJ2ZXIgMSAobTN1OCBhbmQgbXA0IHVybHMpXG4gICAgICAgICAgICBpZiAoc2VydmVyT25lVXJsID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHVybCcpO1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoc2VydmVyT25lVXJsKTtcbiAgICAgICAgICAgIGxldCAkID0gYXdhaXQgKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhLmRhdGEpO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlcyA9IHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZXM6IFtdLFxuICAgICAgICAgICAgICAgIHNvdXJjZXM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIE0zVTggYW5kIE1QNFxuICAgICAgICAgICAgY29uc3Qgc2NyaXB0VGFnID0gJCgnc2NyaXB0JykuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJCh0aGlzKS50ZXh0KCkuaW5jbHVkZXMoXCJqd3BsYXllcigncGxheWVyX2hscycpXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZXQgc2VydmVyT25lU291cmNlO1xuICAgICAgICAgICAgLy8gbTN1OFxuICAgICAgICAgICAgc2NyaXB0VGFnLmVhY2goKGksIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRUZXh0ID0gJChlbGVtZW50KS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgc2NyaXB0VGV4dC5zcGxpdCgnXFxuJykuZm9yRWFjaChsaW5lID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUuaW5jbHVkZXMoJ2ZpbGU6JykgJiYgIXNlcnZlck9uZVNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyT25lU291cmNlID0gbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnZmlsZTonKVsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvLC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgJycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIG1wNFxuICAgICAgICAgICAgaWYgKCFzZXJ2ZXJPbmVTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJPbmVTb3VyY2UgPSAkKCcjbXl2aWRlbyA+IHNvdXJjZScpLmF0dHIoJ3NyYycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzZXJ2ZXJPbmVTb3VyY2UpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNvdXJjZScpO1xuICAgICAgICAgICAgc291cmNlcy5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIHVybDogc2VydmVyT25lU291cmNlLFxuICAgICAgICAgICAgICAgIGlzTTNVODogc2VydmVyT25lU291cmNlLmluY2x1ZGVzKCcubTN1OCcpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoc2VydmVyT25lU291cmNlLmluY2x1ZGVzKCcubTN1OCcpKSB7XG4gICAgICAgICAgICAgICAgKF9hID0gc291cmNlcy5zdWJ0aXRsZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXJPbmVTb3VyY2UucmVwbGFjZSgncGxheWxpc3QubTN1OCcsICdzdWJ0aXRsZXMudnR0JyksXG4gICAgICAgICAgICAgICAgICAgIGxhbmc6ICdTcGFuaXNoJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNUUkVBTVRBUEVcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlclR3b1VybCA9IHNlcnZlck9uZVVybCArICcmc2VydmVyPTEnOyAvLyBzY3JhcGUgZnJvbSBzZXJ2ZXIgMiAoc3RyZWFtdGFwZSlcbiAgICAgICAgICAgIGRhdGEgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoc2VydmVyVHdvVXJsKTtcbiAgICAgICAgICAgICQgPSBhd2FpdCAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEuZGF0YSk7XG4gICAgICAgICAgICBjb25zdCB2aWRlb1VybCA9ICQoJy5lbWJlZC1jb250YWluZXIgPiBpZnJhbWUnKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlclR3b1NvdXJjZSA9IGF3YWl0IG5ldyB1dGlsc18xLlN0cmVhbVRhcGUodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KG5ldyBVUkwodmlkZW9VcmwpKTtcbiAgICAgICAgICAgIGlmICghc2VydmVyVHdvU291cmNlKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzb3VyY2UnKTtcbiAgICAgICAgICAgIHNvdXJjZXMuc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB1cmw6IHNlcnZlclR3b1NvdXJjZVswXS51cmwsXG4gICAgICAgICAgICAgICAgaXNNM1U4OiBzZXJ2ZXJUd29Tb3VyY2VbMF0uaXNNM1U4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlcztcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgRXBpc29kZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTZXJ2ZXJzID0gKGVwaXNvZGVJZCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IEFuaW1lU2F0dXJuO1xuLy8gVGVzdCB0aGlzIGRvZyBjb2RlXG4vLyBjb25zdCBhbmltZVNhdHVybiA9IG5ldyBBbmltZVNhdHVybigpO1xuLyphbmltZVNhdHVybi5zZWFyY2goJ25hcnV0bycpLnRoZW4oKHJlcykgPT4ge1xuY29uc29sZS5sb2cocmVzKTtcblxuICBhbmltZVNhdHVybi5mZXRjaEFuaW1lSW5mbyhyZXMucmVzdWx0c1swXS5pZCkudGhlbigocmVzKSA9PiB7XG4gICAgY29uc29sZS5sb2cocmVzKTtcblxuICAgIGFuaW1lU2F0dXJuLmZldGNoRXBpc29kZVNvdXJjZXMocmVzPy5lcGlzb2Rlcz8uYXQoMCk/LmlkIHx8IFwiMFwiKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgfSlcbiAgfSk7XG59KTsqL1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5pbWVzYXR1cm4uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animesaturn.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animeunity.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/animeunity.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass AnimeUnity extends models_1.AnimeParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'AnimeUnity';\n        this.baseUrl = 'https://www.animeunity.to';\n        this.logo = 'https://www.animeunity.to/favicon-32x32.png';\n        this.classPath = 'ANIME.AnimeUnity';\n        /**\n         * @param query Search query\n         */\n        this.search = async (query) => {\n            var _a;\n            try {\n                const res = await this.client.get(`${this.baseUrl}/archivio?title=${query}`);\n                const $ = (0, cheerio_1.load)(res.data);\n                if (!$)\n                    return { results: [] };\n                const items = JSON.parse('' + $('archivio').attr('records') + '');\n                const searchResult = {\n                    hasNextPage: false,\n                    results: [],\n                };\n                for (const i in items) {\n                    searchResult.results.push({\n                        id: `${items[i].id}-${items[i].slug}`,\n                        title: (_a = items[i].title) !== null && _a !== void 0 ? _a : items[i].title_eng,\n                        url: `${this.baseUrl}/anime/${items[i].id}-${items[i].slug}`,\n                        image: items[i].imageurl,\n                        cover: items[i].imageurl_cover,\n                        rating: parseFloat(items[i].score),\n                        releaseDate: items[i].date,\n                        subOrDub: `${items[i].dub ? models_1.SubOrSub.DUB : models_1.SubOrSub.SUB}`,\n                    });\n                }\n                return searchResult;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         * @param id Anime id\n         * @param page Page number\n         */\n        this.fetchAnimeInfo = async (id, page = 1) => {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\n            const url = `${this.baseUrl}/anime/${id}`;\n            const episodesPerPage = 120;\n            const lastPageEpisode = page * episodesPerPage;\n            const firstPageEpisode = lastPageEpisode - 119;\n            const url2 = `${this.baseUrl}/info_api/${id}/1?start_range=${firstPageEpisode}&end_range=${lastPageEpisode}`;\n            try {\n                const res = await this.client.get(url);\n                const $ = (0, cheerio_1.load)(res.data);\n                const totalEpisodes = parseInt((_b = (_a = $('video-player')) === null || _a === void 0 ? void 0 : _a.attr('episodes_count')) !== null && _b !== void 0 ? _b : '0');\n                const totalPages = Math.round(totalEpisodes / 120) + 1;\n                if (page < 1 || page > totalPages)\n                    throw new Error(`Argument 'page' for ${id} must be between 1 and ${totalPages}! (You passed ${page})`);\n                const animeInfo = {\n                    currentPage: page,\n                    hasNextPage: totalPages > page,\n                    totalPages: totalPages,\n                    id: id,\n                    title: (_c = $('h1.title')) === null || _c === void 0 ? void 0 : _c.text().trim(),\n                    url: url,\n                    alID: (_g = (_f = (_e = (_d = $('.banner')) === null || _d === void 0 ? void 0 : _d.attr('style')) === null || _e === void 0 ? void 0 : _e.split('/')) === null || _f === void 0 ? void 0 : _f.pop()) === null || _g === void 0 ? void 0 : _g.split('-')[0],\n                    genres: (_j = (_h = $('.info-wrapper.pt-3.pb-3 small')) === null || _h === void 0 ? void 0 : _h.map((_, element) => {\n                        return $(element).text().replace(',', '').trim();\n                    }).toArray()) !== null && _j !== void 0 ? _j : undefined,\n                    totalEpisodes: totalEpisodes,\n                    image: (_k = $('img.cover')) === null || _k === void 0 ? void 0 : _k.attr('src'),\n                    // image: $('meta[property=\"og:image\"]')?.attr('content'),\n                    cover: (_m = (_l = $('.banner')) === null || _l === void 0 ? void 0 : _l.attr('src')) !== null && _m !== void 0 ? _m : (_p = (_o = $('.banner')) === null || _o === void 0 ? void 0 : _o.attr('style')) === null || _p === void 0 ? void 0 : _p.replace('background: url(', ''),\n                    description: $('.description').text().trim(),\n                    episodes: [],\n                };\n                // fetch episodes method 1 (only first page can be fetchedd)\n                // const items = JSON.parse(\"\" + $('video-player').attr('episodes') + \"\")\n                // fetch episodes method 2 (all pages can be fetched)\n                const res2 = await this.client.get(url2);\n                const items = res2.data.episodes;\n                for (const i in items) {\n                    (_q = animeInfo.episodes) === null || _q === void 0 ? void 0 : _q.push({\n                        id: `${id}/${items[i].id}`,\n                        number: parseInt(items[i].number),\n                        url: `${url}/${items[i].id}`,\n                    });\n                }\n                return animeInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId Episode id\n         */\n        this.fetchEpisodeSources = async (episodeId) => {\n            var _a, _b, _c, _d, _e;\n            try {\n                const res = await this.client.get(`${this.baseUrl}/anime/${episodeId}`);\n                const $ = (0, cheerio_1.load)(res.data);\n                const episodeSources = {\n                    sources: [],\n                };\n                const streamUrl = $('video-player').attr('embed_url');\n                if (streamUrl) {\n                    const res = await this.client.get(streamUrl);\n                    const $ = (0, cheerio_1.load)(res.data);\n                    const domain = (_a = $('script:contains(\"window.video\")')\n                        .text()) === null || _a === void 0 ? void 0 : _a.match(/url: '(.*)'/)[1];\n                    const token = (_b = $('script:contains(\"window.video\")')\n                        .text()) === null || _b === void 0 ? void 0 : _b.match(/token': '(.*)'/)[1];\n                    const expires = (_c = $('script:contains(\"window.video\")')\n                        .text()) === null || _c === void 0 ? void 0 : _c.match(/expires': '(.*)'/)[1];\n                    const defaultUrl = `${domain}${domain.includes('?') ? '&' : '?'}token=${token}&referer=&expires=${expires}&h=1`;\n                    const m3u8Content = await this.client.get(defaultUrl);\n                    if (m3u8Content.data.includes('EXTM3U')) {\n                        const videoList = m3u8Content.data.split('#EXT-X-STREAM-INF:');\n                        for (const video of videoList !== null && videoList !== void 0 ? videoList : []) {\n                            if (video.includes('BANDWIDTH')) {\n                                const url = video.split('\\n')[1];\n                                const quality = video.split('RESOLUTION=')[1].split('\\n')[0].split('x')[1];\n                                episodeSources.sources.push({\n                                    url: url,\n                                    quality: `${quality}p`,\n                                    isM3U8: true,\n                                });\n                            }\n                        }\n                    }\n                    episodeSources.sources.push({\n                        url: defaultUrl,\n                        quality: `default`,\n                        isM3U8: true,\n                    });\n                    episodeSources.download = (_e = (_d = $('script:contains(\"window.downloadUrl \")')\n                        .text()) === null || _d === void 0 ? void 0 : _d.match(/downloadUrl = '(.*)'/)[1]) === null || _e === void 0 ? void 0 : _e.toString();\n                }\n                return episodeSources;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId Episode id\n         */\n        this.fetchEpisodeServers = (episodeId) => {\n            throw new Error('Method not implemented.');\n        };\n    }\n}\nexports[\"default\"] = AnimeUnity;\n/**\n * old episode sources fetching method, keep it here.\n */\n// const domain = $('script:contains(\"window.video\")').text()?.match(/url: '(.*)'/)![1]\n// const token = $('script:contains(\"window.video\")').text()?.match(/token': '(.*)'/)![1]\n// const token360p = $('script:contains(\"window.video\")').text()?.match(/token360p': '(.*)'/)![1]\n// const token480p = $('script:contains(\"window.video\")').text()?.match(/token480p': '(.*)'/)![1]\n// const token720p = $('script:contains(\"window.video\")').text()?.match(/token720p': '(.*)'/)![1]\n// const token1080p = $('script:contains(\"window.video\")').text()?.match(/token1080p': '(.*)'/)![1]\n// const expires = $('script:contains(\"window.video\")').text()?.match(/expires': '(.*)'/)![1]\n// episodeSources.sources.push({\n//     url: `${domain}?token=${token}&token360p=${token360p}&token480p=${token480p}&token720p=${token720p}&token1080p=${token1080p}&referer=&expires=${expires}`,\n//     isM3U8: true\n// })\n//# sourceMappingURL=animeunity.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvYW5pbWV1bml0eS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxhQUFhLGtCQUFrQixNQUFNO0FBQzFGO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsWUFBWSxHQUFHLGNBQWM7QUFDNUQ7QUFDQSxnQ0FBZ0MsYUFBYSxTQUFTLFlBQVksR0FBRyxjQUFjO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDZEQUE2RDtBQUNsRyxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsYUFBYSxTQUFTLEdBQUc7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGFBQWEsWUFBWSxHQUFHLGlCQUFpQixpQkFBaUIsYUFBYSxnQkFBZ0I7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELElBQUksd0JBQXdCLFdBQVcsZ0JBQWdCLEtBQUs7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixHQUFHLEdBQUcsWUFBWTtBQUNqRDtBQUNBLGdDQUFnQyxJQUFJLEdBQUcsWUFBWTtBQUNuRCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxhQUFhLFNBQVMsVUFBVTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLE9BQU8sRUFBRSxpQ0FBaUMsUUFBUSxNQUFNLG9CQUFvQixRQUFRO0FBQzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxRQUFRO0FBQ3hEO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTyxTQUFTLE1BQU0sYUFBYSxVQUFVLGFBQWEsVUFBVSxhQUFhLFVBQVUsY0FBYyxXQUFXLG9CQUFvQixRQUFRO0FBQy9KO0FBQ0EsSUFBSTtBQUNKIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXGFuaW1lXFxhbmltZXVuaXR5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2hlZXJpb18xID0gcmVxdWlyZShcImNoZWVyaW9cIik7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHNcIik7XG5jbGFzcyBBbmltZVVuaXR5IGV4dGVuZHMgbW9kZWxzXzEuQW5pbWVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQW5pbWVVbml0eSc7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL3d3dy5hbmltZXVuaXR5LnRvJztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vd3d3LmFuaW1ldW5pdHkudG8vZmF2aWNvbi0zMngzMi5wbmcnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdBTklNRS5BbmltZVVuaXR5JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSBTZWFyY2ggcXVlcnlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2FyY2hpdmlvP3RpdGxlPSR7cXVlcnl9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGlmICghJClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVzdWx0czogW10gfTtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IEpTT04ucGFyc2UoJycgKyAkKCdhcmNoaXZpbycpLmF0dHIoJ3JlY29yZHMnKSArICcnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hSZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGkgaW4gaXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0LnJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogYCR7aXRlbXNbaV0uaWR9LSR7aXRlbXNbaV0uc2x1Z31gLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYSA9IGl0ZW1zW2ldLnRpdGxlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBpdGVtc1tpXS50aXRsZV9lbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0vYW5pbWUvJHtpdGVtc1tpXS5pZH0tJHtpdGVtc1tpXS5zbHVnfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogaXRlbXNbaV0uaW1hZ2V1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcjogaXRlbXNbaV0uaW1hZ2V1cmxfY292ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICByYXRpbmc6IHBhcnNlRmxvYXQoaXRlbXNbaV0uc2NvcmUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IGl0ZW1zW2ldLmRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJPckR1YjogYCR7aXRlbXNbaV0uZHViID8gbW9kZWxzXzEuU3ViT3JTdWIuRFVCIDogbW9kZWxzXzEuU3ViT3JTdWIuU1VCfWAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gaWQgQW5pbWUgaWRcbiAgICAgICAgICogQHBhcmFtIHBhZ2UgUGFnZSBudW1iZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hBbmltZUluZm8gPSBhc3luYyAoaWQsIHBhZ2UgPSAxKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbSwgX28sIF9wLCBfcTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVybH0vYW5pbWUvJHtpZH1gO1xuICAgICAgICAgICAgY29uc3QgZXBpc29kZXNQZXJQYWdlID0gMTIwO1xuICAgICAgICAgICAgY29uc3QgbGFzdFBhZ2VFcGlzb2RlID0gcGFnZSAqIGVwaXNvZGVzUGVyUGFnZTtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0UGFnZUVwaXNvZGUgPSBsYXN0UGFnZUVwaXNvZGUgLSAxMTk7XG4gICAgICAgICAgICBjb25zdCB1cmwyID0gYCR7dGhpcy5iYXNlVXJsfS9pbmZvX2FwaS8ke2lkfS8xP3N0YXJ0X3JhbmdlPSR7Zmlyc3RQYWdlRXBpc29kZX0mZW5kX3JhbmdlPSR7bGFzdFBhZ2VFcGlzb2RlfWA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKHJlcy5kYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbEVwaXNvZGVzID0gcGFyc2VJbnQoKF9iID0gKF9hID0gJCgndmlkZW8tcGxheWVyJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hdHRyKCdlcGlzb2Rlc19jb3VudCcpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnMCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLnJvdW5kKHRvdGFsRXBpc29kZXMgLyAxMjApICsgMTtcbiAgICAgICAgICAgICAgICBpZiAocGFnZSA8IDEgfHwgcGFnZSA+IHRvdGFsUGFnZXMpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQXJndW1lbnQgJ3BhZ2UnIGZvciAke2lkfSBtdXN0IGJlIGJldHdlZW4gMSBhbmQgJHt0b3RhbFBhZ2VzfSEgKFlvdSBwYXNzZWQgJHtwYWdlfSlgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltZUluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogdG90YWxQYWdlcyA+IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUGFnZXM6IHRvdGFsUGFnZXMsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYyA9ICQoJ2gxLnRpdGxlJykpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgYWxJRDogKF9nID0gKF9mID0gKF9lID0gKF9kID0gJCgnLmJhbm5lcicpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuYXR0cignc3R5bGUnKSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnNwbGl0KCcvJykpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5wb3AoKSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLnNwbGl0KCctJylbMF0sXG4gICAgICAgICAgICAgICAgICAgIGdlbnJlczogKF9qID0gKF9oID0gJCgnLmluZm8td3JhcHBlci5wdC0zLnBiLTMgc21hbGwnKSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLm1hcCgoXywgZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoZWxlbWVudCkudGV4dCgpLnJlcGxhY2UoJywnLCAnJykudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICB9KS50b0FycmF5KCkpICE9PSBudWxsICYmIF9qICE9PSB2b2lkIDAgPyBfaiA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxFcGlzb2RlczogdG90YWxFcGlzb2RlcyxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfayA9ICQoJ2ltZy5jb3ZlcicpKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2suYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgIC8vIGltYWdlOiAkKCdtZXRhW3Byb3BlcnR5PVwib2c6aW1hZ2VcIl0nKT8uYXR0cignY29udGVudCcpLFxuICAgICAgICAgICAgICAgICAgICBjb3ZlcjogKF9tID0gKF9sID0gJCgnLmJhbm5lcicpKSA9PT0gbnVsbCB8fCBfbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2wuYXR0cignc3JjJykpICE9PSBudWxsICYmIF9tICE9PSB2b2lkIDAgPyBfbSA6IChfcCA9IChfbyA9ICQoJy5iYW5uZXInKSkgPT09IG51bGwgfHwgX28gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vLmF0dHIoJ3N0eWxlJykpID09PSBudWxsIHx8IF9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcC5yZXBsYWNlKCdiYWNrZ3JvdW5kOiB1cmwoJywgJycpLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJCgnLmRlc2NyaXB0aW9uJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgZXBpc29kZXM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gZmV0Y2ggZXBpc29kZXMgbWV0aG9kIDEgKG9ubHkgZmlyc3QgcGFnZSBjYW4gYmUgZmV0Y2hlZGQpXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgaXRlbXMgPSBKU09OLnBhcnNlKFwiXCIgKyAkKCd2aWRlby1wbGF5ZXInKS5hdHRyKCdlcGlzb2RlcycpICsgXCJcIilcbiAgICAgICAgICAgICAgICAvLyBmZXRjaCBlcGlzb2RlcyBtZXRob2QgMiAoYWxsIHBhZ2VzIGNhbiBiZSBmZXRjaGVkKVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlczIgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQodXJsMik7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSByZXMyLmRhdGEuZXBpc29kZXM7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIGluIGl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIChfcSA9IGFuaW1lSW5mby5lcGlzb2RlcykgPT09IG51bGwgfHwgX3EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9xLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGAke2lkfS8ke2l0ZW1zW2ldLmlkfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IHBhcnNlSW50KGl0ZW1zW2ldLm51bWJlciksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3VybH0vJHtpdGVtc1tpXS5pZH1gLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1lSW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGVwaXNvZGVJZCBFcGlzb2RlIGlkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNvdXJjZXMgPSBhc3luYyAoZXBpc29kZUlkKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9hbmltZS8ke2VwaXNvZGVJZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShyZXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXBpc29kZVNvdXJjZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtVXJsID0gJCgndmlkZW8tcGxheWVyJykuYXR0cignZW1iZWRfdXJsJyk7XG4gICAgICAgICAgICAgICAgaWYgKHN0cmVhbVVybCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoc3RyZWFtVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb21haW4gPSAoX2EgPSAkKCdzY3JpcHQ6Y29udGFpbnMoXCJ3aW5kb3cudmlkZW9cIiknKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hdGNoKC91cmw6ICcoLiopJy8pWzFdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IChfYiA9ICQoJ3NjcmlwdDpjb250YWlucyhcIndpbmRvdy52aWRlb1wiKScpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGV4dCgpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWF0Y2goL3Rva2VuJzogJyguKiknLylbMV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGlyZXMgPSAoX2MgPSAkKCdzY3JpcHQ6Y29udGFpbnMoXCJ3aW5kb3cudmlkZW9cIiknKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm1hdGNoKC9leHBpcmVzJzogJyguKiknLylbMV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRVcmwgPSBgJHtkb21haW59JHtkb21haW4uaW5jbHVkZXMoJz8nKSA/ICcmJyA6ICc/J310b2tlbj0ke3Rva2VufSZyZWZlcmVyPSZleHBpcmVzPSR7ZXhwaXJlc30maD0xYDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbTN1OENvbnRlbnQgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoZGVmYXVsdFVybCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtM3U4Q29udGVudC5kYXRhLmluY2x1ZGVzKCdFWFRNM1UnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9MaXN0ID0gbTN1OENvbnRlbnQuZGF0YS5zcGxpdCgnI0VYVC1YLVNUUkVBTS1JTkY6Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZpZGVvIG9mIHZpZGVvTGlzdCAhPT0gbnVsbCAmJiB2aWRlb0xpc3QgIT09IHZvaWQgMCA/IHZpZGVvTGlzdCA6IFtdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpZGVvLmluY2x1ZGVzKCdCQU5EV0lEVEgnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSB2aWRlby5zcGxpdCgnXFxuJylbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1YWxpdHkgPSB2aWRlby5zcGxpdCgnUkVTT0xVVElPTj0nKVsxXS5zcGxpdCgnXFxuJylbMF0uc3BsaXQoJ3gnKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZVNvdXJjZXMuc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogYCR7cXVhbGl0eX1wYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTTNVODogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVwaXNvZGVTb3VyY2VzLnNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGRlZmF1bHRVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiBgZGVmYXVsdGAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc00zVTg6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBlcGlzb2RlU291cmNlcy5kb3dubG9hZCA9IChfZSA9IChfZCA9ICQoJ3NjcmlwdDpjb250YWlucyhcIndpbmRvdy5kb3dubG9hZFVybCBcIiknKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoKSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLm1hdGNoKC9kb3dubG9hZFVybCA9ICcoLiopJy8pWzFdKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVwaXNvZGVTb3VyY2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gZXBpc29kZUlkIEVwaXNvZGUgaWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU2VydmVycyA9IChlcGlzb2RlSWQpID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBBbmltZVVuaXR5O1xuLyoqXG4gKiBvbGQgZXBpc29kZSBzb3VyY2VzIGZldGNoaW5nIG1ldGhvZCwga2VlcCBpdCBoZXJlLlxuICovXG4vLyBjb25zdCBkb21haW4gPSAkKCdzY3JpcHQ6Y29udGFpbnMoXCJ3aW5kb3cudmlkZW9cIiknKS50ZXh0KCk/Lm1hdGNoKC91cmw6ICcoLiopJy8pIVsxXVxuLy8gY29uc3QgdG9rZW4gPSAkKCdzY3JpcHQ6Y29udGFpbnMoXCJ3aW5kb3cudmlkZW9cIiknKS50ZXh0KCk/Lm1hdGNoKC90b2tlbic6ICcoLiopJy8pIVsxXVxuLy8gY29uc3QgdG9rZW4zNjBwID0gJCgnc2NyaXB0OmNvbnRhaW5zKFwid2luZG93LnZpZGVvXCIpJykudGV4dCgpPy5tYXRjaCgvdG9rZW4zNjBwJzogJyguKiknLykhWzFdXG4vLyBjb25zdCB0b2tlbjQ4MHAgPSAkKCdzY3JpcHQ6Y29udGFpbnMoXCJ3aW5kb3cudmlkZW9cIiknKS50ZXh0KCk/Lm1hdGNoKC90b2tlbjQ4MHAnOiAnKC4qKScvKSFbMV1cbi8vIGNvbnN0IHRva2VuNzIwcCA9ICQoJ3NjcmlwdDpjb250YWlucyhcIndpbmRvdy52aWRlb1wiKScpLnRleHQoKT8ubWF0Y2goL3Rva2VuNzIwcCc6ICcoLiopJy8pIVsxXVxuLy8gY29uc3QgdG9rZW4xMDgwcCA9ICQoJ3NjcmlwdDpjb250YWlucyhcIndpbmRvdy52aWRlb1wiKScpLnRleHQoKT8ubWF0Y2goL3Rva2VuMTA4MHAnOiAnKC4qKScvKSFbMV1cbi8vIGNvbnN0IGV4cGlyZXMgPSAkKCdzY3JpcHQ6Y29udGFpbnMoXCJ3aW5kb3cudmlkZW9cIiknKS50ZXh0KCk/Lm1hdGNoKC9leHBpcmVzJzogJyguKiknLykhWzFdXG4vLyBlcGlzb2RlU291cmNlcy5zb3VyY2VzLnB1c2goe1xuLy8gICAgIHVybDogYCR7ZG9tYWlufT90b2tlbj0ke3Rva2VufSZ0b2tlbjM2MHA9JHt0b2tlbjM2MHB9JnRva2VuNDgwcD0ke3Rva2VuNDgwcH0mdG9rZW43MjBwPSR7dG9rZW43MjBwfSZ0b2tlbjEwODBwPSR7dG9rZW4xMDgwcH0mcmVmZXJlcj0mZXhwaXJlcz0ke2V4cGlyZXN9YCxcbi8vICAgICBpc00zVTg6IHRydWVcbi8vIH0pXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmltZXVuaXR5LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animeunity.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/anix.js":
/*!************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/anix.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nclass Anix extends models_1.AnimeParser {\n    constructor(customBaseURL, proxy, adapter) {\n        super(proxy, adapter);\n        this.name = 'Anix';\n        this.baseUrl = 'https://anix.sh';\n        this.logo = 'https://anix.sh/img/logo.png';\n        this.classPath = 'ANIME.Anix';\n        this.MediaCategory = {\n            MOVIE: 1,\n            TV: 2,\n            OVA: 3,\n            SPECIAL: 4,\n            ONA: 5,\n            MUSIC: 6,\n            TV_SPECIAL: 7,\n            UNCATEGORIZED: 0,\n        };\n        this.MediaRegion = {\n            ANIME: 'country[]=1&country[]=2&country[]=3&country[]=4&country[]=6',\n            DONGHUA: 'country[]=5',\n            SUB: 'language[]=sub',\n            DUB: 'language[]=dub',\n        };\n        this.defaultSort = `&type[]=${this.MediaCategory.MOVIE}&type[]=${this.MediaCategory.TV}&type[]=${this.MediaCategory.ONA}&type[]=${this.MediaCategory.OVA}&type[]=${this.MediaCategory.SPECIAL}&type[]=${this.MediaCategory.TV_SPECIAL}&type[]=${this.MediaCategory.UNCATEGORIZED}&status[]=${models_1.MediaStatus.ONGOING}&status[]=${models_1.MediaStatus.COMPLETED}`;\n        this.requestedWith = 'XMLHttpRequest';\n        /**\n         * @param page page number (optional)\n         */\n        this.fetchRecentEpisodes = async (page = 1, type) => {\n            try {\n                let url = `${this.baseUrl}/filter?${this.defaultSort}&sort=recently_updated&page=${page}`;\n                if (type == 1) {\n                    url += `&${this.MediaRegion.ANIME}`;\n                }\n                else if (type == 2) {\n                    url += `&${this.MediaRegion.DONGHUA}`;\n                }\n                else if (type == 3) {\n                    url += `&${this.MediaRegion.SUB}`;\n                }\n                else if (type == 4) {\n                    url += `&${this.MediaRegion.DUB}`;\n                }\n                const res = await this.client.get(url);\n                const $ = (0, cheerio_1.load)(res.data);\n                const recentEpisodes = [];\n                $('.basic.ani.content-item .piece').each((i, el) => {\n                    const poster = $(el).find('a.poster');\n                    const url = $(poster).attr('href');\n                    const episodeNum = parseFloat($(el).find('.sub').text());\n                    const type = $(el).find('.type.dot').text();\n                    let finalType = models_1.MediaFormat.TV;\n                    switch (type) {\n                        case 'ONA':\n                            finalType = models_1.MediaFormat.ONA;\n                            break;\n                        case 'Movie':\n                            finalType = models_1.MediaFormat.MOVIE;\n                            break;\n                        case 'OVA':\n                            finalType = models_1.MediaFormat.OVA;\n                            break;\n                        case 'Special':\n                            finalType = models_1.MediaFormat.SPECIAL;\n                            break;\n                        case 'Music':\n                            finalType = models_1.MediaFormat.MUSIC;\n                            break;\n                        case 'PV':\n                            finalType = models_1.MediaFormat.PV;\n                            break;\n                        case 'TV Special':\n                            finalType = models_1.MediaFormat.TV_SPECIAL;\n                            break;\n                        case 'Comic':\n                            finalType = models_1.MediaFormat.COMIC;\n                            break;\n                    }\n                    recentEpisodes.push({\n                        id: url === null || url === void 0 ? void 0 : url.split('/')[2],\n                        episodeId: `ep-${episodeNum}`,\n                        episodeNumber: episodeNum,\n                        title: $(el).find('.d-title').text(),\n                        englishTitle: $(el).find('.d-title').attr('data-en'),\n                        image: $(poster).find('img').attr('src'),\n                        url: `${this.baseUrl.trim()}${url === null || url === void 0 ? void 0 : url.trim()}`,\n                        type: finalType,\n                    });\n                });\n                const hasNextPage = !$('.pagination li').last().hasClass('active');\n                return {\n                    currentPage: page,\n                    hasNextPage: hasNextPage,\n                    results: recentEpisodes,\n                };\n            }\n            catch (err) {\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        /**\n         * @param query Search query\n         * @param page Page number (optional)\n         */\n        this.search = async (query, page = 1) => {\n            try {\n                const res = await this.client.get(`${this.baseUrl}/filter?keyword=${query}&page=${page}&type[]=${this.MediaCategory.MOVIE}&type[]=${this.MediaCategory.TV}&type[]=${this.MediaCategory.ONA}&type[]=${this.MediaCategory.OVA}&type[]=${this.MediaCategory.SPECIAL}&type[]=${this.MediaCategory.TV_SPECIAL}&type[]=${this.MediaCategory.MUSIC}&type[]=${this.MediaCategory.UNCATEGORIZED}`);\n                const $ = (0, cheerio_1.load)(res.data);\n                let hasNextPage = $('.pagination').length > 0;\n                if (hasNextPage) {\n                    hasNextPage = !$('.pagination li').last().hasClass('active');\n                }\n                const searchResult = {\n                    currentPage: page,\n                    hasNextPage: hasNextPage,\n                    results: [],\n                };\n                $('.basic.ani.content-item .piece').each((i, el) => {\n                    const poster = $(el).find('a.poster');\n                    const url = $(poster).attr('href');\n                    const type = $(el).find('.type.dot').text();\n                    let finalType = models_1.MediaFormat.TV;\n                    switch (type) {\n                        case 'ONA':\n                            finalType = models_1.MediaFormat.ONA;\n                            break;\n                        case 'Movie':\n                            finalType = models_1.MediaFormat.MOVIE;\n                            break;\n                        case 'OVA':\n                            finalType = models_1.MediaFormat.OVA;\n                            break;\n                        case 'Special':\n                            finalType = models_1.MediaFormat.SPECIAL;\n                            break;\n                        case 'Music':\n                            finalType = models_1.MediaFormat.MUSIC;\n                            break;\n                        case 'PV':\n                            finalType = models_1.MediaFormat.PV;\n                            break;\n                        case 'TV Special':\n                            finalType = models_1.MediaFormat.TV_SPECIAL;\n                            break;\n                        case 'Comic':\n                            finalType = models_1.MediaFormat.COMIC;\n                            break;\n                    }\n                    searchResult.results.push({\n                        id: url === null || url === void 0 ? void 0 : url.split('/')[2],\n                        title: $(el).find('.d-title').text(),\n                        englishTitle: $(el).find('.d-title').attr('data-en'),\n                        image: $(poster).find('img').attr('src'),\n                        url: `${this.baseUrl.trim()}${url === null || url === void 0 ? void 0 : url.trim()}`,\n                        type: finalType,\n                    });\n                });\n                return searchResult;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         * @param id Anime id\n         */\n        this.fetchAnimeInfo = async (id) => {\n            var _a, _b, _c, _d;\n            const url = `${this.baseUrl}/anime/${id}/ep-1`;\n            try {\n                const res = await this.client.get(url);\n                const $ = (0, cheerio_1.load)(res.data);\n                const animeInfo = {\n                    id: id,\n                    title: (_a = $('.ani-data .maindata .ani-name.d-title')) === null || _a === void 0 ? void 0 : _a.text().trim(),\n                    englishTitle: (_c = (_b = $('.ani-data .maindata .ani-name.d-title')) === null || _b === void 0 ? void 0 : _b.attr('data-en')) === null || _c === void 0 ? void 0 : _c.trim(),\n                    url: `${this.baseUrl}/anime/${id}`,\n                    image: (_d = $('.ani-data .poster img')) === null || _d === void 0 ? void 0 : _d.attr('src'),\n                    description: $('.ani-data .maindata .description .cts-block div').text().trim(),\n                    episodes: [],\n                };\n                $('.episodes .ep-range').each((i, el) => {\n                    $(el)\n                        .find('div')\n                        .each((i, el) => {\n                        var _a, _b, _c;\n                        (_a = animeInfo.episodes) === null || _a === void 0 ? void 0 : _a.push({\n                            id: (_b = $(el).find('a').attr('href')) === null || _b === void 0 ? void 0 : _b.split('/')[3],\n                            number: parseFloat($(el).find(`a`).text()),\n                            url: `${this.baseUrl}${(_c = $(el).find(`a`).attr('href')) === null || _c === void 0 ? void 0 : _c.trim()}`,\n                        });\n                    });\n                });\n                const metaData = { status: '', type: '' };\n                $('.metadata .limiter div').each((i, el) => {\n                    var _a;\n                    const text = $(el).text().trim();\n                    if (text.includes('Genre: ')) {\n                        $(el)\n                            .find('span a')\n                            .each((i, el) => {\n                            if (animeInfo.genres == undefined) {\n                                animeInfo.genres = [];\n                            }\n                            animeInfo.genres.push($(el).attr('title'));\n                        });\n                    }\n                    else if (text.includes('Status: ')) {\n                        metaData.status = text.replace('Status: ', '');\n                    }\n                    else if (text.includes('Type: ')) {\n                        metaData.type = text.replace('Type: ', '');\n                    }\n                    else if (text.includes('Episodes: ')) {\n                        animeInfo.totalEpisodes = (_a = parseFloat(text.replace('Episodes: ', ''))) !== null && _a !== void 0 ? _a : undefined;\n                    }\n                    else if (text.includes('Country: ')) {\n                        animeInfo.countryOfOrigin = text.replace('Country: ', '');\n                    }\n                });\n                animeInfo.status = models_1.MediaStatus.UNKNOWN;\n                switch (metaData.status) {\n                    case 'Ongoing':\n                        animeInfo.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    case 'Completed':\n                        animeInfo.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                }\n                animeInfo.type = models_1.MediaFormat.TV;\n                switch (metaData.type) {\n                    case 'ONA':\n                        animeInfo.type = models_1.MediaFormat.ONA;\n                        break;\n                    case 'Movie':\n                        animeInfo.type = models_1.MediaFormat.MOVIE;\n                        break;\n                    case 'OVA':\n                        animeInfo.type = models_1.MediaFormat.OVA;\n                        break;\n                    case 'Special':\n                        animeInfo.type = models_1.MediaFormat.SPECIAL;\n                        break;\n                    case 'Music':\n                        animeInfo.type = models_1.MediaFormat.MUSIC;\n                        break;\n                    case 'PV':\n                        animeInfo.type = models_1.MediaFormat.PV;\n                        break;\n                    case 'TV Special':\n                        animeInfo.type = models_1.MediaFormat.TV_SPECIAL;\n                        break;\n                    case 'Comic':\n                        animeInfo.type = models_1.MediaFormat.COMIC;\n                        break;\n                }\n                return animeInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchRandomAnimeInfo = async () => {\n            var _a, _b, _c, _d, _e;\n            const url = `${this.baseUrl}/random`;\n            try {\n                const res = await this.client.get(url);\n                const $ = (0, cheerio_1.load)(res.data);\n                const id = (_a = $('.content .tmp_alias')) === null || _a === void 0 ? void 0 : _a.attr('value');\n                const animeInfo = {\n                    id: id,\n                    title: (_b = $('.ani-data .maindata .ani-name.d-title')) === null || _b === void 0 ? void 0 : _b.text().trim(),\n                    englishTitle: (_d = (_c = $('.ani-data .maindata .ani-name.d-title')) === null || _c === void 0 ? void 0 : _c.attr('data-en')) === null || _d === void 0 ? void 0 : _d.trim(),\n                    url: `${this.baseUrl}/anime/${id}`,\n                    image: (_e = $('.ani-data .poster img')) === null || _e === void 0 ? void 0 : _e.attr('src'),\n                    description: $('.ani-data .maindata .description .cts-block div').text().trim(),\n                    episodes: [],\n                };\n                $('.episodes .ep-range').each((i, el) => {\n                    $(el)\n                        .find('div')\n                        .each((i, el) => {\n                        var _a, _b, _c;\n                        (_a = animeInfo.episodes) === null || _a === void 0 ? void 0 : _a.push({\n                            id: (_b = $(el).find('a').attr('href')) === null || _b === void 0 ? void 0 : _b.split('/')[3],\n                            number: parseFloat($(el).find(`a`).text()),\n                            url: `${this.baseUrl}${(_c = $(el).find(`a`).attr('href')) === null || _c === void 0 ? void 0 : _c.trim()}`,\n                        });\n                    });\n                });\n                const metaData = { status: '', type: '' };\n                $('.metadata .limiter div').each((i, el) => {\n                    var _a;\n                    const text = $(el).text().trim();\n                    if (text.includes('Genre: ')) {\n                        $(el)\n                            .find('span a')\n                            .each((i, el) => {\n                            if (animeInfo.genres == undefined) {\n                                animeInfo.genres = [];\n                            }\n                            animeInfo.genres.push($(el).attr('title'));\n                        });\n                    }\n                    else if (text.includes('Status: ')) {\n                        metaData.status = text.replace('Status: ', '');\n                    }\n                    else if (text.includes('Type: ')) {\n                        metaData.type = text.replace('Type: ', '');\n                    }\n                    else if (text.includes('Episodes: ')) {\n                        animeInfo.totalEpisodes = (_a = parseFloat(text.replace('Episodes: ', ''))) !== null && _a !== void 0 ? _a : undefined;\n                    }\n                    else if (text.includes('Country: ')) {\n                        animeInfo.countryOfOrigin = text.replace('Country: ', '');\n                    }\n                });\n                animeInfo.status = models_1.MediaStatus.UNKNOWN;\n                switch (metaData.status) {\n                    case 'Ongoing':\n                        animeInfo.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    case 'Completed':\n                        animeInfo.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                }\n                animeInfo.type = models_1.MediaFormat.TV;\n                switch (metaData.type) {\n                    case 'ONA':\n                        animeInfo.type = models_1.MediaFormat.ONA;\n                        break;\n                    case 'Movie':\n                        animeInfo.type = models_1.MediaFormat.MOVIE;\n                        break;\n                    case 'OVA':\n                        animeInfo.type = models_1.MediaFormat.OVA;\n                        break;\n                    case 'Special':\n                        animeInfo.type = models_1.MediaFormat.SPECIAL;\n                        break;\n                    case 'Music':\n                        animeInfo.type = models_1.MediaFormat.MUSIC;\n                        break;\n                    case 'PV':\n                        animeInfo.type = models_1.MediaFormat.PV;\n                        break;\n                    case 'TV Special':\n                        animeInfo.type = models_1.MediaFormat.TV_SPECIAL;\n                        break;\n                    case 'Comic':\n                        animeInfo.type = models_1.MediaFormat.COMIC;\n                        break;\n                }\n                return animeInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param id Anime id\n         * @param episodeId Episode id\n         * @param server Streaming server(optional)\n         * @param type Type (optional) (options: `sub`, `dub`, `raw`)\n         */\n        this.fetchEpisodeSources = async (id, episodeId, server = models_1.StreamingServers.BuiltIn, type = '') => {\n            const url = `${this.baseUrl}/anime/${id}/${episodeId}`;\n            const uri = new URL(url);\n            const res = await this.client.get(url);\n            const $ = (0, cheerio_1.load)(res.data);\n            const servers = new Map();\n            $($('.ani-server-type-pad')[0])\n                .find('.server')\n                .each((i, el) => {\n                servers.set($(el).text().trim(), $(el).attr('data-video'));\n            });\n            switch (server) {\n                case models_1.StreamingServers.VidHide:\n                    if (servers.get('Vidhide') !== undefined) {\n                        const streamUri = new URL(servers.get('Vidhide'));\n                        return {\n                            headers: {\n                                Referer: streamUri.origin,\n                            },\n                            sources: await new extractors_1.VidHide(this.proxyConfig, this.adapter).extract(streamUri),\n                        };\n                    }\n                case models_1.StreamingServers.Mp4Upload:\n                    if (servers.get('Mp4upload') !== undefined) {\n                        const streamUri = new URL(servers.get('Mp4upload'));\n                        return {\n                            headers: {\n                                Referer: streamUri.origin,\n                            },\n                            sources: await new extractors_1.Mp4Upload(this.proxyConfig, this.adapter).extract(streamUri),\n                        };\n                    }\n                    throw new Error('Mp4Upload server not found');\n                case models_1.StreamingServers.StreamWish:\n                    if (servers.get('Streamwish') != undefined) {\n                        const streamUri = new URL(servers.get('Streamwish'));\n                        return {\n                            headers: {\n                                Referer: uri.origin,\n                            },\n                            ...(await new extractors_1.StreamWish(this.proxyConfig, this.adapter).extract(streamUri)),\n                        };\n                    }\n                    throw new Error('StreamWish server not found');\n                default:\n                    const episodeSources = {\n                        sources: [],\n                    };\n                    try {\n                        let defaultUrl = '';\n                        $('script:contains(\"loadIframePlayer\")').each((i, el) => {\n                            const scriptContent = $(el).text();\n                            // Regular expression to capture the JSON inside loadIframePlayer\n                            const jsonRegex = /loadIframePlayer\\(\\s*(['\"`])(\\[[\\s\\S]*?\\])\\1/;\n                            const match = jsonRegex.exec(scriptContent);\n                            if (match && match[0]) {\n                                const extractedJson = match[0]\n                                    .replace('loadIframePlayer(', '')\n                                    .replace(\"'\", '')\n                                    .replace(\"'\", '');\n                                const data = JSON.parse(extractedJson);\n                                if (data == undefined || data.length <= 0) {\n                                    throw new Error('BuiltIn server not found');\n                                }\n                                if (type != '') {\n                                    for (const item of data) {\n                                        if (item.type.toUpperCase() == type.toUpperCase()) {\n                                            defaultUrl = item.url;\n                                            break;\n                                        }\n                                    }\n                                }\n                                else {\n                                    defaultUrl = data[0].url;\n                                }\n                                if (defaultUrl != '')\n                                    episodeSources.sources.push({\n                                        url: defaultUrl,\n                                        quality: `default`,\n                                        isM3U8: defaultUrl.includes('.m3u8'),\n                                    });\n                            }\n                            else {\n                                throw new Error('BuiltIn server not found');\n                            }\n                        });\n                        if (defaultUrl != '' && !defaultUrl.includes('.mp4')) {\n                            const options = {\n                                headers: {\n                                    Referer: url,\n                                },\n                            };\n                            const m3u8Content = await this.client.get(defaultUrl, options);\n                            if (m3u8Content.data.includes('EXTM3U')) {\n                                const videoList = m3u8Content.data.split('#EXT-X-STREAM-INF:');\n                                for (const video of videoList !== null && videoList !== void 0 ? videoList : []) {\n                                    if (video.includes('BANDWIDTH')) {\n                                        const url = video.split('\\n')[1];\n                                        const quality = video.split('RESOLUTION=')[1].split('\\n')[0].split('x')[1];\n                                        const path = defaultUrl.replace(/\\/[^/]*\\.m3u8$/, '/');\n                                        episodeSources.sources.push({\n                                            url: path + url,\n                                            quality: `${quality.split(',')[0]}p`,\n                                            isM3U8: true,\n                                        });\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    catch (err) {\n                        throw new Error(err.message);\n                    }\n                    return {\n                        headers: {\n                            Referer: uri.origin,\n                        },\n                        ...episodeSources,\n                    };\n            }\n        };\n        /**\n         *\n         * @param id Anime id\n         * @param episodeId Episode id\n         */\n        this.fetchEpisodeServers = async (id, episodeId) => {\n            const url = `${this.baseUrl}/anime/${id}/${episodeId}`;\n            const res = await this.client.get(url);\n            const $ = (0, cheerio_1.load)(res.data);\n            const servers = [];\n            $($('.ani-server-type-pad')[0])\n                .find('.server')\n                .each((i, el) => {\n                servers.push({\n                    name: $(el).text().trim(),\n                    url: $(el).attr('data-video'),\n                });\n            });\n            return servers;\n        };\n        /**\n         *\n         * @param id Anime id\n         * @param episodeId Episode id\n         * @param type Type (optional) (options: `sub`, `dub`, `raw`)\n         */\n        this.fetchEpisodeServerType = async (id, episodeId, type) => {\n            const url = `${this.baseUrl}/anime/${id}/${episodeId}`;\n            const res = await this.client.get(url);\n            const $ = (0, cheerio_1.load)(res.data);\n            const subs = [];\n            const dubs = [];\n            const raw = [];\n            $('.ani-server-type-pad').each((index, element) => {\n                $(element)\n                    .find('.server')\n                    .each((i, el) => {\n                    const serverData = {\n                        name: $(el).text().trim(),\n                        url: $(el).attr('data-video'),\n                    };\n                    const dataType = $(el).attr('data-typesv').split('-')[0];\n                    if (dataType === 'SUB') {\n                        subs.push(serverData);\n                    }\n                    else if (dataType === 'DUB') {\n                        dubs.push(serverData);\n                    }\n                    else if (dataType === 'RAW') {\n                        raw.push(serverData);\n                    }\n                });\n            });\n            if (!type) {\n                return { sub: subs, dub: dubs, raw: raw };\n            }\n            // Utilizando un string para seleccionar el tipo\n            if (type.toUpperCase() === 'SUB') {\n                return subs;\n            }\n            else if (type.toUpperCase() === 'DUB') {\n                return dubs;\n            }\n            else if (type.toUpperCase() === 'RAW') {\n                return raw;\n            }\n            else {\n                throw new Error('Invalid server type');\n            }\n        };\n        this.baseUrl = customBaseURL\n            ? customBaseURL.startsWith('http://') || customBaseURL.startsWith('https://')\n                ? customBaseURL\n                : `http://${customBaseURL}`\n            : this.baseUrl;\n    }\n}\nexports[\"default\"] = Anix;\n//# sourceMappingURL=anix.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvYW5peC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QyxxQkFBcUIsbUJBQU8sQ0FBQyw0RkFBa0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx5QkFBeUIsVUFBVSxzQkFBc0IsVUFBVSx1QkFBdUIsVUFBVSx1QkFBdUIsVUFBVSwyQkFBMkIsVUFBVSw4QkFBOEIsVUFBVSxpQ0FBaUMsWUFBWSw2QkFBNkIsWUFBWSwrQkFBK0I7QUFDN1c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGFBQWEsVUFBVSxpQkFBaUIsOEJBQThCLEtBQUs7QUFDeEc7QUFDQSwrQkFBK0IsdUJBQXVCO0FBQ3REO0FBQ0E7QUFDQSwrQkFBK0IseUJBQXlCO0FBQ3hEO0FBQ0E7QUFDQSwrQkFBK0IscUJBQXFCO0FBQ3BEO0FBQ0E7QUFDQSwrQkFBK0IscUJBQXFCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsV0FBVztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxvQkFBb0IsRUFBRSxxREFBcUQ7QUFDM0c7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsYUFBYSxrQkFBa0IsTUFBTSxRQUFRLEtBQUssVUFBVSx5QkFBeUIsVUFBVSxzQkFBc0IsVUFBVSx1QkFBdUIsVUFBVSx1QkFBdUIsVUFBVSwyQkFBMkIsVUFBVSw4QkFBOEIsVUFBVSx5QkFBeUIsVUFBVSxpQ0FBaUM7QUFDdlk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msb0JBQW9CLEVBQUUscURBQXFEO0FBQzNHO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGFBQWEsU0FBUyxHQUFHO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGFBQWEsU0FBUyxHQUFHO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxhQUFhLEVBQUUsbUZBQW1GO0FBQ3RJLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsYUFBYTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGFBQWEsU0FBUyxHQUFHO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxhQUFhLEVBQUUsbUZBQW1GO0FBQ3RJLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsYUFBYSxTQUFTLEdBQUcsR0FBRyxVQUFVO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Qsc0JBQXNCO0FBQzlFO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsYUFBYSxTQUFTLEdBQUcsR0FBRyxVQUFVO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGFBQWEsU0FBUyxHQUFHLEdBQUcsVUFBVTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsY0FBYztBQUMxQztBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXGFuaW1lXFxhbml4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2hlZXJpb18xID0gcmVxdWlyZShcImNoZWVyaW9cIik7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHNcIik7XG5jb25zdCBleHRyYWN0b3JzXzEgPSByZXF1aXJlKFwiLi4vLi4vZXh0cmFjdG9yc1wiKTtcbmNsYXNzIEFuaXggZXh0ZW5kcyBtb2RlbHNfMS5BbmltZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoY3VzdG9tQmFzZVVSTCwgcHJveHksIGFkYXB0ZXIpIHtcbiAgICAgICAgc3VwZXIocHJveHksIGFkYXB0ZXIpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQW5peCc7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL2FuaXguc2gnO1xuICAgICAgICB0aGlzLmxvZ28gPSAnaHR0cHM6Ly9hbml4LnNoL2ltZy9sb2dvLnBuZyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ0FOSU1FLkFuaXgnO1xuICAgICAgICB0aGlzLk1lZGlhQ2F0ZWdvcnkgPSB7XG4gICAgICAgICAgICBNT1ZJRTogMSxcbiAgICAgICAgICAgIFRWOiAyLFxuICAgICAgICAgICAgT1ZBOiAzLFxuICAgICAgICAgICAgU1BFQ0lBTDogNCxcbiAgICAgICAgICAgIE9OQTogNSxcbiAgICAgICAgICAgIE1VU0lDOiA2LFxuICAgICAgICAgICAgVFZfU1BFQ0lBTDogNyxcbiAgICAgICAgICAgIFVOQ0FURUdPUklaRUQ6IDAsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuTWVkaWFSZWdpb24gPSB7XG4gICAgICAgICAgICBBTklNRTogJ2NvdW50cnlbXT0xJmNvdW50cnlbXT0yJmNvdW50cnlbXT0zJmNvdW50cnlbXT00JmNvdW50cnlbXT02JyxcbiAgICAgICAgICAgIERPTkdIVUE6ICdjb3VudHJ5W109NScsXG4gICAgICAgICAgICBTVUI6ICdsYW5ndWFnZVtdPXN1YicsXG4gICAgICAgICAgICBEVUI6ICdsYW5ndWFnZVtdPWR1YicsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVmYXVsdFNvcnQgPSBgJnR5cGVbXT0ke3RoaXMuTWVkaWFDYXRlZ29yeS5NT1ZJRX0mdHlwZVtdPSR7dGhpcy5NZWRpYUNhdGVnb3J5LlRWfSZ0eXBlW109JHt0aGlzLk1lZGlhQ2F0ZWdvcnkuT05BfSZ0eXBlW109JHt0aGlzLk1lZGlhQ2F0ZWdvcnkuT1ZBfSZ0eXBlW109JHt0aGlzLk1lZGlhQ2F0ZWdvcnkuU1BFQ0lBTH0mdHlwZVtdPSR7dGhpcy5NZWRpYUNhdGVnb3J5LlRWX1NQRUNJQUx9JnR5cGVbXT0ke3RoaXMuTWVkaWFDYXRlZ29yeS5VTkNBVEVHT1JJWkVEfSZzdGF0dXNbXT0ke21vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkd9JnN0YXR1c1tdPSR7bW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEfWA7XG4gICAgICAgIHRoaXMucmVxdWVzdGVkV2l0aCA9ICdYTUxIdHRwUmVxdWVzdCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gcGFnZSBwYWdlIG51bWJlciAob3B0aW9uYWwpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoUmVjZW50RXBpc29kZXMgPSBhc3luYyAocGFnZSA9IDEsIHR5cGUpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IHVybCA9IGAke3RoaXMuYmFzZVVybH0vZmlsdGVyPyR7dGhpcy5kZWZhdWx0U29ydH0mc29ydD1yZWNlbnRseV91cGRhdGVkJnBhZ2U9JHtwYWdlfWA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB1cmwgKz0gYCYke3RoaXMuTWVkaWFSZWdpb24uQU5JTUV9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHVybCArPSBgJiR7dGhpcy5NZWRpYVJlZ2lvbi5ET05HSFVBfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gMykge1xuICAgICAgICAgICAgICAgICAgICB1cmwgKz0gYCYke3RoaXMuTWVkaWFSZWdpb24uU1VCfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICB1cmwgKz0gYCYke3RoaXMuTWVkaWFSZWdpb24uRFVCfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKHJlcy5kYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWNlbnRFcGlzb2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgICQoJy5iYXNpYy5hbmkuY29udGVudC1pdGVtIC5waWVjZScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc3RlciA9ICQoZWwpLmZpbmQoJ2EucG9zdGVyJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9ICQocG9zdGVyKS5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGVOdW0gPSBwYXJzZUZsb2F0KCQoZWwpLmZpbmQoJy5zdWInKS50ZXh0KCkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gJChlbCkuZmluZCgnLnR5cGUuZG90JykudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmluYWxUeXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuVFY7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnT05BJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5PTkE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdNb3ZpZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxUeXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuTU9WSUU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdPVkEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0Lk9WQTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NwZWNpYWwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0LlNQRUNJQUw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdNdXNpYyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxUeXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuTVVTSUM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdQVic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxUeXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuUFY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdUViBTcGVjaWFsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5UVl9TUEVDSUFMO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnQ29taWMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0LkNPTUlDO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlY2VudEVwaXNvZGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHVybCA9PT0gbnVsbCB8fCB1cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVybC5zcGxpdCgnLycpWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZUlkOiBgZXAtJHtlcGlzb2RlTnVtfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlTnVtYmVyOiBlcGlzb2RlTnVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJy5kLXRpdGxlJykudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5nbGlzaFRpdGxlOiAkKGVsKS5maW5kKCcuZC10aXRsZScpLmF0dHIoJ2RhdGEtZW4nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKHBvc3RlcikuZmluZCgnaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybC50cmltKCl9JHt1cmwgPT09IG51bGwgfHwgdXJsID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1cmwudHJpbSgpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBmaW5hbFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc05leHRQYWdlID0gISQoJy5wYWdpbmF0aW9uIGxpJykubGFzdCgpLmhhc0NsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGhhc05leHRQYWdlLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiByZWNlbnRFcGlzb2RlcyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgU2VhcmNoIHF1ZXJ5XG4gICAgICAgICAqIEBwYXJhbSBwYWdlIFBhZ2UgbnVtYmVyIChvcHRpb25hbClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5LCBwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9maWx0ZXI/a2V5d29yZD0ke3F1ZXJ5fSZwYWdlPSR7cGFnZX0mdHlwZVtdPSR7dGhpcy5NZWRpYUNhdGVnb3J5Lk1PVklFfSZ0eXBlW109JHt0aGlzLk1lZGlhQ2F0ZWdvcnkuVFZ9JnR5cGVbXT0ke3RoaXMuTWVkaWFDYXRlZ29yeS5PTkF9JnR5cGVbXT0ke3RoaXMuTWVkaWFDYXRlZ29yeS5PVkF9JnR5cGVbXT0ke3RoaXMuTWVkaWFDYXRlZ29yeS5TUEVDSUFMfSZ0eXBlW109JHt0aGlzLk1lZGlhQ2F0ZWdvcnkuVFZfU1BFQ0lBTH0mdHlwZVtdPSR7dGhpcy5NZWRpYUNhdGVnb3J5Lk1VU0lDfSZ0eXBlW109JHt0aGlzLk1lZGlhQ2F0ZWdvcnkuVU5DQVRFR09SSVpFRH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShyZXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgbGV0IGhhc05leHRQYWdlID0gJCgnLnBhZ2luYXRpb24nKS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgIGlmIChoYXNOZXh0UGFnZSkge1xuICAgICAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZSA9ICEkKCcucGFnaW5hdGlvbiBsaScpLmxhc3QoKS5oYXNDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBoYXNOZXh0UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAkKCcuYmFzaWMuYW5pLmNvbnRlbnQtaXRlbSAucGllY2UnKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3N0ZXIgPSAkKGVsKS5maW5kKCdhLnBvc3RlcicpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSAkKHBvc3RlcikuYXR0cignaHJlZicpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gJChlbCkuZmluZCgnLnR5cGUuZG90JykudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmluYWxUeXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuVFY7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnT05BJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5PTkE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdNb3ZpZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxUeXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuTU9WSUU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdPVkEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0Lk9WQTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NwZWNpYWwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0LlNQRUNJQUw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdNdXNpYyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxUeXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuTVVTSUM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdQVic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxUeXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuUFY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdUViBTcGVjaWFsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5UVl9TUEVDSUFMO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnQ29taWMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0LkNPTUlDO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdC5yZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHVybCA9PT0gbnVsbCB8fCB1cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVybC5zcGxpdCgnLycpWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJy5kLXRpdGxlJykudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5nbGlzaFRpdGxlOiAkKGVsKS5maW5kKCcuZC10aXRsZScpLmF0dHIoJ2RhdGEtZW4nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKHBvc3RlcikuZmluZCgnaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybC50cmltKCl9JHt1cmwgPT09IG51bGwgfHwgdXJsID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1cmwudHJpbSgpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBmaW5hbFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWFyY2hSZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBpZCBBbmltZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEFuaW1lSW5mbyA9IGFzeW5jIChpZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5iYXNlVXJsfS9hbmltZS8ke2lkfS9lcC0xYDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHVybCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1lSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogKF9hID0gJCgnLmFuaS1kYXRhIC5tYWluZGF0YSAuYW5pLW5hbWUuZC10aXRsZScpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgZW5nbGlzaFRpdGxlOiAoX2MgPSAoX2IgPSAkKCcuYW5pLWRhdGEgLm1haW5kYXRhIC5hbmktbmFtZS5kLXRpdGxlJykpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hdHRyKCdkYXRhLWVuJykpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfS9hbmltZS8ke2lkfWAsXG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX2QgPSAkKCcuYW5pLWRhdGEgLnBvc3RlciBpbWcnKSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmF0dHIoJ3NyYycpLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJCgnLmFuaS1kYXRhIC5tYWluZGF0YSAuZGVzY3JpcHRpb24gLmN0cy1ibG9jayBkaXYnKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICBlcGlzb2RlczogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAkKCcuZXBpc29kZXMgLmVwLXJhbmdlJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgJChlbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCdkaXYnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IGFuaW1lSW5mby5lcGlzb2RlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2IgPSAkKGVsKS5maW5kKCdhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc3BsaXQoJy8nKVszXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IHBhcnNlRmxvYXQoJChlbCkuZmluZChgYWApLnRleHQoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHsoX2MgPSAkKGVsKS5maW5kKGBhYCkuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudHJpbSgpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YURhdGEgPSB7IHN0YXR1czogJycsIHR5cGU6ICcnIH07XG4gICAgICAgICAgICAgICAgJCgnLm1ldGFkYXRhIC5saW1pdGVyIGRpdicpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9ICQoZWwpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0LmluY2x1ZGVzKCdHZW5yZTogJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ3NwYW4gYScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1lSW5mby5nZW5yZXMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5nZW5yZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLmdlbnJlcy5wdXNoKCQoZWwpLmF0dHIoJ3RpdGxlJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dC5pbmNsdWRlcygnU3RhdHVzOiAnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YURhdGEuc3RhdHVzID0gdGV4dC5yZXBsYWNlKCdTdGF0dXM6ICcsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0LmluY2x1ZGVzKCdUeXBlOiAnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YURhdGEudHlwZSA9IHRleHQucmVwbGFjZSgnVHlwZTogJywgJycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQuaW5jbHVkZXMoJ0VwaXNvZGVzOiAnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnRvdGFsRXBpc29kZXMgPSAoX2EgPSBwYXJzZUZsb2F0KHRleHQucmVwbGFjZSgnRXBpc29kZXM6ICcsICcnKSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0LmluY2x1ZGVzKCdDb3VudHJ5OiAnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLmNvdW50cnlPZk9yaWdpbiA9IHRleHQucmVwbGFjZSgnQ291bnRyeTogJywgJycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV047XG4gICAgICAgICAgICAgICAgc3dpdGNoIChtZXRhRGF0YS5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnT25nb2luZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lORztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdDb21wbGV0ZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhbmltZUluZm8udHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0LlRWO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAobWV0YURhdGEudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdPTkEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5PTkE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTW92aWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5NT1ZJRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdPVkEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5PVkE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnU3BlY2lhbCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8udHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0LlNQRUNJQUw7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTXVzaWMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5NVVNJQztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdQVic6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8udHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0LlBWO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1RWIFNwZWNpYWwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5UVl9TUEVDSUFMO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0NvbWljJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby50eXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuQ09NSUM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1lSW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoUmFuZG9tQW5pbWVJbmZvID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVybH0vcmFuZG9tYDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHVybCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gKF9hID0gJCgnLmNvbnRlbnQgLnRtcF9hbGlhcycpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYXR0cigndmFsdWUnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltZUluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYiA9ICQoJy5hbmktZGF0YSAubWFpbmRhdGEgLmFuaS1uYW1lLmQtdGl0bGUnKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIGVuZ2xpc2hUaXRsZTogKF9kID0gKF9jID0gJCgnLmFuaS1kYXRhIC5tYWluZGF0YSAuYW5pLW5hbWUuZC10aXRsZScpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYXR0cignZGF0YS1lbicpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0vYW5pbWUvJHtpZH1gLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogKF9lID0gJCgnLmFuaS1kYXRhIC5wb3N0ZXIgaW1nJykpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICQoJy5hbmktZGF0YSAubWFpbmRhdGEgLmRlc2NyaXB0aW9uIC5jdHMtYmxvY2sgZGl2JykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgZXBpc29kZXM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgJCgnLmVwaXNvZGVzIC5lcC1yYW5nZScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICQoZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnZGl2JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBhbmltZUluZm8uZXBpc29kZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9iID0gJChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNwbGl0KCcvJylbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBwYXJzZUZsb2F0KCQoZWwpLmZpbmQoYGFgKS50ZXh0KCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7KF9jID0gJChlbCkuZmluZChgYWApLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRyaW0oKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFEYXRhID0geyBzdGF0dXM6ICcnLCB0eXBlOiAnJyB9O1xuICAgICAgICAgICAgICAgICQoJy5tZXRhZGF0YSAubGltaXRlciBkaXYnKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSAkKGVsKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5pbmNsdWRlcygnR2VucmU6ICcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKGVsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCdzcGFuIGEnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltZUluZm8uZ2VucmVzID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uZ2VucmVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5nZW5yZXMucHVzaCgkKGVsKS5hdHRyKCd0aXRsZScpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQuaW5jbHVkZXMoJ1N0YXR1czogJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFEYXRhLnN0YXR1cyA9IHRleHQucmVwbGFjZSgnU3RhdHVzOiAnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dC5pbmNsdWRlcygnVHlwZTogJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFEYXRhLnR5cGUgPSB0ZXh0LnJlcGxhY2UoJ1R5cGU6ICcsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0LmluY2x1ZGVzKCdFcGlzb2RlczogJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby50b3RhbEVwaXNvZGVzID0gKF9hID0gcGFyc2VGbG9hdCh0ZXh0LnJlcGxhY2UoJ0VwaXNvZGVzOiAnLCAnJykpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dC5pbmNsdWRlcygnQ291bnRyeTogJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5jb3VudHJ5T2ZPcmlnaW4gPSB0ZXh0LnJlcGxhY2UoJ0NvdW50cnk6ICcsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5VTktOT1dOO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAobWV0YURhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ09uZ29pbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnQ29tcGxldGVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5DT01QTEVURUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLnR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5UVjtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG1ldGFEYXRhLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnT05BJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby50eXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuT05BO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ01vdmllJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby50eXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuTU9WSUU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnT1ZBJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby50eXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuT1ZBO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NwZWNpYWwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5TUEVDSUFMO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ011c2ljJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby50eXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuTVVTSUM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUFYnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnR5cGUgPSBtb2RlbHNfMS5NZWRpYUZvcm1hdC5QVjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdUViBTcGVjaWFsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby50eXBlID0gbW9kZWxzXzEuTWVkaWFGb3JtYXQuVFZfU1BFQ0lBTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdDb21pYyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8udHlwZSA9IG1vZGVsc18xLk1lZGlhRm9ybWF0LkNPTUlDO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhbmltZUluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBpZCBBbmltZSBpZFxuICAgICAgICAgKiBAcGFyYW0gZXBpc29kZUlkIEVwaXNvZGUgaWRcbiAgICAgICAgICogQHBhcmFtIHNlcnZlciBTdHJlYW1pbmcgc2VydmVyKG9wdGlvbmFsKVxuICAgICAgICAgKiBAcGFyYW0gdHlwZSBUeXBlIChvcHRpb25hbCkgKG9wdGlvbnM6IGBzdWJgLCBgZHViYCwgYHJhd2ApXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNvdXJjZXMgPSBhc3luYyAoaWQsIGVwaXNvZGVJZCwgc2VydmVyID0gbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5CdWlsdEluLCB0eXBlID0gJycpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVybH0vYW5pbWUvJHtpZH0vJHtlcGlzb2RlSWR9YDtcbiAgICAgICAgICAgIGNvbnN0IHVyaSA9IG5ldyBVUkwodXJsKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwpO1xuICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzLmRhdGEpO1xuICAgICAgICAgICAgY29uc3Qgc2VydmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICQoJCgnLmFuaS1zZXJ2ZXItdHlwZS1wYWQnKVswXSlcbiAgICAgICAgICAgICAgICAuZmluZCgnLnNlcnZlcicpXG4gICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VydmVycy5zZXQoJChlbCkudGV4dCgpLnRyaW0oKSwgJChlbCkuYXR0cignZGF0YS12aWRlbycpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3dpdGNoIChzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVmlkSGlkZTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZlcnMuZ2V0KCdWaWRoaWRlJykgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtVXJpID0gbmV3IFVSTChzZXJ2ZXJzLmdldCgnVmlkaGlkZScpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiBzdHJlYW1Vcmkub3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlczogYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5WaWRIaWRlKHRoaXMucHJveHlDb25maWcsIHRoaXMuYWRhcHRlcikuZXh0cmFjdChzdHJlYW1VcmkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5NcDRVcGxvYWQ6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJzLmdldCgnTXA0dXBsb2FkJykgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtVXJpID0gbmV3IFVSTChzZXJ2ZXJzLmdldCgnTXA0dXBsb2FkJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6IHN0cmVhbVVyaS5vcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBhd2FpdCBuZXcgZXh0cmFjdG9yc18xLk1wNFVwbG9hZCh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc3RyZWFtVXJpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNcDRVcGxvYWQgc2VydmVyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5TdHJlYW1XaXNoOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmVycy5nZXQoJ1N0cmVhbXdpc2gnKSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbVVyaSA9IG5ldyBVUkwoc2VydmVycy5nZXQoJ1N0cmVhbXdpc2gnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogdXJpLm9yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihhd2FpdCBuZXcgZXh0cmFjdG9yc18xLlN0cmVhbVdpc2godGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHN0cmVhbVVyaSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0cmVhbVdpc2ggc2VydmVyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGVTb3VyY2VzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlczogW10sXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVmYXVsdFVybCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnc2NyaXB0OmNvbnRhaW5zKFwibG9hZElmcmFtZVBsYXllclwiKScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0Q29udGVudCA9ICQoZWwpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWd1bGFyIGV4cHJlc3Npb24gdG8gY2FwdHVyZSB0aGUgSlNPTiBpbnNpZGUgbG9hZElmcmFtZVBsYXllclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb25SZWdleCA9IC9sb2FkSWZyYW1lUGxheWVyXFwoXFxzKihbJ1wiYF0pKFxcW1tcXHNcXFNdKj9cXF0pXFwxLztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGpzb25SZWdleC5leGVjKHNjcmlwdENvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHRyYWN0ZWRKc29uID0gbWF0Y2hbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCdsb2FkSWZyYW1lUGxheWVyKCcsICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXCInXCIsICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXCInXCIsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXh0cmFjdGVkSnNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhID09IHVuZGVmaW5lZCB8fCBkYXRhLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1aWx0SW4gc2VydmVyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlICE9ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUudG9VcHBlckNhc2UoKSA9PSB0eXBlLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFVybCA9IGl0ZW0udXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VXJsID0gZGF0YVswXS51cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRVcmwgIT0gJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlU291cmNlcy5zb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZGVmYXVsdFVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiBgZGVmYXVsdGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiBkZWZhdWx0VXJsLmluY2x1ZGVzKCcubTN1OCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1aWx0SW4gc2VydmVyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRVcmwgIT0gJycgJiYgIWRlZmF1bHRVcmwuaW5jbHVkZXMoJy5tcDQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG0zdThDb250ZW50ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGRlZmF1bHRVcmwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtM3U4Q29udGVudC5kYXRhLmluY2x1ZGVzKCdFWFRNM1UnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWRlb0xpc3QgPSBtM3U4Q29udGVudC5kYXRhLnNwbGl0KCcjRVhULVgtU1RSRUFNLUlORjonKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB2aWRlbyBvZiB2aWRlb0xpc3QgIT09IG51bGwgJiYgdmlkZW9MaXN0ICE9PSB2b2lkIDAgPyB2aWRlb0xpc3QgOiBbXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpZGVvLmluY2x1ZGVzKCdCQU5EV0lEVEgnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHZpZGVvLnNwbGl0KCdcXG4nKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWFsaXR5ID0gdmlkZW8uc3BsaXQoJ1JFU09MVVRJT049JylbMV0uc3BsaXQoJ1xcbicpWzBdLnNwbGl0KCd4JylbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGRlZmF1bHRVcmwucmVwbGFjZSgvXFwvW14vXSpcXC5tM3U4JC8sICcvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZVNvdXJjZXMuc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXRoICsgdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiBgJHtxdWFsaXR5LnNwbGl0KCcsJylbMF19cGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTTNVODogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogdXJpLm9yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5lcGlzb2RlU291cmNlcyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBpZCBBbmltZSBpZFxuICAgICAgICAgKiBAcGFyYW0gZXBpc29kZUlkIEVwaXNvZGUgaWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU2VydmVycyA9IGFzeW5jIChpZCwgZXBpc29kZUlkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9L2FuaW1lLyR7aWR9LyR7ZXBpc29kZUlkfWA7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQodXJsKTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKHJlcy5kYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlcnMgPSBbXTtcbiAgICAgICAgICAgICQoJCgnLmFuaS1zZXJ2ZXItdHlwZS1wYWQnKVswXSlcbiAgICAgICAgICAgICAgICAuZmluZCgnLnNlcnZlcicpXG4gICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VydmVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJChlbCkudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKGVsKS5hdHRyKCdkYXRhLXZpZGVvJyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzZXJ2ZXJzO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGlkIEFuaW1lIGlkXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgRXBpc29kZSBpZFxuICAgICAgICAgKiBAcGFyYW0gdHlwZSBUeXBlIChvcHRpb25hbCkgKG9wdGlvbnM6IGBzdWJgLCBgZHViYCwgYHJhd2ApXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNlcnZlclR5cGUgPSBhc3luYyAoaWQsIGVwaXNvZGVJZCwgdHlwZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5iYXNlVXJsfS9hbmltZS8ke2lkfS8ke2VwaXNvZGVJZH1gO1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHVybCk7XG4gICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShyZXMuZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBzdWJzID0gW107XG4gICAgICAgICAgICBjb25zdCBkdWJzID0gW107XG4gICAgICAgICAgICBjb25zdCByYXcgPSBbXTtcbiAgICAgICAgICAgICQoJy5hbmktc2VydmVyLXR5cGUtcGFkJykuZWFjaCgoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcuc2VydmVyJylcbiAgICAgICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlckRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkKGVsKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKGVsKS5hdHRyKCdkYXRhLXZpZGVvJyksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFUeXBlID0gJChlbCkuYXR0cignZGF0YS10eXBlc3YnKS5zcGxpdCgnLScpWzBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVR5cGUgPT09ICdTVUInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzLnB1c2goc2VydmVyRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVR5cGUgPT09ICdEVUInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkdWJzLnB1c2goc2VydmVyRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVR5cGUgPT09ICdSQVcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYXcucHVzaChzZXJ2ZXJEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdWI6IHN1YnMsIGR1YjogZHVicywgcmF3OiByYXcgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFV0aWxpemFuZG8gdW4gc3RyaW5nIHBhcmEgc2VsZWNjaW9uYXIgZWwgdGlwb1xuICAgICAgICAgICAgaWYgKHR5cGUudG9VcHBlckNhc2UoKSA9PT0gJ1NVQicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VicztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUudG9VcHBlckNhc2UoKSA9PT0gJ0RVQicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZHVicztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUudG9VcHBlckNhc2UoKSA9PT0gJ1JBVycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcnZlciB0eXBlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYmFzZVVybCA9IGN1c3RvbUJhc2VVUkxcbiAgICAgICAgICAgID8gY3VzdG9tQmFzZVVSTC5zdGFydHNXaXRoKCdodHRwOi8vJykgfHwgY3VzdG9tQmFzZVVSTC5zdGFydHNXaXRoKCdodHRwczovLycpXG4gICAgICAgICAgICAgICAgPyBjdXN0b21CYXNlVVJMXG4gICAgICAgICAgICAgICAgOiBgaHR0cDovLyR7Y3VzdG9tQmFzZVVSTH1gXG4gICAgICAgICAgICA6IHRoaXMuYmFzZVVybDtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBBbml4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5peC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/anix.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/bilibili.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/bilibili.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nclass Bilibili extends models_1.AnimeParser {\n    constructor(cookie, locale, proxyConfig, adapter) {\n        super(proxyConfig, adapter);\n        this.name = 'Bilibili';\n        this.baseUrl = 'https://bilibili.tv';\n        this.logo = 'https://w7.pngwing.com/pngs/656/356/png-transparent-bilibili-thumbnail-social-media-icons.png';\n        this.classPath = 'ANIME.Bilibili';\n        this.apiUrl = 'https://api.bilibili.tv/intl/gateway/web';\n        this.cookie = '';\n        this.locale = 'en_US';\n        this.sgProxy = 'https://cors.consumet.stream';\n        this.locale = locale !== null && locale !== void 0 ? locale : this.locale;\n        if (!cookie)\n            return;\n        this.cookie = cookie;\n    }\n    async search(query) {\n        var _a;\n        const { data } = await this.client.get(`${this.sgProxy}/${this.apiUrl}/v2/search?keyword=${query}&platform=web&pn=1&ps=20&qid=&s_locale=${this.locale}`, { headers: { cookie: this.cookie } });\n        if (!data.data.filter((item) => item.module.includes('ogv')).length)\n            return { results: [], totalResults: 0 };\n        const results = data.data.find((item) => item.module.includes('ogv'));\n        return {\n            totalResults: (_a = results.items.length) !== null && _a !== void 0 ? _a : 0,\n            results: results.items.map((item) => ({\n                id: item.season_id,\n                title: item.title,\n                image: item.cover,\n                genres: item.styles.split(' / '),\n                rating: item.score,\n                view: item.view,\n            })),\n        };\n    }\n    async fetchAnimeInfo(id) {\n        try {\n            const { data } = await this.client.get(`${this.sgProxy}/https://app.biliintl.com/intl/gateway/v2/ogv/view/app/season2?locale=${this.locale}&platform=android&season_id=${id}`, { headers: { cookie: this.cookie } });\n            let counter = 1;\n            const episodes = data.data.sections.section.flatMap((section) => section.ep_details.map((ep) => ({\n                id: ep.episode_id.toString(),\n                number: counter++,\n                title: ep.long_title || ep.title,\n                image: ep.horizontal_cover,\n            })));\n            return {\n                id,\n                title: data.data.title,\n                description: data.data.details.desc.value,\n                seasons: data.data.season_series.map((season) => ({\n                    id: season.season_id,\n                    title: season.title,\n                })),\n                recommendations: data.data.for_you.item_details.map((section) => ({\n                    id: section.season_id,\n                    title: section.title,\n                    image: section.horizontal_cover,\n                    genres: section.styles.split(' / '),\n                    views: section.view,\n                })),\n                subOrDub: models_1.SubOrSub.SUB,\n                episodes: episodes,\n                totalEpisodes: episodes.length,\n            };\n        }\n        catch (err) {\n            throw err;\n        }\n    }\n    async fetchEpisodeSources(episodeId, ...args) {\n        try {\n            const { data } = await this.client.get(`${this.sgProxy}/${this.apiUrl}/v2/subtitle?s_locale=${this.locale}&platform=web&episode_id=${episodeId}`, { headers: { cookie: this.cookie } });\n            const ss = await this.client.get(`${this.sgProxy}/${this.apiUrl}/playurl?s_locale=${this.locale}&platform=web&ep_id=${episodeId}`, { headers: { cookie: this.cookie } });\n            const sources = await new extractors_1.BilibiliExtractor().extract(episodeId);\n            return {\n                sources: sources.sources,\n                subtitles: data.data.subtitles.map((sub) => ({\n                    id: sub.subtitle_id,\n                    lang: sub.lang,\n                    url: `https://api.consumet.org/utils/bilibili/subtitle?url=${sub.url}`,\n                })),\n            };\n        }\n        catch (err) {\n            throw err;\n        }\n    }\n    async fetchEpisodeServers(episodeId) {\n        throw new Error('Method not implemented.');\n    }\n}\n// (async () => {\n//   const source = new Bilibili();\n//   const result = await source.search('classroom of the elite');\n//   const info = await source.fetchAnimeInfo(result.results[0].id);\n//   const episode = await source.fetchEpisodeSources('10143090');\n//   console.log(episode);\n// })();\nexports[\"default\"] = Bilibili;\n//# sourceMappingURL=bilibili.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvYmlsaWJpbGkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkMscUJBQXFCLG1CQUFPLENBQUMsNEZBQWtCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPLDJCQUEyQixhQUFhLEdBQUcsWUFBWSxxQkFBcUIsTUFBTSx5Q0FBeUMsWUFBWSxLQUFLLFdBQVcsdUJBQXVCO0FBQ3JNO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU8sMkJBQTJCLGFBQWEsd0VBQXdFLFlBQVksOEJBQThCLEdBQUcsS0FBSyxXQUFXLHVCQUF1QjtBQUMvTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTywyQkFBMkIsYUFBYSxHQUFHLFlBQVksd0JBQXdCLFlBQVksMkJBQTJCLFVBQVUsS0FBSyxXQUFXLHVCQUF1QjtBQUNsTSxnREFBZ0QsYUFBYSxHQUFHLFlBQVksb0JBQW9CLFlBQVksc0JBQXNCLFVBQVUsS0FBSyxXQUFXLHVCQUF1QjtBQUNuTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRkFBaUYsUUFBUTtBQUN6RixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxhbmltZVxcYmlsaWJpbGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHNcIik7XG5jb25zdCBleHRyYWN0b3JzXzEgPSByZXF1aXJlKFwiLi4vLi4vZXh0cmFjdG9yc1wiKTtcbmNsYXNzIEJpbGliaWxpIGV4dGVuZHMgbW9kZWxzXzEuQW5pbWVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvb2tpZSwgbG9jYWxlLCBwcm94eUNvbmZpZywgYWRhcHRlcikge1xuICAgICAgICBzdXBlcihwcm94eUNvbmZpZywgYWRhcHRlcik7XG4gICAgICAgIHRoaXMubmFtZSA9ICdCaWxpYmlsaSc7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL2JpbGliaWxpLnR2JztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vdzcucG5nd2luZy5jb20vcG5ncy82NTYvMzU2L3BuZy10cmFuc3BhcmVudC1iaWxpYmlsaS10aHVtYm5haWwtc29jaWFsLW1lZGlhLWljb25zLnBuZyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ0FOSU1FLkJpbGliaWxpJztcbiAgICAgICAgdGhpcy5hcGlVcmwgPSAnaHR0cHM6Ly9hcGkuYmlsaWJpbGkudHYvaW50bC9nYXRld2F5L3dlYic7XG4gICAgICAgIHRoaXMuY29va2llID0gJyc7XG4gICAgICAgIHRoaXMubG9jYWxlID0gJ2VuX1VTJztcbiAgICAgICAgdGhpcy5zZ1Byb3h5ID0gJ2h0dHBzOi8vY29ycy5jb25zdW1ldC5zdHJlYW0nO1xuICAgICAgICB0aGlzLmxvY2FsZSA9IGxvY2FsZSAhPT0gbnVsbCAmJiBsb2NhbGUgIT09IHZvaWQgMCA/IGxvY2FsZSA6IHRoaXMubG9jYWxlO1xuICAgICAgICBpZiAoIWNvb2tpZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5jb29raWUgPSBjb29raWU7XG4gICAgfVxuICAgIGFzeW5jIHNlYXJjaChxdWVyeSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuc2dQcm94eX0vJHt0aGlzLmFwaVVybH0vdjIvc2VhcmNoP2tleXdvcmQ9JHtxdWVyeX0mcGxhdGZvcm09d2ViJnBuPTEmcHM9MjAmcWlkPSZzX2xvY2FsZT0ke3RoaXMubG9jYWxlfWAsIHsgaGVhZGVyczogeyBjb29raWU6IHRoaXMuY29va2llIH0gfSk7XG4gICAgICAgIGlmICghZGF0YS5kYXRhLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5tb2R1bGUuaW5jbHVkZXMoJ29ndicpKS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4geyByZXN1bHRzOiBbXSwgdG90YWxSZXN1bHRzOiAwIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBkYXRhLmRhdGEuZmluZCgoaXRlbSkgPT4gaXRlbS5tb2R1bGUuaW5jbHVkZXMoJ29ndicpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvdGFsUmVzdWx0czogKF9hID0gcmVzdWx0cy5pdGVtcy5sZW5ndGgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDAsXG4gICAgICAgICAgICByZXN1bHRzOiByZXN1bHRzLml0ZW1zLm1hcCgoaXRlbSkgPT4gKHtcbiAgICAgICAgICAgICAgICBpZDogaXRlbS5zZWFzb25faWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXG4gICAgICAgICAgICAgICAgaW1hZ2U6IGl0ZW0uY292ZXIsXG4gICAgICAgICAgICAgICAgZ2VucmVzOiBpdGVtLnN0eWxlcy5zcGxpdCgnIC8gJyksXG4gICAgICAgICAgICAgICAgcmF0aW5nOiBpdGVtLnNjb3JlLFxuICAgICAgICAgICAgICAgIHZpZXc6IGl0ZW0udmlldyxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgZmV0Y2hBbmltZUluZm8oaWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuc2dQcm94eX0vaHR0cHM6Ly9hcHAuYmlsaWludGwuY29tL2ludGwvZ2F0ZXdheS92Mi9vZ3Yvdmlldy9hcHAvc2Vhc29uMj9sb2NhbGU9JHt0aGlzLmxvY2FsZX0mcGxhdGZvcm09YW5kcm9pZCZzZWFzb25faWQ9JHtpZH1gLCB7IGhlYWRlcnM6IHsgY29va2llOiB0aGlzLmNvb2tpZSB9IH0pO1xuICAgICAgICAgICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgICAgICAgICAgY29uc3QgZXBpc29kZXMgPSBkYXRhLmRhdGEuc2VjdGlvbnMuc2VjdGlvbi5mbGF0TWFwKChzZWN0aW9uKSA9PiBzZWN0aW9uLmVwX2RldGFpbHMubWFwKChlcCkgPT4gKHtcbiAgICAgICAgICAgICAgICBpZDogZXAuZXBpc29kZV9pZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG51bWJlcjogY291bnRlcisrLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBlcC5sb25nX3RpdGxlIHx8IGVwLnRpdGxlLFxuICAgICAgICAgICAgICAgIGltYWdlOiBlcC5ob3Jpem9udGFsX2NvdmVyLFxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGRhdGEuZGF0YS50aXRsZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5kYXRhLmRldGFpbHMuZGVzYy52YWx1ZSxcbiAgICAgICAgICAgICAgICBzZWFzb25zOiBkYXRhLmRhdGEuc2Vhc29uX3Nlcmllcy5tYXAoKHNlYXNvbikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHNlYXNvbi5zZWFzb25faWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZWFzb24udGl0bGUsXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogZGF0YS5kYXRhLmZvcl95b3UuaXRlbV9kZXRhaWxzLm1hcCgoc2VjdGlvbikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHNlY3Rpb24uc2Vhc29uX2lkLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogc2VjdGlvbi50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IHNlY3Rpb24uaG9yaXpvbnRhbF9jb3ZlcixcbiAgICAgICAgICAgICAgICAgICAgZ2VucmVzOiBzZWN0aW9uLnN0eWxlcy5zcGxpdCgnIC8gJyksXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiBzZWN0aW9uLnZpZXcsXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIHN1Yk9yRHViOiBtb2RlbHNfMS5TdWJPclN1Yi5TVUIsXG4gICAgICAgICAgICAgICAgZXBpc29kZXM6IGVwaXNvZGVzLFxuICAgICAgICAgICAgICAgIHRvdGFsRXBpc29kZXM6IGVwaXNvZGVzLmxlbmd0aCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZldGNoRXBpc29kZVNvdXJjZXMoZXBpc29kZUlkLCAuLi5hcmdzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLnNnUHJveHl9LyR7dGhpcy5hcGlVcmx9L3YyL3N1YnRpdGxlP3NfbG9jYWxlPSR7dGhpcy5sb2NhbGV9JnBsYXRmb3JtPXdlYiZlcGlzb2RlX2lkPSR7ZXBpc29kZUlkfWAsIHsgaGVhZGVyczogeyBjb29raWU6IHRoaXMuY29va2llIH0gfSk7XG4gICAgICAgICAgICBjb25zdCBzcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLnNnUHJveHl9LyR7dGhpcy5hcGlVcmx9L3BsYXl1cmw/c19sb2NhbGU9JHt0aGlzLmxvY2FsZX0mcGxhdGZvcm09d2ViJmVwX2lkPSR7ZXBpc29kZUlkfWAsIHsgaGVhZGVyczogeyBjb29raWU6IHRoaXMuY29va2llIH0gfSk7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VzID0gYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5CaWxpYmlsaUV4dHJhY3RvcigpLmV4dHJhY3QoZXBpc29kZUlkKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc291cmNlczogc291cmNlcy5zb3VyY2VzLFxuICAgICAgICAgICAgICAgIHN1YnRpdGxlczogZGF0YS5kYXRhLnN1YnRpdGxlcy5tYXAoKHN1YikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHN1Yi5zdWJ0aXRsZV9pZCxcbiAgICAgICAgICAgICAgICAgICAgbGFuZzogc3ViLmxhbmcsXG4gICAgICAgICAgICAgICAgICAgIHVybDogYGh0dHBzOi8vYXBpLmNvbnN1bWV0Lm9yZy91dGlscy9iaWxpYmlsaS9zdWJ0aXRsZT91cmw9JHtzdWIudXJsfWAsXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZmV0Y2hFcGlzb2RlU2VydmVycyhlcGlzb2RlSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cbn1cbi8vIChhc3luYyAoKSA9PiB7XG4vLyAgIGNvbnN0IHNvdXJjZSA9IG5ldyBCaWxpYmlsaSgpO1xuLy8gICBjb25zdCByZXN1bHQgPSBhd2FpdCBzb3VyY2Uuc2VhcmNoKCdjbGFzc3Jvb20gb2YgdGhlIGVsaXRlJyk7XG4vLyAgIGNvbnN0IGluZm8gPSBhd2FpdCBzb3VyY2UuZmV0Y2hBbmltZUluZm8ocmVzdWx0LnJlc3VsdHNbMF0uaWQpO1xuLy8gICBjb25zdCBlcGlzb2RlID0gYXdhaXQgc291cmNlLmZldGNoRXBpc29kZVNvdXJjZXMoJzEwMTQzMDkwJyk7XG4vLyAgIGNvbnNvbGUubG9nKGVwaXNvZGUpO1xuLy8gfSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJpbGliaWxpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmlsaWJpbGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/bilibili.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/crunchyroll.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/crunchyroll.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst axios_1 = __importDefault(__webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/dist/node/axios.cjs\"));\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nclass Crunchyroll extends models_1.AnimeParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'Crunchyroll';\n        this.baseUrl = 'https://cronchy.consumet.stream';\n        this.logo = 'https://play-lh.googleusercontent.com/CjzbMcLbmTswzCGauGQExkFsSHvwjKEeWLbVVJx0B-J9G6OQ-UCl2eOuGBfaIozFqow';\n        this.classPath = `ANIME.${this.name}`;\n        this.locale = 'en-US';\n        this.TOKEN = undefined;\n        this.locales = [\n            '[ar-ME] Arabic',\n            '[ar-SA] Arabic (Saudi Arabia)',\n            '[de-DE] German',\n            '[en-US] English',\n            '[es-419] Spanish (Latin America)',\n            '[es-ES] Spanish (Spain)',\n            '[fr-FR] French',\n            '[he-IL] Hebrew',\n            '[it-IT] Italian',\n            '[pt-BR] Portuguese (Brazil)',\n            '[pt-PT] Portuguese (Portugal)',\n            '[pl-PL] Polish',\n            '[ru-RU] Russian',\n            '[ro-RO] Romanian',\n            '[sv-SE] Swedish',\n            '[tr-TR] Turkish',\n            '[uk-UK] Ukrainian',\n            '[zh-CN] Chinese (Simplified)',\n            '[zh-TW] Chinese (Traditional)',\n        ];\n        this.subOrder = [\n            'Subbed',\n            'English Dub',\n            'German Dub',\n            'French Dub',\n            'Spanish Dub',\n            'Italian Dub',\n            'Portuguese Dub',\n        ];\n        /**\n         * @param query Search query\n         */\n        this.search = async (query) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/search/${query}`, this.options);\n                return data;\n            }\n            catch (error) {\n                throw new Error(`Couldn't fetch data from ${this.name}`);\n            }\n        };\n        /**\n         * @param id Anime id\n         * @param mediaType Anime type (series, movie)\n         * @param fetchAllSeasons Fetch all episode seasons\n         */\n        this.fetchAnimeInfo = async (id, mediaType, fetchAllSeasons = false) => {\n            if (mediaType == 'series') {\n                const { data } = await this.client.get(`${this.baseUrl}/info/${id}?type=${mediaType}&fetchAllSeasons=${fetchAllSeasons}`, this.options);\n                return data;\n            }\n            else {\n                throw new Error(\"Couldn't fetch data from Crunchyroll\");\n            }\n        };\n        /**\n         *\n         * @param episodeId Episode id\n         * @param format subtitle format (default: `srt`) (srt, vtt, ass)\n         * @param type Video type (default: `adaptive_hls` (m3u8)) `adaptive_dash` (dash), `drm_adaptive_dash` (dash with drm)\n         */\n        this.fetchEpisodeSources = async (episodeId) => {\n            const { data } = await this.client.get(`${this.baseUrl}/episode/${episodeId}`, this.options);\n            //TODO: Add hardcoded subtitles for all languages\n            return data;\n        };\n        /**\n         *\n         * @param episodeId Episode id\n         */\n        this.fetchEpisodeServers = (episodeId) => {\n            throw new Error('Method not implemented.');\n        };\n    }\n    get options() {\n        var _a;\n        return {\n            headers: {\n                'User-Agent': utils_1.USER_AGENT,\n                Authorization: 'Bearer ' + ((_a = this.TOKEN) === null || _a === void 0 ? void 0 : _a.access_token),\n            },\n        };\n    }\n    static async create(locale, token, accessToken, proxyConfig, adapter) {\n        var _a;\n        const instance = new Crunchyroll(proxyConfig, adapter);\n        instance.TOKEN = (_a = instance.TOKEN) !== null && _a !== void 0 ? _a : (await axios_1.default.get(`${instance.baseUrl}/token`)).data;\n        return instance;\n    }\n}\nexports[\"default\"] = Crunchyroll;\n// (async () => {\n//   const crunchyroll = await Crunchyroll.create();\n//   const search = await crunchyroll.search('spy-x-family');\n//   const res = await crunchyroll.fetchAnimeInfo(search.results[0].id, search.results[0].type!);\n//   const sources = await crunchyroll.fetchEpisodeSources(res.episodes![res.episodes?.length! - 1].id);\n// })();\n//# sourceMappingURL=crunchyroll.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvY3J1bmNoeXJvbGwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQ0FBZ0MsbUJBQU8sQ0FBQyw2REFBTztBQUMvQyxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QyxnQkFBZ0IsbUJBQU8sQ0FBQyxrRkFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsVUFBVTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLFVBQVUsTUFBTTtBQUN2RjtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsVUFBVTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxRQUFRLEdBQUcsUUFBUSxVQUFVLG1CQUFtQixnQkFBZ0I7QUFDdkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTywyQkFBMkIsYUFBYSxXQUFXLFVBQVU7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEdBQThHLGlCQUFpQjtBQUMvSDtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0oiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcYW5pbWVcXGNydW5jaHlyb2xsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgYXhpb3NfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiYXhpb3NcIikpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlsc1wiKTtcbmNsYXNzIENydW5jaHlyb2xsIGV4dGVuZHMgbW9kZWxzXzEuQW5pbWVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQ3J1bmNoeXJvbGwnO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9jcm9uY2h5LmNvbnN1bWV0LnN0cmVhbSc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL3BsYXktbGguZ29vZ2xldXNlcmNvbnRlbnQuY29tL0NqemJNY0xibVRzd3pDR2F1R1FFeGtGc1NIdndqS0VlV0xiVlZKeDBCLUo5RzZPUS1VQ2wyZU91R0JmYUlvekZxb3cnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9IGBBTklNRS4ke3RoaXMubmFtZX1gO1xuICAgICAgICB0aGlzLmxvY2FsZSA9ICdlbi1VUyc7XG4gICAgICAgIHRoaXMuVE9LRU4gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubG9jYWxlcyA9IFtcbiAgICAgICAgICAgICdbYXItTUVdIEFyYWJpYycsXG4gICAgICAgICAgICAnW2FyLVNBXSBBcmFiaWMgKFNhdWRpIEFyYWJpYSknLFxuICAgICAgICAgICAgJ1tkZS1ERV0gR2VybWFuJyxcbiAgICAgICAgICAgICdbZW4tVVNdIEVuZ2xpc2gnLFxuICAgICAgICAgICAgJ1tlcy00MTldIFNwYW5pc2ggKExhdGluIEFtZXJpY2EpJyxcbiAgICAgICAgICAgICdbZXMtRVNdIFNwYW5pc2ggKFNwYWluKScsXG4gICAgICAgICAgICAnW2ZyLUZSXSBGcmVuY2gnLFxuICAgICAgICAgICAgJ1toZS1JTF0gSGVicmV3JyxcbiAgICAgICAgICAgICdbaXQtSVRdIEl0YWxpYW4nLFxuICAgICAgICAgICAgJ1twdC1CUl0gUG9ydHVndWVzZSAoQnJhemlsKScsXG4gICAgICAgICAgICAnW3B0LVBUXSBQb3J0dWd1ZXNlIChQb3J0dWdhbCknLFxuICAgICAgICAgICAgJ1twbC1QTF0gUG9saXNoJyxcbiAgICAgICAgICAgICdbcnUtUlVdIFJ1c3NpYW4nLFxuICAgICAgICAgICAgJ1tyby1ST10gUm9tYW5pYW4nLFxuICAgICAgICAgICAgJ1tzdi1TRV0gU3dlZGlzaCcsXG4gICAgICAgICAgICAnW3RyLVRSXSBUdXJraXNoJyxcbiAgICAgICAgICAgICdbdWstVUtdIFVrcmFpbmlhbicsXG4gICAgICAgICAgICAnW3poLUNOXSBDaGluZXNlIChTaW1wbGlmaWVkKScsXG4gICAgICAgICAgICAnW3poLVRXXSBDaGluZXNlIChUcmFkaXRpb25hbCknLFxuICAgICAgICBdO1xuICAgICAgICB0aGlzLnN1Yk9yZGVyID0gW1xuICAgICAgICAgICAgJ1N1YmJlZCcsXG4gICAgICAgICAgICAnRW5nbGlzaCBEdWInLFxuICAgICAgICAgICAgJ0dlcm1hbiBEdWInLFxuICAgICAgICAgICAgJ0ZyZW5jaCBEdWInLFxuICAgICAgICAgICAgJ1NwYW5pc2ggRHViJyxcbiAgICAgICAgICAgICdJdGFsaWFuIER1YicsXG4gICAgICAgICAgICAnUG9ydHVndWVzZSBEdWInLFxuICAgICAgICBdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHF1ZXJ5IFNlYXJjaCBxdWVyeVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocXVlcnkpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9zZWFyY2gvJHtxdWVyeX1gLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZG4ndCBmZXRjaCBkYXRhIGZyb20gJHt0aGlzLm5hbWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gaWQgQW5pbWUgaWRcbiAgICAgICAgICogQHBhcmFtIG1lZGlhVHlwZSBBbmltZSB0eXBlIChzZXJpZXMsIG1vdmllKVxuICAgICAgICAgKiBAcGFyYW0gZmV0Y2hBbGxTZWFzb25zIEZldGNoIGFsbCBlcGlzb2RlIHNlYXNvbnNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hBbmltZUluZm8gPSBhc3luYyAoaWQsIG1lZGlhVHlwZSwgZmV0Y2hBbGxTZWFzb25zID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgIGlmIChtZWRpYVR5cGUgPT0gJ3NlcmllcycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2luZm8vJHtpZH0/dHlwZT0ke21lZGlhVHlwZX0mZmV0Y2hBbGxTZWFzb25zPSR7ZmV0Y2hBbGxTZWFzb25zfWAsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmZXRjaCBkYXRhIGZyb20gQ3J1bmNoeXJvbGxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gZXBpc29kZUlkIEVwaXNvZGUgaWRcbiAgICAgICAgICogQHBhcmFtIGZvcm1hdCBzdWJ0aXRsZSBmb3JtYXQgKGRlZmF1bHQ6IGBzcnRgKSAoc3J0LCB2dHQsIGFzcylcbiAgICAgICAgICogQHBhcmFtIHR5cGUgVmlkZW8gdHlwZSAoZGVmYXVsdDogYGFkYXB0aXZlX2hsc2AgKG0zdTgpKSBgYWRhcHRpdmVfZGFzaGAgKGRhc2gpLCBgZHJtX2FkYXB0aXZlX2Rhc2hgIChkYXNoIHdpdGggZHJtKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzID0gYXN5bmMgKGVwaXNvZGVJZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9lcGlzb2RlLyR7ZXBpc29kZUlkfWAsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAvL1RPRE86IEFkZCBoYXJkY29kZWQgc3VidGl0bGVzIGZvciBhbGwgbGFuZ3VhZ2VzXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgRXBpc29kZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTZXJ2ZXJzID0gKGVwaXNvZGVJZCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdVc2VyLUFnZW50JzogdXRpbHNfMS5VU0VSX0FHRU5ULFxuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArICgoX2EgPSB0aGlzLlRPS0VOKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWNjZXNzX3Rva2VuKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBjcmVhdGUobG9jYWxlLCB0b2tlbiwgYWNjZXNzVG9rZW4sIHByb3h5Q29uZmlnLCBhZGFwdGVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgQ3J1bmNoeXJvbGwocHJveHlDb25maWcsIGFkYXB0ZXIpO1xuICAgICAgICBpbnN0YW5jZS5UT0tFTiA9IChfYSA9IGluc3RhbmNlLlRPS0VOKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoYXdhaXQgYXhpb3NfMS5kZWZhdWx0LmdldChgJHtpbnN0YW5jZS5iYXNlVXJsfS90b2tlbmApKS5kYXRhO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gQ3J1bmNoeXJvbGw7XG4vLyAoYXN5bmMgKCkgPT4ge1xuLy8gICBjb25zdCBjcnVuY2h5cm9sbCA9IGF3YWl0IENydW5jaHlyb2xsLmNyZWF0ZSgpO1xuLy8gICBjb25zdCBzZWFyY2ggPSBhd2FpdCBjcnVuY2h5cm9sbC5zZWFyY2goJ3NweS14LWZhbWlseScpO1xuLy8gICBjb25zdCByZXMgPSBhd2FpdCBjcnVuY2h5cm9sbC5mZXRjaEFuaW1lSW5mbyhzZWFyY2gucmVzdWx0c1swXS5pZCwgc2VhcmNoLnJlc3VsdHNbMF0udHlwZSEpO1xuLy8gICBjb25zdCBzb3VyY2VzID0gYXdhaXQgY3J1bmNoeXJvbGwuZmV0Y2hFcGlzb2RlU291cmNlcyhyZXMuZXBpc29kZXMhW3Jlcy5lcGlzb2Rlcz8ubGVuZ3RoISAtIDFdLmlkKTtcbi8vIH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcnVuY2h5cm9sbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/crunchyroll.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/gogoanime.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/gogoanime.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nclass Gogoanime extends models_1.AnimeParser {\n    constructor(customBaseURL, proxy, adapter) {\n        super(...arguments);\n        this.name = 'Gogoanime';\n        this.baseUrl = 'https://anitaku.bz'; // Do not include a trailing forward slash.\n        this.logo = 'https://play-lh.googleusercontent.com/MaGEiAEhNHAJXcXKzqTNgxqRmhuKB1rCUgb15UrN_mWUNRnLpO5T1qja64oRasO7mn0';\n        this.classPath = 'ANIME.Gogoanime';\n        this.ajaxUrl = 'https://ajax.gogocdn.net/ajax';\n        /**\n         *\n         * @param query search query string\n         * @param page page number (default 1) (optional)\n         */\n        this.search = async (query, page = 1) => {\n            const searchResult = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const res = await this.client.get(`${this.baseUrl}/filter.html?keyword=${encodeURIComponent(query)}&page=${page}`);\n                const $ = (0, cheerio_1.load)(res.data);\n                searchResult.hasNextPage =\n                    $('div.anime_name.new_series > div > div > ul > li.selected').next().length > 0;\n                $('div.last_episodes > ul > li').each((i, el) => {\n                    var _a;\n                    searchResult.results.push({\n                        id: (_a = $(el).find('p.name > a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[2],\n                        title: $(el).find('p.name > a').text(),\n                        url: `${this.baseUrl}/${$(el).find('p.name > a').attr('href')}`,\n                        image: $(el).find('div > a > img').attr('src'),\n                        releaseDate: $(el).find('p.released').text().trim().replace('Released: ', ''),\n                        subOrDub: $(el).find('p.name > a').text().toLowerCase().includes('(dub)')\n                            ? models_1.SubOrSub.DUB\n                            : models_1.SubOrSub.SUB,\n                    });\n                });\n                return searchResult;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param id anime id\n         */\n        this.fetchAnimeInfo = async (id) => {\n            if (!id.includes('gogoanime'))\n                id = `${this.baseUrl}/category/${id}`;\n            const animeInfo = {\n                id: '',\n                title: '',\n                url: '',\n                genres: [],\n                totalEpisodes: 0,\n            };\n            try {\n                const res = await this.client.get(id);\n                const $ = (0, cheerio_1.load)(res.data);\n                animeInfo.id = new URL(id).pathname.split('/')[2];\n                animeInfo.title = $('section.content_left > div.main_body > div:nth-child(2) > div.anime_info_body_bg > h1')\n                    .text()\n                    .trim();\n                animeInfo.url = id;\n                animeInfo.image = $('div.anime_info_body_bg > img').attr('src');\n                animeInfo.releaseDate = $('div.anime_info_body_bg > p:nth-child(8)')\n                    .text()\n                    .trim()\n                    .split('Released: ')[1];\n                animeInfo.description = $('div.anime_info_body_bg > div:nth-child(6)')\n                    .text()\n                    .trim()\n                    .replace('Plot Summary: ', '');\n                animeInfo.subOrDub = animeInfo.title.toLowerCase().includes('dub') ? models_1.SubOrSub.DUB : models_1.SubOrSub.SUB;\n                animeInfo.type = $('div.anime_info_body_bg > p:nth-child(4) > a')\n                    .text()\n                    .trim()\n                    .toUpperCase();\n                animeInfo.status = models_1.MediaStatus.UNKNOWN;\n                switch ($('div.anime_info_body_bg > p:nth-child(9) > a').text().trim()) {\n                    case 'Ongoing':\n                        animeInfo.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    case 'Completed':\n                        animeInfo.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                    case 'Upcoming':\n                        animeInfo.status = models_1.MediaStatus.NOT_YET_AIRED;\n                        break;\n                    default:\n                        animeInfo.status = models_1.MediaStatus.UNKNOWN;\n                        break;\n                }\n                animeInfo.otherName = $('.other-name a').text().trim();\n                $('div.anime_info_body_bg > p:nth-child(7) > a').each((i, el) => {\n                    var _a;\n                    (_a = animeInfo.genres) === null || _a === void 0 ? void 0 : _a.push($(el).attr('title').toString());\n                });\n                const ep_start = $('#episode_page > li').first().find('a').attr('ep_start');\n                const ep_end = $('#episode_page > li').last().find('a').attr('ep_end');\n                const movie_id = $('#movie_id').attr('value');\n                const alias = $('#alias_anime').attr('value');\n                const html = await this.client.get(`${this.ajaxUrl}/load-list-episode?ep_start=${ep_start}&ep_end=${ep_end}&id=${movie_id}&default_ep=${0}&alias=${alias}`);\n                const $$ = (0, cheerio_1.load)(html.data);\n                animeInfo.episodes = [];\n                $$('#episode_related > li').each((i, el) => {\n                    var _a, _b, _c;\n                    (_a = animeInfo.episodes) === null || _a === void 0 ? void 0 : _a.push({\n                        id: (_b = $(el).find('a').attr('href')) === null || _b === void 0 ? void 0 : _b.split('/')[1],\n                        number: parseFloat($(el).find(`div.name`).text().replace('EP ', '')),\n                        url: `${this.baseUrl}/${(_c = $(el).find(`a`).attr('href')) === null || _c === void 0 ? void 0 : _c.trim()}`,\n                    });\n                });\n                animeInfo.episodes = animeInfo.episodes.reverse();\n                animeInfo.totalEpisodes = parseInt(ep_end !== null && ep_end !== void 0 ? ep_end : '0');\n                return animeInfo;\n            }\n            catch (err) {\n                throw new Error(`failed to fetch anime info: ${err}`);\n            }\n        };\n        /**\n         *\n         * @param episodeId episode id\n         * @param server server type (default 'GogoCDN') (optional)\n         */\n        this.fetchEpisodeSources = async (episodeId, server = models_1.StreamingServers.VidStreaming, downloadUrl = undefined) => {\n            if (episodeId.startsWith('http')) {\n                const serverUrl = new URL(episodeId);\n                switch (server) {\n                    case models_1.StreamingServers.GogoCDN:\n                        return {\n                            headers: { Referer: serverUrl.origin },\n                            ...(await new extractors_1.GogoCDN(this.proxyConfig, this.adapter).extract(serverUrl)),\n                            download: downloadUrl ? downloadUrl : `https://${serverUrl.host}/download${serverUrl.search}`,\n                        };\n                    case models_1.StreamingServers.StreamSB:\n                        return {\n                            headers: {\n                                Referer: serverUrl.href,\n                                watchsb: 'streamsb',\n                                'User-Agent': utils_1.USER_AGENT,\n                            },\n                            sources: await new extractors_1.StreamSB(this.proxyConfig, this.adapter).extract(serverUrl),\n                            download: downloadUrl ? downloadUrl : `https://${serverUrl.host}/download${serverUrl.search}`,\n                        };\n                    case models_1.StreamingServers.Mp4Upload:\n                        return {\n                            headers: {\n                                Referer: serverUrl.origin,\n                            },\n                            sources: await new extractors_1.Mp4Upload(this.proxyConfig, this.adapter).extract(serverUrl),\n                            download: downloadUrl ? downloadUrl : `https://${serverUrl.host}/download${serverUrl.search}`,\n                        };\n                    case models_1.StreamingServers.StreamWish:\n                        return {\n                            headers: {\n                                Referer: serverUrl.origin,\n                            },\n                            ...(await new extractors_1.StreamWish(this.proxyConfig, this.adapter).extract(serverUrl)),\n                            download: downloadUrl ? downloadUrl : `https://${serverUrl.host}/download${serverUrl.search}`,\n                        };\n                    default:\n                        return {\n                            headers: { Referer: serverUrl.origin },\n                            ...(await new extractors_1.GogoCDN(this.proxyConfig, this.adapter).extract(serverUrl)),\n                            download: downloadUrl ? downloadUrl : `https://${serverUrl.host}/download${serverUrl.search}`,\n                        };\n                }\n            }\n            try {\n                const res = await this.client.get(`${this.baseUrl}/${episodeId}`);\n                const $ = (0, cheerio_1.load)(res.data);\n                let serverUrl;\n                switch (server) {\n                    case models_1.StreamingServers.GogoCDN:\n                        serverUrl = new URL(`${$('#load_anime > div > div > iframe').attr('src')}`);\n                        break;\n                    case models_1.StreamingServers.VidStreaming:\n                        serverUrl = new URL(`${$('div.anime_video_body > div.anime_muti_link > ul > li.vidcdn > a').attr('data-video')}`);\n                        break;\n                    case models_1.StreamingServers.StreamSB:\n                        serverUrl = new URL($('div.anime_video_body > div.anime_muti_link > ul > li.streamsb > a').attr('data-video'));\n                        break;\n                    case models_1.StreamingServers.StreamWish:\n                        serverUrl = new URL($('div.anime_video_body > div.anime_muti_link > ul > li.streamwish > a').attr('data-video'));\n                        break;\n                    case models_1.StreamingServers.Mp4Upload:\n                        serverUrl = new URL($('div.anime_video_body > div.anime_muti_link > ul > li.mp4upload > a').attr('data-video'));\n                        break;\n                    default:\n                        serverUrl = new URL(`${$('#load_anime > div > div > iframe').attr('src')}`);\n                        break;\n                }\n                const downloadLink = `${$('.dowloads > a').attr('href')}`;\n                return downloadLink\n                    ? await this.fetchEpisodeSources(serverUrl.href, server, downloadLink)\n                    : await this.fetchEpisodeSources(serverUrl.href, server);\n            }\n            catch (err) {\n                console.log(err);\n                throw new Error('Episode not found.');\n            }\n        };\n        /**\n         *\n         * @param episodeId episode link or episode id\n         */\n        this.fetchEpisodeServers = async (episodeId) => {\n            try {\n                if (!episodeId.startsWith(this.baseUrl))\n                    episodeId = `${this.baseUrl}/${episodeId}`;\n                const res = await this.client.get(episodeId);\n                const $ = (0, cheerio_1.load)(res.data);\n                const servers = [];\n                $('div.anime_video_body > div.anime_muti_link > ul > li').each((i, el) => {\n                    let url = $(el).find('a').attr('data-video');\n                    if (!(url === null || url === void 0 ? void 0 : url.startsWith('http')))\n                        url = `https:${url}`;\n                    servers.push({\n                        name: $(el).find('a').text().replace('Choose this server', '').trim(),\n                        url: url,\n                    });\n                });\n                return servers;\n            }\n            catch (err) {\n                throw new Error('Episode not found.');\n            }\n        };\n        /**\n         *\n         * @param episodeId episode link or episode id\n         */\n        this.fetchAnimeIdFromEpisodeId = async (episodeId) => {\n            try {\n                if (!episodeId.startsWith(this.baseUrl))\n                    episodeId = `${this.baseUrl}/${episodeId}`;\n                const res = await this.client.get(episodeId);\n                const $ = (0, cheerio_1.load)(res.data);\n                return $('#wrapper_bg > section > section.content_left > div:nth-child(1) > div.anime_video_body > div.anime_video_body_cate > div.anime-info > a').attr('href').split('/')[2];\n            }\n            catch (err) {\n                throw new Error('Episode not found.');\n            }\n        };\n        /**\n         * @param page page number (optional)\n         * @param type type of media. (optional) (default `1`) `1`: Japanese with subtitles, `2`: english/dub with no subtitles, `3`: chinese with english subtitles\n         */\n        this.fetchRecentEpisodes = async (page = 1, type = 1) => {\n            try {\n                const res = await this.client.get(`${this.ajaxUrl}/page-recent-release.html?page=${page}&type=${type}`);\n                const $ = (0, cheerio_1.load)(res.data);\n                const recentEpisodes = [];\n                $('div.last_episodes.loaddub > ul > li').each((i, el) => {\n                    var _a, _b, _c, _d;\n                    recentEpisodes.push({\n                        id: (_b = (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[1]) === null || _b === void 0 ? void 0 : _b.split('-episode')[0],\n                        episodeId: (_c = $(el).find('a').attr('href')) === null || _c === void 0 ? void 0 : _c.split('/')[1],\n                        episodeNumber: parseFloat($(el).find('p.episode').text().replace('Episode ', '')),\n                        title: $(el).find('p.name > a').text(),\n                        image: $(el).find('div > a > img').attr('src'),\n                        url: `${this.baseUrl}${(_d = $(el).find('a').attr('href')) === null || _d === void 0 ? void 0 : _d.trim()}`,\n                    });\n                });\n                const hasNextPage = !$('div.anime_name_pagination.intro > div > ul > li').last().hasClass('selected');\n                return {\n                    currentPage: page,\n                    hasNextPage: hasNextPage,\n                    results: recentEpisodes,\n                };\n            }\n            catch (err) {\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        this.fetchGenreInfo = async (genre, page = 1) => {\n            try {\n                const res = await this.client.get(`${this.baseUrl}/genre/${genre}?page=${page}`);\n                const $ = (0, cheerio_1.load)(res.data);\n                const genreInfo = [];\n                $('div.last_episodes > ul > li').each((i, elem) => {\n                    var _a;\n                    genreInfo.push({\n                        id: (_a = $(elem).find('p.name > a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[2],\n                        title: $(elem).find('p.name > a').text(),\n                        image: $(elem).find('div > a > img').attr('src'),\n                        released: $(elem).find('p.released').text().replace('Released: ', '').trim(),\n                        url: this.baseUrl + '/' + $(elem).find('p.name > a').attr('href'),\n                    });\n                });\n                const paginatorDom = $('div.anime_name_pagination > div > ul > li');\n                const hasNextPage = paginatorDom.length > 0 && !paginatorDom.last().hasClass('selected');\n                return {\n                    currentPage: page,\n                    hasNextPage: hasNextPage,\n                    results: genreInfo,\n                };\n            }\n            catch (err) {\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        this.fetchTopAiring = async (page = 1) => {\n            try {\n                const res = await this.client.get(`${this.ajaxUrl}/page-recent-release-ongoing.html?page=${page}`);\n                const $ = (0, cheerio_1.load)(res.data);\n                const topAiring = [];\n                $('div.added_series_body.popular > ul > li').each((i, el) => {\n                    var _a, _b;\n                    topAiring.push({\n                        id: (_a = $(el).find('a:nth-child(1)').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[2],\n                        title: $(el).find('a:nth-child(2)').text().trim().split(',')[0].trim(),\n                        image: (_b = $(el).find('a:nth-child(1) > div').attr('style')) === null || _b === void 0 ? void 0 : _b.match('(https?://.*.(?:png|jpg))')[0],\n                        url: `${this.baseUrl}${$(el).find('a:nth-child(1)').attr('href')}`,\n                        genres: $(el)\n                            .find('p.genres > a')\n                            .map((i, el) => $(el).attr('title'))\n                            .get(),\n                        episodeId: $(el).find('p:nth-of-type(2) > a').attr('title'),\n                        episodeNumber: parseFloat($(el).find('p:nth-of-type(2) > a').text().replace('Episode ', '')),\n                    });\n                });\n                const hasNextPage = !$('div.anime_name.comedy > div > div > ul > li').last().hasClass('selected');\n                return {\n                    currentPage: page,\n                    hasNextPage: hasNextPage,\n                    results: topAiring,\n                };\n            }\n            catch (err) {\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        this.fetchRecentMovies = async (page = 1) => {\n            try {\n                const res = await this.client.get(`${this.baseUrl}/anime-movies.html?aph&page=${page}`);\n                const $ = (0, cheerio_1.load)(res.data);\n                const recentMovies = [];\n                $('div.last_episodes > ul > li').each((i, el) => {\n                    var _a;\n                    const a = $(el).find('p.name > a');\n                    const pRelease = $(el).find('p.released');\n                    const pName = $(el).find('p.name > a');\n                    recentMovies.push({\n                        id: (_a = a.attr('href')) === null || _a === void 0 ? void 0 : _a.replace(`/category/`, ''),\n                        title: pName.text(),\n                        releaseDate: pRelease.text().replace('Released: ', '').trim(),\n                        image: $(el).find('div > a > img').attr('src'),\n                        url: `${this.baseUrl}${a.attr('href')}`,\n                    });\n                });\n                const hasNextPage = !$('div.anime_name.anime_movies > div > div > ul > li').last().hasClass('selected');\n                return {\n                    currentPage: page,\n                    hasNextPage: hasNextPage,\n                    results: recentMovies,\n                };\n            }\n            catch (err) {\n                console.log(err);\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        this.fetchPopular = async (page = 1) => {\n            try {\n                const res = await this.client.get(`${this.baseUrl}/popular.html?page=${page}`);\n                const $ = (0, cheerio_1.load)(res.data);\n                const recentMovies = [];\n                $('div.last_episodes > ul > li').each((i, el) => {\n                    var _a;\n                    const a = $(el).find('p.name > a');\n                    const pRelease = $(el).find('p.released');\n                    const pName = $(el).find('p.name > a');\n                    recentMovies.push({\n                        id: (_a = a.attr('href')) === null || _a === void 0 ? void 0 : _a.replace(`/category/`, ''),\n                        title: pName.text(),\n                        releaseDate: pRelease.text().replace('Released: ', '').trim(),\n                        image: $(el).find('div > a > img').attr('src'),\n                        url: `${this.baseUrl}${a.attr('href')}`,\n                    });\n                });\n                const hasNextPage = !$('div.anime_name.anime_movies > div > div > ul > li').last().hasClass('selected');\n                return {\n                    currentPage: page,\n                    hasNextPage: hasNextPage,\n                    results: recentMovies,\n                };\n            }\n            catch (err) {\n                console.log(err);\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        this.fetchGenreList = async () => {\n            const genres = [];\n            let res = null;\n            try {\n                res = await this.client.get(`${this.baseUrl}/home.html`);\n            }\n            catch (err) {\n                try {\n                    res = await this.client.get(`${this.baseUrl}/`);\n                }\n                catch (error) {\n                    throw new Error('Something went wrong. Please try again later.');\n                }\n            }\n            try {\n                const $ = (0, cheerio_1.load)(res.data);\n                $('nav.menu_series.genre.right > ul > li').each((_index, element) => {\n                    var _a;\n                    const genre = $(element).find('a');\n                    genres.push({ id: (_a = genre.attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/genre/', ''), title: genre.attr('title') });\n                });\n                return genres;\n            }\n            catch (err) {\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        this.fetchDirectDownloadLink = async (downloadUrl, captchaToken) => {\n            const downloadLinks = [];\n            const baseUrl = downloadUrl.split('?')[0];\n            const idParam = downloadUrl.match(/[?&]id=([^&]+)/);\n            const animeID = idParam ? idParam[1] : null;\n            if (!captchaToken)\n                captchaToken =\n                    '03AFcWeA5zy7DBK82U_tctVKelJ6L2duTWac5at2zXjHLX8XqUm8tI6NKWMxGd2gjh1vi2hnEyRhVgbMhdb9WjexRsJkxTt-C-_iIIZ5yC3E5I19G5Q0buSTcIQIZS6tskrz-mDn-d37aWxAJtqbg0Yoo1XsdVc5Yf4sB-9iQxQK-W_9YLep_QaAz8uL17gMMlCz5WZM3dbBEEGmk_qPbJu_pZ8kk-lFPDzd6iBobcpyIDRZgTgD4bYUnby5WZc11i00mrRiRS3m-qSY0lprGaBqoyY1BbRkQZ25AGPp5al4kSwBZqpcVgLrs3bjdo8XVWAe73_XLa8HhqLWbz_m5Ebyl5F9awwL7w4qikGj-AK7v2G8pgjT22kDLIeenQ_ss4jYpmSzgnuTItur9pZVzpPkpqs4mzr6y274AmJjzppRTDH4VFtta_E02-R7Hc1rUD2kCYt9BqsD7kDjmetnvLtBm97q5XgBS8rQfeH4P-xqiTAsJwXlcrPybSjnwPEptqYCPX5St_BSj4NQfSuzZowXu_qKsP4hAaE9L2W36MvqePPlEm6LChBT3tnqUwcEYNe5k7lkAAbunxx8q_X5Q3iEdcFqt9_0GWHebRBd5abEbjbmoqqCoQeZt7AUvkXCRfBDne-bf25ypyTtwgyuvYMYXau3zGUjgPUO9WIotZwyKyrYmjsZJ7TiM';\n            let res = null;\n            try {\n                res = await this.client.get(`${baseUrl}?id=${animeID}&captcha_v3=${captchaToken}`);\n            }\n            catch (err) {\n                throw new Error('Something went wrong. Please try again later.');\n            }\n            try {\n                const $ = (0, cheerio_1.load)(res.data);\n                $('.dowload').each((_index, element) => {\n                    const link = $(element).find('a');\n                    if (link.attr('target') != '_blank') {\n                        downloadLinks.push({ source: link.text(), link: link.attr('href') });\n                    }\n                });\n                return downloadLinks;\n            }\n            catch (err) {\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        this.fetchAnimeList = async (page = 1) => {\n            const animeList = [];\n            let res = null;\n            try {\n                res = await this.client.get(`${this.baseUrl}/anime-list.html?page=${page}`);\n                const $ = (0, cheerio_1.load)(res.data);\n                $('.anime_list_body .listing li').each((_index, element) => {\n                    var _a;\n                    const genres = [];\n                    const entryBody = $('p.type', $(element).attr('title'));\n                    const genresEl = entryBody.first();\n                    genresEl.find('a').each((_idx, genreAnchor) => {\n                        genres.push($(genreAnchor).attr('title'));\n                    });\n                    const releaseDate = $(entryBody.get(1)).text();\n                    const img = $('div', $(element).attr('title'));\n                    const a = $(element).find('a');\n                    animeList.push({\n                        id: (_a = a.attr('href')) === null || _a === void 0 ? void 0 : _a.replace(`/category/`, ''),\n                        title: a.text(),\n                        image: $(img).find('img').attr('src'),\n                        url: `${this.baseUrl}${a.attr('href')}`,\n                        genres,\n                        releaseDate,\n                    });\n                });\n                const hasNextPage = !$('div.anime_name.anime_list > div > div > ul > li').last().hasClass('selected');\n                return {\n                    currentPage: page,\n                    hasNextPage: hasNextPage,\n                    results: animeList,\n                };\n            }\n            catch (err) {\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        this.baseUrl = customBaseURL\n            ? customBaseURL.startsWith('http://') || customBaseURL.startsWith('https://')\n                ? customBaseURL\n                : `http://${customBaseURL}`\n            : this.baseUrl;\n        if (proxy) {\n            // Initialize proxyConfig if provided\n            this.setProxy(proxy);\n        }\n        if (adapter) {\n            // Initialize adapter if provided\n            this.setAxiosAdapter(adapter);\n        }\n    }\n}\n// (async () => {\n//   const gogo = new Gogoanime();\n//   const search = await gogo.fetchEpisodeSources('jigokuraku-dub-episode-1',StreamingServers.StreamWish);\n//   console.log(search);\n// })();\nexports[\"default\"] = Gogoanime;\n//# sourceMappingURL=gogoanime.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvZ29nb2FuaW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDLGdCQUFnQixtQkFBTyxDQUFDLGtGQUFhO0FBQ3JDLHFCQUFxQixtQkFBTyxDQUFDLDRGQUFrQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsYUFBYSx1QkFBdUIsMEJBQTBCLFFBQVEsS0FBSztBQUNoSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsR0FBRyxzQ0FBc0M7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGFBQWEsWUFBWSxHQUFHO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxhQUFhLDhCQUE4QixTQUFTLFVBQVUsT0FBTyxNQUFNLFNBQVMsY0FBYyxFQUFFLFNBQVMsTUFBTTtBQUN6SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEdBQUcsbUZBQW1GO0FBQ25JLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxJQUFJO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDJCQUEyQjtBQUNsRTtBQUNBLDZFQUE2RSxlQUFlLFdBQVcsaUJBQWlCO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EsNkVBQTZFLGVBQWUsV0FBVyxpQkFBaUI7QUFDeEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBLDZFQUE2RSxlQUFlLFdBQVcsaUJBQWlCO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSw2RUFBNkUsZUFBZSxXQUFXLGlCQUFpQjtBQUN4SDtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsMkJBQTJCO0FBQ2xFO0FBQ0EsNkVBQTZFLGVBQWUsV0FBVyxpQkFBaUI7QUFDeEg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsYUFBYSxHQUFHLFVBQVU7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0Msa0RBQWtEO0FBQ2pHO0FBQ0E7QUFDQSwrQ0FBK0Msd0ZBQXdGO0FBQ3ZJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0Msa0RBQWtEO0FBQ2pHO0FBQ0E7QUFDQSx3Q0FBd0MsZ0NBQWdDO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGFBQWEsR0FBRyxVQUFVO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxJQUFJO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsYUFBYSxHQUFHLFVBQVU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxhQUFhLGlDQUFpQyxLQUFLLFFBQVEsS0FBSztBQUNySDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsbUZBQW1GO0FBQ2xJLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsYUFBYSxTQUFTLE1BQU0sUUFBUSxLQUFLO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELGFBQWEseUNBQXlDLEtBQUs7QUFDaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsMENBQTBDO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsYUFBYSw4QkFBOEIsS0FBSztBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLGVBQWU7QUFDOUQscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELGFBQWEscUJBQXFCLEtBQUs7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSxlQUFlO0FBQzlELHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsYUFBYTtBQUM1RDtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsYUFBYTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywwSEFBMEg7QUFDNUosaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFFBQVEsTUFBTSxRQUFRLGNBQWMsYUFBYTtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsOENBQThDO0FBQzNGO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGFBQWEsd0JBQXdCLEtBQUs7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsZUFBZTtBQUM5RDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGNBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcYW5pbWVcXGdvZ29hbmltZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlsc1wiKTtcbmNvbnN0IGV4dHJhY3RvcnNfMSA9IHJlcXVpcmUoXCIuLi8uLi9leHRyYWN0b3JzXCIpO1xuY2xhc3MgR29nb2FuaW1lIGV4dGVuZHMgbW9kZWxzXzEuQW5pbWVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKGN1c3RvbUJhc2VVUkwsIHByb3h5LCBhZGFwdGVyKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdHb2dvYW5pbWUnO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9hbml0YWt1LmJ6JzsgLy8gRG8gbm90IGluY2x1ZGUgYSB0cmFpbGluZyBmb3J3YXJkIHNsYXNoLlxuICAgICAgICB0aGlzLmxvZ28gPSAnaHR0cHM6Ly9wbGF5LWxoLmdvb2dsZXVzZXJjb250ZW50LmNvbS9NYUdFaUFFaE5IQUpYY1hLenFUTmd4cVJtaHVLQjFyQ1VnYjE1VXJOX21XVU5SbkxwTzVUMXFqYTY0b1Jhc083bW4wJztcbiAgICAgICAgdGhpcy5jbGFzc1BhdGggPSAnQU5JTUUuR29nb2FuaW1lJztcbiAgICAgICAgdGhpcy5hamF4VXJsID0gJ2h0dHBzOi8vYWpheC5nb2dvY2RuLm5ldC9hamF4JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSBzZWFyY2ggcXVlcnkgc3RyaW5nXG4gICAgICAgICAqIEBwYXJhbSBwYWdlIHBhZ2UgbnVtYmVyIChkZWZhdWx0IDEpIChvcHRpb25hbClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5LCBwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2ZpbHRlci5odG1sP2tleXdvcmQ9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfSZwYWdlPSR7cGFnZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShyZXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0Lmhhc05leHRQYWdlID1cbiAgICAgICAgICAgICAgICAgICAgJCgnZGl2LmFuaW1lX25hbWUubmV3X3NlcmllcyA+IGRpdiA+IGRpdiA+IHVsID4gbGkuc2VsZWN0ZWQnKS5uZXh0KCkubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICAkKCdkaXYubGFzdF9lcGlzb2RlcyA+IHVsID4gbGknKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdC5yZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWwpLmZpbmQoJ3AubmFtZSA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnLycpWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJ3AubmFtZSA+IGEnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0vJHskKGVsKS5maW5kKCdwLm5hbWUgPiBhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnZGl2ID4gYSA+IGltZycpLmF0dHIoJ3NyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6ICQoZWwpLmZpbmQoJ3AucmVsZWFzZWQnKS50ZXh0KCkudHJpbSgpLnJlcGxhY2UoJ1JlbGVhc2VkOiAnLCAnJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJPckR1YjogJChlbCkuZmluZCgncC5uYW1lID4gYScpLnRleHQoKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCcoZHViKScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5TdWJPclN1Yi5EVUJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLlN1Yk9yU3ViLlNVQixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlYXJjaFJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGlkIGFuaW1lIGlkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoQW5pbWVJbmZvID0gYXN5bmMgKGlkKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWlkLmluY2x1ZGVzKCdnb2dvYW5pbWUnKSlcbiAgICAgICAgICAgICAgICBpZCA9IGAke3RoaXMuYmFzZVVybH0vY2F0ZWdvcnkvJHtpZH1gO1xuICAgICAgICAgICAgY29uc3QgYW5pbWVJbmZvID0ge1xuICAgICAgICAgICAgICAgIGlkOiAnJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgdXJsOiAnJyxcbiAgICAgICAgICAgICAgICBnZW5yZXM6IFtdLFxuICAgICAgICAgICAgICAgIHRvdGFsRXBpc29kZXM6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoaWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKHJlcy5kYXRhKTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uaWQgPSBuZXcgVVJMKGlkKS5wYXRobmFtZS5zcGxpdCgnLycpWzJdO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby50aXRsZSA9ICQoJ3NlY3Rpb24uY29udGVudF9sZWZ0ID4gZGl2Lm1haW5fYm9keSA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXYuYW5pbWVfaW5mb19ib2R5X2JnID4gaDEnKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC50cmltKCk7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLnVybCA9IGlkO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5pbWFnZSA9ICQoJ2Rpdi5hbmltZV9pbmZvX2JvZHlfYmcgPiBpbWcnKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8ucmVsZWFzZURhdGUgPSAkKCdkaXYuYW5pbWVfaW5mb19ib2R5X2JnID4gcDpudGgtY2hpbGQoOCknKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCdSZWxlYXNlZDogJylbMV07XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLmRlc2NyaXB0aW9uID0gJCgnZGl2LmFuaW1lX2luZm9fYm9keV9iZyA+IGRpdjpudGgtY2hpbGQoNiknKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJ1Bsb3QgU3VtbWFyeTogJywgJycpO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdWJPckR1YiA9IGFuaW1lSW5mby50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdkdWInKSA/IG1vZGVsc18xLlN1Yk9yU3ViLkRVQiA6IG1vZGVsc18xLlN1Yk9yU3ViLlNVQjtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8udHlwZSA9ICQoJ2Rpdi5hbmltZV9pbmZvX2JvZHlfYmcgPiBwOm50aC1jaGlsZCg0KSA+IGEnKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAgICAgLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV047XG4gICAgICAgICAgICAgICAgc3dpdGNoICgkKCdkaXYuYW5pbWVfaW5mb19ib2R5X2JnID4gcDpudGgtY2hpbGQoOSkgPiBhJykudGV4dCgpLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdPbmdvaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1VwY29taW5nJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5OT1RfWUVUX0FJUkVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuVU5LTk9XTjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhbmltZUluZm8ub3RoZXJOYW1lID0gJCgnLm90aGVyLW5hbWUgYScpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgJCgnZGl2LmFuaW1lX2luZm9fYm9keV9iZyA+IHA6bnRoLWNoaWxkKDcpID4gYScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gYW5pbWVJbmZvLmdlbnJlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnB1c2goJChlbCkuYXR0cigndGl0bGUnKS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBlcF9zdGFydCA9ICQoJyNlcGlzb2RlX3BhZ2UgPiBsaScpLmZpcnN0KCkuZmluZCgnYScpLmF0dHIoJ2VwX3N0YXJ0Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXBfZW5kID0gJCgnI2VwaXNvZGVfcGFnZSA+IGxpJykubGFzdCgpLmZpbmQoJ2EnKS5hdHRyKCdlcF9lbmQnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3ZpZV9pZCA9ICQoJyNtb3ZpZV9pZCcpLmF0dHIoJ3ZhbHVlJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWxpYXMgPSAkKCcjYWxpYXNfYW5pbWUnKS5hdHRyKCd2YWx1ZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5hamF4VXJsfS9sb2FkLWxpc3QtZXBpc29kZT9lcF9zdGFydD0ke2VwX3N0YXJ0fSZlcF9lbmQ9JHtlcF9lbmR9JmlkPSR7bW92aWVfaWR9JmRlZmF1bHRfZXA9JHswfSZhbGlhcz0ke2FsaWFzfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShodG1sLmRhdGEpO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5lcGlzb2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgICQkKCcjZXBpc29kZV9yZWxhdGVkID4gbGknKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gYW5pbWVJbmZvLmVwaXNvZGVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9iID0gJChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNwbGl0KCcvJylbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IHBhcnNlRmxvYXQoJChlbCkuZmluZChgZGl2Lm5hbWVgKS50ZXh0KCkucmVwbGFjZSgnRVAgJywgJycpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfS8keyhfYyA9ICQoZWwpLmZpbmQoYGFgKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50cmltKCl9YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLmVwaXNvZGVzID0gYW5pbWVJbmZvLmVwaXNvZGVzLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8udG90YWxFcGlzb2RlcyA9IHBhcnNlSW50KGVwX2VuZCAhPT0gbnVsbCAmJiBlcF9lbmQgIT09IHZvaWQgMCA/IGVwX2VuZCA6ICcwJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1lSW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBmZXRjaCBhbmltZSBpbmZvOiAke2Vycn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgZXBpc29kZSBpZFxuICAgICAgICAgKiBAcGFyYW0gc2VydmVyIHNlcnZlciB0eXBlIChkZWZhdWx0ICdHb2dvQ0ROJykgKG9wdGlvbmFsKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzID0gYXN5bmMgKGVwaXNvZGVJZCwgc2VydmVyID0gbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5WaWRTdHJlYW1pbmcsIGRvd25sb2FkVXJsID0gdW5kZWZpbmVkKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXBpc29kZUlkLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlclVybCA9IG5ldyBVUkwoZXBpc29kZUlkKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuR29nb0NETjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwub3JpZ2luIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuR29nb0NETih0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc2VydmVyVXJsKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWQ6IGRvd25sb2FkVXJsID8gZG93bmxvYWRVcmwgOiBgaHR0cHM6Ly8ke3NlcnZlclVybC5ob3N0fS9kb3dubG9hZCR7c2VydmVyVXJsLnNlYXJjaH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlN0cmVhbVNCOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6IHNlcnZlclVybC5ocmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXRjaHNiOiAnc3RyZWFtc2InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6IHV0aWxzXzEuVVNFUl9BR0VOVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuU3RyZWFtU0IodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWQ6IGRvd25sb2FkVXJsID8gZG93bmxvYWRVcmwgOiBgaHR0cHM6Ly8ke3NlcnZlclVybC5ob3N0fS9kb3dubG9hZCR7c2VydmVyVXJsLnNlYXJjaH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLk1wNFVwbG9hZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiBzZXJ2ZXJVcmwub3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlczogYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5NcDRVcGxvYWQodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWQ6IGRvd25sb2FkVXJsID8gZG93bmxvYWRVcmwgOiBgaHR0cHM6Ly8ke3NlcnZlclVybC5ob3N0fS9kb3dubG9hZCR7c2VydmVyVXJsLnNlYXJjaH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlN0cmVhbVdpc2g6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogc2VydmVyVXJsLm9yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihhd2FpdCBuZXcgZXh0cmFjdG9yc18xLlN0cmVhbVdpc2godGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkOiBkb3dubG9hZFVybCA/IGRvd25sb2FkVXJsIDogYGh0dHBzOi8vJHtzZXJ2ZXJVcmwuaG9zdH0vZG93bmxvYWQke3NlcnZlclVybC5zZWFyY2h9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLm9yaWdpbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihhd2FpdCBuZXcgZXh0cmFjdG9yc18xLkdvZ29DRE4odGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkOiBkb3dubG9hZFVybCA/IGRvd25sb2FkVXJsIDogYGh0dHBzOi8vJHtzZXJ2ZXJVcmwuaG9zdH0vZG93bmxvYWQke3NlcnZlclVybC5zZWFyY2h9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS8ke2VwaXNvZGVJZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShyZXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgbGV0IHNlcnZlclVybDtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuR29nb0NETjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclVybCA9IG5ldyBVUkwoYCR7JCgnI2xvYWRfYW5pbWUgPiBkaXYgPiBkaXYgPiBpZnJhbWUnKS5hdHRyKCdzcmMnKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVmlkU3RyZWFtaW5nOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyVXJsID0gbmV3IFVSTChgJHskKCdkaXYuYW5pbWVfdmlkZW9fYm9keSA+IGRpdi5hbmltZV9tdXRpX2xpbmsgPiB1bCA+IGxpLnZpZGNkbiA+IGEnKS5hdHRyKCdkYXRhLXZpZGVvJyl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlN0cmVhbVNCOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyVXJsID0gbmV3IFVSTCgkKCdkaXYuYW5pbWVfdmlkZW9fYm9keSA+IGRpdi5hbmltZV9tdXRpX2xpbmsgPiB1bCA+IGxpLnN0cmVhbXNiID4gYScpLmF0dHIoJ2RhdGEtdmlkZW8nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlN0cmVhbVdpc2g6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJVcmwgPSBuZXcgVVJMKCQoJ2Rpdi5hbmltZV92aWRlb19ib2R5ID4gZGl2LmFuaW1lX211dGlfbGluayA+IHVsID4gbGkuc3RyZWFtd2lzaCA+IGEnKS5hdHRyKCdkYXRhLXZpZGVvJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5NcDRVcGxvYWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJVcmwgPSBuZXcgVVJMKCQoJ2Rpdi5hbmltZV92aWRlb19ib2R5ID4gZGl2LmFuaW1lX211dGlfbGluayA+IHVsID4gbGkubXA0dXBsb2FkID4gYScpLmF0dHIoJ2RhdGEtdmlkZW8nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclVybCA9IG5ldyBVUkwoYCR7JCgnI2xvYWRfYW5pbWUgPiBkaXYgPiBkaXYgPiBpZnJhbWUnKS5hdHRyKCdzcmMnKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkb3dubG9hZExpbmsgPSBgJHskKCcuZG93bG9hZHMgPiBhJykuYXR0cignaHJlZicpfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvd25sb2FkTGlua1xuICAgICAgICAgICAgICAgICAgICA/IGF3YWl0IHRoaXMuZmV0Y2hFcGlzb2RlU291cmNlcyhzZXJ2ZXJVcmwuaHJlZiwgc2VydmVyLCBkb3dubG9hZExpbmspXG4gICAgICAgICAgICAgICAgICAgIDogYXdhaXQgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzKHNlcnZlclVybC5ocmVmLCBzZXJ2ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcGlzb2RlIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgZXBpc29kZSBsaW5rIG9yIGVwaXNvZGUgaWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU2VydmVycyA9IGFzeW5jIChlcGlzb2RlSWQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcGlzb2RlSWQuc3RhcnRzV2l0aCh0aGlzLmJhc2VVcmwpKVxuICAgICAgICAgICAgICAgICAgICBlcGlzb2RlSWQgPSBgJHt0aGlzLmJhc2VVcmx9LyR7ZXBpc29kZUlkfWA7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGVwaXNvZGVJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAkKCdkaXYuYW5pbWVfdmlkZW9fYm9keSA+IGRpdi5hbmltZV9tdXRpX2xpbmsgPiB1bCA+IGxpJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9ICQoZWwpLmZpbmQoJ2EnKS5hdHRyKCdkYXRhLXZpZGVvJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHVybCA9PT0gbnVsbCB8fCB1cmwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVybC5zdGFydHNXaXRoKCdodHRwJykpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gYGh0dHBzOiR7dXJsfWA7XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkKGVsKS5maW5kKCdhJykudGV4dCgpLnJlcGxhY2UoJ0Nob29zZSB0aGlzIHNlcnZlcicsICcnKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZlcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcGlzb2RlIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgZXBpc29kZSBsaW5rIG9yIGVwaXNvZGUgaWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hBbmltZUlkRnJvbUVwaXNvZGVJZCA9IGFzeW5jIChlcGlzb2RlSWQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcGlzb2RlSWQuc3RhcnRzV2l0aCh0aGlzLmJhc2VVcmwpKVxuICAgICAgICAgICAgICAgICAgICBlcGlzb2RlSWQgPSBgJHt0aGlzLmJhc2VVcmx9LyR7ZXBpc29kZUlkfWA7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGVwaXNvZGVJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzLmRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiAkKCcjd3JhcHBlcl9iZyA+IHNlY3Rpb24gPiBzZWN0aW9uLmNvbnRlbnRfbGVmdCA+IGRpdjpudGgtY2hpbGQoMSkgPiBkaXYuYW5pbWVfdmlkZW9fYm9keSA+IGRpdi5hbmltZV92aWRlb19ib2R5X2NhdGUgPiBkaXYuYW5pbWUtaW5mbyA+IGEnKS5hdHRyKCdocmVmJykuc3BsaXQoJy8nKVsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VwaXNvZGUgbm90IGZvdW5kLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHBhZ2UgcGFnZSBudW1iZXIgKG9wdGlvbmFsKVxuICAgICAgICAgKiBAcGFyYW0gdHlwZSB0eXBlIG9mIG1lZGlhLiAob3B0aW9uYWwpIChkZWZhdWx0IGAxYCkgYDFgOiBKYXBhbmVzZSB3aXRoIHN1YnRpdGxlcywgYDJgOiBlbmdsaXNoL2R1YiB3aXRoIG5vIHN1YnRpdGxlcywgYDNgOiBjaGluZXNlIHdpdGggZW5nbGlzaCBzdWJ0aXRsZXNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hSZWNlbnRFcGlzb2RlcyA9IGFzeW5jIChwYWdlID0gMSwgdHlwZSA9IDEpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYWpheFVybH0vcGFnZS1yZWNlbnQtcmVsZWFzZS5odG1sP3BhZ2U9JHtwYWdlfSZ0eXBlPSR7dHlwZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShyZXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjZW50RXBpc29kZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAkKCdkaXYubGFzdF9lcGlzb2Rlcy5sb2FkZHViID4gdWwgPiBsaScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgcmVjZW50RXBpc29kZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9iID0gKF9hID0gJChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KCcvJylbMV0pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zcGxpdCgnLWVwaXNvZGUnKVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVJZDogKF9jID0gJChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnNwbGl0KCcvJylbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlTnVtYmVyOiBwYXJzZUZsb2F0KCQoZWwpLmZpbmQoJ3AuZXBpc29kZScpLnRleHQoKS5yZXBsYWNlKCdFcGlzb2RlICcsICcnKSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbCkuZmluZCgncC5uYW1lID4gYScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdkaXYgPiBhID4gaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0keyhfZCA9ICQoZWwpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC50cmltKCl9YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzTmV4dFBhZ2UgPSAhJCgnZGl2LmFuaW1lX25hbWVfcGFnaW5hdGlvbi5pbnRybyA+IGRpdiA+IHVsID4gbGknKS5sYXN0KCkuaGFzQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBoYXNOZXh0UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogcmVjZW50RXBpc29kZXMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoR2VucmVJbmZvID0gYXN5bmMgKGdlbnJlLCBwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9nZW5yZS8ke2dlbnJlfT9wYWdlPSR7cGFnZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShyZXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2VucmVJbmZvID0gW107XG4gICAgICAgICAgICAgICAgJCgnZGl2Lmxhc3RfZXBpc29kZXMgPiB1bCA+IGxpJykuZWFjaCgoaSwgZWxlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGdlbnJlSW5mby5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsZW0pLmZpbmQoJ3AubmFtZSA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnLycpWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWxlbSkuZmluZCgncC5uYW1lID4gYScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsZW0pLmZpbmQoJ2RpdiA+IGEgPiBpbWcnKS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VkOiAkKGVsZW0pLmZpbmQoJ3AucmVsZWFzZWQnKS50ZXh0KCkucmVwbGFjZSgnUmVsZWFzZWQ6ICcsICcnKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHRoaXMuYmFzZVVybCArICcvJyArICQoZWxlbSkuZmluZCgncC5uYW1lID4gYScpLmF0dHIoJ2hyZWYnKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnaW5hdG9yRG9tID0gJCgnZGl2LmFuaW1lX25hbWVfcGFnaW5hdGlvbiA+IGRpdiA+IHVsID4gbGknKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNOZXh0UGFnZSA9IHBhZ2luYXRvckRvbS5sZW5ndGggPiAwICYmICFwYWdpbmF0b3JEb20ubGFzdCgpLmhhc0NsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogaGFzTmV4dFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IGdlbnJlSW5mbyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hUb3BBaXJpbmcgPSBhc3luYyAocGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYWpheFVybH0vcGFnZS1yZWNlbnQtcmVsZWFzZS1vbmdvaW5nLmh0bWw/cGFnZT0ke3BhZ2V9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvcEFpcmluZyA9IFtdO1xuICAgICAgICAgICAgICAgICQoJ2Rpdi5hZGRlZF9zZXJpZXNfYm9keS5wb3B1bGFyID4gdWwgPiBsaScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgIHRvcEFpcmluZy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdhOm50aC1jaGlsZCgxKScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KCcvJylbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbCkuZmluZCgnYTpudGgtY2hpbGQoMiknKS50ZXh0KCkudHJpbSgpLnNwbGl0KCcsJylbMF0udHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfYiA9ICQoZWwpLmZpbmQoJ2E6bnRoLWNoaWxkKDEpID4gZGl2JykuYXR0cignc3R5bGUnKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm1hdGNoKCcoaHR0cHM/Oi8vLiouKD86cG5nfGpwZykpJylbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0keyQoZWwpLmZpbmQoJ2E6bnRoLWNoaWxkKDEpJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5yZXM6ICQoZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ3AuZ2VucmVzID4gYScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+ICQoZWwpLmF0dHIoJ3RpdGxlJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZUlkOiAkKGVsKS5maW5kKCdwOm50aC1vZi10eXBlKDIpID4gYScpLmF0dHIoJ3RpdGxlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlTnVtYmVyOiBwYXJzZUZsb2F0KCQoZWwpLmZpbmQoJ3A6bnRoLW9mLXR5cGUoMikgPiBhJykudGV4dCgpLnJlcGxhY2UoJ0VwaXNvZGUgJywgJycpKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzTmV4dFBhZ2UgPSAhJCgnZGl2LmFuaW1lX25hbWUuY29tZWR5ID4gZGl2ID4gZGl2ID4gdWwgPiBsaScpLmxhc3QoKS5oYXNDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGhhc05leHRQYWdlLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiB0b3BBaXJpbmcsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoUmVjZW50TW92aWVzID0gYXN5bmMgKHBhZ2UgPSAxKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2FuaW1lLW1vdmllcy5odG1sP2FwaCZwYWdlPSR7cGFnZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShyZXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjZW50TW92aWVzID0gW107XG4gICAgICAgICAgICAgICAgJCgnZGl2Lmxhc3RfZXBpc29kZXMgPiB1bCA+IGxpJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhID0gJChlbCkuZmluZCgncC5uYW1lID4gYScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwUmVsZWFzZSA9ICQoZWwpLmZpbmQoJ3AucmVsZWFzZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcE5hbWUgPSAkKGVsKS5maW5kKCdwLm5hbWUgPiBhJyk7XG4gICAgICAgICAgICAgICAgICAgIHJlY2VudE1vdmllcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSBhLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcGxhY2UoYC9jYXRlZ29yeS9gLCAnJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogcE5hbWUudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IHBSZWxlYXNlLnRleHQoKS5yZXBsYWNlKCdSZWxlYXNlZDogJywgJycpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdkaXYgPiBhID4gaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0ke2EuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc05leHRQYWdlID0gISQoJ2Rpdi5hbmltZV9uYW1lLmFuaW1lX21vdmllcyA+IGRpdiA+IGRpdiA+IHVsID4gbGknKS5sYXN0KCkuaGFzQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBoYXNOZXh0UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogcmVjZW50TW92aWVzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoUG9wdWxhciA9IGFzeW5jIChwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9wb3B1bGFyLmh0bWw/cGFnZT0ke3BhZ2V9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlY2VudE1vdmllcyA9IFtdO1xuICAgICAgICAgICAgICAgICQoJ2Rpdi5sYXN0X2VwaXNvZGVzID4gdWwgPiBsaScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYSA9ICQoZWwpLmZpbmQoJ3AubmFtZSA+IGEnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcFJlbGVhc2UgPSAkKGVsKS5maW5kKCdwLnJlbGVhc2VkJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBOYW1lID0gJChlbCkuZmluZCgncC5uYW1lID4gYScpO1xuICAgICAgICAgICAgICAgICAgICByZWNlbnRNb3ZpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9hID0gYS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXBsYWNlKGAvY2F0ZWdvcnkvYCwgJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHBOYW1lLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBwUmVsZWFzZS50ZXh0KCkucmVwbGFjZSgnUmVsZWFzZWQ6ICcsICcnKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnZGl2ID4gYSA+IGltZycpLmF0dHIoJ3NyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHthLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNOZXh0UGFnZSA9ICEkKCdkaXYuYW5pbWVfbmFtZS5hbmltZV9tb3ZpZXMgPiBkaXYgPiBkaXYgPiB1bCA+IGxpJykubGFzdCgpLmhhc0NsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogaGFzTmV4dFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IHJlY2VudE1vdmllcyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaEdlbnJlTGlzdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdlbnJlcyA9IFtdO1xuICAgICAgICAgICAgbGV0IHJlcyA9IG51bGw7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2hvbWUuaHRtbGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKHJlcy5kYXRhKTtcbiAgICAgICAgICAgICAgICAkKCduYXYubWVudV9zZXJpZXMuZ2VucmUucmlnaHQgPiB1bCA+IGxpJykuZWFjaCgoX2luZGV4LCBlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2VucmUgPSAkKGVsZW1lbnQpLmZpbmQoJ2EnKTtcbiAgICAgICAgICAgICAgICAgICAgZ2VucmVzLnB1c2goeyBpZDogKF9hID0gZ2VucmUuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVwbGFjZSgnL2dlbnJlLycsICcnKSwgdGl0bGU6IGdlbnJlLmF0dHIoJ3RpdGxlJykgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdlbnJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoRGlyZWN0RG93bmxvYWRMaW5rID0gYXN5bmMgKGRvd25sb2FkVXJsLCBjYXB0Y2hhVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRvd25sb2FkTGlua3MgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VVcmwgPSBkb3dubG9hZFVybC5zcGxpdCgnPycpWzBdO1xuICAgICAgICAgICAgY29uc3QgaWRQYXJhbSA9IGRvd25sb2FkVXJsLm1hdGNoKC9bPyZdaWQ9KFteJl0rKS8pO1xuICAgICAgICAgICAgY29uc3QgYW5pbWVJRCA9IGlkUGFyYW0gPyBpZFBhcmFtWzFdIDogbnVsbDtcbiAgICAgICAgICAgIGlmICghY2FwdGNoYVRva2VuKVxuICAgICAgICAgICAgICAgIGNhcHRjaGFUb2tlbiA9XG4gICAgICAgICAgICAgICAgICAgICcwM0FGY1dlQTV6eTdEQks4MlVfdGN0VktlbEo2TDJkdVRXYWM1YXQyelhqSExYOFhxVW04dEk2TktXTXhHZDJnamgxdmkyaG5FeVJoVmdiTWhkYjlXamV4UnNKa3hUdC1DLV9pSUlaNXlDM0U1STE5RzVRMGJ1U1RjSVFJWlM2dHNrcnotbURuLWQzN2FXeEFKdHFiZzBZb28xWHNkVmM1WWY0c0ItOWlReFFLLVdfOVlMZXBfUWFBejh1TDE3Z01NbEN6NVdaTTNkYkJFRUdta19xUGJKdV9wWjhray1sRlBEemQ2aUJvYmNweUlEUlpnVGdENGJZVW5ieTVXWmMxMWkwMG1yUmlSUzNtLXFTWTBscHJHYUJxb3lZMUJiUmtRWjI1QUdQcDVhbDRrU3dCWnFwY1ZnTHJzM2JqZG84WFZXQWU3M19YTGE4SGhxTFdiel9tNUVieWw1Rjlhd3dMN3c0cWlrR2otQUs3djJHOHBnalQyMmtETEllZW5RX3NzNGpZcG1TemdudVRJdHVyOXBaVnpwUGtwcXM0bXpyNnkyNzRBbUpqenBwUlRESDRWRnR0YV9FMDItUjdIYzFyVUQya0NZdDlCcXNEN2tEam1ldG52THRCbTk3cTVYZ0JTOHJRZmVINFAteHFpVEFzSndYbGNyUHliU2pud1BFcHRxWUNQWDVTdF9CU2o0TlFmU3V6Wm93WHVfcUtzUDRoQWFFOUwyVzM2TXZxZVBQbEVtNkxDaEJUM3RucVV3Y0VZTmU1azdsa0FBYnVueHg4cV9YNVEzaUVkY0ZxdDlfMEdXSGViUkJkNWFiRWJqYm1vcXFDb1FlWnQ3QVV2a1hDUmZCRG5lLWJmMjV5cHlUdHdneXV2WU1ZWGF1M3pHVWpnUFVPOVdJb3Rad3lLeXJZbWpzWko3VGlNJztcbiAgICAgICAgICAgIGxldCByZXMgPSBudWxsO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7YmFzZVVybH0/aWQ9JHthbmltZUlEfSZjYXB0Y2hhX3YzPSR7Y2FwdGNoYVRva2VufWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKHJlcy5kYXRhKTtcbiAgICAgICAgICAgICAgICAkKCcuZG93bG9hZCcpLmVhY2goKF9pbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gJChlbGVtZW50KS5maW5kKCdhJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5rLmF0dHIoJ3RhcmdldCcpICE9ICdfYmxhbmsnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmtzLnB1c2goeyBzb3VyY2U6IGxpbmsudGV4dCgpLCBsaW5rOiBsaW5rLmF0dHIoJ2hyZWYnKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBkb3dubG9hZExpbmtzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hBbmltZUxpc3QgPSBhc3luYyAocGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1lTGlzdCA9IFtdO1xuICAgICAgICAgICAgbGV0IHJlcyA9IG51bGw7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2FuaW1lLWxpc3QuaHRtbD9wYWdlPSR7cGFnZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShyZXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgJCgnLmFuaW1lX2xpc3RfYm9keSAubGlzdGluZyBsaScpLmVhY2goKF9pbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlbnJlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRyeUJvZHkgPSAkKCdwLnR5cGUnLCAkKGVsZW1lbnQpLmF0dHIoJ3RpdGxlJykpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnZW5yZXNFbCA9IGVudHJ5Qm9keS5maXJzdCgpO1xuICAgICAgICAgICAgICAgICAgICBnZW5yZXNFbC5maW5kKCdhJykuZWFjaCgoX2lkeCwgZ2VucmVBbmNob3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbnJlcy5wdXNoKCQoZ2VucmVBbmNob3IpLmF0dHIoJ3RpdGxlJykpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsZWFzZURhdGUgPSAkKGVudHJ5Qm9keS5nZXQoMSkpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nID0gJCgnZGl2JywgJChlbGVtZW50KS5hdHRyKCd0aXRsZScpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYSA9ICQoZWxlbWVudCkuZmluZCgnYScpO1xuICAgICAgICAgICAgICAgICAgICBhbmltZUxpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9hID0gYS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXBsYWNlKGAvY2F0ZWdvcnkvYCwgJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGEudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoaW1nKS5maW5kKCdpbWcnKS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7YS5hdHRyKCdocmVmJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbnJlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNOZXh0UGFnZSA9ICEkKCdkaXYuYW5pbWVfbmFtZS5hbmltZV9saXN0ID4gZGl2ID4gZGl2ID4gdWwgPiBsaScpLmxhc3QoKS5oYXNDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGhhc05leHRQYWdlLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBhbmltZUxpc3QsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSBjdXN0b21CYXNlVVJMXG4gICAgICAgICAgICA/IGN1c3RvbUJhc2VVUkwuc3RhcnRzV2l0aCgnaHR0cDovLycpIHx8IGN1c3RvbUJhc2VVUkwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKVxuICAgICAgICAgICAgICAgID8gY3VzdG9tQmFzZVVSTFxuICAgICAgICAgICAgICAgIDogYGh0dHA6Ly8ke2N1c3RvbUJhc2VVUkx9YFxuICAgICAgICAgICAgOiB0aGlzLmJhc2VVcmw7XG4gICAgICAgIGlmIChwcm94eSkge1xuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBwcm94eUNvbmZpZyBpZiBwcm92aWRlZFxuICAgICAgICAgICAgdGhpcy5zZXRQcm94eShwcm94eSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFkYXB0ZXIpIHtcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgYWRhcHRlciBpZiBwcm92aWRlZFxuICAgICAgICAgICAgdGhpcy5zZXRBeGlvc0FkYXB0ZXIoYWRhcHRlcik7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyAoYXN5bmMgKCkgPT4ge1xuLy8gICBjb25zdCBnb2dvID0gbmV3IEdvZ29hbmltZSgpO1xuLy8gICBjb25zdCBzZWFyY2ggPSBhd2FpdCBnb2dvLmZldGNoRXBpc29kZVNvdXJjZXMoJ2ppZ29rdXJha3UtZHViLWVwaXNvZGUtMScsU3RyZWFtaW5nU2VydmVycy5TdHJlYW1XaXNoKTtcbi8vICAgY29uc29sZS5sb2coc2VhcmNoKTtcbi8vIH0pKCk7XG5leHBvcnRzLmRlZmF1bHQgPSBHb2dvYW5pbWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nb2dvYW5pbWUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/gogoanime.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/index.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst gogoanime_1 = __importDefault(__webpack_require__(/*! ./gogoanime */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/gogoanime.js\"));\nconst _9anime_1 = __importDefault(__webpack_require__(/*! ./9anime */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/9anime.js\"));\nconst animepahe_1 = __importDefault(__webpack_require__(/*! ./animepahe */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animepahe.js\"));\nconst zoro_1 = __importDefault(__webpack_require__(/*! ./zoro */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/zoro.js\"));\nconst animefox_1 = __importDefault(__webpack_require__(/*! ./animefox */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animefox.js\"));\nconst animedrive_1 = __importDefault(__webpack_require__(/*! ./animedrive */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animedrive.js\"));\nconst anify_1 = __importDefault(__webpack_require__(/*! ./anify */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/anify.js\"));\nconst crunchyroll_1 = __importDefault(__webpack_require__(/*! ./crunchyroll */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/crunchyroll.js\"));\nconst bilibili_1 = __importDefault(__webpack_require__(/*! ./bilibili */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/bilibili.js\"));\nconst marin_1 = __importDefault(__webpack_require__(/*! ./marin */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/marin.js\"));\nconst animesaturn_1 = __importDefault(__webpack_require__(/*! ./animesaturn */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animesaturn.js\"));\nconst animeunity_1 = __importDefault(__webpack_require__(/*! ./animeunity */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animeunity.js\"));\nconst monoschinos_1 = __importDefault(__webpack_require__(/*! ./monoschinos */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/monoschinos.js\"));\nconst anix_1 = __importDefault(__webpack_require__(/*! ./anix */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/anix.js\"));\nconst animekai_1 = __importDefault(__webpack_require__(/*! ./animekai */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/animekai.js\"));\nexports[\"default\"] = {\n    Gogoanime: gogoanime_1.default,\n    NineAnime: _9anime_1.default,\n    AnimePahe: animepahe_1.default,\n    Zoro: zoro_1.default,\n    AnimeFox: animefox_1.default,\n    AnimeDrive: animedrive_1.default,\n    Anify: anify_1.default,\n    Crunchyroll: crunchyroll_1.default,\n    Bilibili: bilibili_1.default,\n    Marin: marin_1.default,\n    AnimeSaturn: animesaturn_1.default,\n    AnimeUnity: animeunity_1.default,\n    MonosChinos: monoschinos_1.default,\n    Anix: anix_1.default,\n    AnimeKai: animekai_1.default,\n};\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBYTtBQUN6RCxrQ0FBa0MsbUJBQU8sQ0FBQywwRkFBVTtBQUNwRCxvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBYTtBQUN6RCwrQkFBK0IsbUJBQU8sQ0FBQyxzRkFBUTtBQUMvQyxtQ0FBbUMsbUJBQU8sQ0FBQyw4RkFBWTtBQUN2RCxxQ0FBcUMsbUJBQU8sQ0FBQyxrR0FBYztBQUMzRCxnQ0FBZ0MsbUJBQU8sQ0FBQyx3RkFBUztBQUNqRCxzQ0FBc0MsbUJBQU8sQ0FBQyxvR0FBZTtBQUM3RCxtQ0FBbUMsbUJBQU8sQ0FBQyw4RkFBWTtBQUN2RCxnQ0FBZ0MsbUJBQU8sQ0FBQyx3RkFBUztBQUNqRCxzQ0FBc0MsbUJBQU8sQ0FBQyxvR0FBZTtBQUM3RCxxQ0FBcUMsbUJBQU8sQ0FBQyxrR0FBYztBQUMzRCxzQ0FBc0MsbUJBQU8sQ0FBQyxvR0FBZTtBQUM3RCwrQkFBK0IsbUJBQU8sQ0FBQyxzRkFBUTtBQUMvQyxtQ0FBbUMsbUJBQU8sQ0FBQyw4RkFBWTtBQUN2RCxrQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcYW5pbWVcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZ29nb2FuaW1lXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vZ29nb2FuaW1lXCIpKTtcbmNvbnN0IF85YW5pbWVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi85YW5pbWVcIikpO1xuY29uc3QgYW5pbWVwYWhlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYW5pbWVwYWhlXCIpKTtcbmNvbnN0IHpvcm9fMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi96b3JvXCIpKTtcbmNvbnN0IGFuaW1lZm94XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYW5pbWVmb3hcIikpO1xuY29uc3QgYW5pbWVkcml2ZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2FuaW1lZHJpdmVcIikpO1xuY29uc3QgYW5pZnlfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9hbmlmeVwiKSk7XG5jb25zdCBjcnVuY2h5cm9sbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NydW5jaHlyb2xsXCIpKTtcbmNvbnN0IGJpbGliaWxpXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYmlsaWJpbGlcIikpO1xuY29uc3QgbWFyaW5fMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9tYXJpblwiKSk7XG5jb25zdCBhbmltZXNhdHVybl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2FuaW1lc2F0dXJuXCIpKTtcbmNvbnN0IGFuaW1ldW5pdHlfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9hbmltZXVuaXR5XCIpKTtcbmNvbnN0IG1vbm9zY2hpbm9zXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbW9ub3NjaGlub3NcIikpO1xuY29uc3QgYW5peF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2FuaXhcIikpO1xuY29uc3QgYW5pbWVrYWlfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9hbmltZWthaVwiKSk7XG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgR29nb2FuaW1lOiBnb2dvYW5pbWVfMS5kZWZhdWx0LFxuICAgIE5pbmVBbmltZTogXzlhbmltZV8xLmRlZmF1bHQsXG4gICAgQW5pbWVQYWhlOiBhbmltZXBhaGVfMS5kZWZhdWx0LFxuICAgIFpvcm86IHpvcm9fMS5kZWZhdWx0LFxuICAgIEFuaW1lRm94OiBhbmltZWZveF8xLmRlZmF1bHQsXG4gICAgQW5pbWVEcml2ZTogYW5pbWVkcml2ZV8xLmRlZmF1bHQsXG4gICAgQW5pZnk6IGFuaWZ5XzEuZGVmYXVsdCxcbiAgICBDcnVuY2h5cm9sbDogY3J1bmNoeXJvbGxfMS5kZWZhdWx0LFxuICAgIEJpbGliaWxpOiBiaWxpYmlsaV8xLmRlZmF1bHQsXG4gICAgTWFyaW46IG1hcmluXzEuZGVmYXVsdCxcbiAgICBBbmltZVNhdHVybjogYW5pbWVzYXR1cm5fMS5kZWZhdWx0LFxuICAgIEFuaW1lVW5pdHk6IGFuaW1ldW5pdHlfMS5kZWZhdWx0LFxuICAgIE1vbm9zQ2hpbm9zOiBtb25vc2NoaW5vc18xLmRlZmF1bHQsXG4gICAgQW5peDogYW5peF8xLmRlZmF1bHQsXG4gICAgQW5pbWVLYWk6IGFuaW1la2FpXzEuZGVmYXVsdCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/marin.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/marin.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\n/**\n * @attention Cloudflare bypass is **REQUIRED**.\n */\nclass Marin extends models_1.AnimeParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'Marin';\n        this.baseUrl = 'https://marin.moe';\n        this.logo = 'https://i.pinimg.com/736x/62/8d/3f/628d3f2e60b0aa8c8fa9598e8dae6320.jpg';\n        this.classPath = 'ANIME.Marin';\n        this.recentEpisodes = async (page = 1) => {\n            const token = await this.getToken();\n            let data;\n            try {\n                const response = await this.client.post('https://marin.moe/anime', {\n                    page: page,\n                    sort: 'rel-d',\n                    filter: {\n                        type: [],\n                        status: [],\n                        content_rating: [],\n                        genre: [],\n                        group: [],\n                        production: [],\n                        source: [],\n                        resolution: [],\n                        audio: [],\n                        subtitle: [],\n                    },\n                    search: '',\n                }, {\n                    headers: {\n                        Origin: 'https://marin.moe/',\n                        Referer: 'https://marin.moe/anime',\n                        Cookie: `__ddg1=;__ddg2_=; XSRF-TOKEN=${token[1]}; marin_session=${token[0]};`,\n                        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36',\n                        'x-xsrf-token': token[1].split(';')[0].replace('%3D', '='),\n                        'x-inertia': true,\n                    },\n                });\n                data = await response.data;\n            }\n            catch (error) {\n                console.log(error);\n            }\n            const response_data = {\n                currentPage: page,\n                hasNextPage: data.props.anime_list.meta.last_page > page,\n                results: data.props.anime_list.data.map((el) => {\n                    return {\n                        id: el.slug,\n                        title: el.title,\n                        image: el.cover,\n                        releaseDate: el.year,\n                        type: el.type,\n                    };\n                }),\n            };\n            return response_data;\n        };\n        /**\n         * @param query Search query\n         */\n        this.search = async (query, page = 1) => {\n            const token = await this.getToken();\n            let data;\n            try {\n                const response = await this.client.post('https://marin.moe/anime', {\n                    page: page,\n                    sort: 'az-a',\n                    filter: {\n                        type: [],\n                        status: [],\n                        content_rating: [],\n                        genre: [],\n                        group: [],\n                        production: [],\n                        source: [],\n                        resolution: [],\n                        audio: [],\n                        subtitle: [],\n                    },\n                    search: query,\n                }, {\n                    headers: {\n                        Origin: 'https://marin.moe/',\n                        Referer: 'https://marin.moe/anime',\n                        Cookie: `__ddg1=;__ddg2_=; XSRF-TOKEN=${token[1]}; marin_session=${token[0]};`,\n                        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36',\n                        'x-xsrf-token': token[1].split(';')[0].replace('%3D', '='),\n                        'x-inertia': true,\n                    },\n                });\n                data = await response.data;\n            }\n            catch (error) {\n                console.log(error);\n            }\n            const response_data = {\n                currentPage: page,\n                hasNextPage: data.props.anime_list.meta.last_page > page,\n                results: data.props.anime_list.data.map((el) => {\n                    return {\n                        id: el.slug,\n                        title: el.title,\n                        image: el.cover,\n                        releaseDate: el.year,\n                        type: el.type,\n                    };\n                }),\n            };\n            return response_data;\n        };\n        /**\n         * @param id Anime id\n         */\n        this.fetchAnimeInfo = async (id) => {\n            var _a;\n            const token = await this.getToken();\n            let data;\n            try {\n                const response = await this.client.post(`https://marin.moe/anime/${id}`, {}, {\n                    headers: {\n                        Origin: 'https://marin.moe/',\n                        Referer: `https://marin.moe/anime/${id}`,\n                        Cookie: `__ddg1=;__ddg2_=; XSRF-TOKEN=${token[1].split(';')[0]}; marin_session=${token[0].split(';')[0]};`,\n                        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36',\n                        'x-inertia': true,\n                        'x-inertia-version': '884345c4d568d16e3bb2fb3ae350cca9',\n                        'x-requested-with': 'XMLHttpRequest',\n                        'x-xsrf-token': token[1].split(';')[0].replace('%3D', '='),\n                    },\n                });\n                data = await response.data;\n                console.log(data);\n            }\n            catch (error) {\n                console.log(error);\n            }\n            let episodes = data.props.episode_list.data;\n            if (data.props.anime.last_episode > 36) {\n                for (let index = 2; index < data.props.anime.last_episode / 36; index++) {\n                    const response = await this.client.post(`https://marin.moe/anime/${id}`, { filter: { episodes: true, specials: true }, eps_page: index }, {\n                        headers: {\n                            Origin: 'https://marin.moe/',\n                            Referer: `https://marin.moe/anime/${id}`,\n                            Cookie: `__ddg1=;__ddg2_=; XSRF-TOKEN=${token[1].split(';')[0]}; marin_session=${token[0].split(';')[0]};`,\n                            'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36',\n                            'x-inertia': true,\n                            'x-inertia-version': '884345c4d568d16e3bb2fb3ae350cca9',\n                            'x-requested-with': 'XMLHttpRequest',\n                            'x-xsrf-token': token[1].split(';')[0].replace('%3D', '='),\n                        },\n                    });\n                    const data = await response.data;\n                    episodes = episodes.concat(data.props.episode_list.data);\n                }\n            }\n            //{\"filter\":{\"episodes\":true,\"specials\":true},\"eps_page\":2}\n            const response_data = {\n                id: id,\n                title: {\n                    native: data.props.anime.alt_titles['Official Title'][0].text,\n                    romaji: data.props.anime.title,\n                    english: data.props.anime.alt_titles['Official Title'][1].text,\n                },\n                synonyms: ((_a = data.props.anime.alt_titles['Synonym']) === null || _a === void 0 ? void 0 : _a.map((el) => {\n                    return el.text;\n                })) || [],\n                image: data.props.anime.cover,\n                cover: data.props.anime.cover,\n                description: data.props.anime.description,\n                status: data.props.anime.status.name,\n                releaseDate: data.props.anime.release_date,\n                totalEpisodes: data.props.anime.last_episode,\n                currentEpisode: data.props.anime.last_episode,\n                genres: data.props.anime.genre_list.map((el) => {\n                    return el.name;\n                }),\n                studios: data.props.anime.production_list.map((el) => {\n                    return el.name;\n                }),\n                type: data.props.anime.type.name,\n                ageRating: data.props.anime.content_rating.name,\n                episodes: episodes.map((el) => {\n                    return {\n                        id: `${id}/${el.sort}`,\n                        title: el.title,\n                        number: el.sort,\n                        image: el.cover,\n                        airdate: el.release_date,\n                    };\n                }),\n            };\n            return response_data;\n        };\n        /**\n         *\n         * @param episodeId Episode id\n         */\n        this.fetchEpisodeSources = async (id) => {\n            const token = await this.getToken();\n            const cookie = `__ddg1=;__ddg2_=; XSRF-TOKEN=${token[1].split(';')[0]}; marin_session=${token[0].split(';')[0]};`;\n            let data;\n            try {\n                const response = await this.client.post(`https://marin.moe/anime/${id}`, {}, {\n                    headers: {\n                        Origin: 'https://marin.moe/',\n                        Referer: `https://marin.moe/anime/${id}`,\n                        Cookie: cookie,\n                        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36',\n                        'x-inertia': true,\n                        'x-inertia-version': '884345c4d568d16e3bb2fb3ae350cca9',\n                        'x-requested-with': 'XMLHttpRequest',\n                        'x-xsrf-token': token[1].split(';')[0].replace('%3D', '='),\n                    },\n                });\n                data = await response.data;\n            }\n            catch (error) {\n                console.log(error);\n            }\n            const response_data = {\n                headers: {\n                    Cookie: cookie,\n                },\n                sources: data.props.video.data.mirror.map((el) => {\n                    return {\n                        url: el.code.file,\n                        quality: el.resolution,\n                        isM3U8: false,\n                        duration: el.code.duration,\n                        thumbnail: el.code.thumbnail,\n                    };\n                }),\n                sprites: data.props.video.data.mirror[0].code.sprite,\n                spriteVtt: data.props.video.data.mirror[0].code.vtt,\n            };\n            return response_data;\n        };\n        /**\n         *\n         * @param episodeId Episode id\n         */\n        this.fetchEpisodeServers = (episodeId) => {\n            throw new Error('Method not implemented.');\n        };\n    }\n    async getToken() {\n        const token = [];\n        const response = await this.client.get('https://marin.moe/anime', {\n            headers: {\n                Referer: 'https://marin.moe/anime',\n                Cookie: '__ddg1_=;__ddg2_=;',\n            },\n        });\n        token.push(response.headers['set-cookie'][1].replace('marin_session=', ''));\n        token.push(response.headers['set-cookie'][0].replace('XSRF-TOKEN=', ''));\n        return token;\n    }\n}\nexports[\"default\"] = Marin;\n// (async () => {\n//   const marin = new Marin();\n//   const search = await marin.search('vermeil in gold');\n//   const anime = await marin.fetchAnimeInfo(search.results[0].id);\n//   const sources = await marin.fetchEpisodeSources(anime.episodes![0].id);\n//   console.log(sources);\n// })();\n//# sourceMappingURL=marin.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvbWFyaW4uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLFVBQVUsYUFBYSxXQUFXLGdCQUFnQixVQUFVO0FBQ3JHLCtEQUErRDtBQUMvRCx5REFBeUQ7QUFDekQ7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsVUFBVSxhQUFhLFdBQVcsZ0JBQWdCLFVBQVU7QUFDckcsK0RBQStEO0FBQy9ELHlEQUF5RDtBQUN6RDtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRixHQUFHLEtBQUs7QUFDM0Y7QUFDQTtBQUNBLDREQUE0RCxHQUFHO0FBQy9ELHlDQUF5QyxVQUFVLGFBQWEsaUJBQWlCLFFBQVEsZ0JBQWdCLGlCQUFpQixPQUFPO0FBQ2pJLCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQSx5REFBeUQ7QUFDekQscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLDRDQUE0QztBQUNoRix1RkFBdUYsR0FBRyxLQUFLLFVBQVUsZ0NBQWdDLG1CQUFtQjtBQUM1SjtBQUNBO0FBQ0EsZ0VBQWdFLEdBQUc7QUFDbkUsNkNBQTZDLFVBQVUsYUFBYSxpQkFBaUIsUUFBUSxnQkFBZ0IsaUJBQWlCLE9BQU87QUFDckksbUVBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RCx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxVQUFVLGdDQUFnQztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixHQUFHLEdBQUcsUUFBUTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxVQUFVLGFBQWEsaUJBQWlCLFFBQVEsZ0JBQWdCLGlCQUFpQixPQUFPO0FBQzVIO0FBQ0E7QUFDQSxtRkFBbUYsR0FBRyxLQUFLO0FBQzNGO0FBQ0E7QUFDQSw0REFBNEQsR0FBRztBQUMvRDtBQUNBLCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQSx5REFBeUQ7QUFDekQscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFNBQVM7QUFDM0MsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0oiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcYW5pbWVcXG1hcmluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuLyoqXG4gKiBAYXR0ZW50aW9uIENsb3VkZmxhcmUgYnlwYXNzIGlzICoqUkVRVUlSRUQqKi5cbiAqL1xuY2xhc3MgTWFyaW4gZXh0ZW5kcyBtb2RlbHNfMS5BbmltZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdNYXJpbic7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL21hcmluLm1vZSc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL2kucGluaW1nLmNvbS83MzZ4LzYyLzhkLzNmLzYyOGQzZjJlNjBiMGFhOGM4ZmE5NTk4ZThkYWU2MzIwLmpwZyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ0FOSU1FLk1hcmluJztcbiAgICAgICAgdGhpcy5yZWNlbnRFcGlzb2RlcyA9IGFzeW5jIChwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmdldFRva2VuKCk7XG4gICAgICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KCdodHRwczovL21hcmluLm1vZS9hbmltZScsIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgc29ydDogJ3JlbC1kJyxcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50X3JhdGluZzogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5yZTogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cDogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0aW9uOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiAnJyxcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9yaWdpbjogJ2h0dHBzOi8vbWFyaW4ubW9lLycsXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiAnaHR0cHM6Ly9tYXJpbi5tb2UvYW5pbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgQ29va2llOiBgX19kZGcxPTtfX2RkZzJfPTsgWFNSRi1UT0tFTj0ke3Rva2VuWzFdfTsgbWFyaW5fc2Vzc2lvbj0ke3Rva2VuWzBdfTtgLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEwOS4wLjAuMCBTYWZhcmkvNTM3LjM2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd4LXhzcmYtdG9rZW4nOiB0b2tlblsxXS5zcGxpdCgnOycpWzBdLnJlcGxhY2UoJyUzRCcsICc9JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAneC1pbmVydGlhJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkYXRhID0gYXdhaXQgcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlX2RhdGEgPSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGRhdGEucHJvcHMuYW5pbWVfbGlzdC5tZXRhLmxhc3RfcGFnZSA+IHBhZ2UsXG4gICAgICAgICAgICAgICAgcmVzdWx0czogZGF0YS5wcm9wcy5hbmltZV9saXN0LmRhdGEubWFwKChlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVsLnNsdWcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZWwudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogZWwuY292ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogZWwueWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVsLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlX2RhdGE7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgU2VhcmNoIHF1ZXJ5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGFzeW5jIChxdWVyeSwgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5nZXRUb2tlbigpO1xuICAgICAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdCgnaHR0cHM6Ly9tYXJpbi5tb2UvYW5pbWUnLCB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHNvcnQ6ICdhei1hJyxcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50X3JhdGluZzogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5yZTogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cDogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0aW9uOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiBxdWVyeSxcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9yaWdpbjogJ2h0dHBzOi8vbWFyaW4ubW9lLycsXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiAnaHR0cHM6Ly9tYXJpbi5tb2UvYW5pbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgQ29va2llOiBgX19kZGcxPTtfX2RkZzJfPTsgWFNSRi1UT0tFTj0ke3Rva2VuWzFdfTsgbWFyaW5fc2Vzc2lvbj0ke3Rva2VuWzBdfTtgLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEwOS4wLjAuMCBTYWZhcmkvNTM3LjM2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd4LXhzcmYtdG9rZW4nOiB0b2tlblsxXS5zcGxpdCgnOycpWzBdLnJlcGxhY2UoJyUzRCcsICc9JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAneC1pbmVydGlhJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkYXRhID0gYXdhaXQgcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlX2RhdGEgPSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGRhdGEucHJvcHMuYW5pbWVfbGlzdC5tZXRhLmxhc3RfcGFnZSA+IHBhZ2UsXG4gICAgICAgICAgICAgICAgcmVzdWx0czogZGF0YS5wcm9wcy5hbmltZV9saXN0LmRhdGEubWFwKChlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVsLnNsdWcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZWwudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogZWwuY292ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogZWwueWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVsLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlX2RhdGE7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gaWQgQW5pbWUgaWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hBbmltZUluZm8gPSBhc3luYyAoaWQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5nZXRUb2tlbigpO1xuICAgICAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdChgaHR0cHM6Ly9tYXJpbi5tb2UvYW5pbWUvJHtpZH1gLCB7fSwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBPcmlnaW46ICdodHRwczovL21hcmluLm1vZS8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogYGh0dHBzOi8vbWFyaW4ubW9lL2FuaW1lLyR7aWR9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIENvb2tpZTogYF9fZGRnMT07X19kZGcyXz07IFhTUkYtVE9LRU49JHt0b2tlblsxXS5zcGxpdCgnOycpWzBdfTsgbWFyaW5fc2Vzc2lvbj0ke3Rva2VuWzBdLnNwbGl0KCc7JylbMF19O2AsXG4gICAgICAgICAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xNV83KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTA5LjAuMC4wIFNhZmFyaS81MzcuMzYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3gtaW5lcnRpYSc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAneC1pbmVydGlhLXZlcnNpb24nOiAnODg0MzQ1YzRkNTY4ZDE2ZTNiYjJmYjNhZTM1MGNjYTknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3gtcmVxdWVzdGVkLXdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3gteHNyZi10b2tlbic6IHRva2VuWzFdLnNwbGl0KCc7JylbMF0ucmVwbGFjZSgnJTNEJywgJz0nKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkYXRhID0gYXdhaXQgcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBlcGlzb2RlcyA9IGRhdGEucHJvcHMuZXBpc29kZV9saXN0LmRhdGE7XG4gICAgICAgICAgICBpZiAoZGF0YS5wcm9wcy5hbmltZS5sYXN0X2VwaXNvZGUgPiAzNikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMjsgaW5kZXggPCBkYXRhLnByb3BzLmFuaW1lLmxhc3RfZXBpc29kZSAvIDM2OyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdChgaHR0cHM6Ly9tYXJpbi5tb2UvYW5pbWUvJHtpZH1gLCB7IGZpbHRlcjogeyBlcGlzb2RlczogdHJ1ZSwgc3BlY2lhbHM6IHRydWUgfSwgZXBzX3BhZ2U6IGluZGV4IH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcmlnaW46ICdodHRwczovL21hcmluLm1vZS8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6IGBodHRwczovL21hcmluLm1vZS9hbmltZS8ke2lkfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29va2llOiBgX19kZGcxPTtfX2RkZzJfPTsgWFNSRi1UT0tFTj0ke3Rva2VuWzFdLnNwbGl0KCc7JylbMF19OyBtYXJpbl9zZXNzaW9uPSR7dG9rZW5bMF0uc3BsaXQoJzsnKVswXX07YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xNV83KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTA5LjAuMC4wIFNhZmFyaS81MzcuMzYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LWluZXJ0aWEnOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LWluZXJ0aWEtdmVyc2lvbic6ICc4ODQzNDVjNGQ1NjhkMTZlM2JiMmZiM2FlMzUwY2NhOScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtcmVxdWVzdGVkLXdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LXhzcmYtdG9rZW4nOiB0b2tlblsxXS5zcGxpdCgnOycpWzBdLnJlcGxhY2UoJyUzRCcsICc9JyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGVwaXNvZGVzID0gZXBpc29kZXMuY29uY2F0KGRhdGEucHJvcHMuZXBpc29kZV9saXN0LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8ve1wiZmlsdGVyXCI6e1wiZXBpc29kZXNcIjp0cnVlLFwic3BlY2lhbHNcIjp0cnVlfSxcImVwc19wYWdlXCI6Mn1cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlX2RhdGEgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZTogZGF0YS5wcm9wcy5hbmltZS5hbHRfdGl0bGVzWydPZmZpY2lhbCBUaXRsZSddWzBdLnRleHQsXG4gICAgICAgICAgICAgICAgICAgIHJvbWFqaTogZGF0YS5wcm9wcy5hbmltZS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgZW5nbGlzaDogZGF0YS5wcm9wcy5hbmltZS5hbHRfdGl0bGVzWydPZmZpY2lhbCBUaXRsZSddWzFdLnRleHQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzeW5vbnltczogKChfYSA9IGRhdGEucHJvcHMuYW5pbWUuYWx0X3RpdGxlc1snU3lub255bSddKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKChlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwudGV4dDtcbiAgICAgICAgICAgICAgICB9KSkgfHwgW10sXG4gICAgICAgICAgICAgICAgaW1hZ2U6IGRhdGEucHJvcHMuYW5pbWUuY292ZXIsXG4gICAgICAgICAgICAgICAgY292ZXI6IGRhdGEucHJvcHMuYW5pbWUuY292ZXIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRhdGEucHJvcHMuYW5pbWUuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBkYXRhLnByb3BzLmFuaW1lLnN0YXR1cy5uYW1lLFxuICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBkYXRhLnByb3BzLmFuaW1lLnJlbGVhc2VfZGF0ZSxcbiAgICAgICAgICAgICAgICB0b3RhbEVwaXNvZGVzOiBkYXRhLnByb3BzLmFuaW1lLmxhc3RfZXBpc29kZSxcbiAgICAgICAgICAgICAgICBjdXJyZW50RXBpc29kZTogZGF0YS5wcm9wcy5hbmltZS5sYXN0X2VwaXNvZGUsXG4gICAgICAgICAgICAgICAgZ2VucmVzOiBkYXRhLnByb3BzLmFuaW1lLmdlbnJlX2xpc3QubWFwKChlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwubmFtZTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBzdHVkaW9zOiBkYXRhLnByb3BzLmFuaW1lLnByb2R1Y3Rpb25fbGlzdC5tYXAoKGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbC5uYW1lO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEucHJvcHMuYW5pbWUudHlwZS5uYW1lLFxuICAgICAgICAgICAgICAgIGFnZVJhdGluZzogZGF0YS5wcm9wcy5hbmltZS5jb250ZW50X3JhdGluZy5uYW1lLFxuICAgICAgICAgICAgICAgIGVwaXNvZGVzOiBlcGlzb2Rlcy5tYXAoKGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogYCR7aWR9LyR7ZWwuc29ydH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGVsLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBlbC5zb3J0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGVsLmNvdmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWlyZGF0ZTogZWwucmVsZWFzZV9kYXRlLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZV9kYXRhO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGVwaXNvZGVJZCBFcGlzb2RlIGlkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNvdXJjZXMgPSBhc3luYyAoaWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5nZXRUb2tlbigpO1xuICAgICAgICAgICAgY29uc3QgY29va2llID0gYF9fZGRnMT07X19kZGcyXz07IFhTUkYtVE9LRU49JHt0b2tlblsxXS5zcGxpdCgnOycpWzBdfTsgbWFyaW5fc2Vzc2lvbj0ke3Rva2VuWzBdLnNwbGl0KCc7JylbMF19O2A7XG4gICAgICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KGBodHRwczovL21hcmluLm1vZS9hbmltZS8ke2lkfWAsIHt9LCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9yaWdpbjogJ2h0dHBzOi8vbWFyaW4ubW9lLycsXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiBgaHR0cHM6Ly9tYXJpbi5tb2UvYW5pbWUvJHtpZH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgQ29va2llOiBjb29raWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xNV83KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTA5LjAuMC4wIFNhZmFyaS81MzcuMzYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3gtaW5lcnRpYSc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAneC1pbmVydGlhLXZlcnNpb24nOiAnODg0MzQ1YzRkNTY4ZDE2ZTNiYjJmYjNhZTM1MGNjYTknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3gtcmVxdWVzdGVkLXdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3gteHNyZi10b2tlbic6IHRva2VuWzFdLnNwbGl0KCc7JylbMF0ucmVwbGFjZSgnJTNEJywgJz0nKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkYXRhID0gYXdhaXQgcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlX2RhdGEgPSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBDb29raWU6IGNvb2tpZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNvdXJjZXM6IGRhdGEucHJvcHMudmlkZW8uZGF0YS5taXJyb3IubWFwKChlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBlbC5jb2RlLmZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiBlbC5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBlbC5jb2RlLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsOiBlbC5jb2RlLnRodW1ibmFpbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBzcHJpdGVzOiBkYXRhLnByb3BzLnZpZGVvLmRhdGEubWlycm9yWzBdLmNvZGUuc3ByaXRlLFxuICAgICAgICAgICAgICAgIHNwcml0ZVZ0dDogZGF0YS5wcm9wcy52aWRlby5kYXRhLm1pcnJvclswXS5jb2RlLnZ0dCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VfZGF0YTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgRXBpc29kZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTZXJ2ZXJzID0gKGVwaXNvZGVJZCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRUb2tlbigpIHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBbXTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoJ2h0dHBzOi8vbWFyaW4ubW9lL2FuaW1lJywge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFJlZmVyZXI6ICdodHRwczovL21hcmluLm1vZS9hbmltZScsXG4gICAgICAgICAgICAgICAgQ29va2llOiAnX19kZGcxXz07X19kZGcyXz07JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0b2tlbi5wdXNoKHJlc3BvbnNlLmhlYWRlcnNbJ3NldC1jb29raWUnXVsxXS5yZXBsYWNlKCdtYXJpbl9zZXNzaW9uPScsICcnKSk7XG4gICAgICAgIHRva2VuLnB1c2gocmVzcG9uc2UuaGVhZGVyc1snc2V0LWNvb2tpZSddWzBdLnJlcGxhY2UoJ1hTUkYtVE9LRU49JywgJycpKTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IE1hcmluO1xuLy8gKGFzeW5jICgpID0+IHtcbi8vICAgY29uc3QgbWFyaW4gPSBuZXcgTWFyaW4oKTtcbi8vICAgY29uc3Qgc2VhcmNoID0gYXdhaXQgbWFyaW4uc2VhcmNoKCd2ZXJtZWlsIGluIGdvbGQnKTtcbi8vICAgY29uc3QgYW5pbWUgPSBhd2FpdCBtYXJpbi5mZXRjaEFuaW1lSW5mbyhzZWFyY2gucmVzdWx0c1swXS5pZCk7XG4vLyAgIGNvbnN0IHNvdXJjZXMgPSBhd2FpdCBtYXJpbi5mZXRjaEVwaXNvZGVTb3VyY2VzKGFuaW1lLmVwaXNvZGVzIVswXS5pZCk7XG4vLyAgIGNvbnNvbGUubG9nKHNvdXJjZXMpO1xuLy8gfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcmluLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/marin.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/monoschinos.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/monoschinos.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _MonosChinos_getServerDecodedUrl;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass MonosChinos extends models_1.AnimeParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'MonosChinos';\n        this.baseUrl = 'https://monoschinos2.com';\n        this.logo = 'https://monoschinos2.com/public/favicon.ico?v=4.57';\n        this.classPath = 'ANIME.MonosChinos';\n        /**\n         * @param query Search query\n         */\n        this.search = async (query) => {\n            try {\n                const res = await this.client.get(`${this.baseUrl}/buscar?q=${query}`);\n                const $ = (0, cheerio_1.load)(res.data);\n                if (!$)\n                    return { results: [] };\n                const searchResult = {\n                    hasNextPage: false,\n                    results: [],\n                };\n                $('section ul li article').each((_, el) => {\n                    var _a;\n                    searchResult.results.push({\n                        id: (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.split(`/anime/`)[1],\n                        title: $(el).find('h3').text(),\n                        url: $(el).find('a').attr('href'),\n                        image: $(el).find('.tarjeta img').attr('src'),\n                        releaseDate: $(el).find('span.text-muted').text(),\n                    });\n                });\n                return searchResult;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         * @param id Anime id\n         * @param totalEpisodes how many episodes you want the info of (why? => refer to the docs)\n         */\n        this.fetchAnimeInfo = async (id, totalEpisodes = 1000) => {\n            var _a;\n            try {\n                const url = `${this.baseUrl}/anime/${id}`;\n                const res = await this.client.get(url);\n                const $ = (0, cheerio_1.load)(res.data);\n                const animeInfo = {\n                    id: id,\n                    title: $('h1.fs-2.text-capitalize.text-light').text(),\n                    url: url,\n                    genres: $('#profile-tab-pane .d-flex.gap-3 .lh-lg a')\n                        .map((_, el) => $(el).text())\n                        .get(),\n                    totalEpisodes: totalEpisodes,\n                    image: $('img.lazy.bg-secondary').attr('src'),\n                    description: $('#profile-tab-pane .col-12.col-md-9 p').text(),\n                    episodes: [],\n                };\n                for (let i = 1; i <= totalEpisodes; i++) {\n                    (_a = animeInfo.episodes) === null || _a === void 0 ? void 0 : _a.push({\n                        id: `${$('.d-flex.flex-column.pt-3 .d-flex.gap-3.mt-3 a')\n                            .attr('href')\n                            .match(/([a-z0-9\\-]+-episodio-)/)[0]}${i}`,\n                        number: i,\n                        url: $('.d-flex.flex-column.pt-3 .d-flex.gap-3.mt-3 a').attr('href'),\n                    });\n                }\n                return animeInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId Episode id\n         */\n        this.fetchEpisodeSources = async (episodeId) => {\n            try {\n                const res = await this.client.get(`https://monoschinos2.com/ver/${episodeId}`);\n                const $ = (0, cheerio_1.load)(res.data);\n                let decodedUrl;\n                let sources;\n                let subtitles = [];\n                // filemoon => js code too obfuscated\n                // mixdrop => 403 forbidden\n                // doodstream => loads infinitely\n                // mp4upload => can't access\n                try {\n                    decodedUrl = await __classPrivateFieldGet(this, _MonosChinos_getServerDecodedUrl, \"f\").call(this, $, models_1.StreamingServers.Voe);\n                    const voeResult = await new extractors_1.Voe().extract(new URL(decodedUrl.replace('voe.sx', 'thomasalthoughhear.com')));\n                    sources = voeResult.sources;\n                    subtitles = voeResult === null || voeResult === void 0 ? void 0 : voeResult.subtitles;\n                }\n                catch (err) {\n                    decodedUrl = await __classPrivateFieldGet(this, _MonosChinos_getServerDecodedUrl, \"f\").call(this, $, models_1.StreamingServers.StreamTape);\n                    sources = await new extractors_1.StreamTape().extract(new URL(decodedUrl));\n                    try {\n                    }\n                    catch (err) {\n                        throw new Error('Source not found.');\n                    }\n                }\n                return { sources: sources, subtitles: subtitles };\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        _MonosChinos_getServerDecodedUrl.set(this, async ($, server) => {\n            try {\n                const button = $('button').filter(function () {\n                    return $(this).text() === server;\n                });\n                const res2 = await this.client.get(`https://monoschinos2.com/reproductor?url=${button.attr('data-player')}`);\n                const $2 = (0, cheerio_1.load)(res2.data);\n                const base64Match = $2.html().match(/atob\\(\"([^\"]+)\"\\)/);\n                return Buffer.from(base64Match[1], 'base64').toString('utf-8');\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        });\n        /**\n         *\n         * @param episodeId Episode id\n         */\n        this.fetchEpisodeServers = (episodeId) => {\n            throw new Error('Method not implemented.');\n        };\n    }\n}\n_MonosChinos_getServerDecodedUrl = new WeakMap();\nexports[\"default\"] = MonosChinos;\n// FILEMOON EXTRACTION TEST\n// const res3 = await this.client.get(decodedUrl);\n// const $3 = load(res3.data);\n// const res4 = await this.client.get($3('iframe').attr('src')!);\n// const $4 = load(res4.data);\n// const data = $4('script').last().html()?.split('image|')[1].split('|file')[0].split('|')!;\n// const strangeVal = $4('script')\n//   .last()\n//   .html()\n//   ?.split(/3[a-z]&7[a-z]=/)[1]\n//   .split(/&7[a-z]=7/)[0];\n// const additionalData = $4('script')\n//   .last()\n//   .html()\n//   ?.split('data|')[1]\n//   .replace('com|', '')\n//   .split('|video_ad')[0]\n//   .split('|')!;\n// const url = `https://${data[17]}.${data[16]}.${data[15]}.${\n//   data[14] === 'com' ? data[13] : data[14]\n// }.com/${data[12]}/${data[11]}/${data[10]}/${data[9]}/${data[8]}.${data[7]}?t=${data[6]}&s=${\n//   additionalData[0]\n// }&e=${data[5]}&f=${additionalData[1]}&${data[4]}=${strangeVal}&${data[3]}=${data[2]}&${data[1]}=${\n//   data[0]\n// }`;      const res3 = await this.client.get(decodedUrl);\n// const $3 = load(res3.data);\n// const res4 = await this.client.get($3('iframe').attr('src')!);\n// const $4 = load(res4.data);\n// const data = $4('script').last().html()?.split('image|')[1].split('|file')[0].split('|')!;\n// const strangeVal = $4('script')\n//   .last()\n//   .html()\n//   ?.split(/3[a-z]&7[a-z]=/)[1]\n//   .split(/&7[a-z]=7/)[0];\n// const additionalData = $4('script')\n//   .last()\n//   .html()\n//   ?.split('data|')[1]\n//   .replace('com|', '')\n//   .split('|video_ad')[0]\n//   .split('|')!;\n// const url = `https://${data[17]}.${data[16]}.${data[15]}.${\n//   data[14] === 'com' ? data[13] : data[14]\n// }.com/${data[12]}/${data[11]}/${data[10]}/${data[9]}/${data[8]}.${data[7]}?t=${data[6]}&s=${\n//   additionalData[0]\n// }&e=${data[5]}&f=${additionalData[1]}&${data[4]}=${strangeVal}&${data[3]}=${data[2]}&${data[1]}=${\n//   data[0]\n// }`;\n//# sourceMappingURL=monoschinos.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvbW9ub3NjaGlub3MuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLG1CQUFPLENBQUMsb0VBQVM7QUFDbkMscUJBQXFCLG1CQUFPLENBQUMsNEZBQWtCO0FBQy9DLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxhQUFhLFlBQVksTUFBTTtBQUNwRjtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsYUFBYSxTQUFTLEdBQUc7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxvQkFBb0I7QUFDcEQ7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQSxpRUFBaUUsRUFBRSxFQUFFO0FBQ3JFO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsVUFBVTtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiwrRkFBK0YsMkJBQTJCO0FBQzFIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsU0FBUyxHQUFHLFNBQVMsR0FBRyxTQUFTO0FBQzNEO0FBQ0EsSUFBSSxPQUFPLFNBQVMsR0FBRyxTQUFTLEdBQUcsU0FBUyxHQUFHLFFBQVEsR0FBRyxRQUFRLEdBQUcsUUFBUSxLQUFLLFFBQVE7QUFDMUY7QUFDQSxJQUFJLEtBQUssUUFBUSxLQUFLLGtCQUFrQixHQUFHLFFBQVEsR0FBRyxXQUFXLEdBQUcsUUFBUSxHQUFHLFFBQVEsR0FBRyxRQUFRO0FBQ2xHO0FBQ0EsSUFBSSxRQUFRO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsU0FBUyxHQUFHLFNBQVMsR0FBRyxTQUFTO0FBQzNEO0FBQ0EsSUFBSSxPQUFPLFNBQVMsR0FBRyxTQUFTLEdBQUcsU0FBUyxHQUFHLFFBQVEsR0FBRyxRQUFRLEdBQUcsUUFBUSxLQUFLLFFBQVE7QUFDMUY7QUFDQSxJQUFJLEtBQUssUUFBUSxLQUFLLGtCQUFrQixHQUFHLFFBQVEsR0FBRyxXQUFXLEdBQUcsUUFBUSxHQUFHLFFBQVEsR0FBRyxRQUFRO0FBQ2xHO0FBQ0EsSUFBSTtBQUNKIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXGFuaW1lXFxtb25vc2NoaW5vcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xudmFyIF9Nb25vc0NoaW5vc19nZXRTZXJ2ZXJEZWNvZGVkVXJsO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2hlZXJpb18xID0gcmVxdWlyZShcImNoZWVyaW9cIik7XG5jb25zdCBleHRyYWN0b3JzXzEgPSByZXF1aXJlKFwiLi4vLi4vZXh0cmFjdG9yc1wiKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNsYXNzIE1vbm9zQ2hpbm9zIGV4dGVuZHMgbW9kZWxzXzEuQW5pbWVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTW9ub3NDaGlub3MnO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9tb25vc2NoaW5vczIuY29tJztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vbW9ub3NjaGlub3MyLmNvbS9wdWJsaWMvZmF2aWNvbi5pY28/dj00LjU3JztcbiAgICAgICAgdGhpcy5jbGFzc1BhdGggPSAnQU5JTUUuTW9ub3NDaGlub3MnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHF1ZXJ5IFNlYXJjaCBxdWVyeVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocXVlcnkpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vYnVzY2FyP3E9JHtxdWVyeX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShyZXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKCEkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyByZXN1bHRzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICQoJ3NlY3Rpb24gdWwgbGkgYXJ0aWNsZScpLmVhY2goKF8sIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0LnJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9hID0gJChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KGAvYW5pbWUvYClbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbCkuZmluZCgnaDMnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoZWwpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnLnRhcmpldGEgaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogJChlbCkuZmluZCgnc3Bhbi50ZXh0LW11dGVkJykudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gaWQgQW5pbWUgaWRcbiAgICAgICAgICogQHBhcmFtIHRvdGFsRXBpc29kZXMgaG93IG1hbnkgZXBpc29kZXMgeW91IHdhbnQgdGhlIGluZm8gb2YgKHdoeT8gPT4gcmVmZXIgdG8gdGhlIGRvY3MpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoQW5pbWVJbmZvID0gYXN5bmMgKGlkLCB0b3RhbEVwaXNvZGVzID0gMTAwMCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9L2FuaW1lLyR7aWR9YDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQodXJsKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShyZXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbWVJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKCdoMS5mcy0yLnRleHQtY2FwaXRhbGl6ZS50ZXh0LWxpZ2h0JykudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgZ2VucmVzOiAkKCcjcHJvZmlsZS10YWItcGFuZSAuZC1mbGV4LmdhcC0zIC5saC1sZyBhJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKF8sIGVsKSA9PiAkKGVsKS50ZXh0KCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsRXBpc29kZXM6IHRvdGFsRXBpc29kZXMsXG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKCdpbWcubGF6eS5iZy1zZWNvbmRhcnknKS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICQoJyNwcm9maWxlLXRhYi1wYW5lIC5jb2wtMTIuY29sLW1kLTkgcCcpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgZXBpc29kZXM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdG90YWxFcGlzb2RlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGFuaW1lSW5mby5lcGlzb2RlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGAkeyQoJy5kLWZsZXguZmxleC1jb2x1bW4ucHQtMyAuZC1mbGV4LmdhcC0zLm10LTMgYScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hyZWYnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXRjaCgvKFthLXowLTlcXC1dKy1lcGlzb2Rpby0pLylbMF19JHtpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJy5kLWZsZXguZmxleC1jb2x1bW4ucHQtMyAuZC1mbGV4LmdhcC0zLm10LTMgYScpLmF0dHIoJ2hyZWYnKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhbmltZUluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgRXBpc29kZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzID0gYXN5bmMgKGVwaXNvZGVJZCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYGh0dHBzOi8vbW9ub3NjaGlub3MyLmNvbS92ZXIvJHtlcGlzb2RlSWR9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGxldCBkZWNvZGVkVXJsO1xuICAgICAgICAgICAgICAgIGxldCBzb3VyY2VzO1xuICAgICAgICAgICAgICAgIGxldCBzdWJ0aXRsZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAvLyBmaWxlbW9vbiA9PiBqcyBjb2RlIHRvbyBvYmZ1c2NhdGVkXG4gICAgICAgICAgICAgICAgLy8gbWl4ZHJvcCA9PiA0MDMgZm9yYmlkZGVuXG4gICAgICAgICAgICAgICAgLy8gZG9vZHN0cmVhbSA9PiBsb2FkcyBpbmZpbml0ZWx5XG4gICAgICAgICAgICAgICAgLy8gbXA0dXBsb2FkID0+IGNhbid0IGFjY2Vzc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY29kZWRVcmwgPSBhd2FpdCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Nb25vc0NoaW5vc19nZXRTZXJ2ZXJEZWNvZGVkVXJsLCBcImZcIikuY2FsbCh0aGlzLCAkLCBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlZvZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZvZVJlc3VsdCA9IGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuVm9lKCkuZXh0cmFjdChuZXcgVVJMKGRlY29kZWRVcmwucmVwbGFjZSgndm9lLnN4JywgJ3Rob21hc2FsdGhvdWdoaGVhci5jb20nKSkpO1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VzID0gdm9lUmVzdWx0LnNvdXJjZXM7XG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlcyA9IHZvZVJlc3VsdCA9PT0gbnVsbCB8fCB2b2VSZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZvZVJlc3VsdC5zdWJ0aXRsZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjb2RlZFVybCA9IGF3YWl0IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX01vbm9zQ2hpbm9zX2dldFNlcnZlckRlY29kZWRVcmwsIFwiZlwiKS5jYWxsKHRoaXMsICQsIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuU3RyZWFtVGFwZSk7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXMgPSBhd2FpdCBuZXcgZXh0cmFjdG9yc18xLlN0cmVhbVRhcGUoKS5leHRyYWN0KG5ldyBVUkwoZGVjb2RlZFVybCkpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU291cmNlIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzb3VyY2VzOiBzb3VyY2VzLCBzdWJ0aXRsZXM6IHN1YnRpdGxlcyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF9Nb25vc0NoaW5vc19nZXRTZXJ2ZXJEZWNvZGVkVXJsLnNldCh0aGlzLCBhc3luYyAoJCwgc2VydmVyKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9ICQoJ2J1dHRvbicpLmZpbHRlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLnRleHQoKSA9PT0gc2VydmVyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlczIgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYGh0dHBzOi8vbW9ub3NjaGlub3MyLmNvbS9yZXByb2R1Y3Rvcj91cmw9JHtidXR0b24uYXR0cignZGF0YS1wbGF5ZXInKX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkMiA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzMi5kYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjRNYXRjaCA9ICQyLmh0bWwoKS5tYXRjaCgvYXRvYlxcKFwiKFteXCJdKylcIlxcKS8pO1xuICAgICAgICAgICAgICAgIHJldHVybiBCdWZmZXIuZnJvbShiYXNlNjRNYXRjaFsxXSwgJ2Jhc2U2NCcpLnRvU3RyaW5nKCd1dGYtOCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGVwaXNvZGVJZCBFcGlzb2RlIGlkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNlcnZlcnMgPSAoZXBpc29kZUlkKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgICAgIH07XG4gICAgfVxufVxuX01vbm9zQ2hpbm9zX2dldFNlcnZlckRlY29kZWRVcmwgPSBuZXcgV2Vha01hcCgpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTW9ub3NDaGlub3M7XG4vLyBGSUxFTU9PTiBFWFRSQUNUSU9OIFRFU1Rcbi8vIGNvbnN0IHJlczMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoZGVjb2RlZFVybCk7XG4vLyBjb25zdCAkMyA9IGxvYWQocmVzMy5kYXRhKTtcbi8vIGNvbnN0IHJlczQgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoJDMoJ2lmcmFtZScpLmF0dHIoJ3NyYycpISk7XG4vLyBjb25zdCAkNCA9IGxvYWQocmVzNC5kYXRhKTtcbi8vIGNvbnN0IGRhdGEgPSAkNCgnc2NyaXB0JykubGFzdCgpLmh0bWwoKT8uc3BsaXQoJ2ltYWdlfCcpWzFdLnNwbGl0KCd8ZmlsZScpWzBdLnNwbGl0KCd8JykhO1xuLy8gY29uc3Qgc3RyYW5nZVZhbCA9ICQ0KCdzY3JpcHQnKVxuLy8gICAubGFzdCgpXG4vLyAgIC5odG1sKClcbi8vICAgPy5zcGxpdCgvM1thLXpdJjdbYS16XT0vKVsxXVxuLy8gICAuc3BsaXQoLyY3W2Etel09Ny8pWzBdO1xuLy8gY29uc3QgYWRkaXRpb25hbERhdGEgPSAkNCgnc2NyaXB0Jylcbi8vICAgLmxhc3QoKVxuLy8gICAuaHRtbCgpXG4vLyAgID8uc3BsaXQoJ2RhdGF8JylbMV1cbi8vICAgLnJlcGxhY2UoJ2NvbXwnLCAnJylcbi8vICAgLnNwbGl0KCd8dmlkZW9fYWQnKVswXVxuLy8gICAuc3BsaXQoJ3wnKSE7XG4vLyBjb25zdCB1cmwgPSBgaHR0cHM6Ly8ke2RhdGFbMTddfS4ke2RhdGFbMTZdfS4ke2RhdGFbMTVdfS4ke1xuLy8gICBkYXRhWzE0XSA9PT0gJ2NvbScgPyBkYXRhWzEzXSA6IGRhdGFbMTRdXG4vLyB9LmNvbS8ke2RhdGFbMTJdfS8ke2RhdGFbMTFdfS8ke2RhdGFbMTBdfS8ke2RhdGFbOV19LyR7ZGF0YVs4XX0uJHtkYXRhWzddfT90PSR7ZGF0YVs2XX0mcz0ke1xuLy8gICBhZGRpdGlvbmFsRGF0YVswXVxuLy8gfSZlPSR7ZGF0YVs1XX0mZj0ke2FkZGl0aW9uYWxEYXRhWzFdfSYke2RhdGFbNF19PSR7c3RyYW5nZVZhbH0mJHtkYXRhWzNdfT0ke2RhdGFbMl19JiR7ZGF0YVsxXX09JHtcbi8vICAgZGF0YVswXVxuLy8gfWA7ICAgICAgY29uc3QgcmVzMyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChkZWNvZGVkVXJsKTtcbi8vIGNvbnN0ICQzID0gbG9hZChyZXMzLmRhdGEpO1xuLy8gY29uc3QgcmVzNCA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCgkMygnaWZyYW1lJykuYXR0cignc3JjJykhKTtcbi8vIGNvbnN0ICQ0ID0gbG9hZChyZXM0LmRhdGEpO1xuLy8gY29uc3QgZGF0YSA9ICQ0KCdzY3JpcHQnKS5sYXN0KCkuaHRtbCgpPy5zcGxpdCgnaW1hZ2V8JylbMV0uc3BsaXQoJ3xmaWxlJylbMF0uc3BsaXQoJ3wnKSE7XG4vLyBjb25zdCBzdHJhbmdlVmFsID0gJDQoJ3NjcmlwdCcpXG4vLyAgIC5sYXN0KClcbi8vICAgLmh0bWwoKVxuLy8gICA/LnNwbGl0KC8zW2Etel0mN1thLXpdPS8pWzFdXG4vLyAgIC5zcGxpdCgvJjdbYS16XT03LylbMF07XG4vLyBjb25zdCBhZGRpdGlvbmFsRGF0YSA9ICQ0KCdzY3JpcHQnKVxuLy8gICAubGFzdCgpXG4vLyAgIC5odG1sKClcbi8vICAgPy5zcGxpdCgnZGF0YXwnKVsxXVxuLy8gICAucmVwbGFjZSgnY29tfCcsICcnKVxuLy8gICAuc3BsaXQoJ3x2aWRlb19hZCcpWzBdXG4vLyAgIC5zcGxpdCgnfCcpITtcbi8vIGNvbnN0IHVybCA9IGBodHRwczovLyR7ZGF0YVsxN119LiR7ZGF0YVsxNl19LiR7ZGF0YVsxNV19LiR7XG4vLyAgIGRhdGFbMTRdID09PSAnY29tJyA/IGRhdGFbMTNdIDogZGF0YVsxNF1cbi8vIH0uY29tLyR7ZGF0YVsxMl19LyR7ZGF0YVsxMV19LyR7ZGF0YVsxMF19LyR7ZGF0YVs5XX0vJHtkYXRhWzhdfS4ke2RhdGFbN119P3Q9JHtkYXRhWzZdfSZzPSR7XG4vLyAgIGFkZGl0aW9uYWxEYXRhWzBdXG4vLyB9JmU9JHtkYXRhWzVdfSZmPSR7YWRkaXRpb25hbERhdGFbMV19JiR7ZGF0YVs0XX09JHtzdHJhbmdlVmFsfSYke2RhdGFbM119PSR7ZGF0YVsyXX0mJHtkYXRhWzFdfT0ke1xuLy8gICBkYXRhWzBdXG4vLyB9YDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vbm9zY2hpbm9zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/monoschinos.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/zoro.js":
/*!************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/anime/zoro.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nconst utils_2 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nclass Zoro extends models_1.AnimeParser {\n    constructor(customBaseURL) {\n        super(...arguments);\n        this.name = 'Zoro';\n        this.baseUrl = 'https://hianimez.to';\n        this.logo = 'https://is3-ssl.mzstatic.com/image/thumb/Purple112/v4/7e/91/00/7e9100ee-2b62-0942-4cdc-e9b93252ce1c/source/512x512bb.jpg';\n        this.classPath = 'ANIME.Zoro';\n        /**\n         * @param id Anime id\n         */\n        this.fetchAnimeInfo = async (id) => {\n            const info = {\n                id: id,\n                title: '',\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/watch/${id}`);\n                const $ = (0, cheerio_1.load)(data);\n                const { mal_id, anilist_id } = JSON.parse($('#syncData').text());\n                info.malID = Number(mal_id);\n                info.alID = Number(anilist_id);\n                info.title = $('h2.film-name > a.text-white').text();\n                info.japaneseTitle = $('div.anisc-info div:nth-child(2) span.name').text();\n                info.image = $('img.film-poster-img').attr('src');\n                info.description = $('div.film-description').text().trim();\n                // Movie, TV, OVA, ONA, Special, Music\n                info.type = $('span.item').last().prev().prev().text().toUpperCase();\n                info.url = `${this.baseUrl}/${id}`;\n                info.recommendations = await this.scrapeCard($);\n                info.relatedAnime = [];\n                $('#main-sidebar section:nth-child(1) div.anif-block-ul li').each((i, ele) => {\n                    var _a, _b, _c, _d, _e, _f, _g;\n                    const card = $(ele);\n                    const aTag = card.find('.film-name a');\n                    const id = (_a = aTag.attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[1].split('?')[0];\n                    info.relatedAnime.push({\n                        id: id,\n                        title: aTag.text(),\n                        url: `${this.baseUrl}${aTag.attr('href')}`,\n                        image: (_b = card.find('img')) === null || _b === void 0 ? void 0 : _b.attr('data-src'),\n                        japaneseTitle: aTag.attr('data-jname'),\n                        type: (_d = (_c = card.find('.tick').contents().last()) === null || _c === void 0 ? void 0 : _c.text()) === null || _d === void 0 ? void 0 : _d.trim(),\n                        sub: parseInt((_e = card.find('.tick-item.tick-sub')) === null || _e === void 0 ? void 0 : _e.text()) || 0,\n                        dub: parseInt((_f = card.find('.tick-item.tick-dub')) === null || _f === void 0 ? void 0 : _f.text()) || 0,\n                        episodes: parseInt((_g = card.find('.tick-item.tick-eps')) === null || _g === void 0 ? void 0 : _g.text()) || 0,\n                    });\n                });\n                const hasSub = $('div.film-stats div.tick div.tick-item.tick-sub').length > 0;\n                const hasDub = $('div.film-stats div.tick div.tick-item.tick-dub').length > 0;\n                if (hasSub) {\n                    info.subOrDub = models_1.SubOrSub.SUB;\n                    info.hasSub = hasSub;\n                }\n                if (hasDub) {\n                    info.subOrDub = models_1.SubOrSub.DUB;\n                    info.hasDub = hasDub;\n                }\n                if (hasSub && hasDub) {\n                    info.subOrDub = models_1.SubOrSub.BOTH;\n                }\n                // ZORO - PAGE INFO\n                const zInfo = await this.client.get(info.url);\n                const $$$ = (0, cheerio_1.load)(zInfo.data);\n                info.genres = [];\n                $$$('.item.item-list')\n                    .find('a')\n                    .each(function () {\n                    var _a;\n                    const genre = $(this).text().trim();\n                    if (genre != undefined)\n                        (_a = info.genres) === null || _a === void 0 ? void 0 : _a.push(genre);\n                });\n                switch ($$$('.item.item-title').find(\"span.item-head:contains('Status')\").next('span.name').text().trim()) {\n                    case 'Finished Airing':\n                        info.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                    case 'Currently Airing':\n                        info.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    case 'Not yet aired':\n                        info.status = models_1.MediaStatus.NOT_YET_AIRED;\n                        break;\n                    default:\n                        info.status = models_1.MediaStatus.UNKNOWN;\n                        break;\n                }\n                info.season = $$$('.item.item-title')\n                    .find(\"span.item-head:contains('Premiered')\")\n                    .next('span.name')\n                    .text()\n                    .trim();\n                if (info.japaneseTitle == '' || info.japaneseTitle == undefined) {\n                    info.japaneseTitle = $$$('.item.item-title')\n                        .find(\"span.item-head:contains('Japanese')\")\n                        .next('span.name')\n                        .text()\n                        .trim();\n                }\n                const episodesAjax = await this.client.get(`${this.baseUrl}/ajax/v2/episode/list/${id.split('-').pop()}`, {\n                    headers: {\n                        'X-Requested-With': 'XMLHttpRequest',\n                        Referer: `${this.baseUrl}/watch/${id}`,\n                    },\n                });\n                const $$ = (0, cheerio_1.load)(episodesAjax.data.html);\n                info.totalEpisodes = $$('div.detail-infor-content > div > a').length;\n                info.episodes = [];\n                $$('div.detail-infor-content > div > a').each((i, el) => {\n                    var _a, _b, _c;\n                    const episodeId = (_b = (_a = $$(el).attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[2]) === null || _b === void 0 ? void 0 : _b.replace('?ep=', '$episode$');\n                    const number = parseInt($$(el).attr('data-number'));\n                    const title = $$(el).attr('title');\n                    const url = this.baseUrl + $$(el).attr('href');\n                    const isFiller = $$(el).hasClass('ssl-item-filler');\n                    const isSubbed = number <= (parseInt($('div.film-stats div.tick div.tick-item.tick-sub').text().trim()) || 0);\n                    const isDubbed = number <= (parseInt($('div.film-stats div.tick div.tick-item.tick-dub').text().trim()) || 0);\n                    (_c = info.episodes) === null || _c === void 0 ? void 0 : _c.push({\n                        id: episodeId,\n                        number: number,\n                        title: title,\n                        isFiller: isFiller,\n                        isSubbed: isSubbed,\n                        isDubbed: isDubbed,\n                        url: url,\n                    });\n                });\n                return info;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId Episode id\n         * @param server server type (default `VidCloud`) (optional)\n         * @param subOrDub sub or dub (default `SubOrSub.SUB`) (optional)\n         */\n        this.fetchEpisodeSources = async (episodeId, server = models_1.StreamingServers.VidCloud, subOrDub = models_1.SubOrSub.SUB) => {\n            if (episodeId.startsWith('http')) {\n                const serverUrl = new URL(episodeId);\n                switch (server) {\n                    case models_1.StreamingServers.VidStreaming:\n                    case models_1.StreamingServers.VidCloud:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new utils_1.MegaCloud().extract(serverUrl, this.baseUrl)),\n                        };\n                    case models_1.StreamingServers.StreamSB:\n                        return {\n                            headers: {\n                                Referer: serverUrl.href,\n                                watchsb: 'streamsb',\n                                'User-Agent': utils_2.USER_AGENT,\n                            },\n                            sources: await new utils_1.StreamSB(this.proxyConfig, this.adapter).extract(serverUrl, true),\n                        };\n                    case models_1.StreamingServers.StreamTape:\n                        return {\n                            headers: { Referer: serverUrl.href, 'User-Agent': utils_2.USER_AGENT },\n                            sources: await new utils_1.StreamTape(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                    default:\n                    case models_1.StreamingServers.VidCloud:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new utils_1.MegaCloud().extract(serverUrl, this.baseUrl)),\n                        };\n                }\n            }\n            if (!episodeId.includes('$episode$'))\n                throw new Error('Invalid episode id');\n            // keeping this for future use\n            // Fallback to using sub if no info found in case of compatibility\n            // TODO: add both options later\n            // subOrDub = episodeId.split('$')?.pop() === 'dub' ? 'dub' : 'sub';\n            episodeId = `${this.baseUrl}/watch/${episodeId\n                .replace('$episode$', '?ep=')\n                .replace(/\\$auto|\\$sub|\\$dub/gi, '')}`;\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/ajax/v2/episode/servers?episodeId=${episodeId.split('?ep=')[1]}`);\n                const $ = (0, cheerio_1.load)(data.html);\n                /**\n                 * vidtreaming -> 4\n                 * rapidcloud  -> 1\n                 * streamsb -> 5\n                 * streamtape -> 3\n                 */\n                let serverId = '';\n                try {\n                    switch (server) {\n                        case models_1.StreamingServers.VidCloud:\n                            serverId = this.retrieveServerId($, 1, subOrDub);\n                            // zoro's vidcloud server is rapidcloud\n                            if (!serverId)\n                                throw new Error('RapidCloud not found');\n                            break;\n                        case models_1.StreamingServers.VidStreaming:\n                            serverId = this.retrieveServerId($, 4, subOrDub);\n                            // zoro's vidcloud server is rapidcloud\n                            if (!serverId)\n                                throw new Error('vidtreaming not found');\n                            break;\n                        case models_1.StreamingServers.StreamSB:\n                            serverId = this.retrieveServerId($, 5, subOrDub);\n                            if (!serverId)\n                                throw new Error('StreamSB not found');\n                            break;\n                        case models_1.StreamingServers.StreamTape:\n                            serverId = this.retrieveServerId($, 3, subOrDub);\n                            if (!serverId)\n                                throw new Error('StreamTape not found');\n                            break;\n                    }\n                }\n                catch (err) {\n                    throw new Error(\"Couldn't find server. Try another server\");\n                }\n                const { data: { link }, } = await this.client.get(`${this.baseUrl}/ajax/v2/episode/sources?id=${serverId}`);\n                return await this.fetchEpisodeSources(link, server, models_1.SubOrSub.SUB);\n            }\n            catch (err) {\n                throw err;\n            }\n        };\n        this.verifyLoginState = async (connectSid) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/ajax/login-state`, {\n                    headers: {\n                        Cookie: `connect.sid=${connectSid}`,\n                    },\n                });\n                return data.is_login;\n            }\n            catch (err) {\n                return false;\n            }\n        };\n        this.retrieveServerId = ($, index, subOrDub) => {\n            const rawOrSubOrDub = (raw) => $(`.ps_-block.ps_-block-sub.servers-${raw ? 'raw' : subOrDub} > .ps__-list .server-item`)\n                .map((i, el) => ($(el).attr('data-server-id') == `${index}` ? $(el) : null))\n                .get()[0]\n                .attr('data-id');\n            try {\n                // Attempt to get the subOrDub ID\n                return rawOrSubOrDub(false);\n            }\n            catch (error) {\n                // If an error is thrown, attempt to get the raw ID (The raw is the newest episode uploaded to zoro)\n                return rawOrSubOrDub(true);\n            }\n        };\n        /**\n         * @param url string\n         */\n        this.scrapeCardPage = async (url, headers) => {\n            var _a, _b, _c;\n            try {\n                const res = {\n                    currentPage: 0,\n                    hasNextPage: false,\n                    totalPages: 0,\n                    results: [],\n                };\n                const { data } = await this.client.get(url, headers);\n                const $ = (0, cheerio_1.load)(data);\n                const pagination = $('ul.pagination');\n                res.currentPage = parseInt((_a = pagination.find('.page-item.active')) === null || _a === void 0 ? void 0 : _a.text());\n                const nextPage = (_b = pagination.find('a[title=Next]')) === null || _b === void 0 ? void 0 : _b.attr('href');\n                if (nextPage != undefined && nextPage != '') {\n                    res.hasNextPage = true;\n                }\n                const totalPages = (_c = pagination.find('a[title=Last]').attr('href')) === null || _c === void 0 ? void 0 : _c.split('=').pop();\n                if (totalPages === undefined || totalPages === '') {\n                    res.totalPages = res.currentPage;\n                }\n                else {\n                    res.totalPages = parseInt(totalPages);\n                }\n                res.results = await this.scrapeCard($);\n                if (res.results.length === 0) {\n                    res.currentPage = 0;\n                    res.hasNextPage = false;\n                    res.totalPages = 0;\n                }\n                return res;\n            }\n            catch (err) {\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        /**\n         * @param $ cheerio instance\n         */\n        this.scrapeCard = async ($) => {\n            try {\n                const results = [];\n                $('.flw-item').each((i, ele) => {\n                    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n                    const card = $(ele);\n                    const atag = card.find('.film-name a');\n                    const id = (_a = atag.attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[1].split('?')[0];\n                    const watchList = card.find('.dropdown-menu .added').text().trim();\n                    const type = (_c = (_b = card\n                        .find('.fdi-item')) === null || _b === void 0 ? void 0 : _b.first()) === null || _c === void 0 ? void 0 : _c.text().replace(' (? eps)', '').replace(/\\s\\(\\d+ eps\\)/g, '');\n                    results.push({\n                        id: id,\n                        title: atag.text(),\n                        url: `${this.baseUrl}${atag.attr('href')}`,\n                        image: (_d = card.find('img')) === null || _d === void 0 ? void 0 : _d.attr('data-src'),\n                        duration: (_e = card.find('.fdi-duration')) === null || _e === void 0 ? void 0 : _e.text(),\n                        watchList: watchList || models_1.WatchListType.NONE,\n                        japaneseTitle: atag.attr('data-jname'),\n                        type: type,\n                        nsfw: ((_f = card.find('.tick-rate')) === null || _f === void 0 ? void 0 : _f.text()) === '18+' ? true : false,\n                        sub: parseInt((_g = card.find('.tick-item.tick-sub')) === null || _g === void 0 ? void 0 : _g.text()) || 0,\n                        dub: parseInt((_h = card.find('.tick-item.tick-dub')) === null || _h === void 0 ? void 0 : _h.text()) || 0,\n                        episodes: parseInt((_j = card.find('.tick-item.tick-eps')) === null || _j === void 0 ? void 0 : _j.text()) || 0,\n                    });\n                });\n                return results;\n            }\n            catch (err) {\n                throw new Error('Something went wrong. Please try again later.');\n            }\n        };\n        /**\n         * @deprecated\n         * @param episodeId Episode id\n         */\n        this.fetchEpisodeServers = (episodeId) => {\n            throw new Error('Method not implemented.');\n        };\n        if (customBaseURL) {\n            if (customBaseURL.startsWith('http://') || customBaseURL.startsWith('https://')) {\n                this.baseUrl = customBaseURL;\n            }\n            else {\n                this.baseUrl = `http://${customBaseURL}`;\n            }\n        }\n        else {\n            this.baseUrl = this.baseUrl;\n        }\n    }\n    /**\n     * @param query Search query\n     * @param page Page number (optional)\n     */\n    search(query, page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/search?keyword=${decodeURIComponent(query)}&page=${page}`);\n    }\n    /**\n     * Fetch advanced anime search results with various filters.\n     *\n     * @param page Page number (default: 1)\n     * @param type One of (Optional): movie, tv, ova, ona, special, music\n     * @param status One of (Optional): finished_airing, currently_airing, not_yet_aired\n     * @param rated One of (Optional): g, pg, pg_13, r, r_plus, rx\n     * @param score Number from 1 to 10 (Optional)\n     * @param season One of (Optional): spring, summer, fall, winter\n     * @param language One of (Optional): sub, dub, sub_dub\n     * @param startDate Start date object { year, month, day } (Optional)\n     * @param endDate End date object { year, month, day } (Optional)\n     * @param sort One of (Optional): recently_added, recently_updated, score, name_az, released_date, most_watched\n     * @param genres Array of genres (Optional): action, adventure, cars, comedy, dementia, demons, mystery, drama, ecchi, fantasy, game, historical, horror, kids, magic, martial_arts, mecha, music, parody, samurai, romance, school, sci_fi, shoujo, shoujo_ai, shounen, shounen_ai, space, sports, super_power, vampire, harem, military, slice_of_life, supernatural, police, psychological, thriller, seinen, isekai, josei\n     * @returns A Promise resolving to the search results.\n     */\n    fetchAdvancedSearch(page = 1, type, status, rated, score, season, language, startDate, endDate, sort, genres) {\n        if (page <= 0)\n            page = 1;\n        const mappings = {\n            type: { movie: 1, tv: 2, ova: 3, ona: 4, special: 5, music: 6 },\n            status: { finished_airing: 1, currently_airing: 2, not_yet_aired: 3 },\n            rated: { g: 1, pg: 2, pg_13: 3, r: 4, r_plus: 5, rx: 6 },\n            season: { spring: 1, summer: 2, fall: 3, winter: 4 },\n            language: { sub: 1, dub: 2, sub_dub: 3 },\n            genre: {\n                action: 1,\n                adventure: 2,\n                cars: 3,\n                comedy: 4,\n                dementia: 5,\n                demons: 6,\n                mystery: 7,\n                drama: 8,\n                ecchi: 9,\n                fantasy: 10,\n                game: 11,\n                historical: 13,\n                horror: 14,\n                kids: 15,\n                magic: 16,\n                martial_arts: 17,\n                mecha: 18,\n                music: 19,\n                parody: 20,\n                samurai: 21,\n                romance: 22,\n                school: 23,\n                sci_fi: 24,\n                shoujo: 25,\n                shoujo_ai: 26,\n                shounen: 27,\n                shounen_ai: 28,\n                space: 29,\n                sports: 30,\n                super_power: 31,\n                vampire: 32,\n                harem: 35,\n                military: 38,\n                slice_of_life: 36,\n                supernatural: 37,\n                police: 39,\n                psychological: 40,\n                thriller: 41,\n                seinen: 42,\n                isekai: 44,\n                josei: 43,\n            },\n        };\n        const params = new URLSearchParams({ page: page.toString() });\n        const addParam = (key, value) => {\n            var _a;\n            if (value)\n                params.append(key, (((_a = mappings[key]) === null || _a === void 0 ? void 0 : _a[value]) || value).toString());\n        };\n        addParam('type', type);\n        addParam('status', status);\n        addParam('rated', rated);\n        if (score)\n            params.append('score', score.toString());\n        addParam('season', season);\n        addParam('language', language);\n        if (startDate) {\n            params.append('sy', startDate.year.toString());\n            params.append('sm', startDate.month.toString());\n            params.append('sd', startDate.day.toString());\n        }\n        if (endDate) {\n            params.append('ey', endDate.year.toString());\n            params.append('em', endDate.month.toString());\n            params.append('ed', endDate.day.toString());\n        }\n        if (sort)\n            params.append('sort', sort);\n        if (genres === null || genres === void 0 ? void 0 : genres.length) {\n            const genreIds = genres.map(genre => (mappings.genre[genre] || genre).toString()).join('%2C');\n            params.append('genres', genreIds);\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/filter?${params.toString()}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchTopAiring(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/top-airing?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchMostPopular(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/most-popular?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchMostFavorite(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/most-favorite?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchLatestCompleted(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/completed?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchRecentlyUpdated(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/recently-updated?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchRecentlyAdded(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/recently-added?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchTopUpcoming(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/top-upcoming?page=${page}`);\n    }\n    /**\n     * @param studio Studio id, e.g. \"toei-animation\"\n     * @param page page number (optional) `default 1`\n     */\n    fetchStudio(studio, page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/producer/${studio}?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchSubbedAnime(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/subbed-anime?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchDubbedAnime(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/dubbed-anime?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchMovie(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/movie?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchTV(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/tv?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchOVA(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/ova?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchONA(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/ona?page=${page}`);\n    }\n    /**\n     * @param page number\n     */\n    fetchSpecial(page = 1) {\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/special?page=${page}`);\n    }\n    async fetchGenres() {\n        try {\n            const res = [];\n            const { data } = await this.client.get(`${this.baseUrl}/home`);\n            const $ = (0, cheerio_1.load)(data);\n            const sideBar = $('#main-sidebar');\n            sideBar.find('ul.sb-genre-list li a').each((i, ele) => {\n                const genres = $(ele);\n                res.push(genres.text().toLowerCase());\n            });\n            return res;\n        }\n        catch (err) {\n            throw new Error('Something went wrong. Please try again later.');\n        }\n    }\n    /**\n     * @param page number\n     */\n    genreSearch(genre, page = 1) {\n        if (genre == '') {\n            throw new Error('genre is empty');\n        }\n        if (0 >= page) {\n            page = 1;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/genre/${genre}?page=${page}`);\n    }\n    /**\n     * Fetches the schedule for a given date.\n     * @param date The date in format 'YYYY-MM-DD'. Defaults to the current date.\n     * @returns A promise that resolves to an object containing the search results.\n     */\n    async fetchSchedule(date = new Date().toISOString().slice(0, 10)) {\n        try {\n            const res = {\n                results: [],\n            };\n            const { data: { html }, } = await this.client.get(`${this.baseUrl}/ajax/schedule/list?tzOffset=360&date=${date}`);\n            const $ = (0, cheerio_1.load)(html);\n            $('li').each((i, ele) => {\n                var _a;\n                const card = $(ele);\n                const title = card.find('.film-name');\n                const id = (_a = card.find('a.tsl-link').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[1].split('?')[0];\n                const airingTime = card.find('div.time').text().replace('\\n', '').trim();\n                const airingEpisode = card.find('div.film-detail div.fd-play button').text().replace('\\n', '').trim();\n                res.results.push({\n                    id: id,\n                    title: title.text(),\n                    japaneseTitle: title.attr('data-jname'),\n                    url: `${this.baseUrl}/${id}`,\n                    airingEpisode: airingEpisode,\n                    airingTime: airingTime,\n                });\n            });\n            return res;\n        }\n        catch (err) {\n            throw new Error('Something went wrong. Please try again later.');\n        }\n    }\n    async fetchSpotlight() {\n        try {\n            const res = { results: [] };\n            const { data } = await this.client.get(`${this.baseUrl}/home`);\n            const $ = (0, cheerio_1.load)(data);\n            $('#slider div.swiper-wrapper div.swiper-slide').each((i, el) => {\n                var _a, _b, _c;\n                const card = $(el);\n                const titleElement = card.find('div.desi-head-title');\n                const id = ((_b = (_a = card\n                    .find('div.desi-buttons .btn-secondary')\n                    .attr('href')) === null || _a === void 0 ? void 0 : _a.match(/\\/([^/]+)$/)) === null || _b === void 0 ? void 0 : _b[1]) || null;\n                const img = card.find('img.film-poster-img');\n                res.results.push({\n                    id: id,\n                    title: titleElement.text(),\n                    japaneseTitle: titleElement.attr('data-jname'),\n                    banner: img.attr('data-src') || img.attr('src') || null,\n                    rank: parseInt((_c = card.find('.desi-sub-text').text().match(/(\\d+)/g)) === null || _c === void 0 ? void 0 : _c[0]),\n                    url: `${this.baseUrl}/${id}`,\n                    type: card.find('div.sc-detail .scd-item:nth-child(1)').text().trim(),\n                    duration: card.find('div.sc-detail > div:nth-child(2)').text().trim(),\n                    releaseDate: card.find('div.sc-detail > div:nth-child(3)').text().trim(),\n                    quality: card.find('div.sc-detail > div:nth-child(4)').text().trim(),\n                    sub: parseInt(card.find('div.sc-detail div.tick-sub').text().trim()) || 0,\n                    dub: parseInt(card.find('div.sc-detail div.tick-dub').text().trim()) || 0,\n                    episodes: parseInt(card.find('div.sc-detail div.tick-eps').text()) || 0,\n                    description: card.find('div.desi-description').text().trim(),\n                });\n            });\n            return res;\n        }\n        catch (error) {\n            throw new Error('Something went wrong. Please try again later.');\n        }\n    }\n    async fetchSearchSuggestions(query) {\n        try {\n            const encodedQuery = encodeURIComponent(query);\n            const { data } = await this.client.get(`${this.baseUrl}/ajax/search/suggest?keyword=${encodedQuery}`);\n            const $ = (0, cheerio_1.load)(data.html);\n            const res = {\n                results: [],\n            };\n            $('.nav-item').each((i, el) => {\n                var _a;\n                const card = $(el);\n                if (!card.hasClass('nav-bottom')) {\n                    const image = card.find('.film-poster img').attr('data-src');\n                    const title = card.find('.film-name');\n                    const id = (_a = card.attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[1].split('?')[0];\n                    const duration = card.find('.film-infor span').last().text().trim();\n                    const releaseDate = card.find('.film-infor span:nth-child(1)').text().trim();\n                    const type = card.find('.film-infor').find('span, i').remove().end().text().trim();\n                    res.results.push({\n                        image: image,\n                        id: id,\n                        title: title.text(),\n                        japaneseTitle: title.attr('data-jname'),\n                        aliasTitle: card.find('.alias-name').text(),\n                        releaseDate: releaseDate,\n                        type: type,\n                        duration: duration,\n                        url: `${this.baseUrl}/${id}`,\n                    });\n                }\n            });\n            return res;\n        }\n        catch (error) {\n            throw new Error('Something went wrong. Please try again later.');\n        }\n    }\n    /**\n     * Fetches the list of episodes that the user is currently watching.\n     * @param connectSid The session ID of the user. Note: This can be obtained from the browser cookies (needs to be signed in)\n     * @returns A promise that resolves to an array of anime episodes.\n     */\n    async fetchContinueWatching(connectSid) {\n        try {\n            if (!(await this.verifyLoginState(connectSid))) {\n                throw new Error('Invalid session ID');\n            }\n            const res = [];\n            const { data } = await this.client.get(`${this.baseUrl}/user/continue-watching`, {\n                headers: {\n                    Cookie: `connect.sid=${connectSid}`,\n                },\n            });\n            const $ = (0, cheerio_1.load)(data);\n            $('.flw-item').each((i, ele) => {\n                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n                const card = $(ele);\n                const atag = card.find('.film-name a');\n                const id = (_b = (_a = atag.attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/watch/', '')) === null || _b === void 0 ? void 0 : _b.replace('?ep=', '$episode$');\n                const timeText = (_e = (_d = (_c = card.find('.fdb-time')) === null || _c === void 0 ? void 0 : _c.text()) === null || _d === void 0 ? void 0 : _d.split('/')) !== null && _e !== void 0 ? _e : [];\n                const duration = (_g = (_f = timeText.pop()) === null || _f === void 0 ? void 0 : _f.trim()) !== null && _g !== void 0 ? _g : '';\n                const watchedTime = timeText.length > 0 ? timeText[0].trim() : '';\n                res.push({\n                    id: id,\n                    title: atag.text(),\n                    number: parseInt(card.find('.fdb-type').text().replace('EP', '').trim()),\n                    duration: duration,\n                    watchedTime: watchedTime,\n                    url: `${this.baseUrl}${atag.attr('href')}`,\n                    image: (_h = card.find('img')) === null || _h === void 0 ? void 0 : _h.attr('data-src'),\n                    japaneseTitle: atag.attr('data-jname'),\n                    nsfw: ((_j = card.find('.tick-rate')) === null || _j === void 0 ? void 0 : _j.text()) === '18+' ? true : false,\n                    sub: parseInt((_k = card.find('.tick-item.tick-sub')) === null || _k === void 0 ? void 0 : _k.text()) || 0,\n                    dub: parseInt((_l = card.find('.tick-item.tick-dub')) === null || _l === void 0 ? void 0 : _l.text()) || 0,\n                    episodes: parseInt((_m = card.find('.tick-item.tick-eps')) === null || _m === void 0 ? void 0 : _m.text()) || 0,\n                });\n            });\n            return res;\n        }\n        catch (err) {\n            throw new Error(err.message);\n        }\n    }\n    async fetchWatchList(connectSid, page = 1, sortListType) {\n        if (!(await this.verifyLoginState(connectSid))) {\n            throw new Error('Invalid session ID');\n        }\n        if (0 >= page) {\n            page = 1;\n        }\n        let type = 0;\n        switch (sortListType) {\n            case models_1.WatchListType.WATCHING:\n                type = 1;\n            case models_1.WatchListType.ONHOLD:\n                type = 2;\n            case models_1.WatchListType.PLAN_TO_WATCH:\n                type = 3;\n            case models_1.WatchListType.DROPPED:\n                type = 4;\n            case models_1.WatchListType.COMPLETED:\n                type = 5;\n        }\n        return this.scrapeCardPage(`${this.baseUrl}/user/watch-list?page=${page}${type != 0 ? '&type=' + type : ''}`, {\n            headers: { Cookie: `connect.sid=${connectSid}` },\n        });\n    }\n}\n// (async () => {\n//   const zoro = new Zoro();\n//   const anime = await zoro.search('Dandadan');\n//   const info = await zoro.fetchAnimeInfo('solo-leveling-season-2-arise-from-the-shadow-19413');\n//   const sources = await zoro.fetchEpisodeSources(\n//     'solo-leveling-season-2-arise-from-the-shadow-19413$episode$131394$dub',\n//     StreamingServers.VidCloud,\n//     SubOrSub.DUB\n//   );\n//   console.log(sources);\n// })();\nexports[\"default\"] = Zoro;\n//# sourceMappingURL=zoro.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYW5pbWUvem9yby5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QyxnQkFBZ0IsbUJBQU8sQ0FBQyxrRkFBYTtBQUNyQyxnQkFBZ0IsbUJBQU8sQ0FBQyxrRkFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLFNBQVMsR0FBRztBQUNuRjtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixhQUFhLEdBQUcsR0FBRztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsa0JBQWtCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsYUFBYSx3QkFBd0Isb0JBQW9CO0FBQ3ZIO0FBQ0E7QUFDQSxvQ0FBb0MsYUFBYSxTQUFTLEdBQUc7QUFDN0QscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx5QkFBeUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywyREFBMkQ7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx5QkFBeUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsYUFBYSxTQUFTO0FBQ2pEO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEscUNBQXFDLDJCQUEyQjtBQUN2STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixRQUFRLE1BQU0sSUFBSSwyQkFBMkIsYUFBYSw4QkFBOEIsU0FBUztBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWE7QUFDdkU7QUFDQSwrQ0FBK0MsV0FBVztBQUMxRCxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGLHdCQUF3QjtBQUN6RyxvRUFBb0UsTUFBTTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLGtCQUFrQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxjQUFjO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsYUFBYSxrQkFBa0IsMEJBQTBCLFFBQVEsS0FBSztBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLG1CQUFtQjtBQUMvRCx3Q0FBd0MsbUJBQW1CO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdURBQXVEO0FBQzNFLHNCQUFzQiwyREFBMkQ7QUFDakYscUJBQXFCLCtDQUErQztBQUNwRSxzQkFBc0IsMENBQTBDO0FBQ2hFLHdCQUF3Qiw0QkFBNEI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsNkNBQTZDLHVCQUF1QjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxhQUFhLFVBQVUsa0JBQWtCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsYUFBYSxtQkFBbUIsS0FBSztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGFBQWEscUJBQXFCLEtBQUs7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxhQUFhLHNCQUFzQixLQUFLO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsYUFBYSxrQkFBa0IsS0FBSztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGFBQWEseUJBQXlCLEtBQUs7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxhQUFhLHVCQUF1QixLQUFLO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsYUFBYSxxQkFBcUIsS0FBSztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsYUFBYSxZQUFZLE9BQU8sUUFBUSxLQUFLO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsYUFBYSxxQkFBcUIsS0FBSztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGFBQWEscUJBQXFCLEtBQUs7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxhQUFhLGNBQWMsS0FBSztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGFBQWEsV0FBVyxLQUFLO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsYUFBYSxZQUFZLEtBQUs7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxhQUFhLFlBQVksS0FBSztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGFBQWEsZ0JBQWdCLEtBQUs7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTywyQkFBMkIsYUFBYTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGFBQWEsU0FBUyxNQUFNLFFBQVEsS0FBSztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVEsTUFBTSxJQUFJLDJCQUEyQixhQUFhLHdDQUF3QyxLQUFLO0FBQzNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixhQUFhLEdBQUcsR0FBRztBQUMvQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLG9CQUFvQixPQUFPLDJCQUEyQixhQUFhO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixhQUFhLEdBQUcsR0FBRztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTywyQkFBMkIsYUFBYSwrQkFBK0IsYUFBYTtBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsR0FBRyxHQUFHO0FBQ25ELHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU8sMkJBQTJCLGFBQWE7QUFDbkU7QUFDQSwyQ0FBMkMsV0FBVztBQUN0RCxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixhQUFhLEVBQUUsa0JBQWtCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxhQUFhLHdCQUF3QixLQUFLLEVBQUUsaUNBQWlDO0FBQ25ILHVCQUF1Qix1QkFBdUIsV0FBVyxHQUFHO0FBQzVELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxhbmltZVxcem9yby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlsc1wiKTtcbmNvbnN0IHV0aWxzXzIgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHNcIik7XG5jbGFzcyBab3JvIGV4dGVuZHMgbW9kZWxzXzEuQW5pbWVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKGN1c3RvbUJhc2VVUkwpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1pvcm8nO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9oaWFuaW1lei50byc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL2lzMy1zc2wubXpzdGF0aWMuY29tL2ltYWdlL3RodW1iL1B1cnBsZTExMi92NC83ZS85MS8wMC83ZTkxMDBlZS0yYjYyLTA5NDItNGNkYy1lOWI5MzI1MmNlMWMvc291cmNlLzUxMng1MTJiYi5qcGcnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdBTklNRS5ab3JvJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBpZCBBbmltZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEFuaW1lSW5mbyA9IGFzeW5jIChpZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS93YXRjaC8ke2lkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbWFsX2lkLCBhbmlsaXN0X2lkIH0gPSBKU09OLnBhcnNlKCQoJyNzeW5jRGF0YScpLnRleHQoKSk7XG4gICAgICAgICAgICAgICAgaW5mby5tYWxJRCA9IE51bWJlcihtYWxfaWQpO1xuICAgICAgICAgICAgICAgIGluZm8uYWxJRCA9IE51bWJlcihhbmlsaXN0X2lkKTtcbiAgICAgICAgICAgICAgICBpbmZvLnRpdGxlID0gJCgnaDIuZmlsbS1uYW1lID4gYS50ZXh0LXdoaXRlJykudGV4dCgpO1xuICAgICAgICAgICAgICAgIGluZm8uamFwYW5lc2VUaXRsZSA9ICQoJ2Rpdi5hbmlzYy1pbmZvIGRpdjpudGgtY2hpbGQoMikgc3Bhbi5uYW1lJykudGV4dCgpO1xuICAgICAgICAgICAgICAgIGluZm8uaW1hZ2UgPSAkKCdpbWcuZmlsbS1wb3N0ZXItaW1nJykuYXR0cignc3JjJyk7XG4gICAgICAgICAgICAgICAgaW5mby5kZXNjcmlwdGlvbiA9ICQoJ2Rpdi5maWxtLWRlc2NyaXB0aW9uJykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAvLyBNb3ZpZSwgVFYsIE9WQSwgT05BLCBTcGVjaWFsLCBNdXNpY1xuICAgICAgICAgICAgICAgIGluZm8udHlwZSA9ICQoJ3NwYW4uaXRlbScpLmxhc3QoKS5wcmV2KCkucHJldigpLnRleHQoKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGluZm8udXJsID0gYCR7dGhpcy5iYXNlVXJsfS8ke2lkfWA7XG4gICAgICAgICAgICAgICAgaW5mby5yZWNvbW1lbmRhdGlvbnMgPSBhd2FpdCB0aGlzLnNjcmFwZUNhcmQoJCk7XG4gICAgICAgICAgICAgICAgaW5mby5yZWxhdGVkQW5pbWUgPSBbXTtcbiAgICAgICAgICAgICAgICAkKCcjbWFpbi1zaWRlYmFyIHNlY3Rpb246bnRoLWNoaWxkKDEpIGRpdi5hbmlmLWJsb2NrLXVsIGxpJykuZWFjaCgoaSwgZWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZCA9ICQoZWxlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYVRhZyA9IGNhcmQuZmluZCgnLmZpbG0tbmFtZSBhJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gKF9hID0gYVRhZy5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnLycpWzFdLnNwbGl0KCc/JylbMF07XG4gICAgICAgICAgICAgICAgICAgIGluZm8ucmVsYXRlZEFuaW1lLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGFUYWcudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHthVGFnLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfYiA9IGNhcmQuZmluZCgnaW1nJykpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hdHRyKCdkYXRhLXNyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgamFwYW5lc2VUaXRsZTogYVRhZy5hdHRyKCdkYXRhLWpuYW1lJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAoX2QgPSAoX2MgPSBjYXJkLmZpbmQoJy50aWNrJykuY29udGVudHMoKS5sYXN0KCkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50ZXh0KCkpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWI6IHBhcnNlSW50KChfZSA9IGNhcmQuZmluZCgnLnRpY2staXRlbS50aWNrLXN1YicpKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UudGV4dCgpKSB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHViOiBwYXJzZUludCgoX2YgPSBjYXJkLmZpbmQoJy50aWNrLWl0ZW0udGljay1kdWInKSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnRleHQoKSkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVzOiBwYXJzZUludCgoX2cgPSBjYXJkLmZpbmQoJy50aWNrLWl0ZW0udGljay1lcHMnKSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLnRleHQoKSkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzU3ViID0gJCgnZGl2LmZpbG0tc3RhdHMgZGl2LnRpY2sgZGl2LnRpY2staXRlbS50aWNrLXN1YicpLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzRHViID0gJCgnZGl2LmZpbG0tc3RhdHMgZGl2LnRpY2sgZGl2LnRpY2staXRlbS50aWNrLWR1YicpLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgaWYgKGhhc1N1Yikge1xuICAgICAgICAgICAgICAgICAgICBpbmZvLnN1Yk9yRHViID0gbW9kZWxzXzEuU3ViT3JTdWIuU1VCO1xuICAgICAgICAgICAgICAgICAgICBpbmZvLmhhc1N1YiA9IGhhc1N1YjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhhc0R1Yikge1xuICAgICAgICAgICAgICAgICAgICBpbmZvLnN1Yk9yRHViID0gbW9kZWxzXzEuU3ViT3JTdWIuRFVCO1xuICAgICAgICAgICAgICAgICAgICBpbmZvLmhhc0R1YiA9IGhhc0R1YjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhhc1N1YiAmJiBoYXNEdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5mby5zdWJPckR1YiA9IG1vZGVsc18xLlN1Yk9yU3ViLkJPVEg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFpPUk8gLSBQQUdFIElORk9cbiAgICAgICAgICAgICAgICBjb25zdCB6SW5mbyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChpbmZvLnVybCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCQkID0gKDAsIGNoZWVyaW9fMS5sb2FkKSh6SW5mby5kYXRhKTtcbiAgICAgICAgICAgICAgICBpbmZvLmdlbnJlcyA9IFtdO1xuICAgICAgICAgICAgICAgICQkJCgnLml0ZW0uaXRlbS1saXN0JylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2EnKVxuICAgICAgICAgICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2VucmUgPSAkKHRoaXMpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnZW5yZSAhPSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBpbmZvLmdlbnJlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnB1c2goZ2VucmUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoJCQkKCcuaXRlbS5pdGVtLXRpdGxlJykuZmluZChcInNwYW4uaXRlbS1oZWFkOmNvbnRhaW5zKCdTdGF0dXMnKVwiKS5uZXh0KCdzcGFuLm5hbWUnKS50ZXh0KCkudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0ZpbmlzaGVkIEFpcmluZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdDdXJyZW50bHkgQWlyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lORztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdOb3QgeWV0IGFpcmVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuTk9UX1lFVF9BSVJFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5VTktOT1dOO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZm8uc2Vhc29uID0gJCQkKCcuaXRlbS5pdGVtLXRpdGxlJylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoXCJzcGFuLml0ZW0taGVhZDpjb250YWlucygnUHJlbWllcmVkJylcIilcbiAgICAgICAgICAgICAgICAgICAgLm5leHQoJ3NwYW4ubmFtZScpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5mby5qYXBhbmVzZVRpdGxlID09ICcnIHx8IGluZm8uamFwYW5lc2VUaXRsZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5mby5qYXBhbmVzZVRpdGxlID0gJCQkKCcuaXRlbS5pdGVtLXRpdGxlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKFwic3Bhbi5pdGVtLWhlYWQ6Y29udGFpbnMoJ0phcGFuZXNlJylcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5uZXh0KCdzcGFuLm5hbWUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZXBpc29kZXNBamF4ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vYWpheC92Mi9lcGlzb2RlL2xpc3QvJHtpZC5zcGxpdCgnLScpLnBvcCgpfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogYCR7dGhpcy5iYXNlVXJsfS93YXRjaC8ke2lkfWAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGVwaXNvZGVzQWpheC5kYXRhLmh0bWwpO1xuICAgICAgICAgICAgICAgIGluZm8udG90YWxFcGlzb2RlcyA9ICQkKCdkaXYuZGV0YWlsLWluZm9yLWNvbnRlbnQgPiBkaXYgPiBhJykubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGluZm8uZXBpc29kZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAkJCgnZGl2LmRldGFpbC1pbmZvci1jb250ZW50ID4gZGl2ID4gYScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcGlzb2RlSWQgPSAoX2IgPSAoX2EgPSAkJChlbCkuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3BsaXQoJy8nKVsyXSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJlcGxhY2UoJz9lcD0nLCAnJGVwaXNvZGUkJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bWJlciA9IHBhcnNlSW50KCQkKGVsKS5hdHRyKCdkYXRhLW51bWJlcicpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSAkJChlbCkuYXR0cigndGl0bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gdGhpcy5iYXNlVXJsICsgJCQoZWwpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNGaWxsZXIgPSAkJChlbCkuaGFzQ2xhc3MoJ3NzbC1pdGVtLWZpbGxlcicpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1N1YmJlZCA9IG51bWJlciA8PSAocGFyc2VJbnQoJCgnZGl2LmZpbG0tc3RhdHMgZGl2LnRpY2sgZGl2LnRpY2staXRlbS50aWNrLXN1YicpLnRleHQoKS50cmltKCkpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0R1YmJlZCA9IG51bWJlciA8PSAocGFyc2VJbnQoJCgnZGl2LmZpbG0tc3RhdHMgZGl2LnRpY2sgZGl2LnRpY2staXRlbS50aWNrLWR1YicpLnRleHQoKS50cmltKCkpIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAoX2MgPSBpbmZvLmVwaXNvZGVzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZXBpc29kZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0ZpbGxlcjogaXNGaWxsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N1YmJlZDogaXNTdWJiZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0R1YmJlZDogaXNEdWJiZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgRXBpc29kZSBpZFxuICAgICAgICAgKiBAcGFyYW0gc2VydmVyIHNlcnZlciB0eXBlIChkZWZhdWx0IGBWaWRDbG91ZGApIChvcHRpb25hbClcbiAgICAgICAgICogQHBhcmFtIHN1Yk9yRHViIHN1YiBvciBkdWIgKGRlZmF1bHQgYFN1Yk9yU3ViLlNVQmApIChvcHRpb25hbClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU291cmNlcyA9IGFzeW5jIChlcGlzb2RlSWQsIHNlcnZlciA9IG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVmlkQ2xvdWQsIHN1Yk9yRHViID0gbW9kZWxzXzEuU3ViT3JTdWIuU1VCKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXBpc29kZUlkLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlclVybCA9IG5ldyBVUkwoZXBpc29kZUlkKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVmlkU3RyZWFtaW5nOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVmlkQ2xvdWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLmhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oYXdhaXQgbmV3IHV0aWxzXzEuTWVnYUNsb3VkKCkuZXh0cmFjdChzZXJ2ZXJVcmwsIHRoaXMuYmFzZVVybCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlN0cmVhbVNCOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6IHNlcnZlclVybC5ocmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXRjaHNiOiAnc3RyZWFtc2InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6IHV0aWxzXzIuVVNFUl9BR0VOVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IGF3YWl0IG5ldyB1dGlsc18xLlN0cmVhbVNCKHRoaXMucHJveHlDb25maWcsIHRoaXMuYWRhcHRlcikuZXh0cmFjdChzZXJ2ZXJVcmwsIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlN0cmVhbVRhcGU6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLmhyZWYsICdVc2VyLUFnZW50JzogdXRpbHNfMi5VU0VSX0FHRU5UIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlczogYXdhaXQgbmV3IHV0aWxzXzEuU3RyZWFtVGFwZSh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc2VydmVyVXJsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5WaWRDbG91ZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwuaHJlZiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihhd2FpdCBuZXcgdXRpbHNfMS5NZWdhQ2xvdWQoKS5leHRyYWN0KHNlcnZlclVybCwgdGhpcy5iYXNlVXJsKSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZXBpc29kZUlkLmluY2x1ZGVzKCckZXBpc29kZSQnKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZXBpc29kZSBpZCcpO1xuICAgICAgICAgICAgLy8ga2VlcGluZyB0aGlzIGZvciBmdXR1cmUgdXNlXG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byB1c2luZyBzdWIgaWYgbm8gaW5mbyBmb3VuZCBpbiBjYXNlIG9mIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgIC8vIFRPRE86IGFkZCBib3RoIG9wdGlvbnMgbGF0ZXJcbiAgICAgICAgICAgIC8vIHN1Yk9yRHViID0gZXBpc29kZUlkLnNwbGl0KCckJyk/LnBvcCgpID09PSAnZHViJyA/ICdkdWInIDogJ3N1Yic7XG4gICAgICAgICAgICBlcGlzb2RlSWQgPSBgJHt0aGlzLmJhc2VVcmx9L3dhdGNoLyR7ZXBpc29kZUlkXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJyRlcGlzb2RlJCcsICc/ZXA9JylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFwkYXV0b3xcXCRzdWJ8XFwkZHViL2dpLCAnJyl9YDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9hamF4L3YyL2VwaXNvZGUvc2VydmVycz9lcGlzb2RlSWQ9JHtlcGlzb2RlSWQuc3BsaXQoJz9lcD0nKVsxXX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhLmh0bWwpO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIHZpZHRyZWFtaW5nIC0+IDRcbiAgICAgICAgICAgICAgICAgKiByYXBpZGNsb3VkICAtPiAxXG4gICAgICAgICAgICAgICAgICogc3RyZWFtc2IgLT4gNVxuICAgICAgICAgICAgICAgICAqIHN0cmVhbXRhcGUgLT4gM1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGxldCBzZXJ2ZXJJZCA9ICcnO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVmlkQ2xvdWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVySWQgPSB0aGlzLnJldHJpZXZlU2VydmVySWQoJCwgMSwgc3ViT3JEdWIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHpvcm8ncyB2aWRjbG91ZCBzZXJ2ZXIgaXMgcmFwaWRjbG91ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VydmVySWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmFwaWRDbG91ZCBub3QgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5WaWRTdHJlYW1pbmc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVySWQgPSB0aGlzLnJldHJpZXZlU2VydmVySWQoJCwgNCwgc3ViT3JEdWIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHpvcm8ncyB2aWRjbG91ZCBzZXJ2ZXIgaXMgcmFwaWRjbG91ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VydmVySWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndmlkdHJlYW1pbmcgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuU3RyZWFtU0I6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVySWQgPSB0aGlzLnJldHJpZXZlU2VydmVySWQoJCwgNSwgc3ViT3JEdWIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VydmVySWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3RyZWFtU0Igbm90IGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuU3RyZWFtVGFwZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJJZCA9IHRoaXMucmV0cmlldmVTZXJ2ZXJJZCgkLCAzLCBzdWJPckR1Yik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXJ2ZXJJZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdHJlYW1UYXBlIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBzZXJ2ZXIuIFRyeSBhbm90aGVyIHNlcnZlclwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiB7IGxpbmsgfSwgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2FqYXgvdjIvZXBpc29kZS9zb3VyY2VzP2lkPSR7c2VydmVySWR9YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hFcGlzb2RlU291cmNlcyhsaW5rLCBzZXJ2ZXIsIG1vZGVsc18xLlN1Yk9yU3ViLlNVQik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnZlcmlmeUxvZ2luU3RhdGUgPSBhc3luYyAoY29ubmVjdFNpZCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2FqYXgvbG9naW4tc3RhdGVgLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIENvb2tpZTogYGNvbm5lY3Quc2lkPSR7Y29ubmVjdFNpZH1gLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmlzX2xvZ2luO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZXRyaWV2ZVNlcnZlcklkID0gKCQsIGluZGV4LCBzdWJPckR1YikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmF3T3JTdWJPckR1YiA9IChyYXcpID0+ICQoYC5wc18tYmxvY2sucHNfLWJsb2NrLXN1Yi5zZXJ2ZXJzLSR7cmF3ID8gJ3JhdycgOiBzdWJPckR1Yn0gPiAucHNfXy1saXN0IC5zZXJ2ZXItaXRlbWApXG4gICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+ICgkKGVsKS5hdHRyKCdkYXRhLXNlcnZlci1pZCcpID09IGAke2luZGV4fWAgPyAkKGVsKSA6IG51bGwpKVxuICAgICAgICAgICAgICAgIC5nZXQoKVswXVxuICAgICAgICAgICAgICAgIC5hdHRyKCdkYXRhLWlkJyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgdG8gZ2V0IHRoZSBzdWJPckR1YiBJRFxuICAgICAgICAgICAgICAgIHJldHVybiByYXdPclN1Yk9yRHViKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIElmIGFuIGVycm9yIGlzIHRocm93biwgYXR0ZW1wdCB0byBnZXQgdGhlIHJhdyBJRCAoVGhlIHJhdyBpcyB0aGUgbmV3ZXN0IGVwaXNvZGUgdXBsb2FkZWQgdG8gem9ybylcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3T3JTdWJPckR1Yih0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB1cmwgc3RyaW5nXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjcmFwZUNhcmRQYWdlID0gYXN5bmMgKHVybCwgaGVhZGVycykgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDAsXG4gICAgICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxQYWdlczogMCxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwsIGhlYWRlcnMpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2luYXRpb24gPSAkKCd1bC5wYWdpbmF0aW9uJyk7XG4gICAgICAgICAgICAgICAgcmVzLmN1cnJlbnRQYWdlID0gcGFyc2VJbnQoKF9hID0gcGFnaW5hdGlvbi5maW5kKCcucGFnZS1pdGVtLmFjdGl2ZScpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGV4dCgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0UGFnZSA9IChfYiA9IHBhZ2luYXRpb24uZmluZCgnYVt0aXRsZT1OZXh0XScpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYXR0cignaHJlZicpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0UGFnZSAhPSB1bmRlZmluZWQgJiYgbmV4dFBhZ2UgIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmhhc05leHRQYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdG90YWxQYWdlcyA9IChfYyA9IHBhZ2luYXRpb24uZmluZCgnYVt0aXRsZT1MYXN0XScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnNwbGl0KCc9JykucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRvdGFsUGFnZXMgPT09IHVuZGVmaW5lZCB8fCB0b3RhbFBhZ2VzID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICByZXMudG90YWxQYWdlcyA9IHJlcy5jdXJyZW50UGFnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy50b3RhbFBhZ2VzID0gcGFyc2VJbnQodG90YWxQYWdlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlcy5yZXN1bHRzID0gYXdhaXQgdGhpcy5zY3JhcGVDYXJkKCQpO1xuICAgICAgICAgICAgICAgIGlmIChyZXMucmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmN1cnJlbnRQYWdlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmhhc05leHRQYWdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJlcy50b3RhbFBhZ2VzID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtICQgY2hlZXJpbyBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY3JhcGVDYXJkID0gYXN5bmMgKCQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgICAgICQoJy5mbHctaXRlbScpLmVhY2goKGksIGVsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfajtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZCA9ICQoZWxlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXRhZyA9IGNhcmQuZmluZCgnLmZpbG0tbmFtZSBhJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gKF9hID0gYXRhZy5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnLycpWzFdLnNwbGl0KCc/JylbMF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhdGNoTGlzdCA9IGNhcmQuZmluZCgnLmRyb3Bkb3duLW1lbnUgLmFkZGVkJykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IChfYyA9IChfYiA9IGNhcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuZmRpLWl0ZW0nKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmZpcnN0KCkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50ZXh0KCkucmVwbGFjZSgnICg/IGVwcyknLCAnJykucmVwbGFjZSgvXFxzXFwoXFxkKyBlcHNcXCkvZywgJycpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGF0YWcudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHthdGFnLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfZCA9IGNhcmQuZmluZCgnaW1nJykpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5hdHRyKCdkYXRhLXNyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IChfZSA9IGNhcmQuZmluZCgnLmZkaS1kdXJhdGlvbicpKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hMaXN0OiB3YXRjaExpc3QgfHwgbW9kZWxzXzEuV2F0Y2hMaXN0VHlwZS5OT05FLFxuICAgICAgICAgICAgICAgICAgICAgICAgamFwYW5lc2VUaXRsZTogYXRhZy5hdHRyKCdkYXRhLWpuYW1lJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnNmdzogKChfZiA9IGNhcmQuZmluZCgnLnRpY2stcmF0ZScpKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YudGV4dCgpKSA9PT0gJzE4KycgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWI6IHBhcnNlSW50KChfZyA9IGNhcmQuZmluZCgnLnRpY2staXRlbS50aWNrLXN1YicpKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cudGV4dCgpKSB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHViOiBwYXJzZUludCgoX2ggPSBjYXJkLmZpbmQoJy50aWNrLWl0ZW0udGljay1kdWInKSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLnRleHQoKSkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVzOiBwYXJzZUludCgoX2ogPSBjYXJkLmZpbmQoJy50aWNrLWl0ZW0udGljay1lcHMnKSkgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLnRleHQoKSkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgRXBpc29kZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTZXJ2ZXJzID0gKGVwaXNvZGVJZCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoY3VzdG9tQmFzZVVSTCkge1xuICAgICAgICAgICAgaWYgKGN1c3RvbUJhc2VVUkwuc3RhcnRzV2l0aCgnaHR0cDovLycpIHx8IGN1c3RvbUJhc2VVUkwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVVybCA9IGN1c3RvbUJhc2VVUkw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VVcmwgPSBgaHR0cDovLyR7Y3VzdG9tQmFzZVVSTH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iYXNlVXJsID0gdGhpcy5iYXNlVXJsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBxdWVyeSBTZWFyY2ggcXVlcnlcbiAgICAgKiBAcGFyYW0gcGFnZSBQYWdlIG51bWJlciAob3B0aW9uYWwpXG4gICAgICovXG4gICAgc2VhcmNoKHF1ZXJ5LCBwYWdlID0gMSkge1xuICAgICAgICBpZiAoMCA+PSBwYWdlKSB7XG4gICAgICAgICAgICBwYWdlID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zY3JhcGVDYXJkUGFnZShgJHt0aGlzLmJhc2VVcmx9L3NlYXJjaD9rZXl3b3JkPSR7ZGVjb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX0mcGFnZT0ke3BhZ2V9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoIGFkdmFuY2VkIGFuaW1lIHNlYXJjaCByZXN1bHRzIHdpdGggdmFyaW91cyBmaWx0ZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhZ2UgUGFnZSBudW1iZXIgKGRlZmF1bHQ6IDEpXG4gICAgICogQHBhcmFtIHR5cGUgT25lIG9mIChPcHRpb25hbCk6IG1vdmllLCB0diwgb3ZhLCBvbmEsIHNwZWNpYWwsIG11c2ljXG4gICAgICogQHBhcmFtIHN0YXR1cyBPbmUgb2YgKE9wdGlvbmFsKTogZmluaXNoZWRfYWlyaW5nLCBjdXJyZW50bHlfYWlyaW5nLCBub3RfeWV0X2FpcmVkXG4gICAgICogQHBhcmFtIHJhdGVkIE9uZSBvZiAoT3B0aW9uYWwpOiBnLCBwZywgcGdfMTMsIHIsIHJfcGx1cywgcnhcbiAgICAgKiBAcGFyYW0gc2NvcmUgTnVtYmVyIGZyb20gMSB0byAxMCAoT3B0aW9uYWwpXG4gICAgICogQHBhcmFtIHNlYXNvbiBPbmUgb2YgKE9wdGlvbmFsKTogc3ByaW5nLCBzdW1tZXIsIGZhbGwsIHdpbnRlclxuICAgICAqIEBwYXJhbSBsYW5ndWFnZSBPbmUgb2YgKE9wdGlvbmFsKTogc3ViLCBkdWIsIHN1Yl9kdWJcbiAgICAgKiBAcGFyYW0gc3RhcnREYXRlIFN0YXJ0IGRhdGUgb2JqZWN0IHsgeWVhciwgbW9udGgsIGRheSB9IChPcHRpb25hbClcbiAgICAgKiBAcGFyYW0gZW5kRGF0ZSBFbmQgZGF0ZSBvYmplY3QgeyB5ZWFyLCBtb250aCwgZGF5IH0gKE9wdGlvbmFsKVxuICAgICAqIEBwYXJhbSBzb3J0IE9uZSBvZiAoT3B0aW9uYWwpOiByZWNlbnRseV9hZGRlZCwgcmVjZW50bHlfdXBkYXRlZCwgc2NvcmUsIG5hbWVfYXosIHJlbGVhc2VkX2RhdGUsIG1vc3Rfd2F0Y2hlZFxuICAgICAqIEBwYXJhbSBnZW5yZXMgQXJyYXkgb2YgZ2VucmVzIChPcHRpb25hbCk6IGFjdGlvbiwgYWR2ZW50dXJlLCBjYXJzLCBjb21lZHksIGRlbWVudGlhLCBkZW1vbnMsIG15c3RlcnksIGRyYW1hLCBlY2NoaSwgZmFudGFzeSwgZ2FtZSwgaGlzdG9yaWNhbCwgaG9ycm9yLCBraWRzLCBtYWdpYywgbWFydGlhbF9hcnRzLCBtZWNoYSwgbXVzaWMsIHBhcm9keSwgc2FtdXJhaSwgcm9tYW5jZSwgc2Nob29sLCBzY2lfZmksIHNob3Vqbywgc2hvdWpvX2FpLCBzaG91bmVuLCBzaG91bmVuX2FpLCBzcGFjZSwgc3BvcnRzLCBzdXBlcl9wb3dlciwgdmFtcGlyZSwgaGFyZW0sIG1pbGl0YXJ5LCBzbGljZV9vZl9saWZlLCBzdXBlcm5hdHVyYWwsIHBvbGljZSwgcHN5Y2hvbG9naWNhbCwgdGhyaWxsZXIsIHNlaW5lbiwgaXNla2FpLCBqb3NlaVxuICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHNlYXJjaCByZXN1bHRzLlxuICAgICAqL1xuICAgIGZldGNoQWR2YW5jZWRTZWFyY2gocGFnZSA9IDEsIHR5cGUsIHN0YXR1cywgcmF0ZWQsIHNjb3JlLCBzZWFzb24sIGxhbmd1YWdlLCBzdGFydERhdGUsIGVuZERhdGUsIHNvcnQsIGdlbnJlcykge1xuICAgICAgICBpZiAocGFnZSA8PSAwKVxuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIGNvbnN0IG1hcHBpbmdzID0ge1xuICAgICAgICAgICAgdHlwZTogeyBtb3ZpZTogMSwgdHY6IDIsIG92YTogMywgb25hOiA0LCBzcGVjaWFsOiA1LCBtdXNpYzogNiB9LFxuICAgICAgICAgICAgc3RhdHVzOiB7IGZpbmlzaGVkX2FpcmluZzogMSwgY3VycmVudGx5X2FpcmluZzogMiwgbm90X3lldF9haXJlZDogMyB9LFxuICAgICAgICAgICAgcmF0ZWQ6IHsgZzogMSwgcGc6IDIsIHBnXzEzOiAzLCByOiA0LCByX3BsdXM6IDUsIHJ4OiA2IH0sXG4gICAgICAgICAgICBzZWFzb246IHsgc3ByaW5nOiAxLCBzdW1tZXI6IDIsIGZhbGw6IDMsIHdpbnRlcjogNCB9LFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IHsgc3ViOiAxLCBkdWI6IDIsIHN1Yl9kdWI6IDMgfSxcbiAgICAgICAgICAgIGdlbnJlOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiAxLFxuICAgICAgICAgICAgICAgIGFkdmVudHVyZTogMixcbiAgICAgICAgICAgICAgICBjYXJzOiAzLFxuICAgICAgICAgICAgICAgIGNvbWVkeTogNCxcbiAgICAgICAgICAgICAgICBkZW1lbnRpYTogNSxcbiAgICAgICAgICAgICAgICBkZW1vbnM6IDYsXG4gICAgICAgICAgICAgICAgbXlzdGVyeTogNyxcbiAgICAgICAgICAgICAgICBkcmFtYTogOCxcbiAgICAgICAgICAgICAgICBlY2NoaTogOSxcbiAgICAgICAgICAgICAgICBmYW50YXN5OiAxMCxcbiAgICAgICAgICAgICAgICBnYW1lOiAxMSxcbiAgICAgICAgICAgICAgICBoaXN0b3JpY2FsOiAxMyxcbiAgICAgICAgICAgICAgICBob3Jyb3I6IDE0LFxuICAgICAgICAgICAgICAgIGtpZHM6IDE1LFxuICAgICAgICAgICAgICAgIG1hZ2ljOiAxNixcbiAgICAgICAgICAgICAgICBtYXJ0aWFsX2FydHM6IDE3LFxuICAgICAgICAgICAgICAgIG1lY2hhOiAxOCxcbiAgICAgICAgICAgICAgICBtdXNpYzogMTksXG4gICAgICAgICAgICAgICAgcGFyb2R5OiAyMCxcbiAgICAgICAgICAgICAgICBzYW11cmFpOiAyMSxcbiAgICAgICAgICAgICAgICByb21hbmNlOiAyMixcbiAgICAgICAgICAgICAgICBzY2hvb2w6IDIzLFxuICAgICAgICAgICAgICAgIHNjaV9maTogMjQsXG4gICAgICAgICAgICAgICAgc2hvdWpvOiAyNSxcbiAgICAgICAgICAgICAgICBzaG91am9fYWk6IDI2LFxuICAgICAgICAgICAgICAgIHNob3VuZW46IDI3LFxuICAgICAgICAgICAgICAgIHNob3VuZW5fYWk6IDI4LFxuICAgICAgICAgICAgICAgIHNwYWNlOiAyOSxcbiAgICAgICAgICAgICAgICBzcG9ydHM6IDMwLFxuICAgICAgICAgICAgICAgIHN1cGVyX3Bvd2VyOiAzMSxcbiAgICAgICAgICAgICAgICB2YW1waXJlOiAzMixcbiAgICAgICAgICAgICAgICBoYXJlbTogMzUsXG4gICAgICAgICAgICAgICAgbWlsaXRhcnk6IDM4LFxuICAgICAgICAgICAgICAgIHNsaWNlX29mX2xpZmU6IDM2LFxuICAgICAgICAgICAgICAgIHN1cGVybmF0dXJhbDogMzcsXG4gICAgICAgICAgICAgICAgcG9saWNlOiAzOSxcbiAgICAgICAgICAgICAgICBwc3ljaG9sb2dpY2FsOiA0MCxcbiAgICAgICAgICAgICAgICB0aHJpbGxlcjogNDEsXG4gICAgICAgICAgICAgICAgc2VpbmVuOiA0MixcbiAgICAgICAgICAgICAgICBpc2VrYWk6IDQ0LFxuICAgICAgICAgICAgICAgIGpvc2VpOiA0MyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBwYWdlOiBwYWdlLnRvU3RyaW5nKCkgfSk7XG4gICAgICAgIGNvbnN0IGFkZFBhcmFtID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKGtleSwgKCgoX2EgPSBtYXBwaW5nc1trZXldKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbdmFsdWVdKSB8fCB2YWx1ZSkudG9TdHJpbmcoKSk7XG4gICAgICAgIH07XG4gICAgICAgIGFkZFBhcmFtKCd0eXBlJywgdHlwZSk7XG4gICAgICAgIGFkZFBhcmFtKCdzdGF0dXMnLCBzdGF0dXMpO1xuICAgICAgICBhZGRQYXJhbSgncmF0ZWQnLCByYXRlZCk7XG4gICAgICAgIGlmIChzY29yZSlcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoJ3Njb3JlJywgc2NvcmUudG9TdHJpbmcoKSk7XG4gICAgICAgIGFkZFBhcmFtKCdzZWFzb24nLCBzZWFzb24pO1xuICAgICAgICBhZGRQYXJhbSgnbGFuZ3VhZ2UnLCBsYW5ndWFnZSk7XG4gICAgICAgIGlmIChzdGFydERhdGUpIHtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoJ3N5Jywgc3RhcnREYXRlLnllYXIudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCdzbScsIHN0YXJ0RGF0ZS5tb250aC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoJ3NkJywgc3RhcnREYXRlLmRheS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kRGF0ZSkge1xuICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgnZXknLCBlbmREYXRlLnllYXIudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCdlbScsIGVuZERhdGUubW9udGgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCdlZCcsIGVuZERhdGUuZGF5LnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzb3J0KVxuICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgnc29ydCcsIHNvcnQpO1xuICAgICAgICBpZiAoZ2VucmVzID09PSBudWxsIHx8IGdlbnJlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ2VucmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZ2VucmVJZHMgPSBnZW5yZXMubWFwKGdlbnJlID0+IChtYXBwaW5ncy5nZW5yZVtnZW5yZV0gfHwgZ2VucmUpLnRvU3RyaW5nKCkpLmpvaW4oJyUyQycpO1xuICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgnZ2VucmVzJywgZ2VucmVJZHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmFwZUNhcmRQYWdlKGAke3RoaXMuYmFzZVVybH0vZmlsdGVyPyR7cGFyYW1zLnRvU3RyaW5nKCl9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwYWdlIG51bWJlclxuICAgICAqL1xuICAgIGZldGNoVG9wQWlyaW5nKHBhZ2UgPSAxKSB7XG4gICAgICAgIGlmICgwID49IHBhZ2UpIHtcbiAgICAgICAgICAgIHBhZ2UgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmFwZUNhcmRQYWdlKGAke3RoaXMuYmFzZVVybH0vdG9wLWFpcmluZz9wYWdlPSR7cGFnZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBhZ2UgbnVtYmVyXG4gICAgICovXG4gICAgZmV0Y2hNb3N0UG9wdWxhcihwYWdlID0gMSkge1xuICAgICAgICBpZiAoMCA+PSBwYWdlKSB7XG4gICAgICAgICAgICBwYWdlID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zY3JhcGVDYXJkUGFnZShgJHt0aGlzLmJhc2VVcmx9L21vc3QtcG9wdWxhcj9wYWdlPSR7cGFnZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBhZ2UgbnVtYmVyXG4gICAgICovXG4gICAgZmV0Y2hNb3N0RmF2b3JpdGUocGFnZSA9IDEpIHtcbiAgICAgICAgaWYgKDAgPj0gcGFnZSkge1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyYXBlQ2FyZFBhZ2UoYCR7dGhpcy5iYXNlVXJsfS9tb3N0LWZhdm9yaXRlP3BhZ2U9JHtwYWdlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcGFnZSBudW1iZXJcbiAgICAgKi9cbiAgICBmZXRjaExhdGVzdENvbXBsZXRlZChwYWdlID0gMSkge1xuICAgICAgICBpZiAoMCA+PSBwYWdlKSB7XG4gICAgICAgICAgICBwYWdlID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zY3JhcGVDYXJkUGFnZShgJHt0aGlzLmJhc2VVcmx9L2NvbXBsZXRlZD9wYWdlPSR7cGFnZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBhZ2UgbnVtYmVyXG4gICAgICovXG4gICAgZmV0Y2hSZWNlbnRseVVwZGF0ZWQocGFnZSA9IDEpIHtcbiAgICAgICAgaWYgKDAgPj0gcGFnZSkge1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyYXBlQ2FyZFBhZ2UoYCR7dGhpcy5iYXNlVXJsfS9yZWNlbnRseS11cGRhdGVkP3BhZ2U9JHtwYWdlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcGFnZSBudW1iZXJcbiAgICAgKi9cbiAgICBmZXRjaFJlY2VudGx5QWRkZWQocGFnZSA9IDEpIHtcbiAgICAgICAgaWYgKDAgPj0gcGFnZSkge1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyYXBlQ2FyZFBhZ2UoYCR7dGhpcy5iYXNlVXJsfS9yZWNlbnRseS1hZGRlZD9wYWdlPSR7cGFnZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBhZ2UgbnVtYmVyXG4gICAgICovXG4gICAgZmV0Y2hUb3BVcGNvbWluZyhwYWdlID0gMSkge1xuICAgICAgICBpZiAoMCA+PSBwYWdlKSB7XG4gICAgICAgICAgICBwYWdlID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zY3JhcGVDYXJkUGFnZShgJHt0aGlzLmJhc2VVcmx9L3RvcC11cGNvbWluZz9wYWdlPSR7cGFnZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHN0dWRpbyBTdHVkaW8gaWQsIGUuZy4gXCJ0b2VpLWFuaW1hdGlvblwiXG4gICAgICogQHBhcmFtIHBhZ2UgcGFnZSBudW1iZXIgKG9wdGlvbmFsKSBgZGVmYXVsdCAxYFxuICAgICAqL1xuICAgIGZldGNoU3R1ZGlvKHN0dWRpbywgcGFnZSA9IDEpIHtcbiAgICAgICAgaWYgKDAgPj0gcGFnZSkge1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyYXBlQ2FyZFBhZ2UoYCR7dGhpcy5iYXNlVXJsfS9wcm9kdWNlci8ke3N0dWRpb30/cGFnZT0ke3BhZ2V9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwYWdlIG51bWJlclxuICAgICAqL1xuICAgIGZldGNoU3ViYmVkQW5pbWUocGFnZSA9IDEpIHtcbiAgICAgICAgaWYgKDAgPj0gcGFnZSkge1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyYXBlQ2FyZFBhZ2UoYCR7dGhpcy5iYXNlVXJsfS9zdWJiZWQtYW5pbWU/cGFnZT0ke3BhZ2V9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwYWdlIG51bWJlclxuICAgICAqL1xuICAgIGZldGNoRHViYmVkQW5pbWUocGFnZSA9IDEpIHtcbiAgICAgICAgaWYgKDAgPj0gcGFnZSkge1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyYXBlQ2FyZFBhZ2UoYCR7dGhpcy5iYXNlVXJsfS9kdWJiZWQtYW5pbWU/cGFnZT0ke3BhZ2V9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwYWdlIG51bWJlclxuICAgICAqL1xuICAgIGZldGNoTW92aWUocGFnZSA9IDEpIHtcbiAgICAgICAgaWYgKDAgPj0gcGFnZSkge1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyYXBlQ2FyZFBhZ2UoYCR7dGhpcy5iYXNlVXJsfS9tb3ZpZT9wYWdlPSR7cGFnZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBhZ2UgbnVtYmVyXG4gICAgICovXG4gICAgZmV0Y2hUVihwYWdlID0gMSkge1xuICAgICAgICBpZiAoMCA+PSBwYWdlKSB7XG4gICAgICAgICAgICBwYWdlID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zY3JhcGVDYXJkUGFnZShgJHt0aGlzLmJhc2VVcmx9L3R2P3BhZ2U9JHtwYWdlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcGFnZSBudW1iZXJcbiAgICAgKi9cbiAgICBmZXRjaE9WQShwYWdlID0gMSkge1xuICAgICAgICBpZiAoMCA+PSBwYWdlKSB7XG4gICAgICAgICAgICBwYWdlID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zY3JhcGVDYXJkUGFnZShgJHt0aGlzLmJhc2VVcmx9L292YT9wYWdlPSR7cGFnZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBhZ2UgbnVtYmVyXG4gICAgICovXG4gICAgZmV0Y2hPTkEocGFnZSA9IDEpIHtcbiAgICAgICAgaWYgKDAgPj0gcGFnZSkge1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyYXBlQ2FyZFBhZ2UoYCR7dGhpcy5iYXNlVXJsfS9vbmE/cGFnZT0ke3BhZ2V9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwYWdlIG51bWJlclxuICAgICAqL1xuICAgIGZldGNoU3BlY2lhbChwYWdlID0gMSkge1xuICAgICAgICBpZiAoMCA+PSBwYWdlKSB7XG4gICAgICAgICAgICBwYWdlID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zY3JhcGVDYXJkUGFnZShgJHt0aGlzLmJhc2VVcmx9L3NwZWNpYWw/cGFnZT0ke3BhZ2V9YCk7XG4gICAgfVxuICAgIGFzeW5jIGZldGNoR2VucmVzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gW107XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2hvbWVgKTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgY29uc3Qgc2lkZUJhciA9ICQoJyNtYWluLXNpZGViYXInKTtcbiAgICAgICAgICAgIHNpZGVCYXIuZmluZCgndWwuc2ItZ2VucmUtbGlzdCBsaSBhJykuZWFjaCgoaSwgZWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2VucmVzID0gJChlbGUpO1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGdlbnJlcy50ZXh0KCkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcGFnZSBudW1iZXJcbiAgICAgKi9cbiAgICBnZW5yZVNlYXJjaChnZW5yZSwgcGFnZSA9IDEpIHtcbiAgICAgICAgaWYgKGdlbnJlID09ICcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dlbnJlIGlzIGVtcHR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDAgPj0gcGFnZSkge1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyYXBlQ2FyZFBhZ2UoYCR7dGhpcy5iYXNlVXJsfS9nZW5yZS8ke2dlbnJlfT9wYWdlPSR7cGFnZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB0aGUgc2NoZWR1bGUgZm9yIGEgZ2l2ZW4gZGF0ZS5cbiAgICAgKiBAcGFyYW0gZGF0ZSBUaGUgZGF0ZSBpbiBmb3JtYXQgJ1lZWVktTU0tREQnLiBEZWZhdWx0cyB0byB0aGUgY3VycmVudCBkYXRlLlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzZWFyY2ggcmVzdWx0cy5cbiAgICAgKi9cbiAgICBhc3luYyBmZXRjaFNjaGVkdWxlKGRhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhOiB7IGh0bWwgfSwgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2FqYXgvc2NoZWR1bGUvbGlzdD90ek9mZnNldD0zNjAmZGF0ZT0ke2RhdGV9YCk7XG4gICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShodG1sKTtcbiAgICAgICAgICAgICQoJ2xpJykuZWFjaCgoaSwgZWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhcmQgPSAkKGVsZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBjYXJkLmZpbmQoJy5maWxtLW5hbWUnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IChfYSA9IGNhcmQuZmluZCgnYS50c2wtbGluaycpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KCcvJylbMV0uc3BsaXQoJz8nKVswXTtcbiAgICAgICAgICAgICAgICBjb25zdCBhaXJpbmdUaW1lID0gY2FyZC5maW5kKCdkaXYudGltZScpLnRleHQoKS5yZXBsYWNlKCdcXG4nLCAnJykudHJpbSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFpcmluZ0VwaXNvZGUgPSBjYXJkLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCBkaXYuZmQtcGxheSBidXR0b24nKS50ZXh0KCkucmVwbGFjZSgnXFxuJywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICByZXMucmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICBqYXBhbmVzZVRpdGxlOiB0aXRsZS5hdHRyKCdkYXRhLWpuYW1lJyksXG4gICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfS8ke2lkfWAsXG4gICAgICAgICAgICAgICAgICAgIGFpcmluZ0VwaXNvZGU6IGFpcmluZ0VwaXNvZGUsXG4gICAgICAgICAgICAgICAgICAgIGFpcmluZ1RpbWU6IGFpcmluZ1RpbWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmZXRjaFNwb3RsaWdodCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHsgcmVzdWx0czogW10gfTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vaG9tZWApO1xuICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAkKCcjc2xpZGVyIGRpdi5zd2lwZXItd3JhcHBlciBkaXYuc3dpcGVyLXNsaWRlJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gJChlbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGVFbGVtZW50ID0gY2FyZC5maW5kKCdkaXYuZGVzaS1oZWFkLXRpdGxlJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSAoKF9iID0gKF9hID0gY2FyZFxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnZGl2LmRlc2ktYnV0dG9ucyAuYnRuLXNlY29uZGFyeScpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXRjaCgvXFwvKFteL10rKSQvKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iWzFdKSB8fCBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IGNhcmQuZmluZCgnaW1nLmZpbG0tcG9zdGVyLWltZycpO1xuICAgICAgICAgICAgICAgIHJlcy5yZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZUVsZW1lbnQudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICBqYXBhbmVzZVRpdGxlOiB0aXRsZUVsZW1lbnQuYXR0cignZGF0YS1qbmFtZScpLFxuICAgICAgICAgICAgICAgICAgICBiYW5uZXI6IGltZy5hdHRyKCdkYXRhLXNyYycpIHx8IGltZy5hdHRyKCdzcmMnKSB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICByYW5rOiBwYXJzZUludCgoX2MgPSBjYXJkLmZpbmQoJy5kZXNpLXN1Yi10ZXh0JykudGV4dCgpLm1hdGNoKC8oXFxkKykvZykpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1swXSksXG4gICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfS8ke2lkfWAsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGNhcmQuZmluZCgnZGl2LnNjLWRldGFpbCAuc2NkLWl0ZW06bnRoLWNoaWxkKDEpJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGNhcmQuZmluZCgnZGl2LnNjLWRldGFpbCA+IGRpdjpudGgtY2hpbGQoMiknKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogY2FyZC5maW5kKCdkaXYuc2MtZGV0YWlsID4gZGl2Om50aC1jaGlsZCgzKScpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6IGNhcmQuZmluZCgnZGl2LnNjLWRldGFpbCA+IGRpdjpudGgtY2hpbGQoNCknKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICBzdWI6IHBhcnNlSW50KGNhcmQuZmluZCgnZGl2LnNjLWRldGFpbCBkaXYudGljay1zdWInKS50ZXh0KCkudHJpbSgpKSB8fCAwLFxuICAgICAgICAgICAgICAgICAgICBkdWI6IHBhcnNlSW50KGNhcmQuZmluZCgnZGl2LnNjLWRldGFpbCBkaXYudGljay1kdWInKS50ZXh0KCkudHJpbSgpKSB8fCAwLFxuICAgICAgICAgICAgICAgICAgICBlcGlzb2RlczogcGFyc2VJbnQoY2FyZC5maW5kKCdkaXYuc2MtZGV0YWlsIGRpdi50aWNrLWVwcycpLnRleHQoKSkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGNhcmQuZmluZCgnZGl2LmRlc2ktZGVzY3JpcHRpb24nKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmZXRjaFNlYXJjaFN1Z2dlc3Rpb25zKHF1ZXJ5KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVkUXVlcnkgPSBlbmNvZGVVUklDb21wb25lbnQocXVlcnkpO1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9hamF4L3NlYXJjaC9zdWdnZXN0P2tleXdvcmQ9JHtlbmNvZGVkUXVlcnl9YCk7XG4gICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhLmh0bWwpO1xuICAgICAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICQoJy5uYXYtaXRlbScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhcmQgPSAkKGVsKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNhcmQuaGFzQ2xhc3MoJ25hdi1ib3R0b20nKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IGNhcmQuZmluZCgnLmZpbG0tcG9zdGVyIGltZycpLmF0dHIoJ2RhdGEtc3JjJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gY2FyZC5maW5kKCcuZmlsbS1uYW1lJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gKF9hID0gY2FyZC5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnLycpWzFdLnNwbGl0KCc/JylbMF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gY2FyZC5maW5kKCcuZmlsbS1pbmZvciBzcGFuJykubGFzdCgpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2VEYXRlID0gY2FyZC5maW5kKCcuZmlsbS1pbmZvciBzcGFuOm50aC1jaGlsZCgxKScpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBjYXJkLmZpbmQoJy5maWxtLWluZm9yJykuZmluZCgnc3BhbiwgaScpLnJlbW92ZSgpLmVuZCgpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5yZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGphcGFuZXNlVGl0bGU6IHRpdGxlLmF0dHIoJ2RhdGEtam5hbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWFzVGl0bGU6IGNhcmQuZmluZCgnLmFsaWFzLW5hbWUnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogcmVsZWFzZURhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9LyR7aWR9YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHRoZSBsaXN0IG9mIGVwaXNvZGVzIHRoYXQgdGhlIHVzZXIgaXMgY3VycmVudGx5IHdhdGNoaW5nLlxuICAgICAqIEBwYXJhbSBjb25uZWN0U2lkIFRoZSBzZXNzaW9uIElEIG9mIHRoZSB1c2VyLiBOb3RlOiBUaGlzIGNhbiBiZSBvYnRhaW5lZCBmcm9tIHRoZSBicm93c2VyIGNvb2tpZXMgKG5lZWRzIHRvIGJlIHNpZ25lZCBpbilcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBhcnJheSBvZiBhbmltZSBlcGlzb2Rlcy5cbiAgICAgKi9cbiAgICBhc3luYyBmZXRjaENvbnRpbnVlV2F0Y2hpbmcoY29ubmVjdFNpZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCEoYXdhaXQgdGhpcy52ZXJpZnlMb2dpblN0YXRlKGNvbm5lY3RTaWQpKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXNzaW9uIElEJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vdXNlci9jb250aW51ZS13YXRjaGluZ2AsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIENvb2tpZTogYGNvbm5lY3Quc2lkPSR7Y29ubmVjdFNpZH1gLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgJCgnLmZsdy1pdGVtJykuZWFjaCgoaSwgZWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX207XG4gICAgICAgICAgICAgICAgY29uc3QgY2FyZCA9ICQoZWxlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhdGFnID0gY2FyZC5maW5kKCcuZmlsbS1uYW1lIGEnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IChfYiA9IChfYSA9IGF0YWcuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVwbGFjZSgnL3dhdGNoLycsICcnKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJlcGxhY2UoJz9lcD0nLCAnJGVwaXNvZGUkJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZVRleHQgPSAoX2UgPSAoX2QgPSAoX2MgPSBjYXJkLmZpbmQoJy5mZGItdGltZScpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudGV4dCgpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Quc3BsaXQoJy8nKSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogW107XG4gICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSAoX2cgPSAoX2YgPSB0aW1lVGV4dC5wb3AoKSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnRyaW0oKSkgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogJyc7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2F0Y2hlZFRpbWUgPSB0aW1lVGV4dC5sZW5ndGggPiAwID8gdGltZVRleHRbMF0udHJpbSgpIDogJyc7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBhdGFnLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBwYXJzZUludChjYXJkLmZpbmQoJy5mZGItdHlwZScpLnRleHQoKS5yZXBsYWNlKCdFUCcsICcnKS50cmltKCkpLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHdhdGNoZWRUaW1lOiB3YXRjaGVkVGltZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHthdGFnLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogKF9oID0gY2FyZC5maW5kKCdpbWcnKSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLmF0dHIoJ2RhdGEtc3JjJyksXG4gICAgICAgICAgICAgICAgICAgIGphcGFuZXNlVGl0bGU6IGF0YWcuYXR0cignZGF0YS1qbmFtZScpLFxuICAgICAgICAgICAgICAgICAgICBuc2Z3OiAoKF9qID0gY2FyZC5maW5kKCcudGljay1yYXRlJykpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai50ZXh0KCkpID09PSAnMTgrJyA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc3ViOiBwYXJzZUludCgoX2sgPSBjYXJkLmZpbmQoJy50aWNrLWl0ZW0udGljay1zdWInKSkgPT09IG51bGwgfHwgX2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9rLnRleHQoKSkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgZHViOiBwYXJzZUludCgoX2wgPSBjYXJkLmZpbmQoJy50aWNrLWl0ZW0udGljay1kdWInKSkgPT09IG51bGwgfHwgX2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sLnRleHQoKSkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgZXBpc29kZXM6IHBhcnNlSW50KChfbSA9IGNhcmQuZmluZCgnLnRpY2staXRlbS50aWNrLWVwcycpKSA9PT0gbnVsbCB8fCBfbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20udGV4dCgpKSB8fCAwLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZmV0Y2hXYXRjaExpc3QoY29ubmVjdFNpZCwgcGFnZSA9IDEsIHNvcnRMaXN0VHlwZSkge1xuICAgICAgICBpZiAoIShhd2FpdCB0aGlzLnZlcmlmeUxvZ2luU3RhdGUoY29ubmVjdFNpZCkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2Vzc2lvbiBJRCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgwID49IHBhZ2UpIHtcbiAgICAgICAgICAgIHBhZ2UgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0eXBlID0gMDtcbiAgICAgICAgc3dpdGNoIChzb3J0TGlzdFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuV2F0Y2hMaXN0VHlwZS5XQVRDSElORzpcbiAgICAgICAgICAgICAgICB0eXBlID0gMTtcbiAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuV2F0Y2hMaXN0VHlwZS5PTkhPTEQ6XG4gICAgICAgICAgICAgICAgdHlwZSA9IDI7XG4gICAgICAgICAgICBjYXNlIG1vZGVsc18xLldhdGNoTGlzdFR5cGUuUExBTl9UT19XQVRDSDpcbiAgICAgICAgICAgICAgICB0eXBlID0gMztcbiAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuV2F0Y2hMaXN0VHlwZS5EUk9QUEVEOlxuICAgICAgICAgICAgICAgIHR5cGUgPSA0O1xuICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5XYXRjaExpc3RUeXBlLkNPTVBMRVRFRDpcbiAgICAgICAgICAgICAgICB0eXBlID0gNTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zY3JhcGVDYXJkUGFnZShgJHt0aGlzLmJhc2VVcmx9L3VzZXIvd2F0Y2gtbGlzdD9wYWdlPSR7cGFnZX0ke3R5cGUgIT0gMCA/ICcmdHlwZT0nICsgdHlwZSA6ICcnfWAsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgQ29va2llOiBgY29ubmVjdC5zaWQ9JHtjb25uZWN0U2lkfWAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8gKGFzeW5jICgpID0+IHtcbi8vICAgY29uc3Qgem9ybyA9IG5ldyBab3JvKCk7XG4vLyAgIGNvbnN0IGFuaW1lID0gYXdhaXQgem9yby5zZWFyY2goJ0RhbmRhZGFuJyk7XG4vLyAgIGNvbnN0IGluZm8gPSBhd2FpdCB6b3JvLmZldGNoQW5pbWVJbmZvKCdzb2xvLWxldmVsaW5nLXNlYXNvbi0yLWFyaXNlLWZyb20tdGhlLXNoYWRvdy0xOTQxMycpO1xuLy8gICBjb25zdCBzb3VyY2VzID0gYXdhaXQgem9yby5mZXRjaEVwaXNvZGVTb3VyY2VzKFxuLy8gICAgICdzb2xvLWxldmVsaW5nLXNlYXNvbi0yLWFyaXNlLWZyb20tdGhlLXNoYWRvdy0xOTQxMyRlcGlzb2RlJDEzMTM5NCRkdWInLFxuLy8gICAgIFN0cmVhbWluZ1NlcnZlcnMuVmlkQ2xvdWQsXG4vLyAgICAgU3ViT3JTdWIuRFVCXG4vLyAgICk7XG4vLyAgIGNvbnNvbGUubG9nKHNvdXJjZXMpO1xuLy8gfSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFpvcm87XG4vLyMgc291cmNlTWFwcGluZ1VSTD16b3JvLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/zoro.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/books/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/books/index.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst libgen_1 = __importDefault(__webpack_require__(/*! ./libgen */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/books/libgen.js\"));\nexports[\"default\"] = { Libgen: libgen_1.default };\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYm9va3MvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQ0FBaUMsbUJBQU8sQ0FBQywwRkFBVTtBQUNuRCxrQkFBZSxLQUFLO0FBQ3BCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXGJvb2tzXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGxpYmdlbl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2xpYmdlblwiKSk7XG5leHBvcnRzLmRlZmF1bHQgPSB7IExpYmdlbjogbGliZ2VuXzEuZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/books/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/books/libgen.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/books/libgen.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nconst ascii_url_encoder_1 = __webpack_require__(/*! ascii-url-encoder */ \"(rsc)/./node_modules/ascii-url-encoder/dist/index.js\");\nclass Libgen extends models_1.BookParser {\n    constructor() {\n        super(...arguments);\n        this.extensions = ['.rs', '.is', '.st'];\n        this.baseUrl = 'http://libgen';\n        /**\n         * @type {string}\n         */\n        this.name = 'Libgen';\n        this.downloadIP = 'http://62.182.86.140';\n        this.logo = 'https://f-droid.org/repo/com.manuelvargastapia.libgen/en-US/icon_TP2ezvMwW5ovE-wixagF1WCThMUohX3T_kzYhuZQ8aY=.png';\n        this.classPath = 'BOOKS.Libgen';\n        /**\n         * scrapes a ligen book page by book page url\n         *\n         * @param {string} bookUrl - ligen book page url\n         * @returns {Promise<LibgenBook>}\n         */\n        this.scrapeBook = async (bookUrl) => {\n            bookUrl = encodeURIComponent(bookUrl);\n            const container = new models_1.LibgenBookObject();\n            const { data } = await this.client.get(bookUrl);\n            const $ = (0, cheerio_1.load)(data);\n            let rawAuthor = '';\n            $('tbody > tr:eq(10)')\n                .children()\n                .each((i, el) => {\n                switch (i) {\n                    case 1:\n                        rawAuthor = $(el).text();\n                        break;\n                }\n            });\n            container.authors = (0, utils_1.splitAuthor)(rawAuthor);\n            let publisher = '';\n            $('tbody > tr:eq(12)')\n                .children()\n                .each((i, el) => {\n                switch (i) {\n                    case 1:\n                        publisher = $(el).text();\n                        break;\n                }\n            });\n            container.publisher = publisher;\n            let ex = '';\n            let size = '';\n            $('tbody > tr:eq(18)')\n                .children()\n                .each((i, el) => {\n                switch (i) {\n                    case 1:\n                        size = $(el).text();\n                        break;\n                    case 3:\n                        ex = $(el).text();\n                        break;\n                }\n            });\n            container.format = ex;\n            container.size = size;\n            let lang = '';\n            let page = '';\n            $('tbody > tr:eq(14)')\n                .children()\n                .each((i, el) => {\n                switch (i) {\n                    case 1:\n                        lang = $(el).text();\n                        break;\n                    case 3:\n                        page = $(el).text().split('/')[0];\n                        break;\n                }\n            });\n            container.pages = page;\n            container.language = lang;\n            let tempTitle = '';\n            let tempVolume = '';\n            $('tbody > tr:eq(1)')\n                .children()\n                .each((i, el) => {\n                switch (i) {\n                    case 2:\n                        tempTitle = $(el).text();\n                        break;\n                    case 4:\n                        tempVolume = $(el).text();\n                }\n            });\n            container.title = tempTitle;\n            container.volume = tempVolume;\n            container.image = `${this.baseUrl}${this.extensions[0]}` + $('img').attr('src');\n            let tempIsbn = [];\n            let id = '';\n            $('tbody > tr:eq(15)')\n                .children()\n                .each((i, el) => {\n                switch (i) {\n                    case 1:\n                        tempIsbn = $(el).text().split(', ');\n                        break;\n                    case 3:\n                        id = $(el).text();\n                        break;\n                }\n            });\n            container.id = id;\n            container.isbn = tempIsbn;\n            container.description = $('tbody > tr:eq(31)').text() || '';\n            container.tableOfContents = $('tbody > tr:eq(32)').text() || '';\n            let tempSeries = '';\n            $('tbody > tr:eq(11)')\n                .children()\n                .each((i, el) => {\n                switch (i) {\n                    case 1:\n                        tempSeries = $(el).text();\n                        break;\n                }\n            });\n            container.series = tempSeries;\n            let tempTopic = '';\n            $('tbody > tr:eq(22)')\n                .children()\n                .each((i, el) => {\n                switch (i) {\n                    case 1:\n                        tempTopic = $(el).text();\n                        break;\n                }\n            });\n            container.topic = tempTopic;\n            let tempEdition = '';\n            let year = '';\n            $('tbody > tr:eq(13)')\n                .children()\n                .each((i, el) => {\n                switch (i) {\n                    case 1:\n                        year = $(el).text();\n                        break;\n                    case 3:\n                        tempEdition = $(el).text();\n                        break;\n                }\n            });\n            container.year = year;\n            container.edition = tempEdition;\n            for (let p = 2; p <= 8; p++) {\n                let temp = '';\n                $(`tbody tr:eq(${p})`)\n                    .children()\n                    .each((i, el) => {\n                    switch (i) {\n                        case 1:\n                            temp = $(el).text();\n                    }\n                });\n                switch (p) {\n                    case 2:\n                        container.hashes.AICH = temp;\n                        break;\n                    case 3:\n                        container.hashes.CRC32 = temp;\n                        break;\n                    case 4:\n                        container.hashes.eDonkey = temp;\n                        break;\n                    case 5:\n                        container.hashes.MD5 = temp;\n                        break;\n                    case 6:\n                        container.hashes.SHA1 = temp;\n                        break;\n                    case 7:\n                        container.hashes.SHA256 = temp.split(' ');\n                        break;\n                    case 8:\n                        container.hashes.TTH = temp;\n                        break;\n                }\n            }\n            let realLink = '';\n            const fakeLink = bookUrl;\n            for (let i = 0; i < fakeLink.length; i++) {\n                if (fakeLink[i] === 'm' &&\n                    fakeLink[i + 1] === 'd' &&\n                    fakeLink[i + 2] === '5' &&\n                    fakeLink[i + 3] === '=') {\n                    realLink = fakeLink.substring(i + 4, fakeLink.length);\n                    break;\n                }\n            }\n            container.link = `${this.downloadIP}/main/${(0, utils_1.floorID)(container.id)}/${realLink.toLowerCase()}/${(0, ascii_url_encoder_1.encode)(`${container.series == '' ? '' : `(${container.series})`} ${rawAuthor} - ${container.title}-${container.publisher} (${container.year}).${container.format}`)}`;\n            return container;\n        };\n        /**\n         * scrapes a libgen search page and returns an array of results\n         *\n         * @param {string} query - the name of the book\n         * @param {number} [maxResults=25] - maximum number of results\n         * @returns {Promise<LibgenBook[]>}\n         */\n        this.search = async (query, page = 1) => {\n            query = encodeURIComponent(query);\n            const workingExtension = this.extensions[0];\n            const containers = [];\n            const { data } = await this.client.get(`${this.baseUrl}.rs/search.php?req=${query}&view=simple&res=25&sort=def&sortmode=ASC&page=${page}`);\n            const $ = (0, cheerio_1.load)(data);\n            let rawAuthor = '';\n            $('table tbody tr').each((i, e) => {\n                const container = new models_1.LibgenBookObject();\n                $(e.children).each((i, e) => {\n                    if ($(e).text() === '\\n\\t\\t\\t\\t')\n                        return;\n                    switch (i) {\n                        case 0:\n                            container.id = $(e).text();\n                            break;\n                        case 2:\n                            rawAuthor = $(e).text();\n                            container.authors = (0, utils_1.splitAuthor)(rawAuthor);\n                            break;\n                        case 4:\n                            let potLink = '';\n                            $(e)\n                                .children()\n                                .each((i, el) => {\n                                var _a;\n                                if (potLink != '') {\n                                    return;\n                                }\n                                if (((_a = $(el).attr('href')) === null || _a === void 0 ? void 0 : _a.at(0)) === 'b') {\n                                    potLink = $(el).attr('href') || '';\n                                }\n                            });\n                            container.link = `${this.baseUrl}${workingExtension}/${potLink}`;\n                        case 6:\n                            container.publisher = $(e).text();\n                            break;\n                        case 8:\n                            container.year = $(e).text();\n                            break;\n                        case 10:\n                            container.pages = $(e).text();\n                            break;\n                        case 12:\n                            container.language = $(e).text();\n                            break;\n                        case 14:\n                            container.size = $(e).text();\n                            break;\n                        case 16:\n                            container.format = $(e).text();\n                            break;\n                    }\n                });\n                containers[i] = container;\n            });\n            containers.shift();\n            containers.shift();\n            containers.shift();\n            containers.pop();\n            for (let i = 0; i < containers.length; i++) {\n                if (containers[i].link == '') {\n                    continue;\n                }\n                const data = await this.client.get(containers[i].link);\n                const $ = (0, cheerio_1.load)(data.data);\n                let tempTitle = '';\n                let tempVolume = '';\n                $('tbody > tr:eq(1)')\n                    .children()\n                    .each((i, el) => {\n                    switch (i) {\n                        case 2:\n                            tempTitle = $(el).text();\n                            break;\n                        case 4:\n                            tempVolume = $(el).text();\n                    }\n                });\n                containers[i].title = tempTitle;\n                containers[i].volume = tempVolume;\n                containers[i].image = `${this.baseUrl}${workingExtension}` + $('img').attr('src');\n                let tempIsbn = [];\n                $('tbody > tr:eq(15)')\n                    .children()\n                    .each((i, el) => {\n                    switch (i) {\n                        case 1:\n                            tempIsbn = $(el).text().split(', ');\n                            break;\n                    }\n                });\n                containers[i].isbn = tempIsbn;\n                containers[i].description = $('tbody > tr:eq(31)').text() || '';\n                containers[i].tableOfContents = $('tbody > tr:eq(32)').text() || '';\n                let tempSeries = '';\n                $('tbody > tr:eq(11)')\n                    .children()\n                    .each((i, el) => {\n                    switch (i) {\n                        case 1:\n                            tempSeries = $(el).text();\n                            break;\n                    }\n                });\n                containers[i].series = tempSeries;\n                let tempTopic = '';\n                $('tbody > tr:eq(22)')\n                    .children()\n                    .each((i, el) => {\n                    switch (i) {\n                        case 1:\n                            tempTopic = $(el).text();\n                            break;\n                    }\n                });\n                containers[i].topic = tempTopic;\n                let tempEdition = '';\n                $('tbody > tr:eq(13)')\n                    .children()\n                    .each((i, el) => {\n                    switch (i) {\n                        case 3:\n                            tempEdition = $(el).text();\n                            break;\n                    }\n                });\n                containers[i].edition = tempEdition;\n                for (let p = 2; p <= 8; p++) {\n                    let temp = '';\n                    $(`tbody tr:eq(${p})`)\n                        .children()\n                        .each((i, el) => {\n                        switch (i) {\n                            case 1:\n                                temp = $(el).text();\n                        }\n                    });\n                    switch (p) {\n                        case 2:\n                            containers[i].hashes.AICH = temp;\n                            break;\n                        case 3:\n                            containers[i].hashes.CRC32 = temp;\n                            break;\n                        case 4:\n                            containers[i].hashes.eDonkey = temp;\n                            break;\n                        case 5:\n                            containers[i].hashes.MD5 = temp;\n                            break;\n                        case 6:\n                            containers[i].hashes.SHA1 = temp;\n                            break;\n                        case 7:\n                            containers[i].hashes.SHA256 = temp.split(' ');\n                            break;\n                        case 8:\n                            containers[i].hashes.TTH = temp;\n                            break;\n                    }\n                }\n                let realLink = '';\n                const fakeLink = containers[i].link;\n                for (let i = 0; i < fakeLink.length; i++) {\n                    if (fakeLink[i] === 'm' &&\n                        fakeLink[i + 1] === 'd' &&\n                        fakeLink[i + 2] === '5' &&\n                        fakeLink[i + 3] === '=') {\n                        realLink = fakeLink.substring(i + 4, fakeLink.length);\n                        break;\n                    }\n                }\n                containers[i].link = `${this.downloadIP}/main/${(0, utils_1.floorID)(containers[i].id)}/${realLink.toLowerCase()}/${(0, ascii_url_encoder_1.encode)(`${containers[i].series == '' ? '' : `(${containers[i].series})`} ${rawAuthor} - ${containers[i].title}-${containers[i].publisher} (${containers[i].year}).${containers[i].format}`)}`;\n            }\n            return {\n                result: containers,\n                hasNextPage: $('table:eq(1) tbody tr td:eq(1) font a:eq(0)').text().trim() == '►' ||\n                    $('table:eq(1) tbody tr td:eq(1) font a:eq(1)').text().trim() == '►'\n                    ? true\n                    : false,\n            };\n        };\n    }\n}\nexports[\"default\"] = Libgen;\n//# sourceMappingURL=libgen.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvYm9va3MvbGliZ2VuLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDLGdCQUFnQixtQkFBTyxDQUFDLGtGQUFhO0FBQ3JDLDRCQUE0QixtQkFBTyxDQUFDLCtFQUFtQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixRQUFRO0FBQzNCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGlDQUFpQyxhQUFhLEVBQUUsbUJBQW1CO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLDRCQUE0QixRQUFRO0FBQ3BDO0FBQ0EsaUNBQWlDLEVBQUU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUJBQXFCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0JBQWdCLFFBQVEsbUNBQW1DLEdBQUcsdUJBQXVCLEdBQUcsbUNBQW1DLGtDQUFrQyxpQkFBaUIsSUFBSSxFQUFFLFdBQVcsSUFBSSxnQkFBZ0IsR0FBRyxxQkFBcUIsR0FBRyxlQUFlLElBQUksaUJBQWlCLEdBQUc7QUFDclQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixRQUFRO0FBQzNCLG1CQUFtQixRQUFRO0FBQzNCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU8sMkJBQTJCLGFBQWEscUJBQXFCLE1BQU0saURBQWlELEtBQUs7QUFDcEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLGdEQUFnRCxhQUFhLEVBQUUsaUJBQWlCLEdBQUcsUUFBUTtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix1QkFBdUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EseUNBQXlDLGFBQWEsRUFBRSxpQkFBaUI7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGdDQUFnQyxRQUFRO0FBQ3hDO0FBQ0EscUNBQXFDLEVBQUU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MscUJBQXFCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZ0JBQWdCLFFBQVEsdUNBQXVDLEdBQUcsdUJBQXVCLEdBQUcsbUNBQW1DLHNDQUFzQyxxQkFBcUIsSUFBSSxFQUFFLFdBQVcsSUFBSSxvQkFBb0IsR0FBRyx5QkFBeUIsR0FBRyxtQkFBbUIsSUFBSSxxQkFBcUIsR0FBRztBQUN6VjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxib29rc1xcbGliZ2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2hlZXJpb18xID0gcmVxdWlyZShcImNoZWVyaW9cIik7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHNcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzXCIpO1xuY29uc3QgYXNjaWlfdXJsX2VuY29kZXJfMSA9IHJlcXVpcmUoXCJhc2NpaS11cmwtZW5jb2RlclwiKTtcbmNsYXNzIExpYmdlbiBleHRlbmRzIG1vZGVsc18xLkJvb2tQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmV4dGVuc2lvbnMgPSBbJy5ycycsICcuaXMnLCAnLnN0J107XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwOi8vbGliZ2VuJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hbWUgPSAnTGliZ2VuJztcbiAgICAgICAgdGhpcy5kb3dubG9hZElQID0gJ2h0dHA6Ly82Mi4xODIuODYuMTQwJztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vZi1kcm9pZC5vcmcvcmVwby9jb20ubWFudWVsdmFyZ2FzdGFwaWEubGliZ2VuL2VuLVVTL2ljb25fVFAyZXp2TXdXNW92RS13aXhhZ0YxV0NUaE1Vb2hYM1Rfa3pZaHVaUThhWT0ucG5nJztcbiAgICAgICAgdGhpcy5jbGFzc1BhdGggPSAnQk9PS1MuTGliZ2VuJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNjcmFwZXMgYSBsaWdlbiBib29rIHBhZ2UgYnkgYm9vayBwYWdlIHVybFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gYm9va1VybCAtIGxpZ2VuIGJvb2sgcGFnZSB1cmxcbiAgICAgICAgICogQHJldHVybnMge1Byb21pc2U8TGliZ2VuQm9vaz59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjcmFwZUJvb2sgPSBhc3luYyAoYm9va1VybCkgPT4ge1xuICAgICAgICAgICAgYm9va1VybCA9IGVuY29kZVVSSUNvbXBvbmVudChib29rVXJsKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBtb2RlbHNfMS5MaWJnZW5Cb29rT2JqZWN0KCk7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChib29rVXJsKTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgbGV0IHJhd0F1dGhvciA9ICcnO1xuICAgICAgICAgICAgJCgndGJvZHkgPiB0cjplcSgxMCknKVxuICAgICAgICAgICAgICAgIC5jaGlsZHJlbigpXG4gICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd0F1dGhvciA9ICQoZWwpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29udGFpbmVyLmF1dGhvcnMgPSAoMCwgdXRpbHNfMS5zcGxpdEF1dGhvcikocmF3QXV0aG9yKTtcbiAgICAgICAgICAgIGxldCBwdWJsaXNoZXIgPSAnJztcbiAgICAgICAgICAgICQoJ3Rib2R5ID4gdHI6ZXEoMTIpJylcbiAgICAgICAgICAgICAgICAuY2hpbGRyZW4oKVxuICAgICAgICAgICAgICAgIC5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBwdWJsaXNoZXIgPSAkKGVsKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5wdWJsaXNoZXIgPSBwdWJsaXNoZXI7XG4gICAgICAgICAgICBsZXQgZXggPSAnJztcbiAgICAgICAgICAgIGxldCBzaXplID0gJyc7XG4gICAgICAgICAgICAkKCd0Ym9keSA+IHRyOmVxKDE4KScpXG4gICAgICAgICAgICAgICAgLmNoaWxkcmVuKClcbiAgICAgICAgICAgICAgICAuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9ICQoZWwpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBleCA9ICQoZWwpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29udGFpbmVyLmZvcm1hdCA9IGV4O1xuICAgICAgICAgICAgY29udGFpbmVyLnNpemUgPSBzaXplO1xuICAgICAgICAgICAgbGV0IGxhbmcgPSAnJztcbiAgICAgICAgICAgIGxldCBwYWdlID0gJyc7XG4gICAgICAgICAgICAkKCd0Ym9keSA+IHRyOmVxKDE0KScpXG4gICAgICAgICAgICAgICAgLmNoaWxkcmVuKClcbiAgICAgICAgICAgICAgICAuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZyA9ICQoZWwpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlID0gJChlbCkudGV4dCgpLnNwbGl0KCcvJylbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5wYWdlcyA9IHBhZ2U7XG4gICAgICAgICAgICBjb250YWluZXIubGFuZ3VhZ2UgPSBsYW5nO1xuICAgICAgICAgICAgbGV0IHRlbXBUaXRsZSA9ICcnO1xuICAgICAgICAgICAgbGV0IHRlbXBWb2x1bWUgPSAnJztcbiAgICAgICAgICAgICQoJ3Rib2R5ID4gdHI6ZXEoMSknKVxuICAgICAgICAgICAgICAgIC5jaGlsZHJlbigpXG4gICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBUaXRsZSA9ICQoZWwpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wVm9sdW1lID0gJChlbCkudGV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29udGFpbmVyLnRpdGxlID0gdGVtcFRpdGxlO1xuICAgICAgICAgICAgY29udGFpbmVyLnZvbHVtZSA9IHRlbXBWb2x1bWU7XG4gICAgICAgICAgICBjb250YWluZXIuaW1hZ2UgPSBgJHt0aGlzLmJhc2VVcmx9JHt0aGlzLmV4dGVuc2lvbnNbMF19YCArICQoJ2ltZycpLmF0dHIoJ3NyYycpO1xuICAgICAgICAgICAgbGV0IHRlbXBJc2JuID0gW107XG4gICAgICAgICAgICBsZXQgaWQgPSAnJztcbiAgICAgICAgICAgICQoJ3Rib2R5ID4gdHI6ZXEoMTUpJylcbiAgICAgICAgICAgICAgICAuY2hpbGRyZW4oKVxuICAgICAgICAgICAgICAgIC5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wSXNibiA9ICQoZWwpLnRleHQoKS5zcGxpdCgnLCAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZCA9ICQoZWwpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29udGFpbmVyLmlkID0gaWQ7XG4gICAgICAgICAgICBjb250YWluZXIuaXNibiA9IHRlbXBJc2JuO1xuICAgICAgICAgICAgY29udGFpbmVyLmRlc2NyaXB0aW9uID0gJCgndGJvZHkgPiB0cjplcSgzMSknKS50ZXh0KCkgfHwgJyc7XG4gICAgICAgICAgICBjb250YWluZXIudGFibGVPZkNvbnRlbnRzID0gJCgndGJvZHkgPiB0cjplcSgzMiknKS50ZXh0KCkgfHwgJyc7XG4gICAgICAgICAgICBsZXQgdGVtcFNlcmllcyA9ICcnO1xuICAgICAgICAgICAgJCgndGJvZHkgPiB0cjplcSgxMSknKVxuICAgICAgICAgICAgICAgIC5jaGlsZHJlbigpXG4gICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBTZXJpZXMgPSAkKGVsKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXJpZXMgPSB0ZW1wU2VyaWVzO1xuICAgICAgICAgICAgbGV0IHRlbXBUb3BpYyA9ICcnO1xuICAgICAgICAgICAgJCgndGJvZHkgPiB0cjplcSgyMiknKVxuICAgICAgICAgICAgICAgIC5jaGlsZHJlbigpXG4gICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBUb3BpYyA9ICQoZWwpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29udGFpbmVyLnRvcGljID0gdGVtcFRvcGljO1xuICAgICAgICAgICAgbGV0IHRlbXBFZGl0aW9uID0gJyc7XG4gICAgICAgICAgICBsZXQgeWVhciA9ICcnO1xuICAgICAgICAgICAgJCgndGJvZHkgPiB0cjplcSgxMyknKVxuICAgICAgICAgICAgICAgIC5jaGlsZHJlbigpXG4gICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgPSAkKGVsKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEVkaXRpb24gPSAkKGVsKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnRhaW5lci55ZWFyID0geWVhcjtcbiAgICAgICAgICAgIGNvbnRhaW5lci5lZGl0aW9uID0gdGVtcEVkaXRpb247XG4gICAgICAgICAgICBmb3IgKGxldCBwID0gMjsgcCA8PSA4OyBwKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9ICcnO1xuICAgICAgICAgICAgICAgICQoYHRib2R5IHRyOmVxKCR7cH0pYClcbiAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKClcbiAgICAgICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAgPSAkKGVsKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHApIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmhhc2hlcy5BSUNIID0gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuaGFzaGVzLkNSQzMyID0gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuaGFzaGVzLmVEb25rZXkgPSB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5oYXNoZXMuTUQ1ID0gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuaGFzaGVzLlNIQTEgPSB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5oYXNoZXMuU0hBMjU2ID0gdGVtcC5zcGxpdCgnICcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5oYXNoZXMuVFRIID0gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCByZWFsTGluayA9ICcnO1xuICAgICAgICAgICAgY29uc3QgZmFrZUxpbmsgPSBib29rVXJsO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmYWtlTGluay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChmYWtlTGlua1tpXSA9PT0gJ20nICYmXG4gICAgICAgICAgICAgICAgICAgIGZha2VMaW5rW2kgKyAxXSA9PT0gJ2QnICYmXG4gICAgICAgICAgICAgICAgICAgIGZha2VMaW5rW2kgKyAyXSA9PT0gJzUnICYmXG4gICAgICAgICAgICAgICAgICAgIGZha2VMaW5rW2kgKyAzXSA9PT0gJz0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWxMaW5rID0gZmFrZUxpbmsuc3Vic3RyaW5nKGkgKyA0LCBmYWtlTGluay5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250YWluZXIubGluayA9IGAke3RoaXMuZG93bmxvYWRJUH0vbWFpbi8keygwLCB1dGlsc18xLmZsb29ySUQpKGNvbnRhaW5lci5pZCl9LyR7cmVhbExpbmsudG9Mb3dlckNhc2UoKX0vJHsoMCwgYXNjaWlfdXJsX2VuY29kZXJfMS5lbmNvZGUpKGAke2NvbnRhaW5lci5zZXJpZXMgPT0gJycgPyAnJyA6IGAoJHtjb250YWluZXIuc2VyaWVzfSlgfSAke3Jhd0F1dGhvcn0gLSAke2NvbnRhaW5lci50aXRsZX0tJHtjb250YWluZXIucHVibGlzaGVyfSAoJHtjb250YWluZXIueWVhcn0pLiR7Y29udGFpbmVyLmZvcm1hdH1gKX1gO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNjcmFwZXMgYSBsaWJnZW4gc2VhcmNoIHBhZ2UgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgcmVzdWx0c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnkgLSB0aGUgbmFtZSBvZiB0aGUgYm9va1xuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW21heFJlc3VsdHM9MjVdIC0gbWF4aW11bSBudW1iZXIgb2YgcmVzdWx0c1xuICAgICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxMaWJnZW5Cb29rW10+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocXVlcnksIHBhZ2UgPSAxKSA9PiB7XG4gICAgICAgICAgICBxdWVyeSA9IGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSk7XG4gICAgICAgICAgICBjb25zdCB3b3JraW5nRXh0ZW5zaW9uID0gdGhpcy5leHRlbnNpb25zWzBdO1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVycyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS5ycy9zZWFyY2gucGhwP3JlcT0ke3F1ZXJ5fSZ2aWV3PXNpbXBsZSZyZXM9MjUmc29ydD1kZWYmc29ydG1vZGU9QVNDJnBhZ2U9JHtwYWdlfWApO1xuICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICBsZXQgcmF3QXV0aG9yID0gJyc7XG4gICAgICAgICAgICAkKCd0YWJsZSB0Ym9keSB0cicpLmVhY2goKGksIGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBuZXcgbW9kZWxzXzEuTGliZ2VuQm9va09iamVjdCgpO1xuICAgICAgICAgICAgICAgICQoZS5jaGlsZHJlbikuZWFjaCgoaSwgZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJChlKS50ZXh0KCkgPT09ICdcXG5cXHRcXHRcXHRcXHQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuaWQgPSAkKGUpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdBdXRob3IgPSAkKGUpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXV0aG9ycyA9ICgwLCB1dGlsc18xLnNwbGl0QXV0aG9yKShyYXdBdXRob3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3RMaW5rID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGRyZW4oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG90TGluayAhPSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKF9hID0gJChlbCkuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYXQoMCkpID09PSAnYicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvdExpbmsgPSAkKGVsKS5hdHRyKCdocmVmJykgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIubGluayA9IGAke3RoaXMuYmFzZVVybH0ke3dvcmtpbmdFeHRlbnNpb259LyR7cG90TGlua31gO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wdWJsaXNoZXIgPSAkKGUpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIueWVhciA9ICQoZSkudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucGFnZXMgPSAkKGUpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmxhbmd1YWdlID0gJChlKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zaXplID0gJChlKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5mb3JtYXQgPSAkKGUpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lcnNbaV0gPSBjb250YWluZXI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnRhaW5lcnMuc2hpZnQoKTtcbiAgICAgICAgICAgIGNvbnRhaW5lcnMuc2hpZnQoKTtcbiAgICAgICAgICAgIGNvbnRhaW5lcnMuc2hpZnQoKTtcbiAgICAgICAgICAgIGNvbnRhaW5lcnMucG9wKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRhaW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyc1tpXS5saW5rID09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGNvbnRhaW5lcnNbaV0ubGluayk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICBsZXQgdGVtcFRpdGxlID0gJyc7XG4gICAgICAgICAgICAgICAgbGV0IHRlbXBWb2x1bWUgPSAnJztcbiAgICAgICAgICAgICAgICAkKCd0Ym9keSA+IHRyOmVxKDEpJylcbiAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKClcbiAgICAgICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBUaXRsZSA9ICQoZWwpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wVm9sdW1lID0gJChlbCkudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyc1tpXS50aXRsZSA9IHRlbXBUaXRsZTtcbiAgICAgICAgICAgICAgICBjb250YWluZXJzW2ldLnZvbHVtZSA9IHRlbXBWb2x1bWU7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyc1tpXS5pbWFnZSA9IGAke3RoaXMuYmFzZVVybH0ke3dvcmtpbmdFeHRlbnNpb259YCArICQoJ2ltZycpLmF0dHIoJ3NyYycpO1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wSXNibiA9IFtdO1xuICAgICAgICAgICAgICAgICQoJ3Rib2R5ID4gdHI6ZXEoMTUpJylcbiAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKClcbiAgICAgICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBJc2JuID0gJChlbCkudGV4dCgpLnNwbGl0KCcsICcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyc1tpXS5pc2JuID0gdGVtcElzYm47XG4gICAgICAgICAgICAgICAgY29udGFpbmVyc1tpXS5kZXNjcmlwdGlvbiA9ICQoJ3Rib2R5ID4gdHI6ZXEoMzEpJykudGV4dCgpIHx8ICcnO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lcnNbaV0udGFibGVPZkNvbnRlbnRzID0gJCgndGJvZHkgPiB0cjplcSgzMiknKS50ZXh0KCkgfHwgJyc7XG4gICAgICAgICAgICAgICAgbGV0IHRlbXBTZXJpZXMgPSAnJztcbiAgICAgICAgICAgICAgICAkKCd0Ym9keSA+IHRyOmVxKDExKScpXG4gICAgICAgICAgICAgICAgICAgIC5jaGlsZHJlbigpXG4gICAgICAgICAgICAgICAgICAgIC5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wU2VyaWVzID0gJChlbCkudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyc1tpXS5zZXJpZXMgPSB0ZW1wU2VyaWVzO1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wVG9waWMgPSAnJztcbiAgICAgICAgICAgICAgICAkKCd0Ym9keSA+IHRyOmVxKDIyKScpXG4gICAgICAgICAgICAgICAgICAgIC5jaGlsZHJlbigpXG4gICAgICAgICAgICAgICAgICAgIC5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wVG9waWMgPSAkKGVsKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb250YWluZXJzW2ldLnRvcGljID0gdGVtcFRvcGljO1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wRWRpdGlvbiA9ICcnO1xuICAgICAgICAgICAgICAgICQoJ3Rib2R5ID4gdHI6ZXEoMTMpJylcbiAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKClcbiAgICAgICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBFZGl0aW9uID0gJChlbCkudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyc1tpXS5lZGl0aW9uID0gdGVtcEVkaXRpb247XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcCA9IDI7IHAgPD0gODsgcCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICQoYHRib2R5IHRyOmVxKCR7cH0pYClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZHJlbigpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9ICQoZWwpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcnNbaV0uaGFzaGVzLkFJQ0ggPSB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcnNbaV0uaGFzaGVzLkNSQzMyID0gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzW2ldLmhhc2hlcy5lRG9ua2V5ID0gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzW2ldLmhhc2hlcy5NRDUgPSB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcnNbaV0uaGFzaGVzLlNIQTEgPSB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcnNbaV0uaGFzaGVzLlNIQTI1NiA9IHRlbXAuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzW2ldLmhhc2hlcy5UVEggPSB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCByZWFsTGluayA9ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZha2VMaW5rID0gY29udGFpbmVyc1tpXS5saW5rO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmFrZUxpbmsubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZha2VMaW5rW2ldID09PSAnbScgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGZha2VMaW5rW2kgKyAxXSA9PT0gJ2QnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWtlTGlua1tpICsgMl0gPT09ICc1JyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZmFrZUxpbmtbaSArIDNdID09PSAnPScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxMaW5rID0gZmFrZUxpbmsuc3Vic3RyaW5nKGkgKyA0LCBmYWtlTGluay5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGFpbmVyc1tpXS5saW5rID0gYCR7dGhpcy5kb3dubG9hZElQfS9tYWluLyR7KDAsIHV0aWxzXzEuZmxvb3JJRCkoY29udGFpbmVyc1tpXS5pZCl9LyR7cmVhbExpbmsudG9Mb3dlckNhc2UoKX0vJHsoMCwgYXNjaWlfdXJsX2VuY29kZXJfMS5lbmNvZGUpKGAke2NvbnRhaW5lcnNbaV0uc2VyaWVzID09ICcnID8gJycgOiBgKCR7Y29udGFpbmVyc1tpXS5zZXJpZXN9KWB9ICR7cmF3QXV0aG9yfSAtICR7Y29udGFpbmVyc1tpXS50aXRsZX0tJHtjb250YWluZXJzW2ldLnB1Ymxpc2hlcn0gKCR7Y29udGFpbmVyc1tpXS55ZWFyfSkuJHtjb250YWluZXJzW2ldLmZvcm1hdH1gKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXN1bHQ6IGNvbnRhaW5lcnMsXG4gICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6ICQoJ3RhYmxlOmVxKDEpIHRib2R5IHRyIHRkOmVxKDEpIGZvbnQgYTplcSgwKScpLnRleHQoKS50cmltKCkgPT0gJ+KWuicgfHxcbiAgICAgICAgICAgICAgICAgICAgJCgndGFibGU6ZXEoMSkgdGJvZHkgdHIgdGQ6ZXEoMSkgZm9udCBhOmVxKDEpJykudGV4dCgpLnRyaW0oKSA9PSAn4pa6J1xuICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gTGliZ2VuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGliZ2VuLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/books/libgen.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/comics/getComics.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/comics/getComics.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nconst s = async () => { };\nclass getComics extends models_1.ComicParser {\n    constructor() {\n        super(...arguments);\n        this.baseUrl = 'https://getcomics.info/';\n        this.name = 'GetComics';\n        this.logo = 'https://i0.wp.com/getcomics.info/share/uploads/2020/04/cropped-GetComics-Favicon.png?fit=192%2C192&ssl=1';\n        this.classPath = 'COMICS.GetComics';\n        this.search = async (query, page = 1) => {\n            query = encodeURIComponent(query);\n            const { data } = await this.client.get(`${this.baseUrl}/page/${page ? page : 1}/?s=${query}`);\n            const $ = (0, cheerio_1.load)(data);\n            const lastPage = $('section section nav:eq(1) ul li:last').text();\n            const res = {\n                containers: [],\n                hasNextPage: $('a.pagination-older').text() != '',\n            };\n            $('article').each((i, el) => {\n                const container = new models_1.GetComicsComicsObject();\n                const vals = (0, utils_1.parsePostInfo)($(el).children('div.post-info').text());\n                container.image =\n                    $(el).children('div.post-header-image').children('a').children('img').attr('src') || '';\n                container.title = $(el).children('div.post-info').children('h1').text();\n                container.excerpt = $(el).children('div.post-info').children('p.post-excerpt').text();\n                container.year = vals.year;\n                container.size = vals.size;\n                container.description = vals.description;\n                const link = $(el).children('div.post-header-image').children('a').attr('href');\n                container.ufile = link || '';\n                res.containers.push(container);\n            });\n            for (const container of res.containers) {\n                if (container.ufile != '') {\n                    const { data } = await this.client.get(container.ufile);\n                    const $ = (0, cheerio_1.load)(data);\n                    container.download = $('.aio-red[title=\"Download Now\"]').attr('href') || '';\n                    container.readOnline = $('.aio-red[title=\"Read Online\"]').attr('href') || '';\n                    container.ufile = $('.aio-blue').attr('href') || '';\n                    container.mega = $('.aio-purple').attr('href') || '';\n                    container.mediafire = $('.aio-orange').attr('href') || '';\n                    container.zippyshare = $('.aio-gray').attr('href') || '';\n                }\n            }\n            return res;\n        };\n    }\n}\nexports[\"default\"] = getComics;\n//# sourceMappingURL=getComics.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvY29taWNzL2dldENvbWljcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QyxnQkFBZ0IsbUJBQU8sQ0FBQyxrRkFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPLDJCQUEyQixhQUFhLFFBQVEsZ0JBQWdCLE1BQU0sTUFBTTtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsNEJBQTRCLE9BQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXGNvbWljc1xcZ2V0Q29taWNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2hlZXJpb18xID0gcmVxdWlyZShcImNoZWVyaW9cIik7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHNcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzXCIpO1xuY29uc3QgcyA9IGFzeW5jICgpID0+IHsgfTtcbmNsYXNzIGdldENvbWljcyBleHRlbmRzIG1vZGVsc18xLkNvbWljUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJ2h0dHBzOi8vZ2V0Y29taWNzLmluZm8vJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ0dldENvbWljcyc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL2kwLndwLmNvbS9nZXRjb21pY3MuaW5mby9zaGFyZS91cGxvYWRzLzIwMjAvMDQvY3JvcHBlZC1HZXRDb21pY3MtRmF2aWNvbi5wbmc/Zml0PTE5MiUyQzE5MiZzc2w9MSc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ0NPTUlDUy5HZXRDb21pY3MnO1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGFzeW5jIChxdWVyeSwgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIHF1ZXJ5ID0gZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vcGFnZS8ke3BhZ2UgPyBwYWdlIDogMX0vP3M9JHtxdWVyeX1gKTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgY29uc3QgbGFzdFBhZ2UgPSAkKCdzZWN0aW9uIHNlY3Rpb24gbmF2OmVxKDEpIHVsIGxpOmxhc3QnKS50ZXh0KCk7XG4gICAgICAgICAgICBjb25zdCByZXMgPSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyczogW10sXG4gICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6ICQoJ2EucGFnaW5hdGlvbi1vbGRlcicpLnRleHQoKSAhPSAnJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkKCdhcnRpY2xlJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBuZXcgbW9kZWxzXzEuR2V0Q29taWNzQ29taWNzT2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFscyA9ICgwLCB1dGlsc18xLnBhcnNlUG9zdEluZm8pKCQoZWwpLmNoaWxkcmVuKCdkaXYucG9zdC1pbmZvJykudGV4dCgpKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuaW1hZ2UgPVxuICAgICAgICAgICAgICAgICAgICAkKGVsKS5jaGlsZHJlbignZGl2LnBvc3QtaGVhZGVyLWltYWdlJykuY2hpbGRyZW4oJ2EnKS5jaGlsZHJlbignaW1nJykuYXR0cignc3JjJykgfHwgJyc7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnRpdGxlID0gJChlbCkuY2hpbGRyZW4oJ2Rpdi5wb3N0LWluZm8nKS5jaGlsZHJlbignaDEnKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmV4Y2VycHQgPSAkKGVsKS5jaGlsZHJlbignZGl2LnBvc3QtaW5mbycpLmNoaWxkcmVuKCdwLnBvc3QtZXhjZXJwdCcpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIueWVhciA9IHZhbHMueWVhcjtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc2l6ZSA9IHZhbHMuc2l6ZTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuZGVzY3JpcHRpb24gPSB2YWxzLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSAkKGVsKS5jaGlsZHJlbignZGl2LnBvc3QtaGVhZGVyLWltYWdlJykuY2hpbGRyZW4oJ2EnKS5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnVmaWxlID0gbGluayB8fCAnJztcbiAgICAgICAgICAgICAgICByZXMuY29udGFpbmVycy5wdXNoKGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29udGFpbmVyIG9mIHJlcy5jb250YWluZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci51ZmlsZSAhPSAnJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChjb250YWluZXIudWZpbGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmRvd25sb2FkID0gJCgnLmFpby1yZWRbdGl0bGU9XCJEb3dubG9hZCBOb3dcIl0nKS5hdHRyKCdocmVmJykgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZWFkT25saW5lID0gJCgnLmFpby1yZWRbdGl0bGU9XCJSZWFkIE9ubGluZVwiXScpLmF0dHIoJ2hyZWYnKSB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnVmaWxlID0gJCgnLmFpby1ibHVlJykuYXR0cignaHJlZicpIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIubWVnYSA9ICQoJy5haW8tcHVycGxlJykuYXR0cignaHJlZicpIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIubWVkaWFmaXJlID0gJCgnLmFpby1vcmFuZ2UnKS5hdHRyKCdocmVmJykgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci56aXBweXNoYXJlID0gJCgnLmFpby1ncmF5JykuYXR0cignaHJlZicpIHx8ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0Q29taWNzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Q29taWNzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/comics/getComics.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/comics/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/comics/index.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst getComics_1 = __importDefault(__webpack_require__(/*! ./getComics */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/comics/getComics.js\"));\nexports[\"default\"] = { GetComics: getComics_1.default };\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvY29taWNzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0NBQW9DLG1CQUFPLENBQUMsaUdBQWE7QUFDekQsa0JBQWUsS0FBSztBQUNwQiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxjb21pY3NcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZ2V0Q29taWNzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vZ2V0Q29taWNzXCIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IHsgR2V0Q29taWNzOiBnZXRDb21pY3NfMS5kZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/comics/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/index.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.NEWS = exports.META = exports.MOVIES = exports.LIGHT_NOVELS = exports.COMICS = exports.BOOKS = exports.MANGA = exports.ANIME = void 0;\nconst anime_1 = __importDefault(__webpack_require__(/*! ./anime */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/index.js\"));\nexports.ANIME = anime_1.default;\nconst manga_1 = __importDefault(__webpack_require__(/*! ./manga */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/index.js\"));\nexports.MANGA = manga_1.default;\nconst light_novels_1 = __importDefault(__webpack_require__(/*! ./light-novels */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/light-novels/index.js\"));\nexports.LIGHT_NOVELS = light_novels_1.default;\nconst books_1 = __importDefault(__webpack_require__(/*! ./books */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/books/index.js\"));\nexports.BOOKS = books_1.default;\nconst comics_1 = __importDefault(__webpack_require__(/*! ./comics */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/comics/index.js\"));\nexports.COMICS = comics_1.default;\nconst movies_1 = __importDefault(__webpack_require__(/*! ./movies */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/index.js\"));\nexports.MOVIES = movies_1.default;\nconst meta_1 = __importDefault(__webpack_require__(/*! ./meta */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/meta/index.js\"));\nexports.META = meta_1.default;\nconst news_1 = __importDefault(__webpack_require__(/*! ./news */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/news/index.js\"));\nexports.NEWS = news_1.default;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxZQUFZLEdBQUcsWUFBWSxHQUFHLGNBQWMsR0FBRyxvQkFBb0IsR0FBRyxjQUFjLEdBQUcsYUFBYSxHQUFHLGFBQWEsR0FBRyxhQUFhO0FBQ3BJLGdDQUFnQyxtQkFBTyxDQUFDLHdGQUFTO0FBQ2pELGFBQWE7QUFDYixnQ0FBZ0MsbUJBQU8sQ0FBQyx3RkFBUztBQUNqRCxhQUFhO0FBQ2IsdUNBQXVDLG1CQUFPLENBQUMsc0dBQWdCO0FBQy9ELG9CQUFvQjtBQUNwQixnQ0FBZ0MsbUJBQU8sQ0FBQyx3RkFBUztBQUNqRCxhQUFhO0FBQ2IsaUNBQWlDLG1CQUFPLENBQUMsMEZBQVU7QUFDbkQsY0FBYztBQUNkLGlDQUFpQyxtQkFBTyxDQUFDLDBGQUFVO0FBQ25ELGNBQWM7QUFDZCwrQkFBK0IsbUJBQU8sQ0FBQyxzRkFBUTtBQUMvQyxZQUFZO0FBQ1osK0JBQStCLG1CQUFPLENBQUMsc0ZBQVE7QUFDL0MsWUFBWTtBQUNaIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ORVdTID0gZXhwb3J0cy5NRVRBID0gZXhwb3J0cy5NT1ZJRVMgPSBleHBvcnRzLkxJR0hUX05PVkVMUyA9IGV4cG9ydHMuQ09NSUNTID0gZXhwb3J0cy5CT09LUyA9IGV4cG9ydHMuTUFOR0EgPSBleHBvcnRzLkFOSU1FID0gdm9pZCAwO1xuY29uc3QgYW5pbWVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9hbmltZVwiKSk7XG5leHBvcnRzLkFOSU1FID0gYW5pbWVfMS5kZWZhdWx0O1xuY29uc3QgbWFuZ2FfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9tYW5nYVwiKSk7XG5leHBvcnRzLk1BTkdBID0gbWFuZ2FfMS5kZWZhdWx0O1xuY29uc3QgbGlnaHRfbm92ZWxzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbGlnaHQtbm92ZWxzXCIpKTtcbmV4cG9ydHMuTElHSFRfTk9WRUxTID0gbGlnaHRfbm92ZWxzXzEuZGVmYXVsdDtcbmNvbnN0IGJvb2tzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9va3NcIikpO1xuZXhwb3J0cy5CT09LUyA9IGJvb2tzXzEuZGVmYXVsdDtcbmNvbnN0IGNvbWljc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NvbWljc1wiKSk7XG5leHBvcnRzLkNPTUlDUyA9IGNvbWljc18xLmRlZmF1bHQ7XG5jb25zdCBtb3ZpZXNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9tb3ZpZXNcIikpO1xuZXhwb3J0cy5NT1ZJRVMgPSBtb3ZpZXNfMS5kZWZhdWx0O1xuY29uc3QgbWV0YV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL21ldGFcIikpO1xuZXhwb3J0cy5NRVRBID0gbWV0YV8xLmRlZmF1bHQ7XG5jb25zdCBuZXdzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbmV3c1wiKSk7XG5leHBvcnRzLk5FV1MgPSBuZXdzXzEuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/light-novels/index.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/light-novels/index.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst readlightnovels_1 = __importDefault(__webpack_require__(/*! ./readlightnovels */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/light-novels/readlightnovels.js\"));\nconst novelupdates_1 = __importDefault(__webpack_require__(/*! ./novelupdates */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/light-novels/novelupdates.js\"));\nexports[\"default\"] = { ReadLightNovels: readlightnovels_1.default, NovelUpdates: novelupdates_1.default };\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbGlnaHQtbm92ZWxzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMENBQTBDLG1CQUFPLENBQUMsbUhBQW1CO0FBQ3JFLHVDQUF1QyxtQkFBTyxDQUFDLDZHQUFnQjtBQUMvRCxrQkFBZSxLQUFLO0FBQ3BCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXGxpZ2h0LW5vdmVsc1xcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCByZWFkbGlnaHRub3ZlbHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9yZWFkbGlnaHRub3ZlbHNcIikpO1xuY29uc3Qgbm92ZWx1cGRhdGVzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbm92ZWx1cGRhdGVzXCIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IHsgUmVhZExpZ2h0Tm92ZWxzOiByZWFkbGlnaHRub3ZlbHNfMS5kZWZhdWx0LCBOb3ZlbFVwZGF0ZXM6IG5vdmVsdXBkYXRlc18xLmRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/light-novels/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/light-novels/novelupdates.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/light-novels/novelupdates.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass NovelUpdates extends models_1.LightNovelParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'NovelUpdates';\n        this.baseUrl = 'https://www.novelupdates.com';\n        this.proxyURL = 'http://translate.google.com/translate?sl=ja&tl=en&u=';\n        this.logo = 'https://www.novelupdates.com/appicon.png';\n        this.classPath = 'LIGHT_NOVELS.NovelUpdates';\n        /**\n         *\n         * @param lightNovelUrl light novel link or id\n         * @param chapterPage chapter page number (optional) if not provided, will fetch all chapter pages.\n         */\n        this.fetchLightNovelInfo = async (lightNovelUrl, chapterPage = -1) => {\n            var _a, _b, _c, _d, _e, _f, _g;\n            if (!lightNovelUrl.startsWith(this.baseUrl)) {\n                lightNovelUrl = `${this.baseUrl}/series/${lightNovelUrl}`;\n            }\n            const lightNovelInfo = {\n                id: (_a = lightNovelUrl.split('/')) === null || _a === void 0 ? void 0 : _a.pop(),\n                title: '',\n                url: lightNovelUrl,\n            };\n            try {\n                const page = await fetch(`${this.proxyURL}${encodeURIComponent(lightNovelUrl)}`, {\n                    headers: {\n                        Referer: lightNovelUrl,\n                    },\n                });\n                const $ = (0, cheerio_1.load)(await page.text());\n                if ($('title').html() === 'Just a moment...' ||\n                    $('title').html() === 'Attention Required! | Cloudflare') {\n                    throw new Error('Client is blocked from accessing the site.');\n                }\n                lightNovelInfo.title = (_b = $('div.seriestitlenu').text()) === null || _b === void 0 ? void 0 : _b.trim();\n                lightNovelInfo.image = $('div.seriesimg img').attr('src');\n                lightNovelInfo.author = $('div#showauthors a').text();\n                lightNovelInfo.genres = $('div#seriesgenre a')\n                    .map((i, el) => $(el).text())\n                    .get();\n                lightNovelInfo.rating = parseFloat($('div.col-xs-12.col-sm-8.col-md-8.desc > div.rate > div.small > em > strong:nth-child(1) > span').text());\n                lightNovelInfo.views = parseInt($('div.col-xs-12.col-sm-4.col-md-4.info-holder > div.info > div:nth-child(4) > span').text());\n                lightNovelInfo.description = (_c = $('div#editdescription').text()) === null || _c === void 0 ? void 0 : _c.trim();\n                const status = (_d = $('div#editstatus').text()) === null || _d === void 0 ? void 0 : _d.trim();\n                if (status.includes('Complete')) {\n                    lightNovelInfo.status = models_1.MediaStatus.COMPLETED;\n                }\n                else if (status.includes('Ongoing')) {\n                    lightNovelInfo.status = models_1.MediaStatus.ONGOING;\n                }\n                else {\n                    lightNovelInfo.status = models_1.MediaStatus.UNKNOWN;\n                }\n                const postId = $('input#mypostid').attr('value');\n                lightNovelInfo.chapters = await this.fetchChapters(postId);\n                lightNovelInfo.rating =\n                    Number((_g = (_f = (_e = $('h5.seriesother span.uvotes').text()) === null || _e === void 0 ? void 0 : _e.split(' /')[0]) === null || _f === void 0 ? void 0 : _f.substring(1)) !== null && _g !== void 0 ? _g : 0) * 2;\n                return lightNovelInfo;\n            }\n            catch (err) {\n                console.error(err);\n                throw new Error(err.message);\n            }\n        };\n        this.fetchChapters = async (postId) => {\n            const chapters = [];\n            const chapterData = (await (await fetch(`${this.baseUrl}/wp-admin/admin-ajax.php`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n                    Cookie: '_ga=;',\n                },\n                body: `action=nd_getchapters&mypostid=${postId}&mypostid2=0`,\n            })).text()).substring(1);\n            const $ = (0, cheerio_1.load)(chapterData);\n            $('li.sp_li_chp a[data-id]').each((index, el) => {\n                const id = $(el).attr('data-id');\n                const title = $(el).find('span').text();\n                chapters.push({\n                    id: id,\n                    title: title,\n                    url: `${this.baseUrl}/extnu/${id}`,\n                });\n            });\n            return chapters;\n        };\n        /**\n         *\n         * @param chapterId chapter id or url\n         */\n        this.fetchChapterContent = async (chapterId) => {\n            if (!chapterId.startsWith(this.baseUrl)) {\n                chapterId = `${this.baseUrl}/extnu/${chapterId}`;\n            }\n            const contents = {\n                novelTitle: '',\n                chapterTitle: '',\n                text: '',\n            };\n            try {\n                const page = await fetch(`${this.proxyURL}${encodeURIComponent(chapterId)}`);\n                const data = await page.text();\n                const $ = (0, cheerio_1.load)(data);\n                contents.novelTitle = $('title').text();\n                contents.chapterTitle = $('title').text();\n                contents.text = data;\n                return contents;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param query search query string\n         */\n        this.search = async (query) => {\n            const result = { results: [] };\n            try {\n                const res = await fetch(`${this.proxyURL}${encodeURIComponent(`${this.baseUrl}/series-finder/?sf=1&sh=${encodeURIComponent(query)}`)}`, {\n                    headers: {\n                        Referer: this.baseUrl,\n                    },\n                });\n                const $ = (0, cheerio_1.load)(await res.text());\n                $('div.search_main_box_nu').each((i, el) => {\n                    var _a;\n                    result.results.push({\n                        id: (_a = $(el)\n                            .find('div.search_body_nu div.search_title a')\n                            .attr('href')) === null || _a === void 0 ? void 0 : _a.split('/series/')[1].split('/')[0],\n                        title: $(el).find('div.search_body_nu div.search_title a').text(),\n                        url: $(el).find('div.search_body_nu div.search_title a').attr('href'),\n                        image: $(el).find('div.search_img_nu img').attr('src'),\n                    });\n                });\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = NovelUpdates;\n// (async () => {\n//   const ln = new ReadLightNovels();\n//   const chap = await ln.fetchChapterContent('youkoso-jitsuryoku-shijou-shugi-no-kyoushitsu-e/volume-1-prologue-the-structure-of-japanese-society');\n//   console.log(chap);\n// })();\n//# sourceMappingURL=novelupdates.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbGlnaHQtbm92ZWxzL25vdmVsdXBkYXRlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxhQUFhLFVBQVUsY0FBYztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxjQUFjLEVBQUUsa0NBQWtDO0FBQzlGO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGFBQWE7QUFDcEU7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RSxrQ0FBa0M7QUFDbEMsaUJBQWlCO0FBQ2pCLHdEQUF3RCxPQUFPO0FBQy9ELGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixhQUFhLFNBQVMsR0FBRztBQUNyRCxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsYUFBYSxTQUFTLFVBQVU7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsY0FBYyxFQUFFLDhCQUE4QjtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBLDJDQUEyQyxjQUFjLEVBQUUsc0JBQXNCLGFBQWEsMEJBQTBCLDBCQUEwQixHQUFHO0FBQ3JKO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxsaWdodC1ub3ZlbHNcXG5vdmVsdXBkYXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY2xhc3MgTm92ZWxVcGRhdGVzIGV4dGVuZHMgbW9kZWxzXzEuTGlnaHROb3ZlbFBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdOb3ZlbFVwZGF0ZXMnO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly93d3cubm92ZWx1cGRhdGVzLmNvbSc7XG4gICAgICAgIHRoaXMucHJveHlVUkwgPSAnaHR0cDovL3RyYW5zbGF0ZS5nb29nbGUuY29tL3RyYW5zbGF0ZT9zbD1qYSZ0bD1lbiZ1PSc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL3d3dy5ub3ZlbHVwZGF0ZXMuY29tL2FwcGljb24ucG5nJztcbiAgICAgICAgdGhpcy5jbGFzc1BhdGggPSAnTElHSFRfTk9WRUxTLk5vdmVsVXBkYXRlcyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gbGlnaHROb3ZlbFVybCBsaWdodCBub3ZlbCBsaW5rIG9yIGlkXG4gICAgICAgICAqIEBwYXJhbSBjaGFwdGVyUGFnZSBjaGFwdGVyIHBhZ2UgbnVtYmVyIChvcHRpb25hbCkgaWYgbm90IHByb3ZpZGVkLCB3aWxsIGZldGNoIGFsbCBjaGFwdGVyIHBhZ2VzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaExpZ2h0Tm92ZWxJbmZvID0gYXN5bmMgKGxpZ2h0Tm92ZWxVcmwsIGNoYXB0ZXJQYWdlID0gLTEpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZztcbiAgICAgICAgICAgIGlmICghbGlnaHROb3ZlbFVybC5zdGFydHNXaXRoKHRoaXMuYmFzZVVybCkpIHtcbiAgICAgICAgICAgICAgICBsaWdodE5vdmVsVXJsID0gYCR7dGhpcy5iYXNlVXJsfS9zZXJpZXMvJHtsaWdodE5vdmVsVXJsfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsaWdodE5vdmVsSW5mbyA9IHtcbiAgICAgICAgICAgICAgICBpZDogKF9hID0gbGlnaHROb3ZlbFVybC5zcGxpdCgnLycpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucG9wKCksXG4gICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgIHVybDogbGlnaHROb3ZlbFVybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLnByb3h5VVJMfSR7ZW5jb2RlVVJJQ29tcG9uZW50KGxpZ2h0Tm92ZWxVcmwpfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogbGlnaHROb3ZlbFVybCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShhd2FpdCBwYWdlLnRleHQoKSk7XG4gICAgICAgICAgICAgICAgaWYgKCQoJ3RpdGxlJykuaHRtbCgpID09PSAnSnVzdCBhIG1vbWVudC4uLicgfHxcbiAgICAgICAgICAgICAgICAgICAgJCgndGl0bGUnKS5odG1sKCkgPT09ICdBdHRlbnRpb24gUmVxdWlyZWQhIHwgQ2xvdWRmbGFyZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbGllbnQgaXMgYmxvY2tlZCBmcm9tIGFjY2Vzc2luZyB0aGUgc2l0ZS4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGlnaHROb3ZlbEluZm8udGl0bGUgPSAoX2IgPSAkKCdkaXYuc2VyaWVzdGl0bGVudScpLnRleHQoKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBsaWdodE5vdmVsSW5mby5pbWFnZSA9ICQoJ2Rpdi5zZXJpZXNpbWcgaW1nJykuYXR0cignc3JjJyk7XG4gICAgICAgICAgICAgICAgbGlnaHROb3ZlbEluZm8uYXV0aG9yID0gJCgnZGl2I3Nob3dhdXRob3JzIGEnKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgbGlnaHROb3ZlbEluZm8uZ2VucmVzID0gJCgnZGl2I3Nlcmllc2dlbnJlIGEnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgbGlnaHROb3ZlbEluZm8ucmF0aW5nID0gcGFyc2VGbG9hdCgkKCdkaXYuY29sLXhzLTEyLmNvbC1zbS04LmNvbC1tZC04LmRlc2MgPiBkaXYucmF0ZSA+IGRpdi5zbWFsbCA+IGVtID4gc3Ryb25nOm50aC1jaGlsZCgxKSA+IHNwYW4nKS50ZXh0KCkpO1xuICAgICAgICAgICAgICAgIGxpZ2h0Tm92ZWxJbmZvLnZpZXdzID0gcGFyc2VJbnQoJCgnZGl2LmNvbC14cy0xMi5jb2wtc20tNC5jb2wtbWQtNC5pbmZvLWhvbGRlciA+IGRpdi5pbmZvID4gZGl2Om50aC1jaGlsZCg0KSA+IHNwYW4nKS50ZXh0KCkpO1xuICAgICAgICAgICAgICAgIGxpZ2h0Tm92ZWxJbmZvLmRlc2NyaXB0aW9uID0gKF9jID0gJCgnZGl2I2VkaXRkZXNjcmlwdGlvbicpLnRleHQoKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSAoX2QgPSAkKCdkaXYjZWRpdHN0YXR1cycpLnRleHQoKSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLmluY2x1ZGVzKCdDb21wbGV0ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0Tm92ZWxJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdHVzLmluY2x1ZGVzKCdPbmdvaW5nJykpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHROb3ZlbEluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lORztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0Tm92ZWxJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV047XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc3RJZCA9ICQoJ2lucHV0I215cG9zdGlkJykuYXR0cigndmFsdWUnKTtcbiAgICAgICAgICAgICAgICBsaWdodE5vdmVsSW5mby5jaGFwdGVycyA9IGF3YWl0IHRoaXMuZmV0Y2hDaGFwdGVycyhwb3N0SWQpO1xuICAgICAgICAgICAgICAgIGxpZ2h0Tm92ZWxJbmZvLnJhdGluZyA9XG4gICAgICAgICAgICAgICAgICAgIE51bWJlcigoX2cgPSAoX2YgPSAoX2UgPSAkKCdoNS5zZXJpZXNvdGhlciBzcGFuLnV2b3RlcycpLnRleHQoKSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnNwbGl0KCcgLycpWzBdKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Yuc3Vic3RyaW5nKDEpKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiAwKSAqIDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpZ2h0Tm92ZWxJbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQ2hhcHRlcnMgPSBhc3luYyAocG9zdElkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGFwdGVycyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgY2hhcHRlckRhdGEgPSAoYXdhaXQgKGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vd3AtYWRtaW4vYWRtaW4tYWpheC5waHBgLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcsXG4gICAgICAgICAgICAgICAgICAgIENvb2tpZTogJ19nYT07JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IGBhY3Rpb249bmRfZ2V0Y2hhcHRlcnMmbXlwb3N0aWQ9JHtwb3N0SWR9Jm15cG9zdGlkMj0wYCxcbiAgICAgICAgICAgIH0pKS50ZXh0KCkpLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGNoYXB0ZXJEYXRhKTtcbiAgICAgICAgICAgICQoJ2xpLnNwX2xpX2NocCBhW2RhdGEtaWRdJykuZWFjaCgoaW5kZXgsIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSAkKGVsKS5hdHRyKCdkYXRhLWlkJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSAkKGVsKS5maW5kKCdzcGFuJykudGV4dCgpO1xuICAgICAgICAgICAgICAgIGNoYXB0ZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9L2V4dG51LyR7aWR9YCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNoYXB0ZXJzO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGNoYXB0ZXJJZCBjaGFwdGVyIGlkIG9yIHVybFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaENoYXB0ZXJDb250ZW50ID0gYXN5bmMgKGNoYXB0ZXJJZCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjaGFwdGVySWQuc3RhcnRzV2l0aCh0aGlzLmJhc2VVcmwpKSB7XG4gICAgICAgICAgICAgICAgY2hhcHRlcklkID0gYCR7dGhpcy5iYXNlVXJsfS9leHRudS8ke2NoYXB0ZXJJZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29udGVudHMgPSB7XG4gICAgICAgICAgICAgICAgbm92ZWxUaXRsZTogJycsXG4gICAgICAgICAgICAgICAgY2hhcHRlclRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLnByb3h5VVJMfSR7ZW5jb2RlVVJJQ29tcG9uZW50KGNoYXB0ZXJJZCl9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhZ2UudGV4dCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnRlbnRzLm5vdmVsVGl0bGUgPSAkKCd0aXRsZScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBjb250ZW50cy5jaGFwdGVyVGl0bGUgPSAkKCd0aXRsZScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBjb250ZW50cy50ZXh0ID0gZGF0YTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSBzZWFyY2ggcXVlcnkgc3RyaW5nXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGFzeW5jIChxdWVyeSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geyByZXN1bHRzOiBbXSB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHt0aGlzLnByb3h5VVJMfSR7ZW5jb2RlVVJJQ29tcG9uZW50KGAke3RoaXMuYmFzZVVybH0vc2VyaWVzLWZpbmRlci8/c2Y9MSZzaD0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9YCl9YCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiB0aGlzLmJhc2VVcmwsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoYXdhaXQgcmVzLnRleHQoKSk7XG4gICAgICAgICAgICAgICAgJCgnZGl2LnNlYXJjaF9tYWluX2JveF9udScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9hID0gJChlbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnZGl2LnNlYXJjaF9ib2R5X251IGRpdi5zZWFyY2hfdGl0bGUgYScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KCcvc2VyaWVzLycpWzFdLnNwbGl0KCcvJylbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbCkuZmluZCgnZGl2LnNlYXJjaF9ib2R5X251IGRpdi5zZWFyY2hfdGl0bGUgYScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJChlbCkuZmluZCgnZGl2LnNlYXJjaF9ib2R5X251IGRpdi5zZWFyY2hfdGl0bGUgYScpLmF0dHIoJ2hyZWYnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdkaXYuc2VhcmNoX2ltZ19udSBpbWcnKS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IE5vdmVsVXBkYXRlcztcbi8vIChhc3luYyAoKSA9PiB7XG4vLyAgIGNvbnN0IGxuID0gbmV3IFJlYWRMaWdodE5vdmVscygpO1xuLy8gICBjb25zdCBjaGFwID0gYXdhaXQgbG4uZmV0Y2hDaGFwdGVyQ29udGVudCgneW91a29zby1qaXRzdXJ5b2t1LXNoaWpvdS1zaHVnaS1uby1reW91c2hpdHN1LWUvdm9sdW1lLTEtcHJvbG9ndWUtdGhlLXN0cnVjdHVyZS1vZi1qYXBhbmVzZS1zb2NpZXR5Jyk7XG4vLyAgIGNvbnNvbGUubG9nKGNoYXApO1xuLy8gfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vdmVsdXBkYXRlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/light-novels/novelupdates.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/light-novels/readlightnovels.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/light-novels/readlightnovels.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst form_data_1 = __importDefault(__webpack_require__(/*! form-data */ \"(rsc)/./node_modules/form-data/lib/form_data.js\"));\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nclass ReadLightNovels extends models_1.LightNovelParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'Read Light Novels';\n        this.baseUrl = 'https://readlightnovels.net';\n        this.logo = 'https://i.imgur.com/RDPjbc6.png';\n        this.classPath = 'LIGHT_NOVELS.ReadLightNovels';\n        /**\n         *\n         * @param lightNovelUrl light novel link or id\n         * @param chapterPage chapter page number (optional) if not provided, will fetch all chapter pages.\n         */\n        this.fetchLightNovelInfo = async (lightNovelUrl, chapterPage = -1) => {\n            var _a, _b;\n            if (!lightNovelUrl.startsWith(this.baseUrl)) {\n                lightNovelUrl = `${this.baseUrl}/${lightNovelUrl}.html`;\n            }\n            const lightNovelInfo = {\n                id: (_b = (_a = lightNovelUrl.split('/')) === null || _a === void 0 ? void 0 : _a.pop()) === null || _b === void 0 ? void 0 : _b.replace('.html', ''),\n                title: '',\n                url: lightNovelUrl,\n            };\n            try {\n                const page = await this.client.get(lightNovelUrl, {\n                    headers: {\n                        Referer: lightNovelUrl,\n                    },\n                });\n                const $ = (0, cheerio_1.load)(page.data);\n                const novelId = parseInt($('#id_post').val());\n                lightNovelInfo.title = $('div.col-xs-12.col-sm-8.col-md-8.desc > h3').text();\n                lightNovelInfo.image = $('div.col-xs-12.col-sm-4.col-md-4.info-holder > div.books > div > img').attr('src');\n                lightNovelInfo.author = $('div.col-xs-12.col-sm-4.col-md-4.info-holder > div.info > div:nth-child(1) > a').text();\n                lightNovelInfo.genres = $(' div.col-xs-12.col-sm-4.col-md-4.info-holder > div.info > div:nth-child(2) > a')\n                    .map((i, el) => $(el).text())\n                    .get();\n                lightNovelInfo.rating = parseFloat($('div.col-xs-12.col-sm-8.col-md-8.desc > div.rate > div.small > em > strong:nth-child(1) > span').text());\n                lightNovelInfo.views = parseInt($('div.col-xs-12.col-sm-4.col-md-4.info-holder > div.info > div:nth-child(4) > span').text());\n                lightNovelInfo.description = $('div.col-xs-12.col-sm-8.col-md-8.desc > div.desc-text > hr')\n                    .eq(0)\n                    .nextUntil('hr')\n                    .text();\n                const pages = Math.max(...$('#pagination > ul > li')\n                    .map((i, el) => parseInt($(el).find('a').attr('data-page')))\n                    .get()\n                    .filter(x => !isNaN(x)));\n                switch ($('div.col-xs-12.col-sm-4.col-md-4.info-holder > div.info > div:nth-child(3) > span').text()) {\n                    case 'Completed':\n                        lightNovelInfo.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                    case 'On Going':\n                        lightNovelInfo.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    default:\n                        lightNovelInfo.status = models_1.MediaStatus.UNKNOWN;\n                        break;\n                }\n                lightNovelInfo.pages = pages;\n                lightNovelInfo.chapters = [];\n                if (chapterPage === -1) {\n                    lightNovelInfo.chapters = await this.fetchAllChapters(novelId, pages, lightNovelUrl);\n                }\n                else {\n                    lightNovelInfo.chapters = await this.fetchChapters(novelId, chapterPage, lightNovelUrl);\n                }\n                return lightNovelInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchChapters = async (novelId, chapterPage, referer) => {\n            var _a;\n            const chapters = [];\n            const bodyFormData = new form_data_1.default();\n            bodyFormData.append('action', 'tw_ajax');\n            bodyFormData.append('type', 'pagination');\n            bodyFormData.append('page', chapterPage);\n            bodyFormData.append('id', novelId);\n            const page = await this.client({\n                method: 'post',\n                url: `${this.baseUrl}/wp-admin/admin-ajax.php`,\n                data: bodyFormData,\n                headers: {\n                    referer: referer,\n                    'content-type': 'multipart/form-data',\n                    origin: this.baseUrl,\n                    'user-agent': utils_1.USER_AGENT,\n                },\n            });\n            const $ = (0, cheerio_1.load)(page.data.list_chap);\n            for (const chapter of $('ul.list-chapter > li')) {\n                const subId = (_a = $(chapter).find('a').attr('href').split('/')) === null || _a === void 0 ? void 0 : _a.pop().replace('.html', '');\n                const id = $(chapter).find('a').attr('href').split('/')[3];\n                chapters.push({\n                    id: `${id}/${subId}`,\n                    title: $(chapter).find('a > span').text().trim(),\n                    url: $(chapter).find('a').attr('href'),\n                });\n            }\n            return chapters;\n        };\n        this.fetchAllChapters = async (novelId, pages, referer) => {\n            const chapters = [];\n            for (const pageNumber of Array.from({ length: pages }, (_, i) => i + 1)) {\n                const chaptersPage = await this.fetchChapters(novelId, pageNumber, referer);\n                chapters.push(...chaptersPage);\n            }\n            return chapters;\n        };\n        /**\n         *\n         * @param chapterId chapter id or url\n         */\n        this.fetchChapterContent = async (chapterId) => {\n            if (!chapterId.startsWith(this.baseUrl)) {\n                chapterId = `${this.baseUrl}/${chapterId}.html`;\n            }\n            const contents = {\n                novelTitle: '',\n                chapterTitle: '',\n                text: '',\n            };\n            try {\n                const page = await this.client.get(chapterId);\n                const $ = (0, cheerio_1.load)(page.data);\n                contents.novelTitle = $('.truyen-title').text();\n                contents.chapterTitle = $('.chapter-title').text();\n                for (const line of $('div.chapter-content > p')) {\n                    if ($(line).text() != '﻿') {\n                        contents.text += `${$(line).text()}\\n`;\n                    }\n                }\n                return contents;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param query search query string\n         */\n        this.search = async (query) => {\n            const result = { results: [] };\n            try {\n                const res = await this.client.post(`${this.baseUrl}/?s=${query}`);\n                const $ = (0, cheerio_1.load)(res.data);\n                $('div.col-xs-12.col-sm-12.col-md-9.col-truyen-main > div:nth-child(1) > div > div:nth-child(2) > div.col-md-3.col-sm-6.col-xs-6.home-truyendecu').each((i, el) => {\n                    var _a;\n                    result.results.push({\n                        id: (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[3].replace('.html', ''),\n                        title: $(el).find('a > div > h3').text(),\n                        url: $(el).find('a').attr('href'),\n                        image: $(el).find('a > img').attr('src'),\n                    });\n                });\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = ReadLightNovels;\n// (async () => {\n//   const ln = new ReadLightNovels();\n//   const chap = await ln.fetchChapterContent('youkoso-jitsuryoku-shijou-shugi-no-kyoushitsu-e/volume-1-prologue-the-structure-of-japanese-society');\n//   console.log(chap);\n// })();\n//# sourceMappingURL=readlightnovels.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbGlnaHQtbm92ZWxzL3JlYWRsaWdodG5vdmVscy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLG9DQUFvQyxtQkFBTyxDQUFDLGtFQUFXO0FBQ3ZELGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDLGdCQUFnQixtQkFBTyxDQUFDLGtGQUFhO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxhQUFhLEdBQUcsY0FBYztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixhQUFhO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixHQUFHLEdBQUcsTUFBTTtBQUN2QztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsZUFBZTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGFBQWEsR0FBRyxVQUFVO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGVBQWU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSxzREFBc0QsYUFBYSxNQUFNLE1BQU07QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0oiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcbGlnaHQtbm92ZWxzXFxyZWFkbGlnaHRub3ZlbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IGZvcm1fZGF0YV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJmb3JtLWRhdGFcIikpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlsc1wiKTtcbmNsYXNzIFJlYWRMaWdodE5vdmVscyBleHRlbmRzIG1vZGVsc18xLkxpZ2h0Tm92ZWxQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnUmVhZCBMaWdodCBOb3ZlbHMnO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9yZWFkbGlnaHRub3ZlbHMubmV0JztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vaS5pbWd1ci5jb20vUkRQamJjNi5wbmcnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdMSUdIVF9OT1ZFTFMuUmVhZExpZ2h0Tm92ZWxzJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBsaWdodE5vdmVsVXJsIGxpZ2h0IG5vdmVsIGxpbmsgb3IgaWRcbiAgICAgICAgICogQHBhcmFtIGNoYXB0ZXJQYWdlIGNoYXB0ZXIgcGFnZSBudW1iZXIgKG9wdGlvbmFsKSBpZiBub3QgcHJvdmlkZWQsIHdpbGwgZmV0Y2ggYWxsIGNoYXB0ZXIgcGFnZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoTGlnaHROb3ZlbEluZm8gPSBhc3luYyAobGlnaHROb3ZlbFVybCwgY2hhcHRlclBhZ2UgPSAtMSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmICghbGlnaHROb3ZlbFVybC5zdGFydHNXaXRoKHRoaXMuYmFzZVVybCkpIHtcbiAgICAgICAgICAgICAgICBsaWdodE5vdmVsVXJsID0gYCR7dGhpcy5iYXNlVXJsfS8ke2xpZ2h0Tm92ZWxVcmx9Lmh0bWxgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbGlnaHROb3ZlbEluZm8gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IChfYiA9IChfYSA9IGxpZ2h0Tm92ZWxVcmwuc3BsaXQoJy8nKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBvcCgpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVwbGFjZSgnLmh0bWwnLCAnJyksXG4gICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgIHVybDogbGlnaHROb3ZlbFVybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQobGlnaHROb3ZlbFVybCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiBsaWdodE5vdmVsVXJsLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKHBhZ2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm92ZWxJZCA9IHBhcnNlSW50KCQoJyNpZF9wb3N0JykudmFsKCkpO1xuICAgICAgICAgICAgICAgIGxpZ2h0Tm92ZWxJbmZvLnRpdGxlID0gJCgnZGl2LmNvbC14cy0xMi5jb2wtc20tOC5jb2wtbWQtOC5kZXNjID4gaDMnKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgbGlnaHROb3ZlbEluZm8uaW1hZ2UgPSAkKCdkaXYuY29sLXhzLTEyLmNvbC1zbS00LmNvbC1tZC00LmluZm8taG9sZGVyID4gZGl2LmJvb2tzID4gZGl2ID4gaW1nJykuYXR0cignc3JjJyk7XG4gICAgICAgICAgICAgICAgbGlnaHROb3ZlbEluZm8uYXV0aG9yID0gJCgnZGl2LmNvbC14cy0xMi5jb2wtc20tNC5jb2wtbWQtNC5pbmZvLWhvbGRlciA+IGRpdi5pbmZvID4gZGl2Om50aC1jaGlsZCgxKSA+IGEnKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgbGlnaHROb3ZlbEluZm8uZ2VucmVzID0gJCgnIGRpdi5jb2wteHMtMTIuY29sLXNtLTQuY29sLW1kLTQuaW5mby1ob2xkZXIgPiBkaXYuaW5mbyA+IGRpdjpudGgtY2hpbGQoMikgPiBhJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+ICQoZWwpLnRleHQoKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIGxpZ2h0Tm92ZWxJbmZvLnJhdGluZyA9IHBhcnNlRmxvYXQoJCgnZGl2LmNvbC14cy0xMi5jb2wtc20tOC5jb2wtbWQtOC5kZXNjID4gZGl2LnJhdGUgPiBkaXYuc21hbGwgPiBlbSA+IHN0cm9uZzpudGgtY2hpbGQoMSkgPiBzcGFuJykudGV4dCgpKTtcbiAgICAgICAgICAgICAgICBsaWdodE5vdmVsSW5mby52aWV3cyA9IHBhcnNlSW50KCQoJ2Rpdi5jb2wteHMtMTIuY29sLXNtLTQuY29sLW1kLTQuaW5mby1ob2xkZXIgPiBkaXYuaW5mbyA+IGRpdjpudGgtY2hpbGQoNCkgPiBzcGFuJykudGV4dCgpKTtcbiAgICAgICAgICAgICAgICBsaWdodE5vdmVsSW5mby5kZXNjcmlwdGlvbiA9ICQoJ2Rpdi5jb2wteHMtMTIuY29sLXNtLTguY29sLW1kLTguZGVzYyA+IGRpdi5kZXNjLXRleHQgPiBocicpXG4gICAgICAgICAgICAgICAgICAgIC5lcSgwKVxuICAgICAgICAgICAgICAgICAgICAubmV4dFVudGlsKCdocicpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZXMgPSBNYXRoLm1heCguLi4kKCcjcGFnaW5hdGlvbiA+IHVsID4gbGknKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gcGFyc2VJbnQoJChlbCkuZmluZCgnYScpLmF0dHIoJ2RhdGEtcGFnZScpKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoeCA9PiAhaXNOYU4oeCkpKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKCQoJ2Rpdi5jb2wteHMtMTIuY29sLXNtLTQuY29sLW1kLTQuaW5mby1ob2xkZXIgPiBkaXYuaW5mbyA+IGRpdjpudGgtY2hpbGQoMykgPiBzcGFuJykudGV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBsaWdodE5vdmVsSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5DT01QTEVURUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnT24gR29pbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgbGlnaHROb3ZlbEluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lORztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgbGlnaHROb3ZlbEluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuVU5LTk9XTjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaWdodE5vdmVsSW5mby5wYWdlcyA9IHBhZ2VzO1xuICAgICAgICAgICAgICAgIGxpZ2h0Tm92ZWxJbmZvLmNoYXB0ZXJzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKGNoYXB0ZXJQYWdlID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBsaWdodE5vdmVsSW5mby5jaGFwdGVycyA9IGF3YWl0IHRoaXMuZmV0Y2hBbGxDaGFwdGVycyhub3ZlbElkLCBwYWdlcywgbGlnaHROb3ZlbFVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaWdodE5vdmVsSW5mby5jaGFwdGVycyA9IGF3YWl0IHRoaXMuZmV0Y2hDaGFwdGVycyhub3ZlbElkLCBjaGFwdGVyUGFnZSwgbGlnaHROb3ZlbFVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsaWdodE5vdmVsSW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQ2hhcHRlcnMgPSBhc3luYyAobm92ZWxJZCwgY2hhcHRlclBhZ2UsIHJlZmVyZXIpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IGNoYXB0ZXJzID0gW107XG4gICAgICAgICAgICBjb25zdCBib2R5Rm9ybURhdGEgPSBuZXcgZm9ybV9kYXRhXzEuZGVmYXVsdCgpO1xuICAgICAgICAgICAgYm9keUZvcm1EYXRhLmFwcGVuZCgnYWN0aW9uJywgJ3R3X2FqYXgnKTtcbiAgICAgICAgICAgIGJvZHlGb3JtRGF0YS5hcHBlbmQoJ3R5cGUnLCAncGFnaW5hdGlvbicpO1xuICAgICAgICAgICAgYm9keUZvcm1EYXRhLmFwcGVuZCgncGFnZScsIGNoYXB0ZXJQYWdlKTtcbiAgICAgICAgICAgIGJvZHlGb3JtRGF0YS5hcHBlbmQoJ2lkJywgbm92ZWxJZCk7XG4gICAgICAgICAgICBjb25zdCBwYWdlID0gYXdhaXQgdGhpcy5jbGllbnQoe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfS93cC1hZG1pbi9hZG1pbi1hamF4LnBocGAsXG4gICAgICAgICAgICAgICAgZGF0YTogYm9keUZvcm1EYXRhLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlcjogcmVmZXJlcixcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiB0aGlzLmJhc2VVcmwsXG4gICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogdXRpbHNfMS5VU0VSX0FHRU5ULFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKHBhZ2UuZGF0YS5saXN0X2NoYXApO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjaGFwdGVyIG9mICQoJ3VsLmxpc3QtY2hhcHRlciA+IGxpJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJJZCA9IChfYSA9ICQoY2hhcHRlcikuZmluZCgnYScpLmF0dHIoJ2hyZWYnKS5zcGxpdCgnLycpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucG9wKCkucmVwbGFjZSgnLmh0bWwnLCAnJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSAkKGNoYXB0ZXIpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJykuc3BsaXQoJy8nKVszXTtcbiAgICAgICAgICAgICAgICBjaGFwdGVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGAke2lkfS8ke3N1YklkfWAsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGNoYXB0ZXIpLmZpbmQoJ2EgPiBzcGFuJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKGNoYXB0ZXIpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hhcHRlcnM7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hBbGxDaGFwdGVycyA9IGFzeW5jIChub3ZlbElkLCBwYWdlcywgcmVmZXJlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hhcHRlcnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFnZU51bWJlciBvZiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBwYWdlcyB9LCAoXywgaSkgPT4gaSArIDEpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhcHRlcnNQYWdlID0gYXdhaXQgdGhpcy5mZXRjaENoYXB0ZXJzKG5vdmVsSWQsIHBhZ2VOdW1iZXIsIHJlZmVyZXIpO1xuICAgICAgICAgICAgICAgIGNoYXB0ZXJzLnB1c2goLi4uY2hhcHRlcnNQYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaGFwdGVycztcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBjaGFwdGVySWQgY2hhcHRlciBpZCBvciB1cmxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hDaGFwdGVyQ29udGVudCA9IGFzeW5jIChjaGFwdGVySWQpID0+IHtcbiAgICAgICAgICAgIGlmICghY2hhcHRlcklkLnN0YXJ0c1dpdGgodGhpcy5iYXNlVXJsKSkge1xuICAgICAgICAgICAgICAgIGNoYXB0ZXJJZCA9IGAke3RoaXMuYmFzZVVybH0vJHtjaGFwdGVySWR9Lmh0bWxgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29udGVudHMgPSB7XG4gICAgICAgICAgICAgICAgbm92ZWxUaXRsZTogJycsXG4gICAgICAgICAgICAgICAgY2hhcHRlclRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoY2hhcHRlcklkKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShwYWdlLmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnRlbnRzLm5vdmVsVGl0bGUgPSAkKCcudHJ1eWVuLXRpdGxlJykudGV4dCgpO1xuICAgICAgICAgICAgICAgIGNvbnRlbnRzLmNoYXB0ZXJUaXRsZSA9ICQoJy5jaGFwdGVyLXRpdGxlJykudGV4dCgpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiAkKCdkaXYuY2hhcHRlci1jb250ZW50ID4gcCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkKGxpbmUpLnRleHQoKSAhPSAn77u/Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudHMudGV4dCArPSBgJHskKGxpbmUpLnRleHQoKX1cXG5gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHF1ZXJ5IHNlYXJjaCBxdWVyeSBzdHJpbmdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7IHJlc3VsdHM6IFtdIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LnBvc3QoYCR7dGhpcy5iYXNlVXJsfS8/cz0ke3F1ZXJ5fWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKHJlcy5kYXRhKTtcbiAgICAgICAgICAgICAgICAkKCdkaXYuY29sLXhzLTEyLmNvbC1zbS0xMi5jb2wtbWQtOS5jb2wtdHJ1eWVuLW1haW4gPiBkaXY6bnRoLWNoaWxkKDEpID4gZGl2ID4gZGl2Om50aC1jaGlsZCgyKSA+IGRpdi5jb2wtbWQtMy5jb2wtc20tNi5jb2wteHMtNi5ob21lLXRydXllbmRlY3UnKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWwpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnLycpWzNdLnJlcGxhY2UoJy5odG1sJywgJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJ2EgPiBkaXYgPiBoMycpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdhID4gaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBSZWFkTGlnaHROb3ZlbHM7XG4vLyAoYXN5bmMgKCkgPT4ge1xuLy8gICBjb25zdCBsbiA9IG5ldyBSZWFkTGlnaHROb3ZlbHMoKTtcbi8vICAgY29uc3QgY2hhcCA9IGF3YWl0IGxuLmZldGNoQ2hhcHRlckNvbnRlbnQoJ3lvdWtvc28taml0c3VyeW9rdS1zaGlqb3Utc2h1Z2ktbm8ta3lvdXNoaXRzdS1lL3ZvbHVtZS0xLXByb2xvZ3VlLXRoZS1zdHJ1Y3R1cmUtb2YtamFwYW5lc2Utc29jaWV0eScpO1xuLy8gICBjb25zb2xlLmxvZyhjaGFwKTtcbi8vIH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFkbGlnaHRub3ZlbHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/light-novels/readlightnovels.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/asurascans.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/asurascans.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass AsuraScans extends models_1.MangaParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'AsuraScans';\n        this.baseUrl = 'https://asuracomic.net';\n        this.logo = 'https://asuracomic.net/images/logo.png';\n        this.classPath = 'MANGA.AsuraScans';\n        this.fetchMangaInfo = async (mangaId) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/${mangaId}`);\n                const $ = (0, cheerio_1.load)(data);\n                const dom = $('html');\n                const topInfoWrapper = dom.find('.relative.col-span-12.space-y-3.px-6');\n                const info = {\n                    id: mangaId,\n                    title: dom.find('.text-xl.font-bold:nth-child(1)').text().trim(),\n                    image: $(topInfoWrapper).find('img').attr('src'),\n                    rating: $(topInfoWrapper).find('div > div.px-2.py-1 > p').text().trim(),\n                    status: this.determineMediaState($(topInfoWrapper).find('div > div.flex.flex-row > div:nth-child(1) > h3:nth-child(2)').text().trim()),\n                    description: dom.find('span.font-medium.text-sm').text().trim(),\n                    authors: dom\n                        .find('.grid.grid-cols-1.gap-5.mt-8 > div:nth-child(2) > h3:nth-child(2)')\n                        .text()\n                        .trim()\n                        .split('/')\n                        .map(ele => ele.trim()),\n                    artist: dom.find('.grid.grid-cols-1.gap-5.mt-8 > div:nth-child(3) > h3:nth-child(2)').text().trim(),\n                    updatedOn: dom\n                        .find('.grid.grid-cols-1.gap-5.mt-8 > div:nth-child(5) > h3:nth-child(2)')\n                        .text()\n                        .trim(),\n                    genres: dom\n                        .find('.space-y-1.pt-4 > div > button')\n                        .map((index, ele) => $(ele).text().trim())\n                        .get(),\n                    recommendations: dom\n                        .find('.grid.grid-cols-2.gap-3.p-4 > a')\n                        .map((index, ele) => {\n                        return {\n                            id: $(ele).attr('href'),\n                            title: $(ele).find('div > h2.font-bold').text().trim(),\n                            image: $(ele).find('div > div > img').attr('src'),\n                            latestChapter: $(ele).find('div > h2:nth-child(3)').text().trim(),\n                            status: this.determineMediaState($(ele).find('div > div:nth-child(1) > span').text().trim()),\n                            rating: $(ele).find('div > div.block > span > label').text().trim(),\n                        };\n                    })\n                        .get(),\n                };\n                const chapMatch = data\n                    .replace(/\\n/g, '')\n                    .replace(/\\\\/g, '')\n                    .match(/\"chapters\".*:(\\[\\{.*?\\}\\]),/);\n                if (chapMatch) {\n                    const chap = JSON.parse(chapMatch[1]);\n                    info.chapters = chap.map((ele) => {\n                        return {\n                            id: ele.name,\n                            title: ele.title != '' ? ele.title : `Chapter ${ele.name}`,\n                            releaseDate: ele.published_at,\n                        };\n                    });\n                }\n                return info;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchChapterPages = async (chapterId) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/series/${chapterId}`);\n                const chapMatch = data.replace(/\\\\/g, '').match(/pages.*:(\\[{['\"]order[\"'].*?}\\])/);\n                if (!chapMatch)\n                    throw new Error('Parsing error');\n                const chap = JSON.parse(chapMatch[1]);\n                return chap.map((page, index) => ({\n                    page: index + 1,\n                    img: page.url,\n                }));\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param query Search query\n         */\n        this.search = async (query, page = 1) => {\n            try {\n                const formattedQuery = encodeURI(query.toLowerCase());\n                const { data } = await this.client.get(`${this.baseUrl}/series?page=${page}&name=${formattedQuery}`);\n                const $ = (0, cheerio_1.load)(data);\n                const dom = $('html');\n                const results = dom\n                    .find('.grid.grid-cols-2.gap-3.p-4 > a')\n                    .map((index, ele) => {\n                    return {\n                        id: $(ele).attr('href'),\n                        title: $(ele).find('div > div > div:nth-child(2) > span:nth-child(1)').text().trim(),\n                        image: $(ele).find('div > div > div:nth-child(1) > img').attr('src'),\n                        status: this.determineMediaState($(ele).find('div > div > div:nth-child(1) > span').text().trim()),\n                        latestChapter: $(ele).find('div > div > div:nth-child(2) > span:nth-child(2)').text().trim(),\n                        rating: $(ele).find('div > div > div:nth-child(2) > span:nth-child(3) > label').text().trim(),\n                    };\n                })\n                    .get();\n                const searchResults = {\n                    currentPage: page,\n                    hasNextPage: dom.find('.flex.items-center.justify-center > a').attr('style')\n                        .split('pointer-events:')[1]\n                        .slice(1, -1) === 'auto'\n                        ? true\n                        : false,\n                    results: results,\n                };\n                return searchResults;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n    determineMediaState(state) {\n        switch (state.toLowerCase().trim()) {\n            case 'completed':\n                return models_1.MediaStatus.COMPLETED;\n            case 'ongoing':\n                return models_1.MediaStatus.ONGOING;\n            case 'dropped':\n                return models_1.MediaStatus.CANCELLED;\n            default:\n                return models_1.MediaStatus.UNKNOWN;\n        }\n    }\n}\nexports[\"default\"] = AsuraScans;\n//# sourceMappingURL=asurascans.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2EvYXN1cmFzY2Fucy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxHQUFHLFFBQVE7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsS0FBSztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLFNBQVM7QUFDckY7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxVQUFVLFVBQVU7QUFDM0YsNkVBQTZFLGlCQUFpQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsZUFBZSxLQUFLLFFBQVEsZUFBZTtBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXG1hbmdhXFxhc3VyYXNjYW5zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2hlZXJpb18xID0gcmVxdWlyZShcImNoZWVyaW9cIik7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHNcIik7XG5jbGFzcyBBc3VyYVNjYW5zIGV4dGVuZHMgbW9kZWxzXzEuTWFuZ2FQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQXN1cmFTY2Fucyc7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL2FzdXJhY29taWMubmV0JztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vYXN1cmFjb21pYy5uZXQvaW1hZ2VzL2xvZ28ucG5nJztcbiAgICAgICAgdGhpcy5jbGFzc1BhdGggPSAnTUFOR0EuQXN1cmFTY2Fucyc7XG4gICAgICAgIHRoaXMuZmV0Y2hNYW5nYUluZm8gPSBhc3luYyAobWFuZ2FJZCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9LyR7bWFuZ2FJZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb20gPSAkKCdodG1sJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9wSW5mb1dyYXBwZXIgPSBkb20uZmluZCgnLnJlbGF0aXZlLmNvbC1zcGFuLTEyLnNwYWNlLXktMy5weC02Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG1hbmdhSWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBkb20uZmluZCgnLnRleHQteGwuZm9udC1ib2xkOm50aC1jaGlsZCgxKScpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKHRvcEluZm9XcmFwcGVyKS5maW5kKCdpbWcnKS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAkKHRvcEluZm9XcmFwcGVyKS5maW5kKCdkaXYgPiBkaXYucHgtMi5weS0xID4gcCcpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogdGhpcy5kZXRlcm1pbmVNZWRpYVN0YXRlKCQodG9wSW5mb1dyYXBwZXIpLmZpbmQoJ2RpdiA+IGRpdi5mbGV4LmZsZXgtcm93ID4gZGl2Om50aC1jaGlsZCgxKSA+IGgzOm50aC1jaGlsZCgyKScpLnRleHQoKS50cmltKCkpLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZG9tLmZpbmQoJ3NwYW4uZm9udC1tZWRpdW0udGV4dC1zbScpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIGF1dGhvcnM6IGRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5ncmlkLmdyaWQtY29scy0xLmdhcC01Lm10LTggPiBkaXY6bnRoLWNoaWxkKDIpID4gaDM6bnRoLWNoaWxkKDIpJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnLycpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGVsZSA9PiBlbGUudHJpbSgpKSxcbiAgICAgICAgICAgICAgICAgICAgYXJ0aXN0OiBkb20uZmluZCgnLmdyaWQuZ3JpZC1jb2xzLTEuZ2FwLTUubXQtOCA+IGRpdjpudGgtY2hpbGQoMykgPiBoMzpudGgtY2hpbGQoMiknKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkT246IGRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5ncmlkLmdyaWQtY29scy0xLmdhcC01Lm10LTggPiBkaXY6bnRoLWNoaWxkKDUpID4gaDM6bnRoLWNoaWxkKDIpJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIGdlbnJlczogZG9tXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnLnNwYWNlLXktMS5wdC00ID4gZGl2ID4gYnV0dG9uJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGluZGV4LCBlbGUpID0+ICQoZWxlKS50ZXh0KCkudHJpbSgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldCgpLFxuICAgICAgICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IGRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5ncmlkLmdyaWQtY29scy0yLmdhcC0zLnAtNCA+IGEnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaW5kZXgsIGVsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJChlbGUpLmF0dHIoJ2hyZWYnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbGUpLmZpbmQoJ2RpdiA+IGgyLmZvbnQtYm9sZCcpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWxlKS5maW5kKCdkaXYgPiBkaXYgPiBpbWcnKS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRlc3RDaGFwdGVyOiAkKGVsZSkuZmluZCgnZGl2ID4gaDI6bnRoLWNoaWxkKDMpJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRoaXMuZGV0ZXJtaW5lTWVkaWFTdGF0ZSgkKGVsZSkuZmluZCgnZGl2ID4gZGl2Om50aC1jaGlsZCgxKSA+IHNwYW4nKS50ZXh0KCkudHJpbSgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmc6ICQoZWxlKS5maW5kKCdkaXYgPiBkaXYuYmxvY2sgPiBzcGFuID4gbGFiZWwnKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXBNYXRjaCA9IGRhdGFcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgJycpXG4gICAgICAgICAgICAgICAgICAgIC5tYXRjaCgvXCJjaGFwdGVyc1wiLio6KFxcW1xcey4qP1xcfVxcXSksLyk7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXBNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFwID0gSlNPTi5wYXJzZShjaGFwTWF0Y2hbMV0pO1xuICAgICAgICAgICAgICAgICAgICBpbmZvLmNoYXB0ZXJzID0gY2hhcC5tYXAoKGVsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGVsZS50aXRsZSAhPSAnJyA/IGVsZS50aXRsZSA6IGBDaGFwdGVyICR7ZWxlLm5hbWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogZWxlLnB1Ymxpc2hlZF9hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQ2hhcHRlclBhZ2VzID0gYXN5bmMgKGNoYXB0ZXJJZCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L3Nlcmllcy8ke2NoYXB0ZXJJZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFwTWF0Y2ggPSBkYXRhLnJlcGxhY2UoL1xcXFwvZywgJycpLm1hdGNoKC9wYWdlcy4qOihcXFt7WydcIl1vcmRlcltcIiddLio/fVxcXSkvKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNoYXBNYXRjaClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJzaW5nIGVycm9yJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhcCA9IEpTT04ucGFyc2UoY2hhcE1hdGNoWzFdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcC5tYXAoKHBhZ2UsIGluZGV4KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBwYWdlOiBpbmRleCArIDEsXG4gICAgICAgICAgICAgICAgICAgIGltZzogcGFnZS51cmwsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgU2VhcmNoIHF1ZXJ5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGFzeW5jIChxdWVyeSwgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkUXVlcnkgPSBlbmNvZGVVUkkocXVlcnkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9zZXJpZXM/cGFnZT0ke3BhZ2V9Jm5hbWU9JHtmb3JtYXR0ZWRRdWVyeX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb20gPSAkKCdodG1sJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGRvbVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmdyaWQuZ3JpZC1jb2xzLTIuZ2FwLTMucC00ID4gYScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGluZGV4LCBlbGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAkKGVsZSkuYXR0cignaHJlZicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWxlKS5maW5kKCdkaXYgPiBkaXYgPiBkaXY6bnRoLWNoaWxkKDIpID4gc3BhbjpudGgtY2hpbGQoMSknKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWxlKS5maW5kKCdkaXYgPiBkaXYgPiBkaXY6bnRoLWNoaWxkKDEpID4gaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRoaXMuZGV0ZXJtaW5lTWVkaWFTdGF0ZSgkKGVsZSkuZmluZCgnZGl2ID4gZGl2ID4gZGl2Om50aC1jaGlsZCgxKSA+IHNwYW4nKS50ZXh0KCkudHJpbSgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdENoYXB0ZXI6ICQoZWxlKS5maW5kKCdkaXYgPiBkaXYgPiBkaXY6bnRoLWNoaWxkKDIpID4gc3BhbjpudGgtY2hpbGQoMiknKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAkKGVsZSkuZmluZCgnZGl2ID4gZGl2ID4gZGl2Om50aC1jaGlsZCgyKSA+IHNwYW46bnRoLWNoaWxkKDMpID4gbGFiZWwnKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hSZXN1bHRzID0ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGRvbS5maW5kKCcuZmxleC5pdGVtcy1jZW50ZXIuanVzdGlmeS1jZW50ZXIgPiBhJykuYXR0cignc3R5bGUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCdwb2ludGVyLWV2ZW50czonKVsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDEsIC0xKSA9PT0gJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IHJlc3VsdHMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoUmVzdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBkZXRlcm1pbmVNZWRpYVN0YXRlKHN0YXRlKSB7XG4gICAgICAgIHN3aXRjaCAoc3RhdGUudG9Mb3dlckNhc2UoKS50cmltKCkpIHtcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRDtcbiAgICAgICAgICAgIGNhc2UgJ29uZ29pbmcnOlxuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HO1xuICAgICAgICAgICAgY2FzZSAnZHJvcHBlZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsc18xLk1lZGlhU3RhdHVzLkNBTkNFTExFRDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV047XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBBc3VyYVNjYW5zO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN1cmFzY2Fucy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/asurascans.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/brmangas.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/brmangas.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass BRMangas extends models_1.MangaParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'BRMangas';\n        this.baseUrl = 'https://www.brmangas.net';\n        this.logo = 'https://www.brmangas.net/wp-content/themes/brmangasnew/images/svg/logo.svg';\n        this.classPath = 'MANGA.BRMangas';\n        this.fetchMangaInfo = async (mangaId) => {\n            const mangaInfo = {\n                id: mangaId,\n                title: '',\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/manga/${mangaId}`);\n                const $ = (0, cheerio_1.load)(data);\n                const title = $('body > div.scroller-inner > div.wrapper > main > section > div > h1.titulo').text();\n                const descriptionAndAltTitles = $('body > div.scroller-inner > div.wrapper > main > div > div > div.col > div.serie-texto > div > p:nth-child(3)')\n                    .text()\n                    .split('\\n');\n                mangaInfo.title = title.slice(3, title.length - 7).trim();\n                mangaInfo.altTitles = descriptionAndAltTitles.filter((_, i) => i > 0);\n                mangaInfo.description = descriptionAndAltTitles[0];\n                mangaInfo.headerForImage = { Referer: this.baseUrl };\n                mangaInfo.image = $('body > div.scroller-inner > div.wrapper > main > div > div > div.serie-geral > div.infoall > div.serie-capa > img').attr('src');\n                mangaInfo.genres = $('body > div.scroller-inner > div.wrapper > main > div > div > div.serie-geral > div.infoall > div.serie-infos > ul > li:nth-child(3)')\n                    .text()\n                    .slice(11)\n                    .split(',')\n                    .map(genre => genre.trim());\n                mangaInfo.status = models_1.MediaStatus.UNKNOWN;\n                mangaInfo.views = null;\n                mangaInfo.authors = [\n                    $('body > div.scroller-inner > div.wrapper > main > div > div > div.serie-geral > div.infoall > div.serie-infos > ul > li:nth-child(2)')\n                        .text()\n                        .replace('Autor: ', '')\n                        .trim(),\n                ];\n                mangaInfo.chapters = $('body > div.scroller-inner > div.wrapper > main > div > div > div:nth-child(2) > div.manga > div.container_t > div.lista_manga > ul > li')\n                    .map((i, el) => {\n                    var _a;\n                    return {\n                        id: `${(_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[4]}`,\n                        title: $(el).find('a').text(),\n                        views: null,\n                        releasedDate: null,\n                    };\n                })\n                    .get();\n                return mangaInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchChapterPages = async (chapterId) => {\n            try {\n                const url = `${this.baseUrl}/ler/${chapterId}`;\n                const { data } = await this.client.get(url);\n                const $ = (0, cheerio_1.load)(data);\n                const script = $('script');\n                const pageURLs = JSON.parse(script\n                    .filter((i, el) => $(el).text().includes('imageArray'))\n                    .text()\n                    .trim()\n                    .slice(13, -2)\n                    .replace(/\\\\/g, ''));\n                console.log(pageURLs.images);\n                const pages = pageURLs.images.map((img, i) => ({\n                    img: img,\n                    page: i,\n                    title: `Page ${i + 1}`,\n                    headerForImage: { Referer: this.baseUrl },\n                }));\n                return pages;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param query Search query\n         */\n        this.search = async (query) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/?s=${query.replace(/ /g, '+')}`);\n                const $ = (0, cheerio_1.load)(data);\n                const results = $('body > div.scroller-inner > div.wrapper > main > div.container > div.listagem > div.col')\n                    .map((i, row) => {\n                    var _a;\n                    return ({\n                        id: (_a = $(row).find('div.item > a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[4],\n                        title: $(row).find('div.item > a > h2').text(),\n                        image: $(row).find('div.item > a > div > img').attr('src'),\n                        headerForImage: { Referer: this.baseUrl },\n                    });\n                })\n                    .get();\n                return {\n                    results: results,\n                };\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = BRMangas;\n//# sourceMappingURL=brmangas.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2EvYnJtYW5nYXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLG1CQUFPLENBQUMsb0VBQVM7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxTQUFTLFFBQVE7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMEZBQTBGO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixhQUFhLE9BQU8sVUFBVTtBQUM3RCx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsTUFBTTtBQUN6QyxzQ0FBc0MsdUJBQXVCO0FBQzdELGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxNQUFNLHlCQUF5QjtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHVCQUF1QjtBQUNqRSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXG1hbmdhXFxicm1hbmdhcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY2xhc3MgQlJNYW5nYXMgZXh0ZW5kcyBtb2RlbHNfMS5NYW5nYVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdCUk1hbmdhcyc7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL3d3dy5icm1hbmdhcy5uZXQnO1xuICAgICAgICB0aGlzLmxvZ28gPSAnaHR0cHM6Ly93d3cuYnJtYW5nYXMubmV0L3dwLWNvbnRlbnQvdGhlbWVzL2JybWFuZ2FzbmV3L2ltYWdlcy9zdmcvbG9nby5zdmcnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdNQU5HQS5CUk1hbmdhcyc7XG4gICAgICAgIHRoaXMuZmV0Y2hNYW5nYUluZm8gPSBhc3luYyAobWFuZ2FJZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWFuZ2FJbmZvID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtYW5nYUlkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vbWFuZ2EvJHttYW5nYUlkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gJCgnYm9keSA+IGRpdi5zY3JvbGxlci1pbm5lciA+IGRpdi53cmFwcGVyID4gbWFpbiA+IHNlY3Rpb24gPiBkaXYgPiBoMS50aXR1bG8nKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb25BbmRBbHRUaXRsZXMgPSAkKCdib2R5ID4gZGl2LnNjcm9sbGVyLWlubmVyID4gZGl2LndyYXBwZXIgPiBtYWluID4gZGl2ID4gZGl2ID4gZGl2LmNvbCA+IGRpdi5zZXJpZS10ZXh0byA+IGRpdiA+IHA6bnRoLWNoaWxkKDMpJylcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby50aXRsZSA9IHRpdGxlLnNsaWNlKDMsIHRpdGxlLmxlbmd0aCAtIDcpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uYWx0VGl0bGVzID0gZGVzY3JpcHRpb25BbmRBbHRUaXRsZXMuZmlsdGVyKChfLCBpKSA9PiBpID4gMCk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25BbmRBbHRUaXRsZXNbMF07XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmhlYWRlckZvckltYWdlID0geyBSZWZlcmVyOiB0aGlzLmJhc2VVcmwgfTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uaW1hZ2UgPSAkKCdib2R5ID4gZGl2LnNjcm9sbGVyLWlubmVyID4gZGl2LndyYXBwZXIgPiBtYWluID4gZGl2ID4gZGl2ID4gZGl2LnNlcmllLWdlcmFsID4gZGl2LmluZm9hbGwgPiBkaXYuc2VyaWUtY2FwYSA+IGltZycpLmF0dHIoJ3NyYycpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5nZW5yZXMgPSAkKCdib2R5ID4gZGl2LnNjcm9sbGVyLWlubmVyID4gZGl2LndyYXBwZXIgPiBtYWluID4gZGl2ID4gZGl2ID4gZGl2LnNlcmllLWdlcmFsID4gZGl2LmluZm9hbGwgPiBkaXYuc2VyaWUtaW5mb3MgPiB1bCA+IGxpOm50aC1jaGlsZCgzKScpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDExKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJywnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKGdlbnJlID0+IGdlbnJlLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV047XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLnZpZXdzID0gbnVsbDtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uYXV0aG9ycyA9IFtcbiAgICAgICAgICAgICAgICAgICAgJCgnYm9keSA+IGRpdi5zY3JvbGxlci1pbm5lciA+IGRpdi53cmFwcGVyID4gbWFpbiA+IGRpdiA+IGRpdiA+IGRpdi5zZXJpZS1nZXJhbCA+IGRpdi5pbmZvYWxsID4gZGl2LnNlcmllLWluZm9zID4gdWwgPiBsaTpudGgtY2hpbGQoMiknKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJ0F1dG9yOiAnLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmltKCksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uY2hhcHRlcnMgPSAkKCdib2R5ID4gZGl2LnNjcm9sbGVyLWlubmVyID4gZGl2LndyYXBwZXIgPiBtYWluID4gZGl2ID4gZGl2ID4gZGl2Om50aC1jaGlsZCgyKSA+IGRpdi5tYW5nYSA+IGRpdi5jb250YWluZXJfdCA+IGRpdi5saXN0YV9tYW5nYSA+IHVsID4gbGknKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogYCR7KF9hID0gJChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KCcvJylbNF19YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdhJykudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3M6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlZERhdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYW5nYUluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaENoYXB0ZXJQYWdlcyA9IGFzeW5jIChjaGFwdGVySWQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5iYXNlVXJsfS9sZXIvJHtjaGFwdGVySWR9YDtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdCA9ICQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VVUkxzID0gSlNPTi5wYXJzZShzY3JpcHRcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoaSwgZWwpID0+ICQoZWwpLnRleHQoKS5pbmNsdWRlcygnaW1hZ2VBcnJheScpKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDEzLCAtMilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgJycpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYWdlVVJMcy5pbWFnZXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VzID0gcGFnZVVSTHMuaW1hZ2VzLm1hcCgoaW1nLCBpKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBpbWc6IGltZyxcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogaSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGBQYWdlICR7aSArIDF9YCxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyRm9ySW1hZ2U6IHsgUmVmZXJlcjogdGhpcy5iYXNlVXJsIH0sXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHF1ZXJ5IFNlYXJjaCBxdWVyeVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocXVlcnkpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS8/cz0ke3F1ZXJ5LnJlcGxhY2UoLyAvZywgJysnKX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gJCgnYm9keSA+IGRpdi5zY3JvbGxlci1pbm5lciA+IGRpdi53cmFwcGVyID4gbWFpbiA+IGRpdi5jb250YWluZXIgPiBkaXYubGlzdGFnZW0gPiBkaXYuY29sJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgcm93KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9hID0gJChyb3cpLmZpbmQoJ2Rpdi5pdGVtID4gYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KCcvJylbNF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChyb3cpLmZpbmQoJ2Rpdi5pdGVtID4gYSA+IGgyJykudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQocm93KS5maW5kKCdkaXYuaXRlbSA+IGEgPiBkaXYgPiBpbWcnKS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlckZvckltYWdlOiB7IFJlZmVyZXI6IHRoaXMuYmFzZVVybCB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogcmVzdWx0cyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gQlJNYW5nYXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm1hbmdhcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/brmangas.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/comick.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/comick.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst axios_1 = __importDefault(__webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/dist/node/axios.cjs\"));\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass ComicK extends models_1.MangaParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'ComicK';\n        this.baseUrl = 'https://comick.app';\n        this.logo = 'https://th.bing.com/th/id/OIP.fw4WrmAoA2PmKitiyMzUIgAAAA?pid=ImgDet&rs=1';\n        this.classPath = 'MANGA.ComicK';\n        this.apiUrl = 'https://api.comick.io';\n        /**\n         * @description Fetches info about the manga\n         * @param mangaId Comic slug\n         * @returns Promise<IMangaInfo>\n         */\n        this.fetchMangaInfo = async (mangaId) => {\n            var _a, _b, _c, _d, _e, _f;\n            try {\n                const req = await this._axios().get(`/comic/${mangaId}`);\n                const data = req.data.comic;\n                const links = Object.values((_a = data.links) !== null && _a !== void 0 ? _a : []).filter(link => link !== null);\n                const mangaInfo = {\n                    id: data.hid,\n                    title: data.title,\n                    altTitles: data.md_titles ? data.md_titles.map(title => title.title) : [],\n                    description: data.desc,\n                    genres: (_b = data.md_comic_md_genres) === null || _b === void 0 ? void 0 : _b.map(genre => genre.md_genres.name),\n                    status: ((_c = data.status) !== null && _c !== void 0 ? _c : 0 === 0) ? models_1.MediaStatus.ONGOING : models_1.MediaStatus.COMPLETED,\n                    image: `https://meo.comick.pictures${data.md_covers ? data.md_covers[0].b2key : ''}`,\n                    malId: (_d = data.links) === null || _d === void 0 ? void 0 : _d.mal,\n                    links: links,\n                    chapters: [],\n                };\n                const allChapters = await this.fetchAllChapters(mangaId, 1);\n                for (const chapter of allChapters) {\n                    (_e = mangaInfo.chapters) === null || _e === void 0 ? void 0 : _e.push({\n                        id: chapter.hid,\n                        title: (_f = chapter.title) !== null && _f !== void 0 ? _f : chapter.chap,\n                        chapterNumber: chapter.chap,\n                        volumeNumber: chapter.vol,\n                        releaseDate: chapter.created_at,\n                    });\n                }\n                return mangaInfo;\n            }\n            catch (err) {\n                if (err.code == 'ERR_BAD_REQUEST')\n                    throw new Error(`[${this.name}] Bad request. Make sure you have entered a valid query.`);\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param chapterId Chapter ID (HID)\n         * @returns Promise<IMangaChapterPage[]>\n         */\n        this.fetchChapterPages = async (chapterId) => {\n            try {\n                const { data } = await this._axios().get(`/chapter/${chapterId}`);\n                const pages = [];\n                data.chapter.md_images.map((image, index) => {\n                    pages.push({\n                        img: `https://meo.comick.pictures/${image.b2key}?width=${image.w}`,\n                        page: index,\n                    });\n                });\n                return pages;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         * @param query search query\n         * @param page page number (default: 1)\n         * @param limit limit of results to return (default: 20) (max: 100) (min: 1)\n         */\n        this.search = async (query, page = 1, limit = 20) => {\n            var _a;\n            if (page < 1)\n                throw new Error('Page number must be greater than 1');\n            if (limit > 300)\n                throw new Error('Limit must be less than or equal to 300');\n            if (limit * (page - 1) >= 10000)\n                throw new Error('not enough results');\n            try {\n                const req = await this._axios().get(`/v1.0/search?q=${encodeURIComponent(query)}&limit=${limit}&page=${page}`);\n                const results = {\n                    currentPage: page,\n                    results: [],\n                };\n                const data = await req.data;\n                for (const manga of data) {\n                    let cover = manga.md_covers ? manga.md_covers[0] : null;\n                    if (cover && cover.b2key != undefined) {\n                        cover = `https://meo.comick.pictures${cover.b2key}`;\n                    }\n                    results.results.push({\n                        id: manga.slug,\n                        title: (_a = manga.title) !== null && _a !== void 0 ? _a : manga.slug,\n                        altTitles: manga.md_titles ? manga.md_titles.map(title => title.title) : [],\n                        image: cover,\n                    });\n                }\n                return results;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchAllChapters = async (mangaId, page) => {\n            if (page <= 0) {\n                page = 1;\n            }\n            const comicId = await this.getComicId(mangaId);\n            const req = await this._axios().get(`/comic/${comicId}/chapters?page=${page}`);\n            return req.data.chapters;\n        };\n    }\n    _axios() {\n        return axios_1.default.create({\n            baseURL: this.apiUrl,\n            headers: {\n                'User-Agent': 'Mozilla/5.0',\n            },\n        });\n    }\n    /**\n     * @description Fetches the comic HID from the slug\n     * @param id Comic slug\n     * @returns Promise<string> empty if not found\n     */\n    async getComicId(id) {\n        const req = await this._axios().get(`/comic/${id}`);\n        const data = req.data['comic'];\n        return data ? data.hid : '';\n    }\n}\n// (async () => {\n//   const md = new MangaDex();\n//   const search = await md.search('solo leveling');\n//   const manga = await md.fetchMangaInfo(search.results[0].id);\n//   const chapterPages = await md.fetchChapterPages(manga.chapters![0].id);\n//   console.log(chapterPages);\n// })();\nexports[\"default\"] = ComicK;\n//# sourceMappingURL=comick.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2EvY29taWNrLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0NBQWdDLG1CQUFPLENBQUMsNkRBQU87QUFDL0MsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsUUFBUTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsOENBQThDO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFVBQVU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTyxzQ0FBc0MsVUFBVTtBQUMvRTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsWUFBWSxTQUFTLFFBQVE7QUFDekY7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsMEJBQTBCLFNBQVMsTUFBTSxRQUFRLEtBQUs7QUFDNUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxZQUFZO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsUUFBUSxpQkFBaUIsS0FBSztBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxHQUFHO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcbWFuZ2FcXGNvbWljay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGF4aW9zXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImF4aW9zXCIpKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNsYXNzIENvbWljSyBleHRlbmRzIG1vZGVsc18xLk1hbmdhUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0NvbWljSyc7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL2NvbWljay5hcHAnO1xuICAgICAgICB0aGlzLmxvZ28gPSAnaHR0cHM6Ly90aC5iaW5nLmNvbS90aC9pZC9PSVAuZnc0V3JtQW9BMlBtS2l0aXlNelVJZ0FBQUE/cGlkPUltZ0RldCZycz0xJztcbiAgICAgICAgdGhpcy5jbGFzc1BhdGggPSAnTUFOR0EuQ29taWNLJztcbiAgICAgICAgdGhpcy5hcGlVcmwgPSAnaHR0cHM6Ly9hcGkuY29taWNrLmlvJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBGZXRjaGVzIGluZm8gYWJvdXQgdGhlIG1hbmdhXG4gICAgICAgICAqIEBwYXJhbSBtYW5nYUlkIENvbWljIHNsdWdcbiAgICAgICAgICogQHJldHVybnMgUHJvbWlzZTxJTWFuZ2FJbmZvPlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaE1hbmdhSW5mbyA9IGFzeW5jIChtYW5nYUlkKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVxID0gYXdhaXQgdGhpcy5fYXhpb3MoKS5nZXQoYC9jb21pYy8ke21hbmdhSWR9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlcS5kYXRhLmNvbWljO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtzID0gT2JqZWN0LnZhbHVlcygoX2EgPSBkYXRhLmxpbmtzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSkuZmlsdGVyKGxpbmsgPT4gbGluayAhPT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFuZ2FJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogZGF0YS5oaWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICBhbHRUaXRsZXM6IGRhdGEubWRfdGl0bGVzID8gZGF0YS5tZF90aXRsZXMubWFwKHRpdGxlID0+IHRpdGxlLnRpdGxlKSA6IFtdLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjLFxuICAgICAgICAgICAgICAgICAgICBnZW5yZXM6IChfYiA9IGRhdGEubWRfY29taWNfbWRfZ2VucmVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWFwKGdlbnJlID0+IGdlbnJlLm1kX2dlbnJlcy5uYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAoKF9jID0gZGF0YS5zdGF0dXMpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IDAgPT09IDApID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lORyA6IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRCxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGBodHRwczovL21lby5jb21pY2sucGljdHVyZXMke2RhdGEubWRfY292ZXJzID8gZGF0YS5tZF9jb3ZlcnNbMF0uYjJrZXkgOiAnJ31gLFxuICAgICAgICAgICAgICAgICAgICBtYWxJZDogKF9kID0gZGF0YS5saW5rcykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLm1hbCxcbiAgICAgICAgICAgICAgICAgICAgbGlua3M6IGxpbmtzLFxuICAgICAgICAgICAgICAgICAgICBjaGFwdGVyczogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbGxDaGFwdGVycyA9IGF3YWl0IHRoaXMuZmV0Y2hBbGxDaGFwdGVycyhtYW5nYUlkLCAxKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNoYXB0ZXIgb2YgYWxsQ2hhcHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9lID0gbWFuZ2FJbmZvLmNoYXB0ZXJzKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogY2hhcHRlci5oaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogKF9mID0gY2hhcHRlci50aXRsZSkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogY2hhcHRlci5jaGFwLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcHRlck51bWJlcjogY2hhcHRlci5jaGFwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdm9sdW1lTnVtYmVyOiBjaGFwdGVyLnZvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBjaGFwdGVyLmNyZWF0ZWRfYXQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWFuZ2FJbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIuY29kZSA9PSAnRVJSX0JBRF9SRVFVRVNUJylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbJHt0aGlzLm5hbWV9XSBCYWQgcmVxdWVzdC4gTWFrZSBzdXJlIHlvdSBoYXZlIGVudGVyZWQgYSB2YWxpZCBxdWVyeS5gKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGNoYXB0ZXJJZCBDaGFwdGVyIElEIChISUQpXG4gICAgICAgICAqIEByZXR1cm5zIFByb21pc2U8SU1hbmdhQ2hhcHRlclBhZ2VbXT5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hDaGFwdGVyUGFnZXMgPSBhc3luYyAoY2hhcHRlcklkKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5fYXhpb3MoKS5nZXQoYC9jaGFwdGVyLyR7Y2hhcHRlcklkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VzID0gW107XG4gICAgICAgICAgICAgICAgZGF0YS5jaGFwdGVyLm1kX2ltYWdlcy5tYXAoKGltYWdlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZzogYGh0dHBzOi8vbWVvLmNvbWljay5waWN0dXJlcy8ke2ltYWdlLmIya2V5fT93aWR0aD0ke2ltYWdlLnd9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFnZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSBzZWFyY2ggcXVlcnlcbiAgICAgICAgICogQHBhcmFtIHBhZ2UgcGFnZSBudW1iZXIgKGRlZmF1bHQ6IDEpXG4gICAgICAgICAqIEBwYXJhbSBsaW1pdCBsaW1pdCBvZiByZXN1bHRzIHRvIHJldHVybiAoZGVmYXVsdDogMjApIChtYXg6IDEwMCkgKG1pbjogMSlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5LCBwYWdlID0gMSwgbGltaXQgPSAyMCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKHBhZ2UgPCAxKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGFnZSBudW1iZXIgbXVzdCBiZSBncmVhdGVyIHRoYW4gMScpO1xuICAgICAgICAgICAgaWYgKGxpbWl0ID4gMzAwKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTGltaXQgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gMzAwJyk7XG4gICAgICAgICAgICBpZiAobGltaXQgKiAocGFnZSAtIDEpID49IDEwMDAwKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGVub3VnaCByZXN1bHRzJyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcSA9IGF3YWl0IHRoaXMuX2F4aW9zKCkuZ2V0KGAvdjEuMC9zZWFyY2g/cT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9JmxpbWl0PSR7bGltaXR9JnBhZ2U9JHtwYWdlfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXEuZGF0YTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG1hbmdhIG9mIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdmVyID0gbWFuZ2EubWRfY292ZXJzID8gbWFuZ2EubWRfY292ZXJzWzBdIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdmVyICYmIGNvdmVyLmIya2V5ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXIgPSBgaHR0cHM6Ly9tZW8uY29taWNrLnBpY3R1cmVzJHtjb3Zlci5iMmtleX1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtYW5nYS5zbHVnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYSA9IG1hbmdhLnRpdGxlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBtYW5nYS5zbHVnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0VGl0bGVzOiBtYW5nYS5tZF90aXRsZXMgPyBtYW5nYS5tZF90aXRsZXMubWFwKHRpdGxlID0+IHRpdGxlLnRpdGxlKSA6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGNvdmVyLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaEFsbENoYXB0ZXJzID0gYXN5bmMgKG1hbmdhSWQsIHBhZ2UpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWdlIDw9IDApIHtcbiAgICAgICAgICAgICAgICBwYWdlID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbWljSWQgPSBhd2FpdCB0aGlzLmdldENvbWljSWQobWFuZ2FJZCk7XG4gICAgICAgICAgICBjb25zdCByZXEgPSBhd2FpdCB0aGlzLl9heGlvcygpLmdldChgL2NvbWljLyR7Y29taWNJZH0vY2hhcHRlcnM/cGFnZT0ke3BhZ2V9YCk7XG4gICAgICAgICAgICByZXR1cm4gcmVxLmRhdGEuY2hhcHRlcnM7XG4gICAgICAgIH07XG4gICAgfVxuICAgIF9heGlvcygpIHtcbiAgICAgICAgcmV0dXJuIGF4aW9zXzEuZGVmYXVsdC5jcmVhdGUoe1xuICAgICAgICAgICAgYmFzZVVSTDogdGhpcy5hcGlVcmwsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBGZXRjaGVzIHRoZSBjb21pYyBISUQgZnJvbSB0aGUgc2x1Z1xuICAgICAqIEBwYXJhbSBpZCBDb21pYyBzbHVnXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxzdHJpbmc+IGVtcHR5IGlmIG5vdCBmb3VuZFxuICAgICAqL1xuICAgIGFzeW5jIGdldENvbWljSWQoaWQpIHtcbiAgICAgICAgY29uc3QgcmVxID0gYXdhaXQgdGhpcy5fYXhpb3MoKS5nZXQoYC9jb21pYy8ke2lkfWApO1xuICAgICAgICBjb25zdCBkYXRhID0gcmVxLmRhdGFbJ2NvbWljJ107XG4gICAgICAgIHJldHVybiBkYXRhID8gZGF0YS5oaWQgOiAnJztcbiAgICB9XG59XG4vLyAoYXN5bmMgKCkgPT4ge1xuLy8gICBjb25zdCBtZCA9IG5ldyBNYW5nYURleCgpO1xuLy8gICBjb25zdCBzZWFyY2ggPSBhd2FpdCBtZC5zZWFyY2goJ3NvbG8gbGV2ZWxpbmcnKTtcbi8vICAgY29uc3QgbWFuZ2EgPSBhd2FpdCBtZC5mZXRjaE1hbmdhSW5mbyhzZWFyY2gucmVzdWx0c1swXS5pZCk7XG4vLyAgIGNvbnN0IGNoYXB0ZXJQYWdlcyA9IGF3YWl0IG1kLmZldGNoQ2hhcHRlclBhZ2VzKG1hbmdhLmNoYXB0ZXJzIVswXS5pZCk7XG4vLyAgIGNvbnNvbGUubG9nKGNoYXB0ZXJQYWdlcyk7XG4vLyB9KSgpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQ29taWNLO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29taWNrLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/comick.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/flamescans.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/flamescans.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass FlameScans extends models_1.MangaParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'FlameScans';\n        this.baseUrl = 'https://flamescans.org/';\n        this.logo = 'https://i.imgur.com/Nt1MW3H.png';\n        this.classPath = 'MANGA.FlameScans';\n        /**\n         *\n         * @param query Search query\n         *\n         */\n        this.search = async (query) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/series/?title=${query.replace(/ /g, '%20')}`);\n                const $ = (0, cheerio_1.load)(data);\n                const searchMangaSelector = '.utao .uta .imgu, .listupd .bs .bsx, .listo .bs .bsx';\n                const results = $(searchMangaSelector)\n                    .map((i, el) => {\n                    var _a, _b, _c;\n                    return ({\n                        id: (_b = (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/series/')[1].replace('/', '')) !== null && _b !== void 0 ? _b : '',\n                        title: (_c = $(el).find('a').attr('title')) !== null && _c !== void 0 ? _c : '',\n                        image: $(el).find('img').attr('src'),\n                    });\n                })\n                    .get();\n                return {\n                    results: results,\n                };\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchMangaInfo = async (mangaId) => {\n            const mangaInfo = {\n                id: mangaId,\n                title: '',\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/manga/${mangaId}`);\n                const $ = (0, cheerio_1.load)(data);\n                // base from https://github.com/tachiyomiorg/tachiyomi-extensions/blob/661311c13b3b550e3fa906c1130b77a037ef7a11/multisrc/src/main/java/eu/kanade/tachiyomi/multisrc/mangathemesia/MangaThemesia.kt#L233\n                const seriesTitleSelector = 'h1.entry-title';\n                const seriesArtistSelector = \".infotable tr:icontains('artist') td:last-child, .tsinfo .imptdt:icontains('artist') i, .fmed b:icontains('artist')+span, span:icontains('artist')\";\n                const seriesAuthorSelector = \".infotable tr:icontains('author') td:last-child, .tsinfo .imptdt:icontains('author') i, .fmed b:icontains('author')+span, span:icontains('author')\";\n                const seriesDescriptionSelector = '.desc, .entry-content[itemprop=description]';\n                const seriesAltNameSelector = \".alternative > div, .wd-full:icontains('alt') span, .alter, .seriestualt\";\n                const seriesGenreSelector = 'div.gnr a, .mgen a, .seriestugenre a';\n                const seriesStatusSelector = \".infotable tr:icontains('status') td:last-child, .tsinfo .imptdt:icontains('status') i, .fmed b:icontains('status')+span span:icontains('status')\";\n                const seriesThumbnailSelector = '.infomanga > div[itemprop=image] img, .thumb img';\n                const seriesChaptersSelector = 'div.bxcl li, div.cl li, #chapterlist li, ul li:has(div.chbox):has(div.eph-num)';\n                mangaInfo.title = $(seriesTitleSelector).text().trim();\n                mangaInfo.altTitles = $(seriesAltNameSelector).text()\n                    ? $(seriesAltNameSelector)\n                        .first()\n                        .text()\n                        .split('|')\n                        .map(item => item.replace(/\\n/g, ' ').trim())\n                    : [];\n                mangaInfo.description = $(seriesDescriptionSelector).text().trim();\n                mangaInfo.headerForImage = { Referer: this.baseUrl };\n                mangaInfo.image = $(seriesThumbnailSelector).attr('src');\n                mangaInfo.genres = $(seriesGenreSelector)\n                    .map((i, el) => $(el).text())\n                    .get();\n                switch ($(seriesStatusSelector).text().trim()) {\n                    case 'Completed':\n                        mangaInfo.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                    case 'Ongoing':\n                        mangaInfo.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    case 'Dropped':\n                        mangaInfo.status = models_1.MediaStatus.CANCELLED;\n                        break;\n                    default:\n                        mangaInfo.status = models_1.MediaStatus.UNKNOWN;\n                        break;\n                }\n                mangaInfo.authors = $(seriesAuthorSelector).text().replace('-', '').trim()\n                    ? $(seriesAuthorSelector)\n                        .text()\n                        .split(',')\n                        .map(item => item.trim())\n                    : [];\n                mangaInfo.artist = $(seriesArtistSelector).text().trim()\n                    ? $(seriesArtistSelector).text().trim()\n                    : 'N/A';\n                mangaInfo.chapters = $(seriesChaptersSelector)\n                    .map((i, el) => {\n                    var _a, _b;\n                    return ({\n                        id: (_b = (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[3]) !== null && _b !== void 0 ? _b : '',\n                        title: $(el).find('.lch a, .chapternum').text().trim().replace(/\\n/g, ' '),\n                        releasedDate: $(el).find('.chapterdate').text(),\n                    });\n                })\n                    .get();\n                return mangaInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchChapterPages = async (chapterId) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/${chapterId}`);\n                const $ = (0, cheerio_1.load)(data);\n                const pageSelector = 'div#readerarea img, #readerarea div.figure_container div.composed_figure';\n                const pages = $(pageSelector)\n                    .map((i, el) => ({\n                    img: $(el).attr('src'),\n                    page: i,\n                    headerForImage: { Referer: this.baseUrl },\n                }))\n                    .get();\n                return pages;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = FlameScans;\n//# sourceMappingURL=flamescans.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2EvZmxhbWVzY2Fucy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsaUJBQWlCLDJCQUEyQjtBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLFNBQVMsUUFBUTtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxHQUFHLFVBQVU7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHVCQUF1QjtBQUM3RCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxtYW5nYVxcZmxhbWVzY2Fucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY2xhc3MgRmxhbWVTY2FucyBleHRlbmRzIG1vZGVsc18xLk1hbmdhUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0ZsYW1lU2NhbnMnO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9mbGFtZXNjYW5zLm9yZy8nO1xuICAgICAgICB0aGlzLmxvZ28gPSAnaHR0cHM6Ly9pLmltZ3VyLmNvbS9OdDFNVzNILnBuZyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ01BTkdBLkZsYW1lU2NhbnMnO1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHF1ZXJ5IFNlYXJjaCBxdWVyeVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocXVlcnkpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9zZXJpZXMvP3RpdGxlPSR7cXVlcnkucmVwbGFjZSgvIC9nLCAnJTIwJyl9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoTWFuZ2FTZWxlY3RvciA9ICcudXRhbyAudXRhIC5pbWd1LCAubGlzdHVwZCAuYnMgLmJzeCwgLmxpc3RvIC5icyAuYnN4JztcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gJChzZWFyY2hNYW5nYVNlbGVjdG9yKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9iID0gKF9hID0gJChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KCcvc2VyaWVzLycpWzFdLnJlcGxhY2UoJy8nLCAnJykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYyA9ICQoZWwpLmZpbmQoJ2EnKS5hdHRyKCd0aXRsZScpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdpbWcnKS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IHJlc3VsdHMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoTWFuZ2FJbmZvID0gYXN5bmMgKG1hbmdhSWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1hbmdhSW5mbyA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWFuZ2FJZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L21hbmdhLyR7bWFuZ2FJZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICAvLyBiYXNlIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RhY2hpeW9taW9yZy90YWNoaXlvbWktZXh0ZW5zaW9ucy9ibG9iLzY2MTMxMWMxM2IzYjU1MGUzZmE5MDZjMTEzMGI3N2EwMzdlZjdhMTEvbXVsdGlzcmMvc3JjL21haW4vamF2YS9ldS9rYW5hZGUvdGFjaGl5b21pL211bHRpc3JjL21hbmdhdGhlbWVzaWEvTWFuZ2FUaGVtZXNpYS5rdCNMMjMzXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWVzVGl0bGVTZWxlY3RvciA9ICdoMS5lbnRyeS10aXRsZSc7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWVzQXJ0aXN0U2VsZWN0b3IgPSBcIi5pbmZvdGFibGUgdHI6aWNvbnRhaW5zKCdhcnRpc3QnKSB0ZDpsYXN0LWNoaWxkLCAudHNpbmZvIC5pbXB0ZHQ6aWNvbnRhaW5zKCdhcnRpc3QnKSBpLCAuZm1lZCBiOmljb250YWlucygnYXJ0aXN0Jykrc3Bhbiwgc3BhbjppY29udGFpbnMoJ2FydGlzdCcpXCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWVzQXV0aG9yU2VsZWN0b3IgPSBcIi5pbmZvdGFibGUgdHI6aWNvbnRhaW5zKCdhdXRob3InKSB0ZDpsYXN0LWNoaWxkLCAudHNpbmZvIC5pbXB0ZHQ6aWNvbnRhaW5zKCdhdXRob3InKSBpLCAuZm1lZCBiOmljb250YWlucygnYXV0aG9yJykrc3Bhbiwgc3BhbjppY29udGFpbnMoJ2F1dGhvcicpXCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWVzRGVzY3JpcHRpb25TZWxlY3RvciA9ICcuZGVzYywgLmVudHJ5LWNvbnRlbnRbaXRlbXByb3A9ZGVzY3JpcHRpb25dJztcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJpZXNBbHROYW1lU2VsZWN0b3IgPSBcIi5hbHRlcm5hdGl2ZSA+IGRpdiwgLndkLWZ1bGw6aWNvbnRhaW5zKCdhbHQnKSBzcGFuLCAuYWx0ZXIsIC5zZXJpZXN0dWFsdFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcmllc0dlbnJlU2VsZWN0b3IgPSAnZGl2LmduciBhLCAubWdlbiBhLCAuc2VyaWVzdHVnZW5yZSBhJztcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJpZXNTdGF0dXNTZWxlY3RvciA9IFwiLmluZm90YWJsZSB0cjppY29udGFpbnMoJ3N0YXR1cycpIHRkOmxhc3QtY2hpbGQsIC50c2luZm8gLmltcHRkdDppY29udGFpbnMoJ3N0YXR1cycpIGksIC5mbWVkIGI6aWNvbnRhaW5zKCdzdGF0dXMnKStzcGFuIHNwYW46aWNvbnRhaW5zKCdzdGF0dXMnKVwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcmllc1RodW1ibmFpbFNlbGVjdG9yID0gJy5pbmZvbWFuZ2EgPiBkaXZbaXRlbXByb3A9aW1hZ2VdIGltZywgLnRodW1iIGltZyc7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWVzQ2hhcHRlcnNTZWxlY3RvciA9ICdkaXYuYnhjbCBsaSwgZGl2LmNsIGxpLCAjY2hhcHRlcmxpc3QgbGksIHVsIGxpOmhhcyhkaXYuY2hib3gpOmhhcyhkaXYuZXBoLW51bSknO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby50aXRsZSA9ICQoc2VyaWVzVGl0bGVTZWxlY3RvcikudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uYWx0VGl0bGVzID0gJChzZXJpZXNBbHROYW1lU2VsZWN0b3IpLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICA/ICQoc2VyaWVzQWx0TmFtZVNlbGVjdG9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpcnN0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnfCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGl0ZW0gPT4gaXRlbS5yZXBsYWNlKC9cXG4vZywgJyAnKS50cmltKCkpXG4gICAgICAgICAgICAgICAgICAgIDogW107XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmRlc2NyaXB0aW9uID0gJChzZXJpZXNEZXNjcmlwdGlvblNlbGVjdG9yKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5oZWFkZXJGb3JJbWFnZSA9IHsgUmVmZXJlcjogdGhpcy5iYXNlVXJsIH07XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmltYWdlID0gJChzZXJpZXNUaHVtYm5haWxTZWxlY3RvcikuYXR0cignc3JjJyk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmdlbnJlcyA9ICQoc2VyaWVzR2VucmVTZWxlY3RvcilcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+ICQoZWwpLnRleHQoKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoJChzZXJpZXNTdGF0dXNTZWxlY3RvcikudGV4dCgpLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdDb21wbGV0ZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgbWFuZ2FJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdPbmdvaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0Ryb3BwZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgbWFuZ2FJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNBTkNFTExFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgbWFuZ2FJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV047XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmF1dGhvcnMgPSAkKHNlcmllc0F1dGhvclNlbGVjdG9yKS50ZXh0KCkucmVwbGFjZSgnLScsICcnKS50cmltKClcbiAgICAgICAgICAgICAgICAgICAgPyAkKHNlcmllc0F1dGhvclNlbGVjdG9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCcsJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoaXRlbSA9PiBpdGVtLnRyaW0oKSlcbiAgICAgICAgICAgICAgICAgICAgOiBbXTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uYXJ0aXN0ID0gJChzZXJpZXNBcnRpc3RTZWxlY3RvcikudGV4dCgpLnRyaW0oKVxuICAgICAgICAgICAgICAgICAgICA/ICQoc2VyaWVzQXJ0aXN0U2VsZWN0b3IpLnRleHQoKS50cmltKClcbiAgICAgICAgICAgICAgICAgICAgOiAnTi9BJztcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uY2hhcHRlcnMgPSAkKHNlcmllc0NoYXB0ZXJzU2VsZWN0b3IpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYiA9IChfYSA9ICQoZWwpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnLycpWzNdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCcubGNoIGEsIC5jaGFwdGVybnVtJykudGV4dCgpLnRyaW0oKS5yZXBsYWNlKC9cXG4vZywgJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VkRGF0ZTogJChlbCkuZmluZCgnLmNoYXB0ZXJkYXRlJykudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hbmdhSW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQ2hhcHRlclBhZ2VzID0gYXN5bmMgKGNoYXB0ZXJJZCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9LyR7Y2hhcHRlcklkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VTZWxlY3RvciA9ICdkaXYjcmVhZGVyYXJlYSBpbWcsICNyZWFkZXJhcmVhIGRpdi5maWd1cmVfY29udGFpbmVyIGRpdi5jb21wb3NlZF9maWd1cmUnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VzID0gJChwYWdlU2VsZWN0b3IpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBpbWc6ICQoZWwpLmF0dHIoJ3NyYycpLFxuICAgICAgICAgICAgICAgICAgICBwYWdlOiBpLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJGb3JJbWFnZTogeyBSZWZlcmVyOiB0aGlzLmJhc2VVcmwgfSxcbiAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IEZsYW1lU2NhbnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mbGFtZXNjYW5zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/flamescans.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/index.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst mangadex_1 = __importDefault(__webpack_require__(/*! ./mangadex */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangadex.js\"));\nconst comick_1 = __importDefault(__webpack_require__(/*! ./comick */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/comick.js\"));\nconst mangahere_1 = __importDefault(__webpack_require__(/*! ./mangahere */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangahere.js\"));\nconst mangakakalot_1 = __importDefault(__webpack_require__(/*! ./mangakakalot */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangakakalot.js\"));\nconst mangasee123_1 = __importDefault(__webpack_require__(/*! ./mangasee123 */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangasee123.js\"));\nconst mangapark_1 = __importDefault(__webpack_require__(/*! ./mangapark */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangapark.js\"));\nconst mangapill_1 = __importDefault(__webpack_require__(/*! ./mangapill */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangapill.js\"));\nconst mangareader_1 = __importDefault(__webpack_require__(/*! ./mangareader */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangareader.js\"));\nconst asurascans_1 = __importDefault(__webpack_require__(/*! ./asurascans */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/asurascans.js\"));\nconst flamescans_1 = __importDefault(__webpack_require__(/*! ./flamescans */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/flamescans.js\"));\nconst mangahost_1 = __importDefault(__webpack_require__(/*! ./mangahost */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangahost.js\"));\nconst brmangas_1 = __importDefault(__webpack_require__(/*! ./brmangas */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/brmangas.js\"));\nconst readmanga_1 = __importDefault(__webpack_require__(/*! ./readmanga */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/readmanga.js\"));\nconst vyvymanga_1 = __importDefault(__webpack_require__(/*! ./vyvymanga */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/vyvymanga.js\"));\nexports[\"default\"] = {\n    MangaDex: mangadex_1.default,\n    ComicK: comick_1.default,\n    MangaHere: mangahere_1.default,\n    MangaKakalot: mangakakalot_1.default,\n    Mangasee123: mangasee123_1.default,\n    Mangapark: mangapark_1.default,\n    MangaPill: mangapill_1.default,\n    MangaReader: mangareader_1.default,\n    AsuraScans: asurascans_1.default,\n    FlameScans: flamescans_1.default,\n    MangaHost: mangahost_1.default,\n    BRMangas: brmangas_1.default,\n    ReadManga: readmanga_1.default,\n    VyvyManga: vyvymanga_1.default,\n};\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2EvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQ0FBbUMsbUJBQU8sQ0FBQyw4RkFBWTtBQUN2RCxpQ0FBaUMsbUJBQU8sQ0FBQywwRkFBVTtBQUNuRCxvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBYTtBQUN6RCx1Q0FBdUMsbUJBQU8sQ0FBQyxzR0FBZ0I7QUFDL0Qsc0NBQXNDLG1CQUFPLENBQUMsb0dBQWU7QUFDN0Qsb0NBQW9DLG1CQUFPLENBQUMsZ0dBQWE7QUFDekQsb0NBQW9DLG1CQUFPLENBQUMsZ0dBQWE7QUFDekQsc0NBQXNDLG1CQUFPLENBQUMsb0dBQWU7QUFDN0QscUNBQXFDLG1CQUFPLENBQUMsa0dBQWM7QUFDM0QscUNBQXFDLG1CQUFPLENBQUMsa0dBQWM7QUFDM0Qsb0NBQW9DLG1CQUFPLENBQUMsZ0dBQWE7QUFDekQsbUNBQW1DLG1CQUFPLENBQUMsOEZBQVk7QUFDdkQsb0NBQW9DLG1CQUFPLENBQUMsZ0dBQWE7QUFDekQsb0NBQW9DLG1CQUFPLENBQUMsZ0dBQWE7QUFDekQsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxtYW5nYVxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBtYW5nYWRleF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL21hbmdhZGV4XCIpKTtcbmNvbnN0IGNvbWlja18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NvbWlja1wiKSk7XG5jb25zdCBtYW5nYWhlcmVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9tYW5nYWhlcmVcIikpO1xuY29uc3QgbWFuZ2FrYWthbG90XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbWFuZ2FrYWthbG90XCIpKTtcbmNvbnN0IG1hbmdhc2VlMTIzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbWFuZ2FzZWUxMjNcIikpO1xuY29uc3QgbWFuZ2FwYXJrXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbWFuZ2FwYXJrXCIpKTtcbmNvbnN0IG1hbmdhcGlsbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL21hbmdhcGlsbFwiKSk7XG5jb25zdCBtYW5nYXJlYWRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL21hbmdhcmVhZGVyXCIpKTtcbmNvbnN0IGFzdXJhc2NhbnNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9hc3VyYXNjYW5zXCIpKTtcbmNvbnN0IGZsYW1lc2NhbnNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9mbGFtZXNjYW5zXCIpKTtcbmNvbnN0IG1hbmdhaG9zdF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL21hbmdhaG9zdFwiKSk7XG5jb25zdCBicm1hbmdhc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JybWFuZ2FzXCIpKTtcbmNvbnN0IHJlYWRtYW5nYV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JlYWRtYW5nYVwiKSk7XG5jb25zdCB2eXZ5bWFuZ2FfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi92eXZ5bWFuZ2FcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIE1hbmdhRGV4OiBtYW5nYWRleF8xLmRlZmF1bHQsXG4gICAgQ29taWNLOiBjb21pY2tfMS5kZWZhdWx0LFxuICAgIE1hbmdhSGVyZTogbWFuZ2FoZXJlXzEuZGVmYXVsdCxcbiAgICBNYW5nYUtha2Fsb3Q6IG1hbmdha2FrYWxvdF8xLmRlZmF1bHQsXG4gICAgTWFuZ2FzZWUxMjM6IG1hbmdhc2VlMTIzXzEuZGVmYXVsdCxcbiAgICBNYW5nYXBhcms6IG1hbmdhcGFya18xLmRlZmF1bHQsXG4gICAgTWFuZ2FQaWxsOiBtYW5nYXBpbGxfMS5kZWZhdWx0LFxuICAgIE1hbmdhUmVhZGVyOiBtYW5nYXJlYWRlcl8xLmRlZmF1bHQsXG4gICAgQXN1cmFTY2FuczogYXN1cmFzY2Fuc18xLmRlZmF1bHQsXG4gICAgRmxhbWVTY2FuczogZmxhbWVzY2Fuc18xLmRlZmF1bHQsXG4gICAgTWFuZ2FIb3N0OiBtYW5nYWhvc3RfMS5kZWZhdWx0LFxuICAgIEJSTWFuZ2FzOiBicm1hbmdhc18xLmRlZmF1bHQsXG4gICAgUmVhZE1hbmdhOiByZWFkbWFuZ2FfMS5kZWZhdWx0LFxuICAgIFZ5dnlNYW5nYTogdnl2eW1hbmdhXzEuZGVmYXVsdCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangadex.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/mangadex.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst ascii_url_encoder_1 = __webpack_require__(/*! ascii-url-encoder */ \"(rsc)/./node_modules/ascii-url-encoder/dist/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nclass MangaDex extends models_1.MangaParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'MangaDex';\n        this.baseUrl = 'https://mangadex.org';\n        this.logo = 'https://pbs.twimg.com/profile_images/1391016345714757632/xbt_jW78_400x400.jpg';\n        this.classPath = 'MANGA.MangaDex';\n        this.apiUrl = 'https://api.mangadex.org';\n        this.fetchMangaInfo = async (mangaId) => {\n            var _a;\n            try {\n                const { data } = await this.client.get(`${this.apiUrl}/manga/${mangaId}`);\n                const mangaInfo = {\n                    id: data.data.id,\n                    title: data.data.attributes.title.en,\n                    altTitles: data.data.attributes.altTitles,\n                    description: data.data.attributes.description,\n                    genres: data.data.attributes.tags\n                        .filter((tag) => tag.attributes.group === 'genre')\n                        .map((tag) => tag.attributes.name.en),\n                    themes: data.data.attributes.tags\n                        .filter((tag) => tag.attributes.group === 'theme')\n                        .map((tag) => tag.attributes.name.en),\n                    status: (0, utils_1.capitalizeFirstLetter)(data.data.attributes.status),\n                    releaseDate: data.data.attributes.year,\n                    chapters: [],\n                };\n                const allChapters = await this.fetchAllChapters(mangaId, 0);\n                for (const chapter of allChapters) {\n                    (_a = mangaInfo.chapters) === null || _a === void 0 ? void 0 : _a.push({\n                        id: chapter.id,\n                        title: chapter.attributes.title ? chapter.attributes.title : chapter.attributes.chapter,\n                        chapterNumber: chapter.attributes.chapter,\n                        volumeNumber: chapter.attributes.volume,\n                        pages: chapter.attributes.pages,\n                    });\n                }\n                const findCoverArt = data.data.relationships.find((rel) => rel.type === 'cover_art');\n                const coverArt = await this.fetchCoverImage(findCoverArt === null || findCoverArt === void 0 ? void 0 : findCoverArt.id);\n                mangaInfo.image = `${this.baseUrl}/covers/${mangaInfo.id}/${coverArt}`;\n                return mangaInfo;\n            }\n            catch (err) {\n                if (err.code == 'ERR_BAD_REQUEST')\n                    throw new Error(`[${this.name}] Bad request. Make sure you have entered a valid query.`);\n                throw new Error(err.message);\n            }\n        };\n        /**\n         * @currently only supports english\n         */\n        this.fetchChapterPages = async (chapterId) => {\n            try {\n                const res = await this.client.get(`${this.apiUrl}/at-home/server/${chapterId}`);\n                const pages = [];\n                for (const id of res.data.chapter.data) {\n                    pages.push({\n                        img: `${res.data.baseUrl}/data/${res.data.chapter.hash}/${id}`,\n                        page: parseInt((0, utils_1.substringBefore)(id, '-').replace(/[^0-9.]/g, '')),\n                    });\n                }\n                return pages;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         * @param query search query\n         * @param page page number (default: 1)\n         * @param limit limit of results to return (default: 20) (max: 100) (min: 1)\n         */\n        this.search = async (query, page = 1, limit = 20) => {\n            if (page <= 0)\n                throw new Error('Page number must be greater than 0');\n            if (limit > 100)\n                throw new Error('Limit must be less than or equal to 100');\n            if (limit * (page - 1) >= 10000)\n                throw new Error('not enough results');\n            try {\n                const res = await this.client.get(`${this.apiUrl}/manga?limit=${limit}&title=${(0, ascii_url_encoder_1.encode)(query)}&limit=${limit}&offset=${limit * (page - 1)}&order[relevance]=desc`);\n                if (res.data.result == 'ok') {\n                    const results = {\n                        currentPage: page,\n                        results: [],\n                    };\n                    for (const manga of res.data.data) {\n                        const findCoverArt = manga.relationships.find((item) => item.type === 'cover_art');\n                        const coverArtId = findCoverArt ? findCoverArt.id : null;\n                        const coverArt = await this.fetchCoverImage(coverArtId === null || coverArtId === void 0 ? void 0 : coverArtId);\n                        results.results.push({\n                            id: manga.id,\n                            title: Object.values(manga.attributes.title)[0],\n                            altTitles: manga.attributes.altTitles,\n                            description: Object.values(manga.attributes.description)[0],\n                            status: manga.attributes.status,\n                            releaseDate: manga.attributes.year,\n                            contentRating: manga.attributes.contentRating,\n                            lastVolume: manga.attributes.lastVolume,\n                            lastChapter: manga.attributes.lastChapter,\n                            image: `${this.baseUrl}/covers/${manga.id}/${coverArt}`,\n                        });\n                    }\n                    return results;\n                }\n                else {\n                    throw new Error(res.data.message);\n                }\n            }\n            catch (err) {\n                if (err.code == 'ERR_BAD_REQUEST') {\n                    throw new Error('Bad request. Make sure you have entered a valid query.');\n                }\n                throw new Error(err.message);\n            }\n        };\n        this.fetchRandom = async () => {\n            try {\n                const res = await this.client.get(`${this.apiUrl}/manga/random`);\n                if (res.data.result == 'ok') {\n                    const results = {\n                        currentPage: 1,\n                        results: [],\n                    };\n                    const findCoverArt = res.data.data.relationships.find((item) => item.type === 'cover_art');\n                    const coverArtId = findCoverArt ? findCoverArt.id : null;\n                    const coverArt = await this.fetchCoverImage(coverArtId === null || coverArtId === void 0 ? void 0 : coverArtId);\n                    results.results.push({\n                        id: res.data.data.id,\n                        title: Object.values(res.data.data.attributes.title)[0],\n                        altTitles: res.data.data.attributes.altTitles,\n                        description: Object.values(res.data.data.attributes.description)[0],\n                        status: res.data.data.attributes.status,\n                        releaseDate: res.data.data.attributes.year,\n                        contentRating: res.data.data.attributes.contentRating,\n                        lastVolume: res.data.data.attributes.lastVolume,\n                        lastChapter: res.data.data.attributes.lastChapter,\n                        image: `${this.baseUrl}/covers/${res.data.data.id}/${coverArt}`,\n                    });\n                    return results;\n                }\n                else {\n                    throw new Error(res.data.message);\n                }\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchRecentlyAdded = async (page = 1, limit = 20) => {\n            if (page <= 0)\n                throw new Error('Page number must be greater than 0');\n            if (limit > 100)\n                throw new Error('Limit must be less than or equal to 100');\n            if (limit * (page - 1) >= 10000)\n                throw new Error('not enough results');\n            try {\n                const res = await this.client.get(`${this.apiUrl}/manga?includes[]=cover_art&contentRating[]=safe&contentRating[]=suggestive&contentRating[]=erotica&order[createdAt]=desc&hasAvailableChapters=true&limit=${limit}&offset=${limit * (page - 1)}`);\n                if (res.data.result == 'ok') {\n                    const results = {\n                        currentPage: page,\n                        results: [],\n                    };\n                    for (const manga of res.data.data) {\n                        const findCoverArt = manga.relationships.find((item) => item.type === 'cover_art');\n                        const coverArtId = findCoverArt ? findCoverArt.id : null;\n                        const coverArt = await this.fetchCoverImage(coverArtId === null || coverArtId === void 0 ? void 0 : coverArtId);\n                        results.results.push({\n                            id: manga.id,\n                            title: Object.values(manga.attributes.title)[0],\n                            altTitles: manga.attributes.altTitles,\n                            description: Object.values(manga.attributes.description)[0],\n                            status: manga.attributes.status,\n                            releaseDate: manga.attributes.year,\n                            contentRating: manga.attributes.contentRating,\n                            lastVolume: manga.attributes.lastVolume,\n                            lastChapter: manga.attributes.lastChapter,\n                            image: `${this.baseUrl}/covers/${manga.id}/${coverArt}`,\n                        });\n                    }\n                    return results;\n                }\n                else {\n                    throw new Error(res.data.message);\n                }\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchLatestUpdates = async (page = 1, limit = 20) => {\n            if (page <= 0)\n                throw new Error('Page number must be greater than 0');\n            if (limit > 100)\n                throw new Error('Limit must be less than or equal to 100');\n            if (limit * (page - 1) >= 10000)\n                throw new Error('not enough results');\n            try {\n                const res = await this.client.get(`${this.apiUrl}/manga?order[latestUploadedChapter]=desc&limit=${limit}&offset=${limit * (page - 1)}`);\n                if (res.data.result == 'ok') {\n                    const results = {\n                        currentPage: page,\n                        results: [],\n                    };\n                    for (const manga of res.data.data) {\n                        const findCoverArt = manga.relationships.find((item) => item.type === 'cover_art');\n                        const coverArtId = findCoverArt ? findCoverArt.id : null;\n                        const coverArt = await this.fetchCoverImage(coverArtId === null || coverArtId === void 0 ? void 0 : coverArtId);\n                        results.results.push({\n                            id: manga.id,\n                            title: Object.values(manga.attributes.title)[0],\n                            altTitles: manga.attributes.altTitles,\n                            description: Object.values(manga.attributes.description)[0],\n                            status: manga.attributes.status,\n                            releaseDate: manga.attributes.year,\n                            contentRating: manga.attributes.contentRating,\n                            lastVolume: manga.attributes.lastVolume,\n                            lastChapter: manga.attributes.lastChapter,\n                            image: `${this.baseUrl}/covers/${manga.id}/${coverArt}`,\n                        });\n                    }\n                    return results;\n                }\n                else {\n                    throw new Error(res.data.message);\n                }\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchPopular = async (page = 1, limit = 20) => {\n            if (page <= 0)\n                throw new Error('Page number must be greater than 0');\n            if (limit > 100)\n                throw new Error('Limit must be less than or equal to 100');\n            if (limit * (page - 1) >= 10000)\n                throw new Error('not enough results');\n            try {\n                const res = await this.client.get(`${this.apiUrl}/manga?includes[]=cover_art&includes[]=artist&includes[]=author&order[followedCount]=desc&contentRating[]=safe&contentRating[]=suggestive&hasAvailableChapters=true&limit=${limit}&offset=${limit * (page - 1)}`);\n                if (res.data.result == 'ok') {\n                    const results = {\n                        currentPage: page,\n                        results: [],\n                    };\n                    for (const manga of res.data.data) {\n                        const findCoverArt = manga.relationships.find((item) => item.type === 'cover_art');\n                        const coverArtId = findCoverArt ? findCoverArt.id : null;\n                        const coverArt = await this.fetchCoverImage(coverArtId === null || coverArtId === void 0 ? void 0 : coverArtId);\n                        results.results.push({\n                            id: manga.id,\n                            title: Object.values(manga.attributes.title)[0],\n                            altTitles: manga.attributes.altTitles,\n                            description: Object.values(manga.attributes.description)[0],\n                            status: manga.attributes.status,\n                            releaseDate: manga.attributes.year,\n                            contentRating: manga.attributes.contentRating,\n                            lastVolume: manga.attributes.lastVolume,\n                            lastChapter: manga.attributes.lastChapter,\n                            image: `${this.baseUrl}/covers/${manga.id}/${coverArt}`,\n                        });\n                    }\n                    return results;\n                }\n                else {\n                    throw new Error(res.data.message);\n                }\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchAllChapters = async (mangaId, offset, res) => {\n            var _a, _b;\n            if (((_a = res === null || res === void 0 ? void 0 : res.data) === null || _a === void 0 ? void 0 : _a.offset) + 96 >= ((_b = res === null || res === void 0 ? void 0 : res.data) === null || _b === void 0 ? void 0 : _b.total)) {\n                return [];\n            }\n            const response = await this.client.get(`${this.apiUrl}/manga/${mangaId}/feed?offset=${offset}&limit=96&order[volume]=desc&order[chapter]=desc&translatedLanguage[]=en`);\n            return [...response.data.data, ...(await this.fetchAllChapters(mangaId, offset + 96, response))];\n        };\n        this.fetchCoverImage = async (coverId) => {\n            const { data } = await this.client.get(`${this.apiUrl}/cover/${coverId}`);\n            const fileName = data.data.attributes.fileName;\n            return fileName;\n        };\n    }\n}\n// (async () => {\n//   const md = new MangaDex();\n//   const search = await md.search('solo leveling');\n//   const manga = await md.fetchMangaInfo(search.results[0].id);\n//   const chapterPages = await md.fetchChapterPages(manga.chapters![0].id);\n//   console.log(chapterPages);\n// })();\nexports[\"default\"] = MangaDex;\n//# sourceMappingURL=mangadex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2EvbWFuZ2FkZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsNEJBQTRCLG1CQUFPLENBQUMsK0VBQW1CO0FBQ3ZELGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDLGdCQUFnQixtQkFBTyxDQUFDLGtGQUFhO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsWUFBWSxTQUFTLFFBQVE7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsYUFBYSxVQUFVLGFBQWEsR0FBRyxTQUFTO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFVBQVU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxZQUFZLGtCQUFrQixVQUFVO0FBQzdGO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpQkFBaUIsUUFBUSxzQkFBc0IsR0FBRyxHQUFHO0FBQ3JGO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsWUFBWSxlQUFlLE1BQU0sU0FBUyx1Q0FBdUMsU0FBUyxNQUFNLFVBQVUsbUJBQW1CO0FBQ2xMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGFBQWEsVUFBVSxTQUFTLEdBQUcsU0FBUztBQUNsRix5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsWUFBWTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsYUFBYSxVQUFVLGlCQUFpQixHQUFHLFNBQVM7QUFDdEYscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxZQUFZLDRKQUE0SixNQUFNLFVBQVUsbUJBQW1CO0FBQ2hRO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGFBQWEsVUFBVSxTQUFTLEdBQUcsU0FBUztBQUNsRix5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsWUFBWSxpREFBaUQsTUFBTSxVQUFVLG1CQUFtQjtBQUNySjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxhQUFhLFVBQVUsU0FBUyxHQUFHLFNBQVM7QUFDbEYseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELFlBQVksNEtBQTRLLE1BQU0sVUFBVSxtQkFBbUI7QUFDaFI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsYUFBYSxVQUFVLFNBQVMsR0FBRyxTQUFTO0FBQ2xGLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxZQUFZLFNBQVMsUUFBUSxlQUFlLE9BQU87QUFDekc7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU8sMkJBQTJCLFlBQVksU0FBUyxRQUFRO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxtYW5nYVxcbWFuZ2FkZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBhc2NpaV91cmxfZW5jb2Rlcl8xID0gcmVxdWlyZShcImFzY2lpLXVybC1lbmNvZGVyXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlsc1wiKTtcbmNsYXNzIE1hbmdhRGV4IGV4dGVuZHMgbW9kZWxzXzEuTWFuZ2FQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTWFuZ2FEZXgnO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9tYW5nYWRleC5vcmcnO1xuICAgICAgICB0aGlzLmxvZ28gPSAnaHR0cHM6Ly9wYnMudHdpbWcuY29tL3Byb2ZpbGVfaW1hZ2VzLzEzOTEwMTYzNDU3MTQ3NTc2MzIveGJ0X2pXNzhfNDAweDQwMC5qcGcnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdNQU5HQS5NYW5nYURleCc7XG4gICAgICAgIHRoaXMuYXBpVXJsID0gJ2h0dHBzOi8vYXBpLm1hbmdhZGV4Lm9yZyc7XG4gICAgICAgIHRoaXMuZmV0Y2hNYW5nYUluZm8gPSBhc3luYyAobWFuZ2FJZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmFwaVVybH0vbWFuZ2EvJHttYW5nYUlkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hbmdhSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGRhdGEuZGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGRhdGEuZGF0YS5hdHRyaWJ1dGVzLnRpdGxlLmVuLFxuICAgICAgICAgICAgICAgICAgICBhbHRUaXRsZXM6IGRhdGEuZGF0YS5hdHRyaWJ1dGVzLmFsdFRpdGxlcyxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGF0YS5hdHRyaWJ1dGVzLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBnZW5yZXM6IGRhdGEuZGF0YS5hdHRyaWJ1dGVzLnRhZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHRhZykgPT4gdGFnLmF0dHJpYnV0ZXMuZ3JvdXAgPT09ICdnZW5yZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKCh0YWcpID0+IHRhZy5hdHRyaWJ1dGVzLm5hbWUuZW4pLFxuICAgICAgICAgICAgICAgICAgICB0aGVtZXM6IGRhdGEuZGF0YS5hdHRyaWJ1dGVzLnRhZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHRhZykgPT4gdGFnLmF0dHJpYnV0ZXMuZ3JvdXAgPT09ICd0aGVtZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKCh0YWcpID0+IHRhZy5hdHRyaWJ1dGVzLm5hbWUuZW4pLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICgwLCB1dGlsc18xLmNhcGl0YWxpemVGaXJzdExldHRlcikoZGF0YS5kYXRhLmF0dHJpYnV0ZXMuc3RhdHVzKSxcbiAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IGRhdGEuZGF0YS5hdHRyaWJ1dGVzLnllYXIsXG4gICAgICAgICAgICAgICAgICAgIGNoYXB0ZXJzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbENoYXB0ZXJzID0gYXdhaXQgdGhpcy5mZXRjaEFsbENoYXB0ZXJzKG1hbmdhSWQsIDApO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2hhcHRlciBvZiBhbGxDaGFwdGVycykge1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBtYW5nYUluZm8uY2hhcHRlcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjaGFwdGVyLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGNoYXB0ZXIuYXR0cmlidXRlcy50aXRsZSA/IGNoYXB0ZXIuYXR0cmlidXRlcy50aXRsZSA6IGNoYXB0ZXIuYXR0cmlidXRlcy5jaGFwdGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcHRlck51bWJlcjogY2hhcHRlci5hdHRyaWJ1dGVzLmNoYXB0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2b2x1bWVOdW1iZXI6IGNoYXB0ZXIuYXR0cmlidXRlcy52b2x1bWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlczogY2hhcHRlci5hdHRyaWJ1dGVzLnBhZ2VzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZmluZENvdmVyQXJ0ID0gZGF0YS5kYXRhLnJlbGF0aW9uc2hpcHMuZmluZCgocmVsKSA9PiByZWwudHlwZSA9PT0gJ2NvdmVyX2FydCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvdmVyQXJ0ID0gYXdhaXQgdGhpcy5mZXRjaENvdmVySW1hZ2UoZmluZENvdmVyQXJ0ID09PSBudWxsIHx8IGZpbmRDb3ZlckFydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmluZENvdmVyQXJ0LmlkKTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uaW1hZ2UgPSBgJHt0aGlzLmJhc2VVcmx9L2NvdmVycy8ke21hbmdhSW5mby5pZH0vJHtjb3ZlckFydH1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYW5nYUluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVyci5jb2RlID09ICdFUlJfQkFEX1JFUVVFU1QnKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFske3RoaXMubmFtZX1dIEJhZCByZXF1ZXN0LiBNYWtlIHN1cmUgeW91IGhhdmUgZW50ZXJlZCBhIHZhbGlkIHF1ZXJ5LmApO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY3VycmVudGx5IG9ubHkgc3VwcG9ydHMgZW5nbGlzaFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaENoYXB0ZXJQYWdlcyA9IGFzeW5jIChjaGFwdGVySWQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYXBpVXJsfS9hdC1ob21lL3NlcnZlci8ke2NoYXB0ZXJJZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWdlcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgcmVzLmRhdGEuY2hhcHRlci5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nOiBgJHtyZXMuZGF0YS5iYXNlVXJsfS9kYXRhLyR7cmVzLmRhdGEuY2hhcHRlci5oYXNofS8ke2lkfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBwYXJzZUludCgoMCwgdXRpbHNfMS5zdWJzdHJpbmdCZWZvcmUpKGlkLCAnLScpLnJlcGxhY2UoL1teMC05Ll0vZywgJycpKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHF1ZXJ5IHNlYXJjaCBxdWVyeVxuICAgICAgICAgKiBAcGFyYW0gcGFnZSBwYWdlIG51bWJlciAoZGVmYXVsdDogMSlcbiAgICAgICAgICogQHBhcmFtIGxpbWl0IGxpbWl0IG9mIHJlc3VsdHMgdG8gcmV0dXJuIChkZWZhdWx0OiAyMCkgKG1heDogMTAwKSAobWluOiAxKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocXVlcnksIHBhZ2UgPSAxLCBsaW1pdCA9IDIwKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFnZSA8PSAwKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGFnZSBudW1iZXIgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCcpO1xuICAgICAgICAgICAgaWYgKGxpbWl0ID4gMTAwKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTGltaXQgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gMTAwJyk7XG4gICAgICAgICAgICBpZiAobGltaXQgKiAocGFnZSAtIDEpID49IDEwMDAwKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGVub3VnaCByZXN1bHRzJyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmFwaVVybH0vbWFuZ2E/bGltaXQ9JHtsaW1pdH0mdGl0bGU9JHsoMCwgYXNjaWlfdXJsX2VuY29kZXJfMS5lbmNvZGUpKHF1ZXJ5KX0mbGltaXQ9JHtsaW1pdH0mb2Zmc2V0PSR7bGltaXQgKiAocGFnZSAtIDEpfSZvcmRlcltyZWxldmFuY2VdPWRlc2NgKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEucmVzdWx0ID09ICdvaycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbWFuZ2Egb2YgcmVzLmRhdGEuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluZENvdmVyQXJ0ID0gbWFuZ2EucmVsYXRpb25zaGlwcy5maW5kKChpdGVtKSA9PiBpdGVtLnR5cGUgPT09ICdjb3Zlcl9hcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdmVyQXJ0SWQgPSBmaW5kQ292ZXJBcnQgPyBmaW5kQ292ZXJBcnQuaWQgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY292ZXJBcnQgPSBhd2FpdCB0aGlzLmZldGNoQ292ZXJJbWFnZShjb3ZlckFydElkID09PSBudWxsIHx8IGNvdmVyQXJ0SWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvdmVyQXJ0SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5yZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtYW5nYS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogT2JqZWN0LnZhbHVlcyhtYW5nYS5hdHRyaWJ1dGVzLnRpdGxlKVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRUaXRsZXM6IG1hbmdhLmF0dHJpYnV0ZXMuYWx0VGl0bGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBPYmplY3QudmFsdWVzKG1hbmdhLmF0dHJpYnV0ZXMuZGVzY3JpcHRpb24pWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogbWFuZ2EuYXR0cmlidXRlcy5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IG1hbmdhLmF0dHJpYnV0ZXMueWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50UmF0aW5nOiBtYW5nYS5hdHRyaWJ1dGVzLmNvbnRlbnRSYXRpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFZvbHVtZTogbWFuZ2EuYXR0cmlidXRlcy5sYXN0Vm9sdW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RDaGFwdGVyOiBtYW5nYS5hdHRyaWJ1dGVzLmxhc3RDaGFwdGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBgJHt0aGlzLmJhc2VVcmx9L2NvdmVycy8ke21hbmdhLmlkfS8ke2NvdmVyQXJ0fWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXMuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVyci5jb2RlID09ICdFUlJfQkFEX1JFUVVFU1QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQmFkIHJlcXVlc3QuIE1ha2Ugc3VyZSB5b3UgaGF2ZSBlbnRlcmVkIGEgdmFsaWQgcXVlcnkuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hSYW5kb20gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmFwaVVybH0vbWFuZ2EvcmFuZG9tYCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnJlc3VsdCA9PSAnb2snKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5kQ292ZXJBcnQgPSByZXMuZGF0YS5kYXRhLnJlbGF0aW9uc2hpcHMuZmluZCgoaXRlbSkgPT4gaXRlbS50eXBlID09PSAnY292ZXJfYXJ0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdmVyQXJ0SWQgPSBmaW5kQ292ZXJBcnQgPyBmaW5kQ292ZXJBcnQuaWQgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3ZlckFydCA9IGF3YWl0IHRoaXMuZmV0Y2hDb3ZlckltYWdlKGNvdmVyQXJ0SWQgPT09IG51bGwgfHwgY292ZXJBcnRJZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY292ZXJBcnRJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiByZXMuZGF0YS5kYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IE9iamVjdC52YWx1ZXMocmVzLmRhdGEuZGF0YS5hdHRyaWJ1dGVzLnRpdGxlKVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdFRpdGxlczogcmVzLmRhdGEuZGF0YS5hdHRyaWJ1dGVzLmFsdFRpdGxlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBPYmplY3QudmFsdWVzKHJlcy5kYXRhLmRhdGEuYXR0cmlidXRlcy5kZXNjcmlwdGlvbilbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlcy5kYXRhLmRhdGEuYXR0cmlidXRlcy5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogcmVzLmRhdGEuZGF0YS5hdHRyaWJ1dGVzLnllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50UmF0aW5nOiByZXMuZGF0YS5kYXRhLmF0dHJpYnV0ZXMuY29udGVudFJhdGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RWb2x1bWU6IHJlcy5kYXRhLmRhdGEuYXR0cmlidXRlcy5sYXN0Vm9sdW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENoYXB0ZXI6IHJlcy5kYXRhLmRhdGEuYXR0cmlidXRlcy5sYXN0Q2hhcHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBgJHt0aGlzLmJhc2VVcmx9L2NvdmVycy8ke3Jlcy5kYXRhLmRhdGEuaWR9LyR7Y292ZXJBcnR9YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoUmVjZW50bHlBZGRlZCA9IGFzeW5jIChwYWdlID0gMSwgbGltaXQgPSAyMCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBhZ2UgPD0gMClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhZ2UgbnVtYmVyIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAnKTtcbiAgICAgICAgICAgIGlmIChsaW1pdCA+IDEwMClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xpbWl0IG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDEwMCcpO1xuICAgICAgICAgICAgaWYgKGxpbWl0ICogKHBhZ2UgLSAxKSA+PSAxMDAwMClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBlbm91Z2ggcmVzdWx0cycpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5hcGlVcmx9L21hbmdhP2luY2x1ZGVzW109Y292ZXJfYXJ0JmNvbnRlbnRSYXRpbmdbXT1zYWZlJmNvbnRlbnRSYXRpbmdbXT1zdWdnZXN0aXZlJmNvbnRlbnRSYXRpbmdbXT1lcm90aWNhJm9yZGVyW2NyZWF0ZWRBdF09ZGVzYyZoYXNBdmFpbGFibGVDaGFwdGVycz10cnVlJmxpbWl0PSR7bGltaXR9Jm9mZnNldD0ke2xpbWl0ICogKHBhZ2UgLSAxKX1gKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEucmVzdWx0ID09ICdvaycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbWFuZ2Egb2YgcmVzLmRhdGEuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluZENvdmVyQXJ0ID0gbWFuZ2EucmVsYXRpb25zaGlwcy5maW5kKChpdGVtKSA9PiBpdGVtLnR5cGUgPT09ICdjb3Zlcl9hcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdmVyQXJ0SWQgPSBmaW5kQ292ZXJBcnQgPyBmaW5kQ292ZXJBcnQuaWQgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY292ZXJBcnQgPSBhd2FpdCB0aGlzLmZldGNoQ292ZXJJbWFnZShjb3ZlckFydElkID09PSBudWxsIHx8IGNvdmVyQXJ0SWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvdmVyQXJ0SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5yZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtYW5nYS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogT2JqZWN0LnZhbHVlcyhtYW5nYS5hdHRyaWJ1dGVzLnRpdGxlKVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRUaXRsZXM6IG1hbmdhLmF0dHJpYnV0ZXMuYWx0VGl0bGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBPYmplY3QudmFsdWVzKG1hbmdhLmF0dHJpYnV0ZXMuZGVzY3JpcHRpb24pWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogbWFuZ2EuYXR0cmlidXRlcy5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IG1hbmdhLmF0dHJpYnV0ZXMueWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50UmF0aW5nOiBtYW5nYS5hdHRyaWJ1dGVzLmNvbnRlbnRSYXRpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFZvbHVtZTogbWFuZ2EuYXR0cmlidXRlcy5sYXN0Vm9sdW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RDaGFwdGVyOiBtYW5nYS5hdHRyaWJ1dGVzLmxhc3RDaGFwdGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBgJHt0aGlzLmJhc2VVcmx9L2NvdmVycy8ke21hbmdhLmlkfS8ke2NvdmVyQXJ0fWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXMuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaExhdGVzdFVwZGF0ZXMgPSBhc3luYyAocGFnZSA9IDEsIGxpbWl0ID0gMjApID0+IHtcbiAgICAgICAgICAgIGlmIChwYWdlIDw9IDApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYWdlIG51bWJlciBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7XG4gICAgICAgICAgICBpZiAobGltaXQgPiAxMDApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMaW1pdCBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byAxMDAnKTtcbiAgICAgICAgICAgIGlmIChsaW1pdCAqIChwYWdlIC0gMSkgPj0gMTAwMDApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgZW5vdWdoIHJlc3VsdHMnKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYXBpVXJsfS9tYW5nYT9vcmRlcltsYXRlc3RVcGxvYWRlZENoYXB0ZXJdPWRlc2MmbGltaXQ9JHtsaW1pdH0mb2Zmc2V0PSR7bGltaXQgKiAocGFnZSAtIDEpfWApO1xuICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5yZXN1bHQgPT0gJ29rJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBtYW5nYSBvZiByZXMuZGF0YS5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5kQ292ZXJBcnQgPSBtYW5nYS5yZWxhdGlvbnNoaXBzLmZpbmQoKGl0ZW0pID0+IGl0ZW0udHlwZSA9PT0gJ2NvdmVyX2FydCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY292ZXJBcnRJZCA9IGZpbmRDb3ZlckFydCA/IGZpbmRDb3ZlckFydC5pZCA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3ZlckFydCA9IGF3YWl0IHRoaXMuZmV0Y2hDb3ZlckltYWdlKGNvdmVyQXJ0SWQgPT09IG51bGwgfHwgY292ZXJBcnRJZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY292ZXJBcnRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG1hbmdhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBPYmplY3QudmFsdWVzKG1hbmdhLmF0dHJpYnV0ZXMudGl0bGUpWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdFRpdGxlczogbWFuZ2EuYXR0cmlidXRlcy5hbHRUaXRsZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IE9iamVjdC52YWx1ZXMobWFuZ2EuYXR0cmlidXRlcy5kZXNjcmlwdGlvbilbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBtYW5nYS5hdHRyaWJ1dGVzLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogbWFuZ2EuYXR0cmlidXRlcy55ZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRSYXRpbmc6IG1hbmdhLmF0dHJpYnV0ZXMuY29udGVudFJhdGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0Vm9sdW1lOiBtYW5nYS5hdHRyaWJ1dGVzLmxhc3RWb2x1bWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENoYXB0ZXI6IG1hbmdhLmF0dHJpYnV0ZXMubGFzdENoYXB0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGAke3RoaXMuYmFzZVVybH0vY292ZXJzLyR7bWFuZ2EuaWR9LyR7Y292ZXJBcnR9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoUG9wdWxhciA9IGFzeW5jIChwYWdlID0gMSwgbGltaXQgPSAyMCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBhZ2UgPD0gMClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhZ2UgbnVtYmVyIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAnKTtcbiAgICAgICAgICAgIGlmIChsaW1pdCA+IDEwMClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xpbWl0IG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDEwMCcpO1xuICAgICAgICAgICAgaWYgKGxpbWl0ICogKHBhZ2UgLSAxKSA+PSAxMDAwMClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBlbm91Z2ggcmVzdWx0cycpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5hcGlVcmx9L21hbmdhP2luY2x1ZGVzW109Y292ZXJfYXJ0JmluY2x1ZGVzW109YXJ0aXN0JmluY2x1ZGVzW109YXV0aG9yJm9yZGVyW2ZvbGxvd2VkQ291bnRdPWRlc2MmY29udGVudFJhdGluZ1tdPXNhZmUmY29udGVudFJhdGluZ1tdPXN1Z2dlc3RpdmUmaGFzQXZhaWxhYmxlQ2hhcHRlcnM9dHJ1ZSZsaW1pdD0ke2xpbWl0fSZvZmZzZXQ9JHtsaW1pdCAqIChwYWdlIC0gMSl9YCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnJlc3VsdCA9PSAnb2snKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG1hbmdhIG9mIHJlcy5kYXRhLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmRDb3ZlckFydCA9IG1hbmdhLnJlbGF0aW9uc2hpcHMuZmluZCgoaXRlbSkgPT4gaXRlbS50eXBlID09PSAnY292ZXJfYXJ0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3ZlckFydElkID0gZmluZENvdmVyQXJ0ID8gZmluZENvdmVyQXJ0LmlkIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdmVyQXJ0ID0gYXdhaXQgdGhpcy5mZXRjaENvdmVySW1hZ2UoY292ZXJBcnRJZCA9PT0gbnVsbCB8fCBjb3ZlckFydElkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb3ZlckFydElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbWFuZ2EuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IE9iamVjdC52YWx1ZXMobWFuZ2EuYXR0cmlidXRlcy50aXRsZSlbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0VGl0bGVzOiBtYW5nYS5hdHRyaWJ1dGVzLmFsdFRpdGxlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogT2JqZWN0LnZhbHVlcyhtYW5nYS5hdHRyaWJ1dGVzLmRlc2NyaXB0aW9uKVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IG1hbmdhLmF0dHJpYnV0ZXMuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBtYW5nYS5hdHRyaWJ1dGVzLnllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFJhdGluZzogbWFuZ2EuYXR0cmlidXRlcy5jb250ZW50UmF0aW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RWb2x1bWU6IG1hbmdhLmF0dHJpYnV0ZXMubGFzdFZvbHVtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2hhcHRlcjogbWFuZ2EuYXR0cmlidXRlcy5sYXN0Q2hhcHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogYCR7dGhpcy5iYXNlVXJsfS9jb3ZlcnMvJHttYW5nYS5pZH0vJHtjb3ZlckFydH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hBbGxDaGFwdGVycyA9IGFzeW5jIChtYW5nYUlkLCBvZmZzZXQsIHJlcykgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmICgoKF9hID0gcmVzID09PSBudWxsIHx8IHJlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzLmRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vZmZzZXQpICsgOTYgPj0gKChfYiA9IHJlcyA9PT0gbnVsbCB8fCByZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcy5kYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudG90YWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5hcGlVcmx9L21hbmdhLyR7bWFuZ2FJZH0vZmVlZD9vZmZzZXQ9JHtvZmZzZXR9JmxpbWl0PTk2Jm9yZGVyW3ZvbHVtZV09ZGVzYyZvcmRlcltjaGFwdGVyXT1kZXNjJnRyYW5zbGF0ZWRMYW5ndWFnZVtdPWVuYCk7XG4gICAgICAgICAgICByZXR1cm4gWy4uLnJlc3BvbnNlLmRhdGEuZGF0YSwgLi4uKGF3YWl0IHRoaXMuZmV0Y2hBbGxDaGFwdGVycyhtYW5nYUlkLCBvZmZzZXQgKyA5NiwgcmVzcG9uc2UpKV07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hDb3ZlckltYWdlID0gYXN5bmMgKGNvdmVySWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYXBpVXJsfS9jb3Zlci8ke2NvdmVySWR9YCk7XG4gICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGRhdGEuZGF0YS5hdHRyaWJ1dGVzLmZpbGVOYW1lO1xuICAgICAgICAgICAgcmV0dXJuIGZpbGVOYW1lO1xuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIChhc3luYyAoKSA9PiB7XG4vLyAgIGNvbnN0IG1kID0gbmV3IE1hbmdhRGV4KCk7XG4vLyAgIGNvbnN0IHNlYXJjaCA9IGF3YWl0IG1kLnNlYXJjaCgnc29sbyBsZXZlbGluZycpO1xuLy8gICBjb25zdCBtYW5nYSA9IGF3YWl0IG1kLmZldGNoTWFuZ2FJbmZvKHNlYXJjaC5yZXN1bHRzWzBdLmlkKTtcbi8vICAgY29uc3QgY2hhcHRlclBhZ2VzID0gYXdhaXQgbWQuZmV0Y2hDaGFwdGVyUGFnZXMobWFuZ2EuY2hhcHRlcnMhWzBdLmlkKTtcbi8vICAgY29uc29sZS5sb2coY2hhcHRlclBhZ2VzKTtcbi8vIH0pKCk7XG5leHBvcnRzLmRlZmF1bHQgPSBNYW5nYURleDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hbmdhZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangadex.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangahere.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/mangahere.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass MangaHere extends models_1.MangaParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'MangaHere';\n        this.baseUrl = 'http://www.mangahere.cc';\n        this.logo = 'https://i.pinimg.com/564x/51/08/62/51086247ed16ff8abae2df0bb06448e4.jpg';\n        this.classPath = 'MANGA.MangaHere';\n        this.fetchMangaInfo = async (mangaId) => {\n            const mangaInfo = {\n                id: mangaId,\n                title: '',\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/manga/${mangaId}`, {\n                    headers: {\n                        cookie: 'isAdult=1',\n                    },\n                });\n                const $ = (0, cheerio_1.load)(data);\n                mangaInfo.title = $('span.detail-info-right-title-font').text();\n                mangaInfo.description = $('div.detail-info-right > p.fullcontent').text();\n                mangaInfo.headers = { Referer: this.baseUrl };\n                mangaInfo.image = $('div.detail-info-cover > img').attr('src');\n                mangaInfo.genres = $('p.detail-info-right-tag-list > a')\n                    .map((i, el) => { var _a; return (_a = $(el).attr('title')) === null || _a === void 0 ? void 0 : _a.trim(); })\n                    .get();\n                switch ($('span.detail-info-right-title-tip').text()) {\n                    case 'Ongoing':\n                        mangaInfo.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    case 'Completed':\n                        mangaInfo.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                    default:\n                        mangaInfo.status = models_1.MediaStatus.UNKNOWN;\n                        break;\n                }\n                mangaInfo.rating = parseFloat($('span.detail-info-right-title-star > span').last().text());\n                mangaInfo.authors = $('p.detail-info-right-say > a')\n                    .map((i, el) => $(el).attr('title'))\n                    .get();\n                mangaInfo.chapters = $('ul.detail-main-list > li')\n                    .map((i, el) => {\n                    var _a;\n                    return ({\n                        id: (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/manga/')[1].slice(0, -7),\n                        title: $(el).find('a > div > p.title3').text(),\n                        releasedDate: $(el).find('a > div > p.title2').text().trim(),\n                    });\n                })\n                    .get();\n                return mangaInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchChapterPages = async (chapterId) => {\n            var _a, _b;\n            const chapterPages = [];\n            const url = `${this.baseUrl}/manga/${chapterId}/1.html`;\n            try {\n                const { data } = await this.client.get(url, {\n                    headers: {\n                        cookie: 'isAdult=1',\n                    },\n                });\n                const $ = (0, cheerio_1.load)(data);\n                const copyrightHandle = $('p.detail-block-content').text().match('Dear user') ||\n                    $('p.detail-block-content').text().match('blocked');\n                if (copyrightHandle) {\n                    throw Error((_a = copyrightHandle.input) === null || _a === void 0 ? void 0 : _a.trim());\n                }\n                const bar = $('script[src*=chapter_bar]').data();\n                const html = $.html();\n                if (typeof bar !== 'undefined') {\n                    const ss = html.indexOf('eval(function(p,a,c,k,e,d)');\n                    const se = html.indexOf('</script>', ss);\n                    const s = html.substring(ss, se).replace('eval', '');\n                    const ds = eval(s);\n                    const urls = ds.split(\"['\")[1].split(\"']\")[0].split(\"','\");\n                    urls.map((url, i) => chapterPages.push({\n                        page: i,\n                        img: `https:${url}`,\n                        headerForImage: { Referer: url },\n                    }));\n                }\n                else {\n                    let sKey = this.extractKey(html);\n                    const chapterIdsl = html.indexOf('chapterid');\n                    const chapterId = html.substring(chapterIdsl + 11, html.indexOf(';', chapterIdsl)).trim();\n                    const chapterPagesElmnt = $('body > div:nth-child(6) > div > span').children('a');\n                    const pages = parseInt((_b = chapterPagesElmnt.last().prev().attr('data-page')) !== null && _b !== void 0 ? _b : '0');\n                    const pageBase = url.substring(0, url.lastIndexOf('/'));\n                    let resText = '';\n                    for (let i = 1; i <= pages; i++) {\n                        const pageLink = `${pageBase}/chapterfun.ashx?cid=${chapterId}&page=${i}&key=${sKey}`;\n                        for (let j = 1; j <= 3; j++) {\n                            const { data } = await this.client.get(pageLink, {\n                                headers: {\n                                    Referer: url,\n                                    'X-Requested-With': 'XMLHttpRequest',\n                                    cookie: 'isAdult=1',\n                                },\n                            });\n                            resText = data;\n                            if (resText)\n                                break;\n                            else\n                                sKey = '';\n                        }\n                        const ds = eval(resText.replace('eval', ''));\n                        const baseLinksp = ds.indexOf('pix=') + 5;\n                        const baseLinkes = ds.indexOf(';', baseLinksp) - 1;\n                        const baseLink = ds.substring(baseLinksp, baseLinkes);\n                        const imageLinksp = ds.indexOf('pvalue=') + 9;\n                        const imageLinkes = ds.indexOf('\"', imageLinksp);\n                        const imageLink = ds.substring(imageLinksp, imageLinkes);\n                        chapterPages.push({\n                            page: i - 1,\n                            img: `https:${baseLink}${imageLink}`,\n                            headerForImage: { Referer: url },\n                        });\n                    }\n                }\n                return chapterPages;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.search = async (query, page = 1) => {\n            const searchRes = {\n                currentPage: page,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/search?title=${query}&page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                searchRes.hasNextPage = $('div.pager-list-left > a.active').next().text() !== '>';\n                searchRes.results = $('div.container > div > div > ul > li')\n                    .map((i, el) => {\n                    var _a;\n                    return ({\n                        id: (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[2],\n                        title: $(el).find('p.manga-list-4-item-title > a').text(),\n                        headerForImage: { Referer: this.baseUrl },\n                        image: $(el).find('a > img').attr('src'),\n                        description: $(el).find('p').last().text(),\n                        status: $(el).find('p.manga-list-4-show-tag-list-2 > a').text() === 'Ongoing'\n                            ? models_1.MediaStatus.ONGOING\n                            : $(el).find('p.manga-list-4-show-tag-list-2 > a').text() === 'Completed'\n                                ? models_1.MediaStatus.COMPLETED\n                                : models_1.MediaStatus.UNKNOWN,\n                    });\n                })\n                    .get();\n                return searchRes;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *  credit: [tachiyomi-extensions](https://github.com/tachiyomiorg/tachiyomi-extensions/blob/master/src/en/mangahere/src/eu/kanade/tachiyomi/extension/en/mangahere/Mangahere.kt)\n         */\n        this.extractKey = (html) => {\n            const skss = html.indexOf('eval(function(p,a,c,k,e,d)');\n            const skse = html.indexOf('</script>', skss);\n            const sks = html.substring(skss, skse).replace('eval', '');\n            const skds = eval(sks);\n            const sksl = skds.indexOf(\"'\");\n            const skel = skds.indexOf(';');\n            const skrs = skds.substring(sksl, skel);\n            return eval(skrs);\n        };\n    }\n}\nexports[\"default\"] = MangaHere;\n//# sourceMappingURL=mangahere.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2EvbWFuZ2FoZXJlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsU0FBUyxRQUFRO0FBQ3hGO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0Esc0NBQXNDLFFBQVEsbUZBQW1GO0FBQ2pJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGFBQWEsU0FBUyxVQUFVO0FBQzNEO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsSUFBSTtBQUMxQywwQ0FBMEMsY0FBYztBQUN4RCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0Y7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsWUFBWTtBQUNoRCw0Q0FBNEMsU0FBUyx1QkFBdUIsVUFBVSxRQUFRLEVBQUUsT0FBTyxLQUFLO0FBQzVHLHdDQUF3QyxRQUFRO0FBQ2hELG9DQUFvQyxPQUFPO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxTQUFTLEVBQUUsVUFBVTtBQUMvRCw4Q0FBOEMsY0FBYztBQUM1RCx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLGdCQUFnQixNQUFNLFFBQVEsS0FBSztBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHVCQUF1QjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcbWFuZ2FcXG1hbmdhaGVyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY2xhc3MgTWFuZ2FIZXJlIGV4dGVuZHMgbW9kZWxzXzEuTWFuZ2FQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTWFuZ2FIZXJlJztcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJ2h0dHA6Ly93d3cubWFuZ2FoZXJlLmNjJztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vaS5waW5pbWcuY29tLzU2NHgvNTEvMDgvNjIvNTEwODYyNDdlZDE2ZmY4YWJhZTJkZjBiYjA2NDQ4ZTQuanBnJztcbiAgICAgICAgdGhpcy5jbGFzc1BhdGggPSAnTUFOR0EuTWFuZ2FIZXJlJztcbiAgICAgICAgdGhpcy5mZXRjaE1hbmdhSW5mbyA9IGFzeW5jIChtYW5nYUlkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtYW5nYUluZm8gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1hbmdhSWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9tYW5nYS8ke21hbmdhSWR9YCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29raWU6ICdpc0FkdWx0PTEnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby50aXRsZSA9ICQoJ3NwYW4uZGV0YWlsLWluZm8tcmlnaHQtdGl0bGUtZm9udCcpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uZGVzY3JpcHRpb24gPSAkKCdkaXYuZGV0YWlsLWluZm8tcmlnaHQgPiBwLmZ1bGxjb250ZW50JykudGV4dCgpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5oZWFkZXJzID0geyBSZWZlcmVyOiB0aGlzLmJhc2VVcmwgfTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uaW1hZ2UgPSAkKCdkaXYuZGV0YWlsLWluZm8tY292ZXIgPiBpbWcnKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uZ2VucmVzID0gJCgncC5kZXRhaWwtaW5mby1yaWdodC10YWctbGlzdCA+IGEnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSAkKGVsKS5hdHRyKCd0aXRsZScpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHJpbSgpOyB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoICgkKCdzcGFuLmRldGFpbC1pbmZvLXJpZ2h0LXRpdGxlLXRpcCcpLnRleHQoKSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdPbmdvaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuVU5LTk9XTjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYW5nYUluZm8ucmF0aW5nID0gcGFyc2VGbG9hdCgkKCdzcGFuLmRldGFpbC1pbmZvLXJpZ2h0LXRpdGxlLXN0YXIgPiBzcGFuJykubGFzdCgpLnRleHQoKSk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmF1dGhvcnMgPSAkKCdwLmRldGFpbC1pbmZvLXJpZ2h0LXNheSA+IGEnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkuYXR0cigndGl0bGUnKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5jaGFwdGVycyA9ICQoJ3VsLmRldGFpbC1tYWluLWxpc3QgPiBsaScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9hID0gJChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KCcvbWFuZ2EvJylbMV0uc2xpY2UoMCwgLTcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJ2EgPiBkaXYgPiBwLnRpdGxlMycpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VkRGF0ZTogJChlbCkuZmluZCgnYSA+IGRpdiA+IHAudGl0bGUyJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYW5nYUluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaENoYXB0ZXJQYWdlcyA9IGFzeW5jIChjaGFwdGVySWQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBjb25zdCBjaGFwdGVyUGFnZXMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVybH0vbWFuZ2EvJHtjaGFwdGVySWR9LzEuaHRtbGA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHVybCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29raWU6ICdpc0FkdWx0PTEnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvcHlyaWdodEhhbmRsZSA9ICQoJ3AuZGV0YWlsLWJsb2NrLWNvbnRlbnQnKS50ZXh0KCkubWF0Y2goJ0RlYXIgdXNlcicpIHx8XG4gICAgICAgICAgICAgICAgICAgICQoJ3AuZGV0YWlsLWJsb2NrLWNvbnRlbnQnKS50ZXh0KCkubWF0Y2goJ2Jsb2NrZWQnKTtcbiAgICAgICAgICAgICAgICBpZiAoY29weXJpZ2h0SGFuZGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKChfYSA9IGNvcHlyaWdodEhhbmRsZS5pbnB1dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGJhciA9ICQoJ3NjcmlwdFtzcmMqPWNoYXB0ZXJfYmFyXScpLmRhdGEoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBodG1sID0gJC5odG1sKCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiYXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNzID0gaHRtbC5pbmRleE9mKCdldmFsKGZ1bmN0aW9uKHAsYSxjLGssZSxkKScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZSA9IGh0bWwuaW5kZXhPZignPC9zY3JpcHQ+Jywgc3MpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzID0gaHRtbC5zdWJzdHJpbmcoc3MsIHNlKS5yZXBsYWNlKCdldmFsJywgJycpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkcyA9IGV2YWwocyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybHMgPSBkcy5zcGxpdChcIlsnXCIpWzFdLnNwbGl0KFwiJ11cIilbMF0uc3BsaXQoXCInLCdcIik7XG4gICAgICAgICAgICAgICAgICAgIHVybHMubWFwKCh1cmwsIGkpID0+IGNoYXB0ZXJQYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IGksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWc6IGBodHRwczoke3VybH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyRm9ySW1hZ2U6IHsgUmVmZXJlcjogdXJsIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzS2V5ID0gdGhpcy5leHRyYWN0S2V5KGh0bWwpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFwdGVySWRzbCA9IGh0bWwuaW5kZXhPZignY2hhcHRlcmlkJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXB0ZXJJZCA9IGh0bWwuc3Vic3RyaW5nKGNoYXB0ZXJJZHNsICsgMTEsIGh0bWwuaW5kZXhPZignOycsIGNoYXB0ZXJJZHNsKSkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFwdGVyUGFnZXNFbG1udCA9ICQoJ2JvZHkgPiBkaXY6bnRoLWNoaWxkKDYpID4gZGl2ID4gc3BhbicpLmNoaWxkcmVuKCdhJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VzID0gcGFyc2VJbnQoKF9iID0gY2hhcHRlclBhZ2VzRWxtbnQubGFzdCgpLnByZXYoKS5hdHRyKCdkYXRhLXBhZ2UnKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJzAnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZUJhc2UgPSB1cmwuc3Vic3RyaW5nKDAsIHVybC5sYXN0SW5kZXhPZignLycpKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc1RleHQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gcGFnZXM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZUxpbmsgPSBgJHtwYWdlQmFzZX0vY2hhcHRlcmZ1bi5hc2h4P2NpZD0ke2NoYXB0ZXJJZH0mcGFnZT0ke2l9JmtleT0ke3NLZXl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAxOyBqIDw9IDM7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHBhZ2VMaW5rLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tpZTogJ2lzQWR1bHQ9MScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzVGV4dCA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc1RleHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc0tleSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHMgPSBldmFsKHJlc1RleHQucmVwbGFjZSgnZXZhbCcsICcnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlTGlua3NwID0gZHMuaW5kZXhPZigncGl4PScpICsgNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VMaW5rZXMgPSBkcy5pbmRleE9mKCc7JywgYmFzZUxpbmtzcCkgLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZUxpbmsgPSBkcy5zdWJzdHJpbmcoYmFzZUxpbmtzcCwgYmFzZUxpbmtlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUxpbmtzcCA9IGRzLmluZGV4T2YoJ3B2YWx1ZT0nKSArIDk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUxpbmtlcyA9IGRzLmluZGV4T2YoJ1wiJywgaW1hZ2VMaW5rc3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VMaW5rID0gZHMuc3Vic3RyaW5nKGltYWdlTGlua3NwLCBpbWFnZUxpbmtlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFwdGVyUGFnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogaSAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nOiBgaHR0cHM6JHtiYXNlTGlua30ke2ltYWdlTGlua31gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlckZvckltYWdlOiB7IFJlZmVyZXI6IHVybCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXB0ZXJQYWdlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGFzeW5jIChxdWVyeSwgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFJlcyA9IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vc2VhcmNoP3RpdGxlPSR7cXVlcnl9JnBhZ2U9JHtwYWdlfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIHNlYXJjaFJlcy5oYXNOZXh0UGFnZSA9ICQoJ2Rpdi5wYWdlci1saXN0LWxlZnQgPiBhLmFjdGl2ZScpLm5leHQoKS50ZXh0KCkgIT09ICc+JztcbiAgICAgICAgICAgICAgICBzZWFyY2hSZXMucmVzdWx0cyA9ICQoJ2Rpdi5jb250YWluZXIgPiBkaXYgPiBkaXYgPiB1bCA+IGxpJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3BsaXQoJy8nKVsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdwLm1hbmdhLWxpc3QtNC1pdGVtLXRpdGxlID4gYScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlckZvckltYWdlOiB7IFJlZmVyZXI6IHRoaXMuYmFzZVVybCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWwpLmZpbmQoJ2EgPiBpbWcnKS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkKGVsKS5maW5kKCdwJykubGFzdCgpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJChlbCkuZmluZCgncC5tYW5nYS1saXN0LTQtc2hvdy10YWctbGlzdC0yID4gYScpLnRleHQoKSA9PT0gJ09uZ29pbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAkKGVsKS5maW5kKCdwLm1hbmdhLWxpc3QtNC1zaG93LXRhZy1saXN0LTIgPiBhJykudGV4dCgpID09PSAnQ29tcGxldGVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV04sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoUmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAgY3JlZGl0OiBbdGFjaGl5b21pLWV4dGVuc2lvbnNdKGh0dHBzOi8vZ2l0aHViLmNvbS90YWNoaXlvbWlvcmcvdGFjaGl5b21pLWV4dGVuc2lvbnMvYmxvYi9tYXN0ZXIvc3JjL2VuL21hbmdhaGVyZS9zcmMvZXUva2FuYWRlL3RhY2hpeW9taS9leHRlbnNpb24vZW4vbWFuZ2FoZXJlL01hbmdhaGVyZS5rdClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0cmFjdEtleSA9IChodG1sKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBza3NzID0gaHRtbC5pbmRleE9mKCdldmFsKGZ1bmN0aW9uKHAsYSxjLGssZSxkKScpO1xuICAgICAgICAgICAgY29uc3Qgc2tzZSA9IGh0bWwuaW5kZXhPZignPC9zY3JpcHQ+Jywgc2tzcyk7XG4gICAgICAgICAgICBjb25zdCBza3MgPSBodG1sLnN1YnN0cmluZyhza3NzLCBza3NlKS5yZXBsYWNlKCdldmFsJywgJycpO1xuICAgICAgICAgICAgY29uc3Qgc2tkcyA9IGV2YWwoc2tzKTtcbiAgICAgICAgICAgIGNvbnN0IHNrc2wgPSBza2RzLmluZGV4T2YoXCInXCIpO1xuICAgICAgICAgICAgY29uc3Qgc2tlbCA9IHNrZHMuaW5kZXhPZignOycpO1xuICAgICAgICAgICAgY29uc3Qgc2tycyA9IHNrZHMuc3Vic3RyaW5nKHNrc2wsIHNrZWwpO1xuICAgICAgICAgICAgcmV0dXJuIGV2YWwoc2tycyk7XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gTWFuZ2FIZXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFuZ2FoZXJlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangahere.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangahost.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/mangahost.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass MangaHost extends models_1.MangaParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'MangaHost';\n        this.baseUrl = 'https://mangahosted.com';\n        this.logo = 'https://i.imgur.com/OVlhhsR.png';\n        this.classPath = 'MANGA.MangaHost';\n        this.fetchMangaInfo = async (mangaId) => {\n            const mangaInfo = {\n                id: mangaId,\n                title: '',\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/manga/${mangaId}`);\n                const $ = (0, cheerio_1.load)(data);\n                mangaInfo.title = $('article.ejeCg > h1.title').text();\n                mangaInfo.altTitles = $('article.ejeCg > h3.subtitle').text();\n                mangaInfo.description = $('div.text > div.paragraph > p').text().replace(/\\n/g, '').trim();\n                mangaInfo.headerForImage = { Referer: this.baseUrl };\n                mangaInfo.image = $('div.widget:nth-child(1) > picture > img').attr('src');\n                mangaInfo.genres = $('article.ejeCg:nth-child(1) > div.tags > a.tag ')\n                    .map((i, el) => $(el).text())\n                    .get();\n                switch ($('h3.subtitle > strong').text()) {\n                    case 'Completo':\n                        mangaInfo.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                    case 'Ativo':\n                        mangaInfo.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    default:\n                        mangaInfo.status = models_1.MediaStatus.UNKNOWN;\n                }\n                mangaInfo.views = parseInt($('div.classificacao-box-1 > div.text-block-3').text().replace(' views', '').replace(/,/g, '').trim());\n                mangaInfo.authors = $('div.w-col.w-col-6:nth-child(1) > ul.w-list-unstyled:nth-child(1) > li:nth-child(3) > div:nth-child(1)')\n                    .map((i, el) => $(el).text().replace('Autor: ', '').trim())\n                    .get();\n                mangaInfo.chapters = $('div.chapters > div.cap')\n                    .map((i, el) => {\n                    const releasedDate = $(el)\n                        .find('div.card > div.pop-content > small')\n                        .text()\n                        .match(/Adicionado em (.+?)\"/);\n                    return {\n                        id: `${$(el).find('a.btn-caps').text()}`,\n                        title: $(el).find('a.btn-caps').attr('title'),\n                        views: null,\n                        releasedDate: releasedDate ? releasedDate[1] : '',\n                    };\n                })\n                    .get();\n                return mangaInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchChapterPages = async (mangaId, chapterId) => {\n            try {\n                const url = `${this.baseUrl}/manga/${mangaId}/${chapterId}`;\n                const { data } = await this.client.get(url);\n                const $ = (0, cheerio_1.load)(data);\n                const pages = $('section#imageWrapper > div > div.read-slideshow > a > img')\n                    .map((i, el) => ({\n                    img: $(el).attr('src'),\n                    page: i,\n                    title: `Page ${i + 1}`,\n                    headerForImage: { Referer: this.baseUrl },\n                }))\n                    .get();\n                return pages;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param query Search query\n         */\n        this.search = async (query) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/find/${query.replace(/ /g, '+')}`);\n                const $ = (0, cheerio_1.load)(data);\n                const results = $('body > div.w-container > main > table > tbody > tr')\n                    .map((i, row) => {\n                    var _a;\n                    return ({\n                        id: (_a = $(row).find('td > a.pull-left').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[4],\n                        title: $(row).find('td > h4.entry-title > a').text(),\n                        image: $(row).find('td > a.pull-left > picture > img.manga').attr('src'),\n                        headerForImage: { Referer: this.baseUrl },\n                    });\n                })\n                    .get();\n                return {\n                    results: results,\n                };\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = MangaHost;\n//# sourceMappingURL=mangahost.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2EvbWFuZ2Fob3N0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsU0FBUyxRQUFRO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdDQUFnQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsYUFBYSxTQUFTLFFBQVEsR0FBRyxVQUFVO0FBQzFFLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsTUFBTTtBQUN6QyxzQ0FBc0MsdUJBQXVCO0FBQzdELGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLFFBQVEseUJBQXlCO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsdUJBQXVCO0FBQ2pFLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcbWFuZ2FcXG1hbmdhaG9zdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY2xhc3MgTWFuZ2FIb3N0IGV4dGVuZHMgbW9kZWxzXzEuTWFuZ2FQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTWFuZ2FIb3N0JztcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJ2h0dHBzOi8vbWFuZ2Fob3N0ZWQuY29tJztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vaS5pbWd1ci5jb20vT1ZsaGhzUi5wbmcnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdNQU5HQS5NYW5nYUhvc3QnO1xuICAgICAgICB0aGlzLmZldGNoTWFuZ2FJbmZvID0gYXN5bmMgKG1hbmdhSWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1hbmdhSW5mbyA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWFuZ2FJZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L21hbmdhLyR7bWFuZ2FJZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8udGl0bGUgPSAkKCdhcnRpY2xlLmVqZUNnID4gaDEudGl0bGUnKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmFsdFRpdGxlcyA9ICQoJ2FydGljbGUuZWplQ2cgPiBoMy5zdWJ0aXRsZScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uZGVzY3JpcHRpb24gPSAkKCdkaXYudGV4dCA+IGRpdi5wYXJhZ3JhcGggPiBwJykudGV4dCgpLnJlcGxhY2UoL1xcbi9nLCAnJykudHJpbSgpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5oZWFkZXJGb3JJbWFnZSA9IHsgUmVmZXJlcjogdGhpcy5iYXNlVXJsIH07XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmltYWdlID0gJCgnZGl2LndpZGdldDpudGgtY2hpbGQoMSkgPiBwaWN0dXJlID4gaW1nJykuYXR0cignc3JjJyk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmdlbnJlcyA9ICQoJ2FydGljbGUuZWplQ2c6bnRoLWNoaWxkKDEpID4gZGl2LnRhZ3MgPiBhLnRhZyAnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoICgkKCdoMy5zdWJ0aXRsZSA+IHN0cm9uZycpLnRleHQoKSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdDb21wbGV0byc6XG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0F0aXZvJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuVU5LTk9XTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLnZpZXdzID0gcGFyc2VJbnQoJCgnZGl2LmNsYXNzaWZpY2FjYW8tYm94LTEgPiBkaXYudGV4dC1ibG9jay0zJykudGV4dCgpLnJlcGxhY2UoJyB2aWV3cycsICcnKS5yZXBsYWNlKC8sL2csICcnKS50cmltKCkpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5hdXRob3JzID0gJCgnZGl2LnctY29sLnctY29sLTY6bnRoLWNoaWxkKDEpID4gdWwudy1saXN0LXVuc3R5bGVkOm50aC1jaGlsZCgxKSA+IGxpOm50aC1jaGlsZCgzKSA+IGRpdjpudGgtY2hpbGQoMSknKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpLnJlcGxhY2UoJ0F1dG9yOiAnLCAnJykudHJpbSgpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmNoYXB0ZXJzID0gJCgnZGl2LmNoYXB0ZXJzID4gZGl2LmNhcCcpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2VkRGF0ZSA9ICQoZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnZGl2LmNhcmQgPiBkaXYucG9wLWNvbnRlbnQgPiBzbWFsbCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWF0Y2goL0FkaWNpb25hZG8gZW0gKC4rPylcIi8pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGAkeyQoZWwpLmZpbmQoJ2EuYnRuLWNhcHMnKS50ZXh0KCl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdhLmJ0bi1jYXBzJykuYXR0cigndGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZWREYXRlOiByZWxlYXNlZERhdGUgPyByZWxlYXNlZERhdGVbMV0gOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hbmdhSW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQ2hhcHRlclBhZ2VzID0gYXN5bmMgKG1hbmdhSWQsIGNoYXB0ZXJJZCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9L21hbmdhLyR7bWFuZ2FJZH0vJHtjaGFwdGVySWR9YDtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VzID0gJCgnc2VjdGlvbiNpbWFnZVdyYXBwZXIgPiBkaXYgPiBkaXYucmVhZC1zbGlkZXNob3cgPiBhID4gaW1nJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGltZzogJChlbCkuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6IGksXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBgUGFnZSAke2kgKyAxfWAsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlckZvckltYWdlOiB7IFJlZmVyZXI6IHRoaXMuYmFzZVVybCB9LFxuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgU2VhcmNoIHF1ZXJ5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGFzeW5jIChxdWVyeSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2ZpbmQvJHtxdWVyeS5yZXBsYWNlKC8gL2csICcrJyl9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9ICQoJ2JvZHkgPiBkaXYudy1jb250YWluZXIgPiBtYWluID4gdGFibGUgPiB0Ym9keSA+IHRyJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgcm93KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9hID0gJChyb3cpLmZpbmQoJ3RkID4gYS5wdWxsLWxlZnQnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnLycpWzRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQocm93KS5maW5kKCd0ZCA+IGg0LmVudHJ5LXRpdGxlID4gYScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKHJvdykuZmluZCgndGQgPiBhLnB1bGwtbGVmdCA+IHBpY3R1cmUgPiBpbWcubWFuZ2EnKS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlckZvckltYWdlOiB7IFJlZmVyZXI6IHRoaXMuYmFzZVVybCB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogcmVzdWx0cyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gTWFuZ2FIb3N0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFuZ2Fob3N0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangahost.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangakakalot.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/mangakakalot.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass MangaKakalot extends models_1.MangaParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'MangaKakalot';\n        this.baseUrl = 'https://mangakakalot.com';\n        this.logo = 'https://techbigs.com/uploads/2022/1/mangakakalot-apkoptimized.jpg';\n        this.classPath = 'MANGA.MangaKakalot';\n        this.fetchMangaInfo = async (mangaId) => {\n            const mangaInfo = {\n                id: mangaId,\n                title: '',\n            };\n            const url = mangaId.includes('read') ? this.baseUrl : 'https://chapmanganato.to';\n            try {\n                const { data } = await this.client.get(`${url}/${mangaId}`);\n                const $ = (0, cheerio_1.load)(data);\n                if (url.includes('mangakakalot')) {\n                    mangaInfo.title = $('div.manga-info-top > ul > li:nth-child(1) > h1').text();\n                    mangaInfo.altTitles = $('div.manga-info-top > ul > li:nth-child(1) > h2')\n                        .text()\n                        .replace('Alternative :', '')\n                        .split(';');\n                    mangaInfo.description = $('#noidungm')\n                        .text()\n                        .replace(`${mangaInfo.title} summary:`, '')\n                        .replace(/\\n/g, '')\n                        .trim();\n                    mangaInfo.headerForImage = { Referer: this.baseUrl };\n                    mangaInfo.image = $('div.manga-info-top > div > img').attr('src');\n                    mangaInfo.genres = $('div.manga-info-top > ul > li:nth-child(7) > a')\n                        .map((i, el) => $(el).text())\n                        .get();\n                    switch ($('div.manga-info-top > ul > li:nth-child(3)').text().replace('Status :', '').trim()) {\n                        case 'Completed':\n                            mangaInfo.status = models_1.MediaStatus.COMPLETED;\n                            break;\n                        case 'Ongoing':\n                            mangaInfo.status = models_1.MediaStatus.ONGOING;\n                            break;\n                        default:\n                            mangaInfo.status = models_1.MediaStatus.UNKNOWN;\n                    }\n                    mangaInfo.views = parseInt($('div.manga-info-top > ul > li:nth-child(6)')\n                        .text()\n                        .replace('View : ', '')\n                        .replace(/,/g, '')\n                        .trim());\n                    mangaInfo.authors = $('div.manga-info-top > ul > li:nth-child(2) > a')\n                        .map((i, el) => $(el).text())\n                        .get();\n                    mangaInfo.chapters = $('div.chapter-list > div.row')\n                        .map((i, el) => {\n                        var _a;\n                        return ({\n                            id: (_a = $(el).find('span > a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('chapter/')[1],\n                            title: $(el).find('span > a').text(),\n                            views: parseInt($(el).find('span:nth-child(2)').text().replace(/,/g, '').trim()),\n                            releasedDate: $(el).find('span:nth-child(3)').attr('title'),\n                        });\n                    })\n                        .get();\n                }\n                else {\n                    mangaInfo.title = $(' div.panel-story-info > div.story-info-right > h1').text();\n                    mangaInfo.altTitles = $('div.story-info-right > table > tbody > tr:nth-child(1) > td.table-value > h2')\n                        .text()\n                        .split(';');\n                    mangaInfo.description = $('#panel-story-info-description')\n                        .text()\n                        .replace(`Description :`, '')\n                        .replace(/\\n/g, '')\n                        .trim();\n                    mangaInfo.headerForImage = { Referer: 'https://readmanganato.com' };\n                    mangaInfo.image = $('div.story-info-left > span.info-image > img').attr('src');\n                    mangaInfo.genres = $('div.story-info-right > table > tbody > tr:nth-child(4) > td.table-value > a')\n                        .map((i, el) => $(el).text())\n                        .get();\n                    switch ($('div.story-info-right > table > tbody > tr:nth-child(3) > td.table-value').text().trim()) {\n                        case 'Completed':\n                            mangaInfo.status = models_1.MediaStatus.COMPLETED;\n                            break;\n                        case 'Ongoing':\n                            mangaInfo.status = models_1.MediaStatus.ONGOING;\n                            break;\n                        default:\n                            mangaInfo.status = models_1.MediaStatus.UNKNOWN;\n                    }\n                    mangaInfo.views = parseInt($('div.story-info-right > div > p:nth-child(2) > span.stre-value').text().replace(/,/g, '').trim());\n                    mangaInfo.authors = $('div.story-info-right > table > tbody > tr:nth-child(2) > td.table-value > a')\n                        .map((i, el) => $(el).text())\n                        .get();\n                    mangaInfo.chapters = $('div.container-main-left > div.panel-story-chapter-list > ul > li')\n                        .map((i, el) => {\n                        var _a;\n                        return ({\n                            id: (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.split(`${mangaId}/`)[1],\n                            title: $(el).find('a').text(),\n                            views: parseInt($(el).find('span.chapter-view.text-nowrap').text().replace(/,/g, '').trim()),\n                            releasedDate: $(el).find('span.chapter-time.text-nowrap').attr('title'),\n                        });\n                    })\n                        .get();\n                }\n                return mangaInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchChapterPages = async (chapterId, mangaId) => {\n            try {\n                const url = chapterId.includes('$$READMANGANATO')\n                    ? `${this.baseUrl}/chapter/${chapterId}`\n                    : `https://chapmanganato.to/${mangaId}/${chapterId}`;\n                const { data } = await this.client.get(url);\n                const $ = (0, cheerio_1.load)(data);\n                const pages = $('div.container-chapter-reader > img')\n                    .map((i, el) => {\n                    var _a;\n                    return ({\n                        img: $(el).attr('src'),\n                        page: i,\n                        title: (_a = $(el)\n                            .attr('alt')) === null || _a === void 0 ? void 0 : _a.replace(/(- Mangakakalot.com)|(- MangaNato.com)/g, ' ').trim(),\n                        headerForImage: { Referer: this.baseUrl },\n                    });\n                })\n                    .get();\n                return pages;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param query Search query\n         */\n        this.search = async (query) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/search/story/${query.replace(/ /g, '_')}`);\n                const $ = (0, cheerio_1.load)(data);\n                const results = $('div.daily-update > div > div')\n                    .map((i, el) => {\n                    var _a;\n                    return ({\n                        id: (_a = $(el).find('div > h3 > a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[3],\n                        title: $(el).find('div > h3 > a').text(),\n                        image: $(el).find('a > img').attr('src'),\n                        headerForImage: { Referer: this.baseUrl },\n                    });\n                })\n                    .get();\n                return {\n                    results: results,\n                };\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = MangaKakalot;\n//# sourceMappingURL=mangakakalot.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2EvbWFuZ2FrYWthbG90LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsSUFBSSxHQUFHLFFBQVE7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFIQUFxSCxRQUFRO0FBQzdIO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixhQUFhLFdBQVcsVUFBVTtBQUMzRCxrREFBa0QsUUFBUSxHQUFHLFVBQVU7QUFDdkUsd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHVCQUF1QjtBQUNqRSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsZ0JBQWdCLHlCQUF5QjtBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHVCQUF1QjtBQUNqRSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXG1hbmdhXFxtYW5nYWtha2Fsb3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNsYXNzIE1hbmdhS2FrYWxvdCBleHRlbmRzIG1vZGVsc18xLk1hbmdhUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ01hbmdhS2FrYWxvdCc7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL21hbmdha2FrYWxvdC5jb20nO1xuICAgICAgICB0aGlzLmxvZ28gPSAnaHR0cHM6Ly90ZWNoYmlncy5jb20vdXBsb2Fkcy8yMDIyLzEvbWFuZ2FrYWthbG90LWFwa29wdGltaXplZC5qcGcnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdNQU5HQS5NYW5nYUtha2Fsb3QnO1xuICAgICAgICB0aGlzLmZldGNoTWFuZ2FJbmZvID0gYXN5bmMgKG1hbmdhSWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1hbmdhSW5mbyA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWFuZ2FJZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgdXJsID0gbWFuZ2FJZC5pbmNsdWRlcygncmVhZCcpID8gdGhpcy5iYXNlVXJsIDogJ2h0dHBzOi8vY2hhcG1hbmdhbmF0by50byc7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3VybH0vJHttYW5nYUlkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJ21hbmdha2FrYWxvdCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby50aXRsZSA9ICQoJ2Rpdi5tYW5nYS1pbmZvLXRvcCA+IHVsID4gbGk6bnRoLWNoaWxkKDEpID4gaDEnKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby5hbHRUaXRsZXMgPSAkKCdkaXYubWFuZ2EtaW5mby10b3AgPiB1bCA+IGxpOm50aC1jaGlsZCgxKSA+IGgyJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCdBbHRlcm5hdGl2ZSA6JywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJzsnKTtcbiAgICAgICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmRlc2NyaXB0aW9uID0gJCgnI25vaWR1bmdtJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKGAke21hbmdhSW5mby50aXRsZX0gc3VtbWFyeTpgLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXG4vZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uaGVhZGVyRm9ySW1hZ2UgPSB7IFJlZmVyZXI6IHRoaXMuYmFzZVVybCB9O1xuICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uaW1hZ2UgPSAkKCdkaXYubWFuZ2EtaW5mby10b3AgPiBkaXYgPiBpbWcnKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmdlbnJlcyA9ICQoJ2Rpdi5tYW5nYS1pbmZvLXRvcCA+IHVsID4gbGk6bnRoLWNoaWxkKDcpID4gYScpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCQoJ2Rpdi5tYW5nYS1pbmZvLXRvcCA+IHVsID4gbGk6bnRoLWNoaWxkKDMpJykudGV4dCgpLnJlcGxhY2UoJ1N0YXR1cyA6JywgJycpLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnQ29tcGxldGVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnT25nb2luZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFuZ2FJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5VTktOT1dOO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby52aWV3cyA9IHBhcnNlSW50KCQoJ2Rpdi5tYW5nYS1pbmZvLXRvcCA+IHVsID4gbGk6bnRoLWNoaWxkKDYpJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCdWaWV3IDogJywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvLC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uYXV0aG9ycyA9ICQoJ2Rpdi5tYW5nYS1pbmZvLXRvcCA+IHVsID4gbGk6bnRoLWNoaWxkKDIpID4gYScpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uY2hhcHRlcnMgPSAkKCdkaXYuY2hhcHRlci1saXN0ID4gZGl2LnJvdycpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWwpLmZpbmQoJ3NwYW4gPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3BsaXQoJ2NoYXB0ZXIvJylbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJ3NwYW4gPiBhJykudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdzOiBwYXJzZUludCgkKGVsKS5maW5kKCdzcGFuOm50aC1jaGlsZCgyKScpLnRleHQoKS5yZXBsYWNlKC8sL2csICcnKS50cmltKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VkRGF0ZTogJChlbCkuZmluZCgnc3BhbjpudGgtY2hpbGQoMyknKS5hdHRyKCd0aXRsZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8udGl0bGUgPSAkKCcgZGl2LnBhbmVsLXN0b3J5LWluZm8gPiBkaXYuc3RvcnktaW5mby1yaWdodCA+IGgxJykudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uYWx0VGl0bGVzID0gJCgnZGl2LnN0b3J5LWluZm8tcmlnaHQgPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDEpID4gdGQudGFibGUtdmFsdWUgPiBoMicpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJzsnKTtcbiAgICAgICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmRlc2NyaXB0aW9uID0gJCgnI3BhbmVsLXN0b3J5LWluZm8tZGVzY3JpcHRpb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoYERlc2NyaXB0aW9uIDpgLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXG4vZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uaGVhZGVyRm9ySW1hZ2UgPSB7IFJlZmVyZXI6ICdodHRwczovL3JlYWRtYW5nYW5hdG8uY29tJyB9O1xuICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uaW1hZ2UgPSAkKCdkaXYuc3RvcnktaW5mby1sZWZ0ID4gc3Bhbi5pbmZvLWltYWdlID4gaW1nJykuYXR0cignc3JjJyk7XG4gICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby5nZW5yZXMgPSAkKCdkaXYuc3RvcnktaW5mby1yaWdodCA+IHRhYmxlID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoNCkgPiB0ZC50YWJsZS12YWx1ZSA+IGEnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+ICQoZWwpLnRleHQoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgkKCdkaXYuc3RvcnktaW5mby1yaWdodCA+IHRhYmxlID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoMykgPiB0ZC50YWJsZS12YWx1ZScpLnRleHQoKS50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFuZ2FJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ09uZ29pbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuVU5LTk9XTjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8udmlld3MgPSBwYXJzZUludCgkKCdkaXYuc3RvcnktaW5mby1yaWdodCA+IGRpdiA+IHA6bnRoLWNoaWxkKDIpID4gc3Bhbi5zdHJlLXZhbHVlJykudGV4dCgpLnJlcGxhY2UoLywvZywgJycpLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby5hdXRob3JzID0gJCgnZGl2LnN0b3J5LWluZm8tcmlnaHQgPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDIpID4gdGQudGFibGUtdmFsdWUgPiBhJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiAkKGVsKS50ZXh0KCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby5jaGFwdGVycyA9ICQoJ2Rpdi5jb250YWluZXItbWFpbi1sZWZ0ID4gZGl2LnBhbmVsLXN0b3J5LWNoYXB0ZXItbGlzdCA+IHVsID4gbGknKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3BsaXQoYCR7bWFuZ2FJZH0vYClbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJ2EnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld3M6IHBhcnNlSW50KCQoZWwpLmZpbmQoJ3NwYW4uY2hhcHRlci12aWV3LnRleHQtbm93cmFwJykudGV4dCgpLnJlcGxhY2UoLywvZywgJycpLnRyaW0oKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZWREYXRlOiAkKGVsKS5maW5kKCdzcGFuLmNoYXB0ZXItdGltZS50ZXh0LW5vd3JhcCcpLmF0dHIoJ3RpdGxlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hbmdhSW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQ2hhcHRlclBhZ2VzID0gYXN5bmMgKGNoYXB0ZXJJZCwgbWFuZ2FJZCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBjaGFwdGVySWQuaW5jbHVkZXMoJyQkUkVBRE1BTkdBTkFUTycpXG4gICAgICAgICAgICAgICAgICAgID8gYCR7dGhpcy5iYXNlVXJsfS9jaGFwdGVyLyR7Y2hhcHRlcklkfWBcbiAgICAgICAgICAgICAgICAgICAgOiBgaHR0cHM6Ly9jaGFwbWFuZ2FuYXRvLnRvLyR7bWFuZ2FJZH0vJHtjaGFwdGVySWR9YDtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VzID0gJCgnZGl2LmNvbnRhaW5lci1jaGFwdGVyLXJlYWRlciA+IGltZycpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWc6ICQoZWwpLmF0dHIoJ3NyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAoX2EgPSAkKGVsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdhbHQnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcGxhY2UoLygtIE1hbmdha2FrYWxvdC5jb20pfCgtIE1hbmdhTmF0by5jb20pL2csICcgJykudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyRm9ySW1hZ2U6IHsgUmVmZXJlcjogdGhpcy5iYXNlVXJsIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFnZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSBTZWFyY2ggcXVlcnlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vc2VhcmNoL3N0b3J5LyR7cXVlcnkucmVwbGFjZSgvIC9nLCAnXycpfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSAkKCdkaXYuZGFpbHktdXBkYXRlID4gZGl2ID4gZGl2JylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdkaXYgPiBoMyA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnLycpWzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJ2RpdiA+IGgzID4gYScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdhID4gaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJGb3JJbWFnZTogeyBSZWZlcmVyOiB0aGlzLmJhc2VVcmwgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IHJlc3VsdHMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IE1hbmdhS2FrYWxvdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hbmdha2FrYWxvdC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangakakalot.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangapark.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/mangapark.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass Mangapark extends models_1.MangaParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'Mangapark';\n        this.baseUrl = 'https://v2.mangapark.net';\n        this.logo = 'https://raw.githubusercontent.com/tachiyomiorg/tachiyomi-extensions/repo/icon/tachiyomi-en.mangapark-v1.3.23.png';\n        this.classPath = 'MANGA.Mangapark';\n        this.fetchMangaInfo = async (mangaId, ...args) => {\n            const mangaInfo = { id: mangaId, title: '' };\n            const url = `${this.baseUrl}/manga/${mangaId}`;\n            try {\n                const { data } = await this.client.get(url);\n                const $ = (0, cheerio_1.load)(data);\n                mangaInfo.title = $('div.pb-1.mb-2.line-b-f.hd h2 a').text();\n                mangaInfo.image = $('img.w-100').attr('src');\n                mangaInfo.description = $('.limit-html.summary').text();\n                mangaInfo.chapters = $('.py-1.item')\n                    .get()\n                    .map((chapter) => ({\n                    /*\n                    See below: if inside of [], removed; if inside of {}, chapterId.\n                    [https://v2.mangapark.net/manga/] {bungou-stray-dogs/i2573185} [/c87/1]\n                    */\n                    id: `${mangaId}/` +\n                        $(chapter)\n                            .find('a.ml-1.visited.ch')\n                            .attr('href')\n                            .split(`/manga/${mangaId}/`)\n                            .toString()\n                            .replace(',', '')\n                            .split('/')[0],\n                    // Get ch.xyz + chapter title, trim l/t whitespace on latter, concatenate.\n                    title: $(chapter).find('.ml-1.visited.ch').text() +\n                        $(chapter).find('div.d-none.d-md-flex.align-items-center.ml-0.ml-md-1.txt').text().trim(),\n                    // Get 'x time ago' and remove l/t whitespace.\n                    releaseDate: $(chapter).find('span.time').text().trim(),\n                }));\n                return mangaInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchChapterPages = async (chapterId, ...args) => {\n            const regex = /var _load_pages = \\[(.*)\\]/gm;\n            // Fetches manga with all pages; no /cx/y after.\n            const url = `${this.baseUrl}/manga/${chapterId}`;\n            try {\n                const { data } = await this.client.get(url);\n                const varLoadPages = data.match(regex)[0];\n                const loadPagesJson = JSON.parse(varLoadPages.replace('var _load_pages = ', ''));\n                const pages = loadPagesJson.map((page) => {\n                    return { page: page.n, img: page.u };\n                });\n                return pages;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.search = async (query, page = 1, ...args) => {\n            const url = `${this.baseUrl}/search?q=${query}&page=${page}`;\n            try {\n                const { data } = await this.client.get(url);\n                const $ = (0, cheerio_1.load)(data);\n                const results = $('.item')\n                    .get()\n                    .map(item => {\n                    var _a;\n                    const cover = $(item).find('.cover');\n                    return {\n                        id: `${(_a = cover.attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/manga/', '')}`,\n                        title: `${cover.attr('title')}`,\n                        image: `${$(cover).find('img').attr('src')}}`,\n                    };\n                });\n                return { results: results };\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = Mangapark;\n//# sourceMappingURL=mangapark.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2EvbWFuZ2FwYXJrLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEMsMkJBQTJCLGFBQWEsU0FBUyxRQUFRO0FBQ3pEO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxlQUFlO0FBQ3hFLHVEQUF1RCw0QkFBNEI7QUFDbkY7QUFDQSwyQkFBMkIsUUFBUTtBQUNuQztBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsUUFBUTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0MsMkJBQTJCLGFBQWEsU0FBUyxVQUFVO0FBQzNEO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixhQUFhLFlBQVksTUFBTSxRQUFRLEtBQUs7QUFDdkU7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5RkFBeUY7QUFDeEgsa0NBQWtDLG9CQUFvQjtBQUN0RCxrQ0FBa0Msa0NBQWtDO0FBQ3BFO0FBQ0EsaUJBQWlCO0FBQ2pCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcbWFuZ2FcXG1hbmdhcGFyay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY2xhc3MgTWFuZ2FwYXJrIGV4dGVuZHMgbW9kZWxzXzEuTWFuZ2FQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTWFuZ2FwYXJrJztcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJ2h0dHBzOi8vdjIubWFuZ2FwYXJrLm5ldCc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vdGFjaGl5b21pb3JnL3RhY2hpeW9taS1leHRlbnNpb25zL3JlcG8vaWNvbi90YWNoaXlvbWktZW4ubWFuZ2FwYXJrLXYxLjMuMjMucG5nJztcbiAgICAgICAgdGhpcy5jbGFzc1BhdGggPSAnTUFOR0EuTWFuZ2FwYXJrJztcbiAgICAgICAgdGhpcy5mZXRjaE1hbmdhSW5mbyA9IGFzeW5jIChtYW5nYUlkLCAuLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtYW5nYUluZm8gPSB7IGlkOiBtYW5nYUlkLCB0aXRsZTogJycgfTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVybH0vbWFuZ2EvJHttYW5nYUlkfWA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHVybCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLnRpdGxlID0gJCgnZGl2LnBiLTEubWItMi5saW5lLWItZi5oZCBoMiBhJykudGV4dCgpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5pbWFnZSA9ICQoJ2ltZy53LTEwMCcpLmF0dHIoJ3NyYycpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5kZXNjcmlwdGlvbiA9ICQoJy5saW1pdC1odG1sLnN1bW1hcnknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmNoYXB0ZXJzID0gJCgnLnB5LTEuaXRlbScpXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChjaGFwdGVyKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICBTZWUgYmVsb3c6IGlmIGluc2lkZSBvZiBbXSwgcmVtb3ZlZDsgaWYgaW5zaWRlIG9mIHt9LCBjaGFwdGVySWQuXG4gICAgICAgICAgICAgICAgICAgIFtodHRwczovL3YyLm1hbmdhcGFyay5uZXQvbWFuZ2EvXSB7YnVuZ291LXN0cmF5LWRvZ3MvaTI1NzMxODV9IFsvYzg3LzFdXG4gICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGlkOiBgJHttYW5nYUlkfS9gICtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoY2hhcHRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnYS5tbC0xLnZpc2l0ZWQuY2gnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdocmVmJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoYC9tYW5nYS8ke21hbmdhSWR9L2ApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnLCcsICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnLycpWzBdLFxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgY2gueHl6ICsgY2hhcHRlciB0aXRsZSwgdHJpbSBsL3Qgd2hpdGVzcGFjZSBvbiBsYXR0ZXIsIGNvbmNhdGVuYXRlLlxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChjaGFwdGVyKS5maW5kKCcubWwtMS52aXNpdGVkLmNoJykudGV4dCgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoY2hhcHRlcikuZmluZCgnZGl2LmQtbm9uZS5kLW1kLWZsZXguYWxpZ24taXRlbXMtY2VudGVyLm1sLTAubWwtbWQtMS50eHQnKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgJ3ggdGltZSBhZ28nIGFuZCByZW1vdmUgbC90IHdoaXRlc3BhY2UuXG4gICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiAkKGNoYXB0ZXIpLmZpbmQoJ3NwYW4udGltZScpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYW5nYUluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaENoYXB0ZXJQYWdlcyA9IGFzeW5jIChjaGFwdGVySWQsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gL3ZhciBfbG9hZF9wYWdlcyA9IFxcWyguKilcXF0vZ207XG4gICAgICAgICAgICAvLyBGZXRjaGVzIG1hbmdhIHdpdGggYWxsIHBhZ2VzOyBubyAvY3gveSBhZnRlci5cbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVybH0vbWFuZ2EvJHtjaGFwdGVySWR9YDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQodXJsKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJMb2FkUGFnZXMgPSBkYXRhLm1hdGNoKHJlZ2V4KVswXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2FkUGFnZXNKc29uID0gSlNPTi5wYXJzZSh2YXJMb2FkUGFnZXMucmVwbGFjZSgndmFyIF9sb2FkX3BhZ2VzID0gJywgJycpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWdlcyA9IGxvYWRQYWdlc0pzb24ubWFwKChwYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHBhZ2U6IHBhZ2UubiwgaW1nOiBwYWdlLnUgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFnZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocXVlcnksIHBhZ2UgPSAxLCAuLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9L3NlYXJjaD9xPSR7cXVlcnl9JnBhZ2U9JHtwYWdlfWA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHVybCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9ICQoJy5pdGVtJylcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY292ZXIgPSAkKGl0ZW0pLmZpbmQoJy5jb3ZlcicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGAkeyhfYSA9IGNvdmVyLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcGxhY2UoJy9tYW5nYS8nLCAnJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBgJHtjb3Zlci5hdHRyKCd0aXRsZScpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogYCR7JChjb3ZlcikuZmluZCgnaW1nJykuYXR0cignc3JjJyl9fWAsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVzdWx0czogcmVzdWx0cyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gTWFuZ2FwYXJrO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFuZ2FwYXJrLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangapark.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangapill.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/mangapill.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass MangaPill extends models_1.MangaParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'MangaPill';\n        this.baseUrl = 'https://mangapill.com';\n        this.logo = 'https://scontent-man2-1.xx.fbcdn.net/v/t39.30808-6/300819578_399903675586699_2357525969702348451_n.png?_nc_cat=100&ccb=1-7&_nc_sid=09cbfe&_nc_ohc=Md2cQ4wRNWwAX-_U0fz&_nc_ht=scontent-man2-1.xx&oh=00_AfCJjAYDk9bsndz8uyNG-GdFIYcPvdIzbHnetHGzf1pVSw&oe=63BDD131';\n        this.classPath = 'MANGA.MangaPill';\n        /**\n         *\n         * @param query Search query\n         */\n        this.search = async (query) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/search?q=${encodeURIComponent(query)}`);\n                const $ = (0, cheerio_1.load)(data);\n                const results = $('div.container div.my-3.justify-end > div')\n                    .map((i, el) => {\n                    var _a;\n                    return ({\n                        id: (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/manga/')[1],\n                        title: $(el).find('div > a > div').text().trim(),\n                        image: $(el).find('a img').attr('data-src'),\n                    });\n                })\n                    .get();\n                return {\n                    results: results,\n                };\n            }\n            catch (err) {\n                //   console.log(err);\n                throw new Error(err.message);\n            }\n        };\n        this.fetchMangaInfo = async (mangaId) => {\n            const mangaInfo = {\n                id: mangaId,\n                title: '',\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/manga/${mangaId}`);\n                const $ = (0, cheerio_1.load)(data);\n                mangaInfo.title = $('div.container div.my-3 div.flex-col div.mb-3 h1').text().trim();\n                mangaInfo.description = $('div.container div.my-3  div.flex-col p.text--secondary')\n                    .text()\n                    .split('\\n')\n                    .join(' ');\n                mangaInfo.releaseDate = $('div.container div.my-3 div.flex-col div.gap-3.mb-3 div:contains(\"Year\")')\n                    .text()\n                    .split('Year\\n')[1]\n                    .trim();\n                mangaInfo.genres = $('div.container div.my-3 div.flex-col div.mb-3:contains(\"Genres\")')\n                    .text()\n                    .split('\\n')\n                    .filter((genre) => genre !== 'Genres' && genre !== '')\n                    .map(genre => genre.trim());\n                mangaInfo.chapters = $('div.container div.border-border div#chapters div.grid-cols-1 a')\n                    .map((i, el) => {\n                    var _a;\n                    return ({\n                        id: (_a = $(el).attr('href')) === null || _a === void 0 ? void 0 : _a.split('/chapters/')[1],\n                        title: $(el).text().trim(),\n                        chapter: $(el).text().split('Chapter ')[1],\n                    });\n                })\n                    .get();\n                return mangaInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchChapterPages = async (chapterId) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/chapters/${chapterId}`);\n                const $ = (0, cheerio_1.load)(data);\n                const chapterSelector = $('chapter-page');\n                const pages = chapterSelector\n                    .map((i, el) => ({\n                    img: $(el).find('div picture img').attr('data-src'),\n                    page: parseFloat($(el).find(`div[data-summary] > div`).text().split('page ')[1]),\n                }))\n                    .get();\n                return pages;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\n// (async () => {\n//   const manga = new MangaPill();\n//   const search = await manga.search('one piece');\n//   const info = await manga.fetchMangaInfo(search.results[1].id);\n//   const pages = await manga.fetchChapterPages(info.chapters![0].id);\n//   console.log(pages);\n// })();\nexports[\"default\"] = MangaPill;\n//# sourceMappingURL=mangapill.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2EvbWFuZ2FwaWxsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsWUFBWSwwQkFBMEI7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxTQUFTLFFBQVE7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLFlBQVksVUFBVTtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcbWFuZ2FcXG1hbmdhcGlsbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY2xhc3MgTWFuZ2FQaWxsIGV4dGVuZHMgbW9kZWxzXzEuTWFuZ2FQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTWFuZ2FQaWxsJztcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJ2h0dHBzOi8vbWFuZ2FwaWxsLmNvbSc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL3Njb250ZW50LW1hbjItMS54eC5mYmNkbi5uZXQvdi90MzkuMzA4MDgtNi8zMDA4MTk1NzhfMzk5OTAzNjc1NTg2Njk5XzIzNTc1MjU5Njk3MDIzNDg0NTFfbi5wbmc/X25jX2NhdD0xMDAmY2NiPTEtNyZfbmNfc2lkPTA5Y2JmZSZfbmNfb2hjPU1kMmNRNHdSTld3QVgtX1UwZnomX25jX2h0PXNjb250ZW50LW1hbjItMS54eCZvaD0wMF9BZkNKakFZRGs5YnNuZHo4dXlORy1HZEZJWWNQdmRJemJIbmV0SEd6ZjFwVlN3Jm9lPTYzQkREMTMxJztcbiAgICAgICAgdGhpcy5jbGFzc1BhdGggPSAnTUFOR0EuTWFuZ2FQaWxsJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSBTZWFyY2ggcXVlcnlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vc2VhcmNoP3E9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSAkKCdkaXYuY29udGFpbmVyIGRpdi5teS0zLmp1c3RpZnktZW5kID4gZGl2JylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3BsaXQoJy9tYW5nYS8nKVsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdkaXYgPiBhID4gZGl2JykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdhIGltZycpLmF0dHIoJ2RhdGEtc3JjJyksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiByZXN1bHRzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hNYW5nYUluZm8gPSBhc3luYyAobWFuZ2FJZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWFuZ2FJbmZvID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtYW5nYUlkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vbWFuZ2EvJHttYW5nYUlkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby50aXRsZSA9ICQoJ2Rpdi5jb250YWluZXIgZGl2Lm15LTMgZGl2LmZsZXgtY29sIGRpdi5tYi0zIGgxJykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uZGVzY3JpcHRpb24gPSAkKCdkaXYuY29udGFpbmVyIGRpdi5teS0zICBkaXYuZmxleC1jb2wgcC50ZXh0LS1zZWNvbmRhcnknKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnXFxuJylcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8ucmVsZWFzZURhdGUgPSAkKCdkaXYuY29udGFpbmVyIGRpdi5teS0zIGRpdi5mbGV4LWNvbCBkaXYuZ2FwLTMubWItMyBkaXY6Y29udGFpbnMoXCJZZWFyXCIpJylcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJ1llYXJcXG4nKVsxXVxuICAgICAgICAgICAgICAgICAgICAudHJpbSgpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5nZW5yZXMgPSAkKCdkaXYuY29udGFpbmVyIGRpdi5teS0zIGRpdi5mbGV4LWNvbCBkaXYubWItMzpjb250YWlucyhcIkdlbnJlc1wiKScpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCdcXG4nKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChnZW5yZSkgPT4gZ2VucmUgIT09ICdHZW5yZXMnICYmIGdlbnJlICE9PSAnJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcChnZW5yZSA9PiBnZW5yZS50cmltKCkpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5jaGFwdGVycyA9ICQoJ2Rpdi5jb250YWluZXIgZGl2LmJvcmRlci1ib3JkZXIgZGl2I2NoYXB0ZXJzIGRpdi5ncmlkLWNvbHMtMSBhJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnL2NoYXB0ZXJzLycpWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFwdGVyOiAkKGVsKS50ZXh0KCkuc3BsaXQoJ0NoYXB0ZXIgJylbMV0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFuZ2FJbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hDaGFwdGVyUGFnZXMgPSBhc3luYyAoY2hhcHRlcklkKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vY2hhcHRlcnMvJHtjaGFwdGVySWR9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhcHRlclNlbGVjdG9yID0gJCgnY2hhcHRlci1wYWdlJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZXMgPSBjaGFwdGVyU2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGltZzogJChlbCkuZmluZCgnZGl2IHBpY3R1cmUgaW1nJykuYXR0cignZGF0YS1zcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFyc2VGbG9hdCgkKGVsKS5maW5kKGBkaXZbZGF0YS1zdW1tYXJ5XSA+IGRpdmApLnRleHQoKS5zcGxpdCgncGFnZSAnKVsxXSksXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFnZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyAoYXN5bmMgKCkgPT4ge1xuLy8gICBjb25zdCBtYW5nYSA9IG5ldyBNYW5nYVBpbGwoKTtcbi8vICAgY29uc3Qgc2VhcmNoID0gYXdhaXQgbWFuZ2Euc2VhcmNoKCdvbmUgcGllY2UnKTtcbi8vICAgY29uc3QgaW5mbyA9IGF3YWl0IG1hbmdhLmZldGNoTWFuZ2FJbmZvKHNlYXJjaC5yZXN1bHRzWzFdLmlkKTtcbi8vICAgY29uc3QgcGFnZXMgPSBhd2FpdCBtYW5nYS5mZXRjaENoYXB0ZXJQYWdlcyhpbmZvLmNoYXB0ZXJzIVswXS5pZCk7XG4vLyAgIGNvbnNvbGUubG9nKHBhZ2VzKTtcbi8vIH0pKCk7XG5leHBvcnRzLmRlZmF1bHQgPSBNYW5nYVBpbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYW5nYXBpbGwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangapill.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangareader.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/mangareader.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass MangaReader extends models_1.MangaParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'MangaReader';\n        this.baseUrl = 'https://mangareader.to';\n        this.logo = 'https://pbs.twimg.com/profile_images/1437311892905545728/TO0hFfUr_400x400.jpg';\n        this.classPath = 'MANGA.MangaReader';\n        /**\n         *\n         * @param query Search query\n         */\n        this.search = async (query) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/search?keyword=${query}`);\n                const $ = (0, cheerio_1.load)(data);\n                const results = $('div.manga_list-sbs div.mls-wrap div.item')\n                    .map((i, el) => {\n                    var _a;\n                    return ({\n                        id: (_a = $(el).find('a.manga-poster').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/')[1],\n                        title: $(el).find('div.manga-detail h3.manga-name a').text().trim(),\n                        image: $(el).find('a.manga-poster img').attr('src'),\n                        genres: $(el)\n                            .find(`div.manga-detail div.fd-infor span > a`)\n                            .map((i, genre) => $(genre).text())\n                            .get(),\n                    });\n                })\n                    .get();\n                return {\n                    results: results,\n                };\n            }\n            catch (err) {\n                //   console.log(err);\n                throw new Error(err.message);\n            }\n        };\n        this.fetchMangaInfo = async (mangaId) => {\n            const mangaInfo = {\n                id: mangaId,\n                title: '',\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/${mangaId}`);\n                const $ = (0, cheerio_1.load)(data);\n                const container = $('div.container');\n                mangaInfo.title = container.find('div.anisc-detail h2.manga-name').text().trim();\n                mangaInfo.image = container.find('img.manga-poster-img').attr('src');\n                mangaInfo.description = $('div.modal-body div.description-modal').text().split('\\n').join(' ').trim();\n                mangaInfo.genres = container\n                    .find('div.sort-desc div.genres a')\n                    .map((i, genre) => $(genre).text().trim())\n                    .get();\n                mangaInfo.chapters = container\n                    .find(`div.chapters-list-ul ul li`)\n                    .map((i, el) => {\n                    var _a;\n                    return ({\n                        id: (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.split('/read/')[1],\n                        title: $(el).find('a').attr('title').trim(),\n                        chapter: $(el).find('a span.name').text().split('Chapter ')[1].split(':')[0],\n                    });\n                })\n                    .get();\n                return mangaInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchChapterPages = async (chapterId) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/read/${chapterId}`);\n                const $ = (0, cheerio_1.load)(data);\n                const readingId = $('div#wrapper').attr('data-reading-id');\n                if (!readingId) {\n                    throw new Error('Unable to find pages');\n                }\n                const ajaxURL = `https://mangareader.to/ajax/image/list/chap/${readingId}?mode=vertical&quality=high`;\n                const { data: pagesData } = await this.client.get(ajaxURL);\n                const $PagesHTML = (0, cheerio_1.load)(pagesData.html);\n                const pagesSelector = $PagesHTML('div#main-wrapper div.container-reader-chapter div.iv-card');\n                const pages = pagesSelector\n                    .map((i, el) => ({\n                    img: $(el).attr('data-url').replace('&amp;', '&'),\n                    page: i + 1,\n                }))\n                    .get();\n                return pages;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\n// (async () => {\n//   const manga = new MangaReader();\n//   const search = await manga.search('one piece');\n//   const info = await manga.fetchMangaInfo(search.results[0].id);\n//   const pages = await manga.fetchChapterPages(info.chapters![0].id);\n//   console.log(pages);\n// })();\nexports[\"default\"] = MangaReader;\n//# sourceMappingURL=mangareader.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2EvbWFuZ2FyZWFkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLG1CQUFPLENBQUMsb0VBQVM7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxrQkFBa0IsTUFBTTtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsR0FBRyxRQUFRO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLFFBQVEsVUFBVTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLFVBQVU7QUFDekYsd0JBQXdCLGtCQUFrQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxtYW5nYVxcbWFuZ2FyZWFkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNsYXNzIE1hbmdhUmVhZGVyIGV4dGVuZHMgbW9kZWxzXzEuTWFuZ2FQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTWFuZ2FSZWFkZXInO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9tYW5nYXJlYWRlci50byc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL3Bicy50d2ltZy5jb20vcHJvZmlsZV9pbWFnZXMvMTQzNzMxMTg5MjkwNTU0NTcyOC9UTzBoRmZVcl80MDB4NDAwLmpwZyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ01BTkdBLk1hbmdhUmVhZGVyJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSBTZWFyY2ggcXVlcnlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vc2VhcmNoP2tleXdvcmQ9JHtxdWVyeX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gJCgnZGl2Lm1hbmdhX2xpc3Qtc2JzIGRpdi5tbHMtd3JhcCBkaXYuaXRlbScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9hID0gJChlbCkuZmluZCgnYS5tYW5nYS1wb3N0ZXInKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnLycpWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJ2Rpdi5tYW5nYS1kZXRhaWwgaDMubWFuZ2EtbmFtZSBhJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdhLm1hbmdhLXBvc3RlciBpbWcnKS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbnJlczogJChlbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZChgZGl2Lm1hbmdhLWRldGFpbCBkaXYuZmQtaW5mb3Igc3BhbiA+IGFgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGdlbnJlKSA9PiAkKGdlbnJlKS50ZXh0KCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldCgpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogcmVzdWx0cyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIC8vICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoTWFuZ2FJbmZvID0gYXN5bmMgKG1hbmdhSWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1hbmdhSW5mbyA9IHtcbiAgICAgICAgICAgICAgICBpZDogbWFuZ2FJZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9LyR7bWFuZ2FJZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSAkKCdkaXYuY29udGFpbmVyJyk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLnRpdGxlID0gY29udGFpbmVyLmZpbmQoJ2Rpdi5hbmlzYy1kZXRhaWwgaDIubWFuZ2EtbmFtZScpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmltYWdlID0gY29udGFpbmVyLmZpbmQoJ2ltZy5tYW5nYS1wb3N0ZXItaW1nJykuYXR0cignc3JjJyk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmRlc2NyaXB0aW9uID0gJCgnZGl2Lm1vZGFsLWJvZHkgZGl2LmRlc2NyaXB0aW9uLW1vZGFsJykudGV4dCgpLnNwbGl0KCdcXG4nKS5qb2luKCcgJykudHJpbSgpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5nZW5yZXMgPSBjb250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2Rpdi5zb3J0LWRlc2MgZGl2LmdlbnJlcyBhJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZ2VucmUpID0+ICQoZ2VucmUpLnRleHQoKS50cmltKCkpXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uY2hhcHRlcnMgPSBjb250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoYGRpdi5jaGFwdGVycy1saXN0LXVsIHVsIGxpYClcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3BsaXQoJy9yZWFkLycpWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJ2EnKS5hdHRyKCd0aXRsZScpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXB0ZXI6ICQoZWwpLmZpbmQoJ2Egc3Bhbi5uYW1lJykudGV4dCgpLnNwbGl0KCdDaGFwdGVyICcpWzFdLnNwbGl0KCc6JylbMF0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFuZ2FJbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hDaGFwdGVyUGFnZXMgPSBhc3luYyAoY2hhcHRlcklkKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vcmVhZC8ke2NoYXB0ZXJJZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkaW5nSWQgPSAkKCdkaXYjd3JhcHBlcicpLmF0dHIoJ2RhdGEtcmVhZGluZy1pZCcpO1xuICAgICAgICAgICAgICAgIGlmICghcmVhZGluZ0lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGZpbmQgcGFnZXMnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYWpheFVSTCA9IGBodHRwczovL21hbmdhcmVhZGVyLnRvL2FqYXgvaW1hZ2UvbGlzdC9jaGFwLyR7cmVhZGluZ0lkfT9tb2RlPXZlcnRpY2FsJnF1YWxpdHk9aGlnaGA7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBwYWdlc0RhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChhamF4VVJMKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkUGFnZXNIVE1MID0gKDAsIGNoZWVyaW9fMS5sb2FkKShwYWdlc0RhdGEuaHRtbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZXNTZWxlY3RvciA9ICRQYWdlc0hUTUwoJ2RpdiNtYWluLXdyYXBwZXIgZGl2LmNvbnRhaW5lci1yZWFkZXItY2hhcHRlciBkaXYuaXYtY2FyZCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VzID0gcGFnZXNTZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgaW1nOiAkKGVsKS5hdHRyKCdkYXRhLXVybCcpLnJlcGxhY2UoJyZhbXA7JywgJyYnKSxcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogaSArIDEsXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFnZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyAoYXN5bmMgKCkgPT4ge1xuLy8gICBjb25zdCBtYW5nYSA9IG5ldyBNYW5nYVJlYWRlcigpO1xuLy8gICBjb25zdCBzZWFyY2ggPSBhd2FpdCBtYW5nYS5zZWFyY2goJ29uZSBwaWVjZScpO1xuLy8gICBjb25zdCBpbmZvID0gYXdhaXQgbWFuZ2EuZmV0Y2hNYW5nYUluZm8oc2VhcmNoLnJlc3VsdHNbMF0uaWQpO1xuLy8gICBjb25zdCBwYWdlcyA9IGF3YWl0IG1hbmdhLmZldGNoQ2hhcHRlclBhZ2VzKGluZm8uY2hhcHRlcnMhWzBdLmlkKTtcbi8vICAgY29uc29sZS5sb2cocGFnZXMpO1xuLy8gfSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1hbmdhUmVhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFuZ2FyZWFkZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangareader.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangasee123.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/mangasee123.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst domhandler_1 = __webpack_require__(/*! domhandler */ \"(rsc)/./node_modules/domhandler/lib/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass Mangasee123 extends models_1.MangaParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'MangaSee';\n        this.baseUrl = 'https://mangasee123.com';\n        this.logo = 'https://scontent.fman4-1.fna.fbcdn.net/v/t1.6435-1/80033336_1830005343810810_419412485691408384_n.png?stp=dst-png_p148x148&_nc_cat=104&ccb=1-7&_nc_sid=1eb0c7&_nc_ohc=XpeoABDI-sEAX-5hLFV&_nc_ht=scontent.fman4-1.fna&oh=00_AT9nIRz5vPiNqqzNpSg2bJymX22rZ1JumYTKBqg_cD0Alg&oe=6317290E';\n        this.classPath = 'MANGA.Mangasee123';\n        // private readonly sgProxy = 'https://cors.consumet.stream';\n        this.fetchMangaInfo = async (mangaId, ...args) => {\n            const mangaInfo = {\n                id: mangaId,\n                title: '',\n            };\n            const url = `${this.baseUrl}/manga`;\n            try {\n                const { data } = await this.client.get(`${url}/${mangaId}`);\n                const $ = (0, cheerio_1.load)(data);\n                const schemaScript = $('body > script:nth-child(15)').get()[0].children[0];\n                if ((0, domhandler_1.isText)(schemaScript)) {\n                    const mainEntity = JSON.parse(schemaScript.data)['mainEntity'];\n                    mangaInfo.title = mainEntity['name'];\n                    mangaInfo.altTitles = mainEntity['alternateName'];\n                    mangaInfo.genres = mainEntity['genre'];\n                }\n                mangaInfo.image = $('img.bottom-5').attr('src');\n                mangaInfo.headerForImage = { Referer: this.baseUrl };\n                mangaInfo.description = $('.top-5 .Content').text();\n                const contentScript = $('body > script:nth-child(16)').get()[0].children[0];\n                if ((0, domhandler_1.isText)(contentScript)) {\n                    const chaptersData = this.processScriptTagVariable(contentScript.data, 'vm.Chapters = ');\n                    mangaInfo.chapters = chaptersData.map((i) => {\n                        var _a;\n                        return ({\n                            id: `${mangaId}-chapter-${this.processChapterNumber(i['Chapter'])}`,\n                            title: `${(_a = i['ChapterName']) !== null && _a !== void 0 ? _a : `Chapter ${this.processChapterNumber(i['Chapter'])}`}`,\n                            releaseDate: i['Date'],\n                        });\n                    });\n                }\n                return mangaInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchChapterPages = async (chapterId, ...args) => {\n            const images = [];\n            const url = `${this.baseUrl}/read-online/${chapterId}-page-1.html`;\n            try {\n                const { data } = await this.client.get(`${url}`);\n                const $ = (0, cheerio_1.load)(data);\n                const chapterScript = $('body > script:nth-child(19)').get()[0].children[0];\n                if ((0, domhandler_1.isText)(chapterScript)) {\n                    const curChapter = this.processScriptTagVariable(chapterScript.data, 'vm.CurChapter = ');\n                    const imageHost = this.processScriptTagVariable(chapterScript.data, 'vm.CurPathName = ');\n                    const curChapterLength = Number(curChapter['Page']);\n                    for (let i = 0; i < curChapterLength; i++) {\n                        const chapter = this.processChapterForImageUrl(chapterId.replace(/[^0-9.]/g, ''));\n                        const page = `${i + 1}`.padStart(3, '0');\n                        const mangaId = chapterId.split('-chapter-', 1)[0];\n                        const imagePath = `https://${imageHost}/manga/${mangaId}/${chapter}-${page}.png`;\n                        images.push(imagePath);\n                    }\n                }\n                const pages = images.map((image, i) => ({\n                    page: i + 1,\n                    img: image,\n                    headerForImage: { Referer: this.baseUrl },\n                }));\n                return pages;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.search = async (query, ...args) => {\n            const matches = [];\n            const sanitizedQuery = query.replace(/\\s/g, '').toLowerCase();\n            try {\n                const { data } = await this.client.get(`https://mangasee123.com/_search.php`);\n                for (const i in data) {\n                    const sanitizedAlts = [];\n                    const item = data[i];\n                    const altTitles = data[i]['a'];\n                    for (const alt of altTitles) {\n                        sanitizedAlts.push(alt.replace(/\\s/g, '').toLowerCase());\n                    }\n                    if (item['s'].replace(/\\s/g, '').toLowerCase().includes(sanitizedQuery) ||\n                        sanitizedAlts.includes(sanitizedQuery)) {\n                        matches.push(item);\n                    }\n                }\n                const results = matches.map((val) => ({\n                    id: val['i'],\n                    title: val['s'],\n                    altTitles: val['a'],\n                    image: `https://temp.compsci88.com/cover/${val['i']}.jpg`,\n                    headerForImage: { Referer: this.baseUrl },\n                }));\n                return { results: results };\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.processScriptTagVariable = (script, variable) => {\n            const chopFront = script.substring(script.search(variable) + variable.length, script.length);\n            const chapters = JSON.parse(chopFront.substring(0, chopFront.search(';')));\n            return chapters;\n        };\n        // e.g. 102055 => [1]--[0205]--[5]\n        //                 ?    chap   dec\n        this.processChapterNumber = (chapter) => {\n            const decimal = chapter.substring(chapter.length - 1, chapter.length);\n            chapter = chapter.replace(chapter[0], '').slice(0, -1);\n            if (decimal == '0')\n                return `${+chapter}`;\n            if (chapter.startsWith('0'))\n                chapter = chapter.replace(chapter[0], '');\n            return `${+chapter}.${decimal}`;\n        };\n        this.processChapterForImageUrl = (chapter) => {\n            if (!chapter.includes('.'))\n                return chapter.padStart(4, '0');\n            const values = chapter.split('.');\n            const pad = values[0].padStart(4, '0');\n            return `${pad}.${values[1]}`;\n        };\n    }\n}\n// (async () => {\n//   const manga = new Mangasee123();\n//   const mediaInfo = await manga.search('oyasumi');\n//   const mangaInfo = await manga.fetchMangaInfo(mediaInfo.results[0].id);\n//   const chapterPages = await manga.fetchChapterPages(mangaInfo.chapters![0].id);\n//   console.log(chapterPages);\n//   console.log(mediaInfo, mangaInfo);\n// })();\nexports[\"default\"] = Mangasee123;\n//# sourceMappingURL=mangasee123.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2EvbWFuZ2FzZWUxMjMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLG1CQUFPLENBQUMsb0VBQVM7QUFDbkMscUJBQXFCLG1CQUFPLENBQUMsZ0VBQVk7QUFDekMsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsYUFBYTtBQUN4QztBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixJQUFJLEdBQUcsUUFBUTtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsUUFBUSxXQUFXLHdDQUF3QztBQUM5RixzQ0FBc0Msb0VBQW9FLHdDQUF3QyxFQUFFO0FBQ3BKO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsYUFBYSxlQUFlLFVBQVU7QUFDakU7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsSUFBSTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msc0JBQXNCO0FBQzFEO0FBQ0Esd0NBQXdDLE1BQU07QUFDOUM7QUFDQSxxREFBcUQsVUFBVSxTQUFTLFFBQVEsR0FBRyxRQUFRLEdBQUcsS0FBSztBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsdUJBQXVCO0FBQzdELGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELFNBQVM7QUFDeEUsc0NBQXNDLHVCQUF1QjtBQUM3RCxpQkFBaUI7QUFDakIseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsU0FBUztBQUNuQztBQUNBO0FBQ0Esc0JBQXNCLFNBQVMsR0FBRyxRQUFRO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixJQUFJLEdBQUcsVUFBVTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXG1hbmdhXFxtYW5nYXNlZTEyMy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgZG9taGFuZGxlcl8xID0gcmVxdWlyZShcImRvbWhhbmRsZXJcIik7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHNcIik7XG5jbGFzcyBNYW5nYXNlZTEyMyBleHRlbmRzIG1vZGVsc18xLk1hbmdhUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ01hbmdhU2VlJztcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJ2h0dHBzOi8vbWFuZ2FzZWUxMjMuY29tJztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vc2NvbnRlbnQuZm1hbjQtMS5mbmEuZmJjZG4ubmV0L3YvdDEuNjQzNS0xLzgwMDMzMzM2XzE4MzAwMDUzNDM4MTA4MTBfNDE5NDEyNDg1NjkxNDA4Mzg0X24ucG5nP3N0cD1kc3QtcG5nX3AxNDh4MTQ4Jl9uY19jYXQ9MTA0JmNjYj0xLTcmX25jX3NpZD0xZWIwYzcmX25jX29oYz1YcGVvQUJESS1zRUFYLTVoTEZWJl9uY19odD1zY29udGVudC5mbWFuNC0xLmZuYSZvaD0wMF9BVDluSVJ6NXZQaU5xcXpOcFNnMmJKeW1YMjJyWjFKdW1ZVEtCcWdfY0QwQWxnJm9lPTYzMTcyOTBFJztcbiAgICAgICAgdGhpcy5jbGFzc1BhdGggPSAnTUFOR0EuTWFuZ2FzZWUxMjMnO1xuICAgICAgICAvLyBwcml2YXRlIHJlYWRvbmx5IHNnUHJveHkgPSAnaHR0cHM6Ly9jb3JzLmNvbnN1bWV0LnN0cmVhbSc7XG4gICAgICAgIHRoaXMuZmV0Y2hNYW5nYUluZm8gPSBhc3luYyAobWFuZ2FJZCwgLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWFuZ2FJbmZvID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtYW5nYUlkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9L21hbmdhYDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dXJsfS8ke21hbmdhSWR9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NoZW1hU2NyaXB0ID0gJCgnYm9keSA+IHNjcmlwdDpudGgtY2hpbGQoMTUpJykuZ2V0KClbMF0uY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgaWYgKCgwLCBkb21oYW5kbGVyXzEuaXNUZXh0KShzY2hlbWFTY3JpcHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1haW5FbnRpdHkgPSBKU09OLnBhcnNlKHNjaGVtYVNjcmlwdC5kYXRhKVsnbWFpbkVudGl0eSddO1xuICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8udGl0bGUgPSBtYWluRW50aXR5WyduYW1lJ107XG4gICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby5hbHRUaXRsZXMgPSBtYWluRW50aXR5WydhbHRlcm5hdGVOYW1lJ107XG4gICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby5nZW5yZXMgPSBtYWluRW50aXR5WydnZW5yZSddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uaW1hZ2UgPSAkKCdpbWcuYm90dG9tLTUnKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uaGVhZGVyRm9ySW1hZ2UgPSB7IFJlZmVyZXI6IHRoaXMuYmFzZVVybCB9O1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5kZXNjcmlwdGlvbiA9ICQoJy50b3AtNSAuQ29udGVudCcpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50U2NyaXB0ID0gJCgnYm9keSA+IHNjcmlwdDpudGgtY2hpbGQoMTYpJykuZ2V0KClbMF0uY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgaWYgKCgwLCBkb21oYW5kbGVyXzEuaXNUZXh0KShjb250ZW50U2NyaXB0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFwdGVyc0RhdGEgPSB0aGlzLnByb2Nlc3NTY3JpcHRUYWdWYXJpYWJsZShjb250ZW50U2NyaXB0LmRhdGEsICd2bS5DaGFwdGVycyA9ICcpO1xuICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uY2hhcHRlcnMgPSBjaGFwdGVyc0RhdGEubWFwKChpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYCR7bWFuZ2FJZH0tY2hhcHRlci0ke3RoaXMucHJvY2Vzc0NoYXB0ZXJOdW1iZXIoaVsnQ2hhcHRlciddKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBgJHsoX2EgPSBpWydDaGFwdGVyTmFtZSddKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBgQ2hhcHRlciAke3RoaXMucHJvY2Vzc0NoYXB0ZXJOdW1iZXIoaVsnQ2hhcHRlciddKX1gfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IGlbJ0RhdGUnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hbmdhSW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQ2hhcHRlclBhZ2VzID0gYXN5bmMgKGNoYXB0ZXJJZCwgLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VzID0gW107XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9L3JlYWQtb25saW5lLyR7Y2hhcHRlcklkfS1wYWdlLTEuaHRtbGA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3VybH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFwdGVyU2NyaXB0ID0gJCgnYm9keSA+IHNjcmlwdDpudGgtY2hpbGQoMTkpJykuZ2V0KClbMF0uY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgaWYgKCgwLCBkb21oYW5kbGVyXzEuaXNUZXh0KShjaGFwdGVyU2NyaXB0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJDaGFwdGVyID0gdGhpcy5wcm9jZXNzU2NyaXB0VGFnVmFyaWFibGUoY2hhcHRlclNjcmlwdC5kYXRhLCAndm0uQ3VyQ2hhcHRlciA9ICcpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUhvc3QgPSB0aGlzLnByb2Nlc3NTY3JpcHRUYWdWYXJpYWJsZShjaGFwdGVyU2NyaXB0LmRhdGEsICd2bS5DdXJQYXRoTmFtZSA9ICcpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJDaGFwdGVyTGVuZ3RoID0gTnVtYmVyKGN1ckNoYXB0ZXJbJ1BhZ2UnXSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VyQ2hhcHRlckxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFwdGVyID0gdGhpcy5wcm9jZXNzQ2hhcHRlckZvckltYWdlVXJsKGNoYXB0ZXJJZC5yZXBsYWNlKC9bXjAtOS5dL2csICcnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlID0gYCR7aSArIDF9YC5wYWRTdGFydCgzLCAnMCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFuZ2FJZCA9IGNoYXB0ZXJJZC5zcGxpdCgnLWNoYXB0ZXItJywgMSlbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVBhdGggPSBgaHR0cHM6Ly8ke2ltYWdlSG9zdH0vbWFuZ2EvJHttYW5nYUlkfS8ke2NoYXB0ZXJ9LSR7cGFnZX0ucG5nYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlcy5wdXNoKGltYWdlUGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZXMgPSBpbWFnZXMubWFwKChpbWFnZSwgaSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogaSArIDEsXG4gICAgICAgICAgICAgICAgICAgIGltZzogaW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlckZvckltYWdlOiB7IFJlZmVyZXI6IHRoaXMuYmFzZVVybCB9LFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFnZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocXVlcnksIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHNhbml0aXplZFF1ZXJ5ID0gcXVlcnkucmVwbGFjZSgvXFxzL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgaHR0cHM6Ly9tYW5nYXNlZTEyMy5jb20vX3NlYXJjaC5waHBgKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGkgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzYW5pdGl6ZWRBbHRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkYXRhW2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHRUaXRsZXMgPSBkYXRhW2ldWydhJ107XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYWx0IG9mIGFsdFRpdGxlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FuaXRpemVkQWx0cy5wdXNoKGFsdC5yZXBsYWNlKC9cXHMvZywgJycpLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtWydzJ10ucmVwbGFjZSgvXFxzL2csICcnKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNhbml0aXplZFF1ZXJ5KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgc2FuaXRpemVkQWx0cy5pbmNsdWRlcyhzYW5pdGl6ZWRRdWVyeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gbWF0Y2hlcy5tYXAoKHZhbCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHZhbFsnaSddLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdmFsWydzJ10sXG4gICAgICAgICAgICAgICAgICAgIGFsdFRpdGxlczogdmFsWydhJ10sXG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiBgaHR0cHM6Ly90ZW1wLmNvbXBzY2k4OC5jb20vY292ZXIvJHt2YWxbJ2knXX0uanBnYCxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyRm9ySW1hZ2U6IHsgUmVmZXJlcjogdGhpcy5iYXNlVXJsIH0sXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdHM6IHJlc3VsdHMgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnByb2Nlc3NTY3JpcHRUYWdWYXJpYWJsZSA9IChzY3JpcHQsIHZhcmlhYmxlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaG9wRnJvbnQgPSBzY3JpcHQuc3Vic3RyaW5nKHNjcmlwdC5zZWFyY2godmFyaWFibGUpICsgdmFyaWFibGUubGVuZ3RoLCBzY3JpcHQubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IGNoYXB0ZXJzID0gSlNPTi5wYXJzZShjaG9wRnJvbnQuc3Vic3RyaW5nKDAsIGNob3BGcm9udC5zZWFyY2goJzsnKSkpO1xuICAgICAgICAgICAgcmV0dXJuIGNoYXB0ZXJzO1xuICAgICAgICB9O1xuICAgICAgICAvLyBlLmcuIDEwMjA1NSA9PiBbMV0tLVswMjA1XS0tWzVdXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICA/ICAgIGNoYXAgICBkZWNcbiAgICAgICAgdGhpcy5wcm9jZXNzQ2hhcHRlck51bWJlciA9IChjaGFwdGVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZWNpbWFsID0gY2hhcHRlci5zdWJzdHJpbmcoY2hhcHRlci5sZW5ndGggLSAxLCBjaGFwdGVyLmxlbmd0aCk7XG4gICAgICAgICAgICBjaGFwdGVyID0gY2hhcHRlci5yZXBsYWNlKGNoYXB0ZXJbMF0sICcnKS5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICBpZiAoZGVjaW1hbCA9PSAnMCcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGAkeytjaGFwdGVyfWA7XG4gICAgICAgICAgICBpZiAoY2hhcHRlci5zdGFydHNXaXRoKCcwJykpXG4gICAgICAgICAgICAgICAgY2hhcHRlciA9IGNoYXB0ZXIucmVwbGFjZShjaGFwdGVyWzBdLCAnJyk7XG4gICAgICAgICAgICByZXR1cm4gYCR7K2NoYXB0ZXJ9LiR7ZGVjaW1hbH1gO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnByb2Nlc3NDaGFwdGVyRm9ySW1hZ2VVcmwgPSAoY2hhcHRlcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFjaGFwdGVyLmluY2x1ZGVzKCcuJykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXB0ZXIucGFkU3RhcnQoNCwgJzAnKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGNoYXB0ZXIuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIGNvbnN0IHBhZCA9IHZhbHVlc1swXS5wYWRTdGFydCg0LCAnMCcpO1xuICAgICAgICAgICAgcmV0dXJuIGAke3BhZH0uJHt2YWx1ZXNbMV19YDtcbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyAoYXN5bmMgKCkgPT4ge1xuLy8gICBjb25zdCBtYW5nYSA9IG5ldyBNYW5nYXNlZTEyMygpO1xuLy8gICBjb25zdCBtZWRpYUluZm8gPSBhd2FpdCBtYW5nYS5zZWFyY2goJ295YXN1bWknKTtcbi8vICAgY29uc3QgbWFuZ2FJbmZvID0gYXdhaXQgbWFuZ2EuZmV0Y2hNYW5nYUluZm8obWVkaWFJbmZvLnJlc3VsdHNbMF0uaWQpO1xuLy8gICBjb25zdCBjaGFwdGVyUGFnZXMgPSBhd2FpdCBtYW5nYS5mZXRjaENoYXB0ZXJQYWdlcyhtYW5nYUluZm8uY2hhcHRlcnMhWzBdLmlkKTtcbi8vICAgY29uc29sZS5sb2coY2hhcHRlclBhZ2VzKTtcbi8vICAgY29uc29sZS5sb2cobWVkaWFJbmZvLCBtYW5nYUluZm8pO1xuLy8gfSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1hbmdhc2VlMTIzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFuZ2FzZWUxMjMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangasee123.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/readmanga.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/readmanga.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nvar RankingType;\n(function (RankingType) {\n    RankingType[\"TOPRATED\"] = \"top-rated\";\n    RankingType[\"NEW\"] = \"new\";\n})(RankingType || (RankingType = {}));\nclass ReadManga extends models_1.MangaParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'ReadManga';\n        this.baseUrl = 'https://readmanga.app';\n        this.logo = 'https://readmanga.app/assets/new/images/readmangapp-light.png'; // light logo\n        this.classPath = 'MANGA.ReadManga';\n        this.darkLogo = 'https://readmanga.app/assets/new/images/readmangaapp-dark.png';\n        /**\n         *\n         * @param query Search query\n         */\n        this.search = async (query) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/search/autocomplete?dataType=json&query=${query}`, {\n                    headers: {\n                        Referer: this.baseUrl,\n                    },\n                });\n                const result = {\n                    currentPage: 1,\n                    hasNextPage: false,\n                    totalPages: 1,\n                    totalResults: data.results.length,\n                    results: this.formatSearchResultData(data.results),\n                };\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchNewManga = async (page = 1) => {\n            if (page < 1) {\n                throw new Error('please provide a page number that is greater than- or equal to 1');\n            }\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/ranking/${RankingType.NEW}/${page}`, {\n                    headers: {\n                        accept: 'application/json, text/javascript, */*; q=0.01',\n                        'accept-language': 'en-US,en;q=0.9',\n                        'sec-ch-ua': '\"Chromium\";v=\"122\", \"Not(A:Brand\";v=\"24\", \"Google Chrome\";v=\"122\"',\n                        'sec-ch-ua-mobile': '?0',\n                        'sec-ch-ua-platform': '\"Windows\"',\n                        'sec-fetch-dest': 'empty',\n                        'sec-fetch-mode': 'cors',\n                        'sec-fetch-site': 'same-origin',\n                        'x-requested-with': 'XMLHttpRequest',\n                        Referer: this.baseUrl,\n                        'Referrer-Policy': 'strict-origin-when-cross-origin',\n                    },\n                });\n                const result = this.getRankingTitleCardData(data, page);\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchTopRatedManga = async (page = 1) => {\n            if (page < 1) {\n                throw new Error('please provide a page number that is greater than- or equal to 1');\n            }\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/ranking/${RankingType.TOPRATED}/${page}`, {\n                    headers: {\n                        accept: 'application/json, text/javascript, */*; q=0.01',\n                        'accept-language': 'en-US,en;q=0.9',\n                        'sec-ch-ua': '\"Chromium\";v=\"122\", \"Not(A:Brand\";v=\"24\", \"Google Chrome\";v=\"122\"',\n                        'sec-ch-ua-mobile': '?0',\n                        'sec-ch-ua-platform': '\"Windows\"',\n                        'sec-fetch-dest': 'empty',\n                        'sec-fetch-mode': 'cors',\n                        'sec-fetch-site': 'same-origin',\n                        'x-requested-with': 'XMLHttpRequest',\n                        Referer: this.baseUrl,\n                        'Referrer-Policy': 'strict-origin-when-cross-origin',\n                    },\n                });\n                const result = this.getRankingTitleCardData(data, page);\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchMangaInfo = async (mangaId) => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/${mangaId}`, {\n                    headers: {\n                        accept: 'application/json, text/javascript, */*; q=0.01',\n                        'accept-language': 'en-US,en;q=0.9',\n                        'sec-ch-ua': '\"Chromium\";v=\"122\", \"Not(A:Brand\";v=\"24\", \"Google Chrome\";v=\"122\"',\n                        'sec-ch-ua-mobile': '?0',\n                        'sec-ch-ua-platform': '\"Windows\"',\n                        'sec-fetch-dest': 'empty',\n                        'sec-fetch-mode': 'cors',\n                        'sec-fetch-site': 'same-origin',\n                        'x-requested-with': 'XMLHttpRequest',\n                        Referer: this.baseUrl,\n                        'Referrer-Policy': 'strict-origin-when-cross-origin',\n                    },\n                });\n                const $ = (0, cheerio_1.load)(data);\n                const dom = $('html');\n                const title = dom.find('.section-header.mb-2 > .section-header-title.me-auto > h2').text().trim();\n                const image = dom.find('.novels-detail > .novels-detail-left > img').attr('src');\n                const altTitles = dom\n                    .find('.novels-detail > .novels-detail-right > ul > li:nth-child(1) > div:nth-child(2) > span')\n                    .text()\n                    .split(',');\n                const status = dom\n                    .find('.novels-detail > .novels-detail-right > ul > li:nth-child(2) > div:nth-child(2)')\n                    .text()\n                    .trim();\n                const genres = dom\n                    .find('.novels-detail > .novels-detail-right > ul > li:nth-child(3) > div:nth-child(2) > a')\n                    .map((index, ele) => $(ele).text().trim())\n                    .get();\n                const type = dom\n                    .find('.novels-detail > .novels-detail-right > ul > li:nth-child(4) > div:nth-child(2) > span')\n                    .text()\n                    .trim();\n                const rating = dom\n                    .find('.novels-detail > .novels-detail-right > ul > li:nth-child(5) > div:nth-child(2) > span')\n                    .text()\n                    .trim();\n                const authors = dom\n                    .find('.novels-detail > .novels-detail-right > ul > li:nth-child(6) > div:nth-child(2) > a')\n                    .map((index, ele) => $(ele).text().trim())\n                    .get();\n                const artists = dom\n                    .find('.novels-detail > .novels-detail-right > ul > li:nth-child(7) > div:nth-child(2)')\n                    .text()\n                    .trim();\n                const views = dom\n                    .find('.novels-detail > .novels-detail-right > ul > li:nth-child(8) > div:nth-child(2)')\n                    .text()\n                    .trim();\n                const description = dom.find('.col-md-12.mb-3 > .empty-box > p').text();\n                const chapters = dom\n                    .find('div > .cm-tabs-content > ul > li > a')\n                    .map((index, ele) => {\n                    // link to chapter is not always baseUrl -> id = entire link\n                    const chapter = {\n                        id: ele.attribs['href'],\n                        title: $(ele).text().trim(),\n                    };\n                    return chapter;\n                })\n                    .get();\n                const result = {\n                    authors,\n                    genres,\n                    chapters,\n                    id: mangaId,\n                    title,\n                    altTitles,\n                    image,\n                    description,\n                    status: this.getStatus(status),\n                    rating,\n                    artists,\n                    type,\n                    views,\n                };\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchChapterPages = async (chapterId) => {\n            try {\n                const { data } = await this.client.get(chapterId, {\n                    headers: {\n                        accept: 'application/json, text/javascript, */*; q=0.01',\n                        'accept-language': 'en-US,en;q=0.9',\n                        'sec-ch-ua': '\"Chromium\";v=\"122\", \"Not(A:Brand\";v=\"24\", \"Google Chrome\";v=\"122\"',\n                        'sec-ch-ua-mobile': '?0',\n                        'sec-ch-ua-platform': '\"Windows\"',\n                        'sec-fetch-dest': 'empty',\n                        'sec-fetch-mode': 'cors',\n                        'sec-fetch-site': 'same-origin',\n                        'x-requested-with': 'XMLHttpRequest',\n                        Referer: this.baseUrl,\n                        'Referrer-Policy': 'strict-origin-when-cross-origin',\n                    },\n                });\n                const $ = (0, cheerio_1.load)(data);\n                const dom = $('html');\n                const imageSources = dom\n                    .find('.chapter-detail-novel-big-image.text-center > img')\n                    .map((index, ele) => {\n                    const chapterPage = {\n                        img: ele.attribs['src'],\n                        page: index + 1,\n                    };\n                    return chapterPage;\n                })\n                    .get();\n                return imageSources;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.getRankingTitleCardData = (text, page) => {\n            const $ = (0, cheerio_1.load)(text);\n            const dom = $('html');\n            const titles = dom\n                .find('.category-items.ranking-category.cm-list > ul > li')\n                .map((index, ele) => {\n                return {\n                    title: $(ele).find('.category-name > a').text().trim(),\n                    id: $(ele).find('div > a').attr('href').replace('/', ''),\n                    img: $(ele).find('div:nth-child(2) > div > a > img').attr('src'),\n                    description: $(ele)\n                        .find('div:nth-child(2) > div:nth-child(2) > div > a > span')\n                        .text()\n                        .split('\\n')\n                        .join(' ')\n                        .trim(),\n                    status: this.getStatus($(ele).find('div:nth-child(2) > div:nth-child(2) > ul > li:nth-child(1) > span').text().trim()),\n                    categories: $(ele)\n                        .find('div:nth-child(2) > div:nth-child(2) > ul > li:nth-child(2) > a')\n                        .map((index, str) => $(str).text())\n                        .get(),\n                    type: $(ele).find('div:nth-child(2) > div:nth-child(2) > ul > li:nth-child(3) > span').text(),\n                    views: parseInt($(ele).find('div:nth-child(2) > div:nth-child(2) > ul > li:nth-child(4) > span').text()),\n                    rate: parseInt($(ele).find('div:nth-child(2) > div:nth-child(2) > ul > li:nth-child(5) > span').text()),\n                };\n            })\n                .get();\n            const totalPages = dom.find('nav.cm-pagination > a:last-child').attr('href') === '#'\n                ? page\n                : this.getTotalPages(dom.find('nav.cm-pagination > a:last-child').attr('href'), '/');\n            const result = {\n                results: titles,\n                currentPage: page,\n                totalPages: totalPages,\n                hasNextPage: !(dom.find('nav.cm-pagination > a:last-child').attr('href') === '#'),\n            };\n            return result;\n        };\n        this.getTotalPages = (str, splitOn) => {\n            const split = str.split(splitOn);\n            return parseInt(split[split.length - 1]);\n        };\n        this.formatSearchResultData = (results) => {\n            const formattedResults = results.map(result => {\n                const split = result.link.split('/');\n                const id = split[split.length - 1];\n                return {\n                    id: id,\n                    title: result.original_title,\n                    altTitles: result.overview,\n                    image: result.image,\n                };\n            });\n            return formattedResults;\n        };\n        this.getStatus = (statusStr) => {\n            switch (statusStr) {\n                case models_1.MediaStatus.CANCELLED:\n                    return models_1.MediaStatus.CANCELLED;\n                case models_1.MediaStatus.COMPLETED:\n                    return models_1.MediaStatus.COMPLETED;\n                case models_1.MediaStatus.HIATUS:\n                    return models_1.MediaStatus.HIATUS;\n                case models_1.MediaStatus.NOT_YET_AIRED:\n                    return models_1.MediaStatus.NOT_YET_AIRED;\n                case models_1.MediaStatus.ONGOING:\n                    return models_1.MediaStatus.ONGOING;\n                default:\n                    return models_1.MediaStatus.UNKNOWN;\n            }\n        };\n    }\n}\nexports[\"default\"] = ReadManga;\n//# sourceMappingURL=readmanga.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2EvcmVhZG1hbmdhLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrQ0FBa0M7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsMkNBQTJDLE1BQU07QUFDeEg7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsV0FBVyxnQkFBZ0IsR0FBRyxLQUFLO0FBQzFHO0FBQ0EseUVBQXlFO0FBQ3pFLHFEQUFxRDtBQUNyRCxpREFBaUQsdUJBQXVCLHdCQUF3QjtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxXQUFXLHFCQUFxQixHQUFHLEtBQUs7QUFDL0c7QUFDQSx5RUFBeUU7QUFDekUscURBQXFEO0FBQ3JELGlEQUFpRCx1QkFBdUIsd0JBQXdCO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLEdBQUcsUUFBUTtBQUNsRjtBQUNBLHlFQUF5RTtBQUN6RSxxREFBcUQ7QUFDckQsaURBQWlELHVCQUF1Qix3QkFBd0I7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQSx5RUFBeUU7QUFDekUscURBQXFEO0FBQ3JELGlEQUFpRCx1QkFBdUIsd0JBQXdCO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxtYW5nYVxccmVhZG1hbmdhLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2hlZXJpb18xID0gcmVxdWlyZShcImNoZWVyaW9cIik7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHNcIik7XG52YXIgUmFua2luZ1R5cGU7XG4oZnVuY3Rpb24gKFJhbmtpbmdUeXBlKSB7XG4gICAgUmFua2luZ1R5cGVbXCJUT1BSQVRFRFwiXSA9IFwidG9wLXJhdGVkXCI7XG4gICAgUmFua2luZ1R5cGVbXCJORVdcIl0gPSBcIm5ld1wiO1xufSkoUmFua2luZ1R5cGUgfHwgKFJhbmtpbmdUeXBlID0ge30pKTtcbmNsYXNzIFJlYWRNYW5nYSBleHRlbmRzIG1vZGVsc18xLk1hbmdhUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1JlYWRNYW5nYSc7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL3JlYWRtYW5nYS5hcHAnO1xuICAgICAgICB0aGlzLmxvZ28gPSAnaHR0cHM6Ly9yZWFkbWFuZ2EuYXBwL2Fzc2V0cy9uZXcvaW1hZ2VzL3JlYWRtYW5nYXBwLWxpZ2h0LnBuZyc7IC8vIGxpZ2h0IGxvZ29cbiAgICAgICAgdGhpcy5jbGFzc1BhdGggPSAnTUFOR0EuUmVhZE1hbmdhJztcbiAgICAgICAgdGhpcy5kYXJrTG9nbyA9ICdodHRwczovL3JlYWRtYW5nYS5hcHAvYXNzZXRzL25ldy9pbWFnZXMvcmVhZG1hbmdhYXBwLWRhcmsucG5nJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSBTZWFyY2ggcXVlcnlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vc2VhcmNoL2F1dG9jb21wbGV0ZT9kYXRhVHlwZT1qc29uJnF1ZXJ5PSR7cXVlcnl9YCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiB0aGlzLmJhc2VVcmwsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcbiAgICAgICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbFBhZ2VzOiAxLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbFJlc3VsdHM6IGRhdGEucmVzdWx0cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IHRoaXMuZm9ybWF0U2VhcmNoUmVzdWx0RGF0YShkYXRhLnJlc3VsdHMpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoTmV3TWFuZ2EgPSBhc3luYyAocGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWdlIDwgMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGxlYXNlIHByb3ZpZGUgYSBwYWdlIG51bWJlciB0aGF0IGlzIGdyZWF0ZXIgdGhhbi0gb3IgZXF1YWwgdG8gMScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L3JhbmtpbmcvJHtSYW5raW5nVHlwZS5ORVd9LyR7cGFnZX1gLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCwgKi8qOyBxPTAuMDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdlbi1VUyxlbjtxPTAuOScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWNoLXVhJzogJ1wiQ2hyb21pdW1cIjt2PVwiMTIyXCIsIFwiTm90KEE6QnJhbmRcIjt2PVwiMjRcIiwgXCJHb29nbGUgQ2hyb21lXCI7dj1cIjEyMlwiJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtY2gtdWEtbW9iaWxlJzogJz8wJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtY2gtdWEtcGxhdGZvcm0nOiAnXCJXaW5kb3dzXCInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtZmV0Y2gtbW9kZSc6ICdjb3JzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAneC1yZXF1ZXN0ZWQtd2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiB0aGlzLmJhc2VVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAnUmVmZXJyZXItUG9saWN5JzogJ3N0cmljdC1vcmlnaW4td2hlbi1jcm9zcy1vcmlnaW4nLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZ2V0UmFua2luZ1RpdGxlQ2FyZERhdGEoZGF0YSwgcGFnZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoVG9wUmF0ZWRNYW5nYSA9IGFzeW5jIChwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgaWYgKHBhZ2UgPCAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwbGVhc2UgcHJvdmlkZSBhIHBhZ2UgbnVtYmVyIHRoYXQgaXMgZ3JlYXRlciB0aGFuLSBvciBlcXVhbCB0byAxJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vcmFua2luZy8ke1JhbmtpbmdUeXBlLlRPUFJBVEVEfS8ke3BhZ2V9YCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQsICovKjsgcT0wLjAxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1jaC11YSc6ICdcIkNocm9taXVtXCI7dj1cIjEyMlwiLCBcIk5vdChBOkJyYW5kXCI7dj1cIjI0XCIsIFwiR29vZ2xlIENocm9tZVwiO3Y9XCIxMjJcIicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWNoLXVhLXBsYXRmb3JtJzogJ1wiV2luZG93c1wiJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtZmV0Y2gtZGVzdCc6ICdlbXB0eScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWZldGNoLXNpdGUnOiAnc2FtZS1vcmlnaW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3gtcmVxdWVzdGVkLXdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogdGhpcy5iYXNlVXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1JlZmVycmVyLVBvbGljeSc6ICdzdHJpY3Qtb3JpZ2luLXdoZW4tY3Jvc3Mtb3JpZ2luJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmdldFJhbmtpbmdUaXRsZUNhcmREYXRhKGRhdGEsIHBhZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaE1hbmdhSW5mbyA9IGFzeW5jIChtYW5nYUlkKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vJHttYW5nYUlkfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0OiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0LCAqLyo7IHE9MC4wMScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtY2gtdWEnOiAnXCJDaHJvbWl1bVwiO3Y9XCIxMjJcIiwgXCJOb3QoQTpCcmFuZFwiO3Y9XCIyNFwiLCBcIkdvb2dsZSBDaHJvbWVcIjt2PVwiMTIyXCInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICdcIldpbmRvd3NcIicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd4LXJlcXVlc3RlZC13aXRoJzogJ1hNTEh0dHBSZXF1ZXN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6IHRoaXMuYmFzZVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdSZWZlcnJlci1Qb2xpY3knOiAnc3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbicsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9tID0gJCgnaHRtbCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gZG9tLmZpbmQoJy5zZWN0aW9uLWhlYWRlci5tYi0yID4gLnNlY3Rpb24taGVhZGVyLXRpdGxlLm1lLWF1dG8gPiBoMicpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBkb20uZmluZCgnLm5vdmVscy1kZXRhaWwgPiAubm92ZWxzLWRldGFpbC1sZWZ0ID4gaW1nJykuYXR0cignc3JjJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWx0VGl0bGVzID0gZG9tXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcubm92ZWxzLWRldGFpbCA+IC5ub3ZlbHMtZGV0YWlsLXJpZ2h0ID4gdWwgPiBsaTpudGgtY2hpbGQoMSkgPiBkaXY6bnRoLWNoaWxkKDIpID4gc3BhbicpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gZG9tXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcubm92ZWxzLWRldGFpbCA+IC5ub3ZlbHMtZGV0YWlsLXJpZ2h0ID4gdWwgPiBsaTpudGgtY2hpbGQoMikgPiBkaXY6bnRoLWNoaWxkKDIpJylcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAudHJpbSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdlbnJlcyA9IGRvbVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnLm5vdmVscy1kZXRhaWwgPiAubm92ZWxzLWRldGFpbC1yaWdodCA+IHVsID4gbGk6bnRoLWNoaWxkKDMpID4gZGl2Om50aC1jaGlsZCgyKSA+IGEnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpbmRleCwgZWxlKSA9PiAkKGVsZSkudGV4dCgpLnRyaW0oKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBkb21cbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5ub3ZlbHMtZGV0YWlsID4gLm5vdmVscy1kZXRhaWwtcmlnaHQgPiB1bCA+IGxpOm50aC1jaGlsZCg0KSA+IGRpdjpudGgtY2hpbGQoMikgPiBzcGFuJylcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAudHJpbSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhdGluZyA9IGRvbVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnLm5vdmVscy1kZXRhaWwgPiAubm92ZWxzLWRldGFpbC1yaWdodCA+IHVsID4gbGk6bnRoLWNoaWxkKDUpID4gZGl2Om50aC1jaGlsZCgyKSA+IHNwYW4nKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC50cmltKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXV0aG9ycyA9IGRvbVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnLm5vdmVscy1kZXRhaWwgPiAubm92ZWxzLWRldGFpbC1yaWdodCA+IHVsID4gbGk6bnRoLWNoaWxkKDYpID4gZGl2Om50aC1jaGlsZCgyKSA+IGEnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpbmRleCwgZWxlKSA9PiAkKGVsZSkudGV4dCgpLnRyaW0oKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFydGlzdHMgPSBkb21cbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5ub3ZlbHMtZGV0YWlsID4gLm5vdmVscy1kZXRhaWwtcmlnaHQgPiB1bCA+IGxpOm50aC1jaGlsZCg3KSA+IGRpdjpudGgtY2hpbGQoMiknKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC50cmltKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgdmlld3MgPSBkb21cbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5ub3ZlbHMtZGV0YWlsID4gLm5vdmVscy1kZXRhaWwtcmlnaHQgPiB1bCA+IGxpOm50aC1jaGlsZCg4KSA+IGRpdjpudGgtY2hpbGQoMiknKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC50cmltKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb20uZmluZCgnLmNvbC1tZC0xMi5tYi0zID4gLmVtcHR5LWJveCA+IHAnKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhcHRlcnMgPSBkb21cbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2RpdiA+IC5jbS10YWJzLWNvbnRlbnQgPiB1bCA+IGxpID4gYScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGluZGV4LCBlbGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGluayB0byBjaGFwdGVyIGlzIG5vdCBhbHdheXMgYmFzZVVybCAtPiBpZCA9IGVudGlyZSBsaW5rXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXB0ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZWxlLmF0dHJpYnNbJ2hyZWYnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsZSkudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXB0ZXI7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9ycyxcbiAgICAgICAgICAgICAgICAgICAgZ2VucmVzLFxuICAgICAgICAgICAgICAgICAgICBjaGFwdGVycyxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG1hbmdhSWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgICAgICAgICBhbHRUaXRsZXMsXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLmdldFN0YXR1cyhzdGF0dXMpLFxuICAgICAgICAgICAgICAgICAgICByYXRpbmcsXG4gICAgICAgICAgICAgICAgICAgIGFydGlzdHMsXG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQ2hhcHRlclBhZ2VzID0gYXN5bmMgKGNoYXB0ZXJJZCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChjaGFwdGVySWQsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0OiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0LCAqLyo7IHE9MC4wMScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtY2gtdWEnOiAnXCJDaHJvbWl1bVwiO3Y9XCIxMjJcIiwgXCJOb3QoQTpCcmFuZFwiO3Y9XCIyNFwiLCBcIkdvb2dsZSBDaHJvbWVcIjt2PVwiMTIyXCInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICdcIldpbmRvd3NcIicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd4LXJlcXVlc3RlZC13aXRoJzogJ1hNTEh0dHBSZXF1ZXN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6IHRoaXMuYmFzZVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdSZWZlcnJlci1Qb2xpY3knOiAnc3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbicsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9tID0gJCgnaHRtbCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlU291cmNlcyA9IGRvbVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmNoYXB0ZXItZGV0YWlsLW5vdmVsLWJpZy1pbWFnZS50ZXh0LWNlbnRlciA+IGltZycpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGluZGV4LCBlbGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcHRlclBhZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWc6IGVsZS5hdHRyaWJzWydzcmMnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IGluZGV4ICsgMSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXB0ZXJQYWdlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW1hZ2VTb3VyY2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0UmFua2luZ1RpdGxlQ2FyZERhdGEgPSAodGV4dCwgcGFnZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkodGV4dCk7XG4gICAgICAgICAgICBjb25zdCBkb20gPSAkKCdodG1sJyk7XG4gICAgICAgICAgICBjb25zdCB0aXRsZXMgPSBkb21cbiAgICAgICAgICAgICAgICAuZmluZCgnLmNhdGVnb3J5LWl0ZW1zLnJhbmtpbmctY2F0ZWdvcnkuY20tbGlzdCA+IHVsID4gbGknKVxuICAgICAgICAgICAgICAgIC5tYXAoKGluZGV4LCBlbGUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbGUpLmZpbmQoJy5jYXRlZ29yeS1uYW1lID4gYScpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIGlkOiAkKGVsZSkuZmluZCgnZGl2ID4gYScpLmF0dHIoJ2hyZWYnKS5yZXBsYWNlKCcvJywgJycpLFxuICAgICAgICAgICAgICAgICAgICBpbWc6ICQoZWxlKS5maW5kKCdkaXY6bnRoLWNoaWxkKDIpID4gZGl2ID4gYSA+IGltZycpLmF0dHIoJ3NyYycpLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJChlbGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnZGl2Om50aC1jaGlsZCgyKSA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXYgPiBhID4gc3BhbicpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJ1xcbicpXG4gICAgICAgICAgICAgICAgICAgICAgICAuam9pbignICcpXG4gICAgICAgICAgICAgICAgICAgICAgICAudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRoaXMuZ2V0U3RhdHVzKCQoZWxlKS5maW5kKCdkaXY6bnRoLWNoaWxkKDIpID4gZGl2Om50aC1jaGlsZCgyKSA+IHVsID4gbGk6bnRoLWNoaWxkKDEpID4gc3BhbicpLnRleHQoKS50cmltKCkpLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiAkKGVsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCdkaXY6bnRoLWNoaWxkKDIpID4gZGl2Om50aC1jaGlsZCgyKSA+IHVsID4gbGk6bnRoLWNoaWxkKDIpID4gYScpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKChpbmRleCwgc3RyKSA9PiAkKHN0cikudGV4dCgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldCgpLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAkKGVsZSkuZmluZCgnZGl2Om50aC1jaGlsZCgyKSA+IGRpdjpudGgtY2hpbGQoMikgPiB1bCA+IGxpOm50aC1jaGlsZCgzKSA+IHNwYW4nKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiBwYXJzZUludCgkKGVsZSkuZmluZCgnZGl2Om50aC1jaGlsZCgyKSA+IGRpdjpudGgtY2hpbGQoMikgPiB1bCA+IGxpOm50aC1jaGlsZCg0KSA+IHNwYW4nKS50ZXh0KCkpLFxuICAgICAgICAgICAgICAgICAgICByYXRlOiBwYXJzZUludCgkKGVsZSkuZmluZCgnZGl2Om50aC1jaGlsZCgyKSA+IGRpdjpudGgtY2hpbGQoMikgPiB1bCA+IGxpOm50aC1jaGlsZCg1KSA+IHNwYW4nKS50ZXh0KCkpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBkb20uZmluZCgnbmF2LmNtLXBhZ2luYXRpb24gPiBhOmxhc3QtY2hpbGQnKS5hdHRyKCdocmVmJykgPT09ICcjJ1xuICAgICAgICAgICAgICAgID8gcGFnZVxuICAgICAgICAgICAgICAgIDogdGhpcy5nZXRUb3RhbFBhZ2VzKGRvbS5maW5kKCduYXYuY20tcGFnaW5hdGlvbiA+IGE6bGFzdC1jaGlsZCcpLmF0dHIoJ2hyZWYnKSwgJy8nKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICByZXN1bHRzOiB0aXRsZXMsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgdG90YWxQYWdlczogdG90YWxQYWdlcyxcbiAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogIShkb20uZmluZCgnbmF2LmNtLXBhZ2luYXRpb24gPiBhOmxhc3QtY2hpbGQnKS5hdHRyKCdocmVmJykgPT09ICcjJyksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRUb3RhbFBhZ2VzID0gKHN0ciwgc3BsaXRPbikgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3BsaXQgPSBzdHIuc3BsaXQoc3BsaXRPbik7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoc3BsaXRbc3BsaXQubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZvcm1hdFNlYXJjaFJlc3VsdERhdGEgPSAocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkUmVzdWx0cyA9IHJlc3VsdHMubWFwKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3BsaXQgPSByZXN1bHQubGluay5zcGxpdCgnLycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gc3BsaXRbc3BsaXQubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogcmVzdWx0Lm9yaWdpbmFsX3RpdGxlLFxuICAgICAgICAgICAgICAgICAgICBhbHRUaXRsZXM6IHJlc3VsdC5vdmVydmlldyxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IHJlc3VsdC5pbWFnZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkUmVzdWx0cztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRTdGF0dXMgPSAoc3RhdHVzU3RyKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKHN0YXR1c1N0cikge1xuICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ0FOQ0VMTEVEOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ0FOQ0VMTEVEO1xuICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEO1xuICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuTWVkaWFTdGF0dXMuSElBVFVTOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxzXzEuTWVkaWFTdGF0dXMuSElBVFVTO1xuICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuTWVkaWFTdGF0dXMuTk9UX1lFVF9BSVJFRDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsc18xLk1lZGlhU3RhdHVzLk5PVF9ZRVRfQUlSRUQ7XG4gICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lORztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxzXzEuTWVkaWFTdGF0dXMuVU5LTk9XTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBSZWFkTWFuZ2E7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFkbWFuZ2EuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/readmanga.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/vyvymanga.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/manga/vyvymanga.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nclass VyvyManga extends models_1.MangaParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'Vyvymanga';\n        this.baseUrl = 'https://vyvymanga.net/api';\n        this.logo = 'https://vyvymanga.net/web/img/icon.png';\n        this.classPath = 'MANGA.VyvyManga';\n        this.baseWebsiteUrl = 'https://vyvymanga.net';\n        this.search = async (query, page = 1) => {\n            if (page < 1)\n                throw new Error('page must be equal to 1 or greater');\n            try {\n                const formattedQuery = query.trim().toLowerCase().split(' ').join('+');\n                const { data } = await this.client.get(`${this.baseWebsiteUrl}/search?search_po=0&q=${formattedQuery}&page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                const dom = $('html');\n                const result = dom\n                    .find('.row.book-list > div > div > a')\n                    .map((index, ele) => {\n                    return {\n                        id: $(ele).find('div.comic-image').attr('data-background-image')\n                            .split('cover/')[1]\n                            .split('/')[0],\n                        title: $(ele).find('div.comic-title').text().trim(),\n                        image: $(ele).find('div.comic-image').attr('data-background-image'),\n                        lastChapter: $(ele).find('div.comic-image > span').text().trim(),\n                    };\n                })\n                    .get();\n                const pagination = dom.find('ul.pagination > li');\n                if (!pagination.length) {\n                    return {\n                        currentPage: page,\n                        hasNextPage: false,\n                        totalPages: page,\n                        results: result,\n                    };\n                }\n                const lastPage = parseInt($(pagination[pagination.length - 2])\n                    .find('a')\n                    .text()\n                    .trim());\n                return {\n                    currentPage: page,\n                    hasNextPage: page === lastPage ? false : true,\n                    totalPages: lastPage,\n                    results: result,\n                };\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.searchApi = async (query) => {\n            try {\n                const formattedQuery = query.toLowerCase().split(' ').join('%20');\n                const { data } = await this.client.request({\n                    method: 'get',\n                    url: `${this.baseUrl}/manga/search?search=${formattedQuery}&uid=`,\n                    headers: {\n                        Accept: 'application/json, text/javascript, */*; q=0.01',\n                        Referer: `${this.baseWebsiteUrl}/`,\n                    },\n                });\n                const result = {\n                    currentPage: 1,\n                    hasNextPage: false,\n                    totalPages: 1,\n                    totalResults: data.result.length,\n                    results: this.formatSearchResultData(data.result),\n                };\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchMangaInfo = async (mangaId) => {\n            try {\n                const { data } = await this.client.request({\n                    method: 'get',\n                    url: `${this.baseUrl}/manga-detail/${mangaId}?userid=`,\n                    headers: {\n                        Accept: 'application/json, text/javascript, */*; q=0.01',\n                        Referer: `${this.baseWebsiteUrl}/`,\n                    },\n                });\n                const $ = (0, cheerio_1.load)(data);\n                const dom = $('html');\n                const title = dom.find('.img-manga').attr('title');\n                const img = dom.find('.img-manga').attr('src');\n                const authors = $(dom.find('.col-md-7 > p:nth-child(2) > a'))\n                    .map((index, ele) => $(ele).text().trim())\n                    .get();\n                const status = $(dom.find('div.col-md-7 > p')[1])\n                    .find('span:nth-child(3)')\n                    .text()\n                    .trim();\n                const genres = $(dom.find('div.col-md-7 > p')[2])\n                    .find('a')\n                    .map((index, ele) => $(ele).text().trim())\n                    .get();\n                const description = dom.find('.summary > .content').text().trim();\n                const chapters = dom\n                    .find('.list-group > a')\n                    .map((index, ele) => {\n                    const releaseDate = $(ele).find('p').text().trim();\n                    const title = $(ele).text().replace(releaseDate, '').trim();\n                    const chapterObj = {\n                        id: $(ele).attr('href'),\n                        title: title,\n                        releaseDate: releaseDate,\n                    };\n                    return chapterObj;\n                })\n                    .get()\n                    .reverse();\n                const mangaInfo = {\n                    id: mangaId,\n                    title,\n                    img,\n                    authors,\n                    status,\n                    genres,\n                    description,\n                    chapters,\n                };\n                return mangaInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchChapterPages = async (chapterId) => {\n            try {\n                const { data } = await this.client.get(chapterId);\n                const $ = (0, cheerio_1.load)(data);\n                const dom = $('html');\n                const images = dom\n                    .find('.vview.carousel-inner > div > img')\n                    .map((index, ele) => {\n                    return {\n                        img: $(ele).attr('data-src').slice(0, -5),\n                        page: index + 1,\n                    };\n                })\n                    .get();\n                return images;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.formatSearchResultData = (searchResultData) => {\n            return searchResultData.map(ele => {\n                return {\n                    id: `${ele.id}`,\n                    title: ele.name,\n                    altTitles: ele.title\n                        .split(',')\n                        .filter(ele => ele.length)\n                        .map(ele => ele.trim()),\n                    description: ele.description,\n                    image: ele.thumbnail,\n                    status: ele.completed === 1 ? models_1.MediaStatus.COMPLETED : models_1.MediaStatus.ONGOING,\n                    score: ele.scored,\n                    views: ele.viewed,\n                    votes: ele.voted,\n                    latestChapterId: ele.latest_chapter_id,\n                    lastChapter: ele.lastChapter,\n                };\n            });\n        };\n    }\n}\nexports[\"default\"] = VyvyManga;\n//# sourceMappingURL=vyvymanga.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWFuZ2Evdnl2eW1hbmdhLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDLGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLG9CQUFvQix3QkFBd0IsZUFBZSxRQUFRLEtBQUs7QUFDbEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBLDRCQUE0QixhQUFhLHVCQUF1QixlQUFlO0FBQy9FO0FBQ0EseUVBQXlFO0FBQ3pFLG9DQUFvQyxvQkFBb0I7QUFDeEQscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBLDRCQUE0QixhQUFhLGdCQUFnQixRQUFRO0FBQ2pFO0FBQ0EseUVBQXlFO0FBQ3pFLG9DQUFvQyxvQkFBb0I7QUFDeEQscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixPQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxtYW5nYVxcdnl2eW1hbmdhLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY29uc3QgY2hlZXJpb18xID0gcmVxdWlyZShcImNoZWVyaW9cIik7XG5jbGFzcyBWeXZ5TWFuZ2EgZXh0ZW5kcyBtb2RlbHNfMS5NYW5nYVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdWeXZ5bWFuZ2EnO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly92eXZ5bWFuZ2EubmV0L2FwaSc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL3Z5dnltYW5nYS5uZXQvd2ViL2ltZy9pY29uLnBuZyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ01BTkdBLlZ5dnlNYW5nYSc7XG4gICAgICAgIHRoaXMuYmFzZVdlYnNpdGVVcmwgPSAnaHR0cHM6Ly92eXZ5bWFuZ2EubmV0JztcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocXVlcnksIHBhZ2UgPSAxKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFnZSA8IDEpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYWdlIG11c3QgYmUgZXF1YWwgdG8gMSBvciBncmVhdGVyJyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZFF1ZXJ5ID0gcXVlcnkudHJpbSgpLnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAnKS5qb2luKCcrJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlV2Vic2l0ZVVybH0vc2VhcmNoP3NlYXJjaF9wbz0wJnE9JHtmb3JtYXR0ZWRRdWVyeX0mcGFnZT0ke3BhZ2V9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9tID0gJCgnaHRtbCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRvbVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnLnJvdy5ib29rLWxpc3QgPiBkaXYgPiBkaXYgPiBhJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaW5kZXgsIGVsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICQoZWxlKS5maW5kKCdkaXYuY29taWMtaW1hZ2UnKS5hdHRyKCdkYXRhLWJhY2tncm91bmQtaW1hZ2UnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnY292ZXIvJylbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJy8nKVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsZSkuZmluZCgnZGl2LmNvbWljLXRpdGxlJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsZSkuZmluZCgnZGl2LmNvbWljLWltYWdlJykuYXR0cignZGF0YS1iYWNrZ3JvdW5kLWltYWdlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2hhcHRlcjogJChlbGUpLmZpbmQoJ2Rpdi5jb21pYy1pbWFnZSA+IHNwYW4nKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWdpbmF0aW9uID0gZG9tLmZpbmQoJ3VsLnBhZ2luYXRpb24gPiBsaScpO1xuICAgICAgICAgICAgICAgIGlmICghcGFnaW5hdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxQYWdlczogcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFBhZ2UgPSBwYXJzZUludCgkKHBhZ2luYXRpb25bcGFnaW5hdGlvbi5sZW5ndGggLSAyXSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2EnKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC50cmltKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogcGFnZSA9PT0gbGFzdFBhZ2UgPyBmYWxzZSA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUGFnZXM6IGxhc3RQYWdlLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiByZXN1bHQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlYXJjaEFwaSA9IGFzeW5jIChxdWVyeSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRRdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAnKS5qb2luKCclMjAnKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0vbWFuZ2Evc2VhcmNoP3NlYXJjaD0ke2Zvcm1hdHRlZFF1ZXJ5fSZ1aWQ9YCxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0LCAqLyo7IHE9MC4wMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWZlcmVyOiBgJHt0aGlzLmJhc2VXZWJzaXRlVXJsfS9gLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxQYWdlczogMSxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxSZXN1bHRzOiBkYXRhLnJlc3VsdC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IHRoaXMuZm9ybWF0U2VhcmNoUmVzdWx0RGF0YShkYXRhLnJlc3VsdCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hNYW5nYUluZm8gPSBhc3luYyAobWFuZ2FJZCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0vbWFuZ2EtZGV0YWlsLyR7bWFuZ2FJZH0/dXNlcmlkPWAsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCwgKi8qOyBxPTAuMDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogYCR7dGhpcy5iYXNlV2Vic2l0ZVVybH0vYCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb20gPSAkKCdodG1sJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBkb20uZmluZCgnLmltZy1tYW5nYScpLmF0dHIoJ3RpdGxlJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZG9tLmZpbmQoJy5pbWctbWFuZ2EnKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRob3JzID0gJChkb20uZmluZCgnLmNvbC1tZC03ID4gcDpudGgtY2hpbGQoMikgPiBhJykpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGluZGV4LCBlbGUpID0+ICQoZWxlKS50ZXh0KCkudHJpbSgpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gJChkb20uZmluZCgnZGl2LmNvbC1tZC03ID4gcCcpWzFdKVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnc3BhbjpudGgtY2hpbGQoMyknKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC50cmltKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2VucmVzID0gJChkb20uZmluZCgnZGl2LmNvbC1tZC03ID4gcCcpWzJdKVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnYScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGluZGV4LCBlbGUpID0+ICQoZWxlKS50ZXh0KCkudHJpbSgpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb20uZmluZCgnLnN1bW1hcnkgPiAuY29udGVudCcpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhcHRlcnMgPSBkb21cbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5saXN0LWdyb3VwID4gYScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGluZGV4LCBlbGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsZWFzZURhdGUgPSAkKGVsZSkuZmluZCgncCcpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gJChlbGUpLnRleHQoKS5yZXBsYWNlKHJlbGVhc2VEYXRlLCAnJykudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFwdGVyT2JqID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICQoZWxlKS5hdHRyKCdocmVmJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogcmVsZWFzZURhdGUsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFwdGVyT2JqO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKVxuICAgICAgICAgICAgICAgICAgICAucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hbmdhSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG1hbmdhSWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgICAgICAgICBpbWcsXG4gICAgICAgICAgICAgICAgICAgIGF1dGhvcnMsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgZ2VucmVzLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgY2hhcHRlcnMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFuZ2FJbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hDaGFwdGVyUGFnZXMgPSBhc3luYyAoY2hhcHRlcklkKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGNoYXB0ZXJJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9tID0gJCgnaHRtbCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlcyA9IGRvbVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnLnZ2aWV3LmNhcm91c2VsLWlubmVyID4gZGl2ID4gaW1nJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaW5kZXgsIGVsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nOiAkKGVsZSkuYXR0cignZGF0YS1zcmMnKS5zbGljZSgwLCAtNSksXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBpbmRleCArIDEsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mb3JtYXRTZWFyY2hSZXN1bHREYXRhID0gKHNlYXJjaFJlc3VsdERhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBzZWFyY2hSZXN1bHREYXRhLm1hcChlbGUgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBgJHtlbGUuaWR9YCxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGVsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBhbHRUaXRsZXM6IGVsZS50aXRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCcsJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZWxlID0+IGVsZS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGVsZSA9PiBlbGUudHJpbSgpKSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGVsZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGVsZS50aHVtYm5haWwsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogZWxlLmNvbXBsZXRlZCA9PT0gMSA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRCA6IG1vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkcsXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlOiBlbGUuc2NvcmVkLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czogZWxlLnZpZXdlZCxcbiAgICAgICAgICAgICAgICAgICAgdm90ZXM6IGVsZS52b3RlZCxcbiAgICAgICAgICAgICAgICAgICAgbGF0ZXN0Q2hhcHRlcklkOiBlbGUubGF0ZXN0X2NoYXB0ZXJfaWQsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RDaGFwdGVyOiBlbGUubGFzdENoYXB0ZXIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFZ5dnlNYW5nYTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZ5dnltYW5nYS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/vyvymanga.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/meta/anilist.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/meta/anilist.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst axios_1 = __importDefault(__webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/dist/node/axios.cjs\"));\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nconst gogoanime_1 = __importDefault(__webpack_require__(/*! ../../providers/anime/gogoanime */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/gogoanime.js\"));\nconst anify_1 = __importDefault(__webpack_require__(/*! ../anime/anify */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/anify.js\"));\nconst zoro_1 = __importDefault(__webpack_require__(/*! ../anime/zoro */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/zoro.js\"));\nconst mangasee123_1 = __importDefault(__webpack_require__(/*! ../manga/mangasee123 */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/manga/mangasee123.js\"));\nconst crunchyroll_1 = __importDefault(__webpack_require__(/*! ../anime/crunchyroll */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/crunchyroll.js\"));\nconst bilibili_1 = __importDefault(__webpack_require__(/*! ../anime/bilibili */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/bilibili.js\"));\nconst _9anime_1 = __importDefault(__webpack_require__(/*! ../anime/9anime */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/9anime.js\"));\nconst utils_2 = __webpack_require__(/*! ../../utils/utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/utils.js\");\nclass Anilist extends models_1.AnimeParser {\n    /**\n     * This class maps anilist to kitsu with any other anime provider.\n     * kitsu is used for episode images, titles and description.\n     * @param provider anime provider (optional) default: Gogoanime\n     * @param proxyConfig proxy config (optional)\n     * @param adapter axios adapter (optional)\n     */\n    constructor(provider, proxyConfig, adapter, customBaseURL) {\n        super(proxyConfig, adapter);\n        this.proxyConfig = proxyConfig;\n        this.name = 'Anilist';\n        this.baseUrl = 'https://anilist.co';\n        this.logo = 'https://upload.wikimedia.org/wikipedia/commons/6/61/AniList_logo.svg';\n        this.classPath = 'META.Anilist';\n        this.anilistGraphqlUrl = 'https://graphql.anilist.co';\n        this.kitsuGraphqlUrl = 'https://kitsu.io/api/graphql';\n        this.malSyncUrl = 'https://api.malsync.moe';\n        this.anifyUrl = utils_2.ANIFY_URL;\n        /**\n         * @param query Search query\n         * @param page Page number (optional)\n         * @param perPage Number of results per page (optional) (default: 15) (max: 50)\n         */\n        this.search = async (query, page = 1, perPage = 15) => {\n            var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\n            const options = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n                query: (0, utils_1.anilistSearchQuery)(query, page, perPage),\n            };\n            try {\n                let { data, status } = await this.client.post(this.anilistGraphqlUrl, options, {\n                    validateStatus: () => true,\n                });\n                if (status >= 500 || status == 429)\n                    data = await new anify_1.default().rawSearch(query, page);\n                const res = {\n                    currentPage: (_d = (_c = (_b = data.data.Page) === null || _b === void 0 ? void 0 : _b.pageInfo) === null || _c === void 0 ? void 0 : _c.currentPage) !== null && _d !== void 0 ? _d : (_e = data.meta) === null || _e === void 0 ? void 0 : _e.currentPage,\n                    hasNextPage: (_h = (_g = (_f = data.data.Page) === null || _f === void 0 ? void 0 : _f.pageInfo) === null || _g === void 0 ? void 0 : _g.hasNextPage) !== null && _h !== void 0 ? _h : ((_j = data.meta) === null || _j === void 0 ? void 0 : _j.currentPage) != ((_k = data.meta) === null || _k === void 0 ? void 0 : _k.lastPage),\n                    results: (_p = (_o = (_m = (_l = data.data) === null || _l === void 0 ? void 0 : _l.Page) === null || _m === void 0 ? void 0 : _m.media) === null || _o === void 0 ? void 0 : _o.map((item) => {\n                        var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\n                        return ({\n                            id: item.id.toString(),\n                            malId: item.idMal,\n                            title: item.title\n                                ? {\n                                    romaji: item.title.romaji,\n                                    english: item.title.english,\n                                    native: item.title.native,\n                                    userPreferred: item.title.userPreferred,\n                                }\n                                : item.title.romaji,\n                            status: item.status == 'RELEASING'\n                                ? models_1.MediaStatus.ONGOING\n                                : item.status == 'FINISHED'\n                                    ? models_1.MediaStatus.COMPLETED\n                                    : item.status == 'NOT_YET_RELEASED'\n                                        ? models_1.MediaStatus.NOT_YET_AIRED\n                                        : item.status == 'CANCELLED'\n                                            ? models_1.MediaStatus.CANCELLED\n                                            : item.status == 'HIATUS'\n                                                ? models_1.MediaStatus.HIATUS\n                                                : models_1.MediaStatus.UNKNOWN,\n                            image: (_e = (_c = (_b = item.coverImage) === null || _b === void 0 ? void 0 : _b.extraLarge) !== null && _c !== void 0 ? _c : (_d = item.coverImage) === null || _d === void 0 ? void 0 : _d.large) !== null && _e !== void 0 ? _e : (_f = item.coverImage) === null || _f === void 0 ? void 0 : _f.medium,\n                            imageHash: (0, utils_2.getHashFromImage)((_k = (_h = (_g = item.coverImage) === null || _g === void 0 ? void 0 : _g.extraLarge) !== null && _h !== void 0 ? _h : (_j = item.coverImage) === null || _j === void 0 ? void 0 : _j.large) !== null && _k !== void 0 ? _k : (_l = item.coverImage) === null || _l === void 0 ? void 0 : _l.medium),\n                            cover: item.bannerImage,\n                            coverHash: (0, utils_2.getHashFromImage)(item.bannerImage),\n                            popularity: item.popularity,\n                            description: item.description,\n                            rating: item.averageScore,\n                            genres: item.genres,\n                            color: (_m = item.coverImage) === null || _m === void 0 ? void 0 : _m.color,\n                            totalEpisodes: (_o = item.episodes) !== null && _o !== void 0 ? _o : ((_p = item.nextAiringEpisode) === null || _p === void 0 ? void 0 : _p.episode) - 1,\n                            currentEpisodeCount: (item === null || item === void 0 ? void 0 : item.nextAiringEpisode)\n                                ? ((_q = item === null || item === void 0 ? void 0 : item.nextAiringEpisode) === null || _q === void 0 ? void 0 : _q.episode) - 1\n                                : item.episodes,\n                            type: item.format,\n                            releaseDate: item.seasonYear,\n                        });\n                    })) !== null && _p !== void 0 ? _p : data.data.map((item) => {\n                        var _b, _c, _d;\n                        return ({\n                            id: item.anilistId.toString(),\n                            malId: item.mappings['mal'],\n                            title: item.title,\n                            status: item.status == 'RELEASING'\n                                ? models_1.MediaStatus.ONGOING\n                                : item.status == 'FINISHED'\n                                    ? models_1.MediaStatus.COMPLETED\n                                    : item.status == 'NOT_YET_RELEASED'\n                                        ? models_1.MediaStatus.NOT_YET_AIRED\n                                        : item.status == 'CANCELLED'\n                                            ? models_1.MediaStatus.CANCELLED\n                                            : item.status == 'HIATUS'\n                                                ? models_1.MediaStatus.HIATUS\n                                                : models_1.MediaStatus.UNKNOWN,\n                            image: (_b = item.coverImage) !== null && _b !== void 0 ? _b : item.bannerImage,\n                            imageHash: (0, utils_2.getHashFromImage)((_c = item.coverImage) !== null && _c !== void 0 ? _c : item.bannerImage),\n                            cover: item.bannerImage,\n                            coverHash: (0, utils_2.getHashFromImage)(item.bannerImage),\n                            popularity: item.popularity,\n                            description: item.description,\n                            rating: item.averageScore,\n                            genres: item.genre,\n                            color: item.color,\n                            totalEpisodes: item.currentEpisode,\n                            currentEpisodeCount: (item === null || item === void 0 ? void 0 : item.nextAiringEpisode)\n                                ? ((_d = item === null || item === void 0 ? void 0 : item.nextAiringEpisode) === null || _d === void 0 ? void 0 : _d.episode) - 1\n                                : item.currentEpisode,\n                            type: item.format,\n                            releaseDate: item.year,\n                        });\n                    }),\n                };\n                return res;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param query Search query (optional)\n         * @param type Media type (optional) (default: `ANIME`) (options: `ANIME`, `MANGA`)\n         * @param page Page number (optional)\n         * @param perPage Number of results per page (optional) (default: `20`) (max: `50`)\n         * @param format Format (optional) (options: `TV`, `TV_SHORT`, `MOVIE`, `SPECIAL`, `OVA`, `ONA`, `MUSIC`)\n         * @param sort Sort (optional) (Default: `[POPULARITY_DESC, SCORE_DESC]`) (options: `POPULARITY_DESC`, `POPULARITY`, `TRENDING_DESC`, `TRENDING`, `UPDATED_AT_DESC`, `UPDATED_AT`, `START_DATE_DESC`, `START_DATE`, `END_DATE_DESC`, `END_DATE`, `FAVOURITES_DESC`, `FAVOURITES`, `SCORE_DESC`, `SCORE`, `TITLE_ROMAJI_DESC`, `TITLE_ROMAJI`, `TITLE_ENGLISH_DESC`, `TITLE_ENGLISH`, `TITLE_NATIVE_DESC`, `TITLE_NATIVE`, `EPISODES_DESC`, `EPISODES`, `ID`, `ID_DESC`)\n         * @param genres Genres (optional) (options: `Action`, `Adventure`, `Cars`, `Comedy`, `Drama`, `Fantasy`, `Horror`, `Mahou Shoujo`, `Mecha`, `Music`, `Mystery`, `Psychological`, `Romance`, `Sci-Fi`, `Slice of Life`, `Sports`, `Supernatural`, `Thriller`)\n         * @param id anilist Id (optional)\n         * @param year Year (optional) e.g. `2022`\n         * @param status Status (optional) (options: `RELEASING`, `FINISHED`, `NOT_YET_RELEASED`, `CANCELLED`, `HIATUS`)\n         * @param season Season (optional) (options: `WINTER`, `SPRING`, `SUMMER`, `FALL`)\n         */\n        this.advancedSearch = async (query, type = 'ANIME', page = 1, perPage = 20, format, sort, genres, id, year, status, season) => {\n            var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y;\n            const options = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n                query: (0, utils_1.anilistAdvancedQuery)(),\n                variables: {\n                    search: query,\n                    type: type,\n                    page: page,\n                    size: perPage,\n                    format: format,\n                    sort: sort,\n                    genres: genres,\n                    id: id,\n                    year: year ? `${year}%` : undefined,\n                    status: status,\n                    season: season,\n                },\n            };\n            if (genres) {\n                genres.forEach(genre => {\n                    if (!Object.values(models_1.Genres).includes(genre)) {\n                        throw new Error(`genre ${genre} is not valid`);\n                    }\n                });\n            }\n            try {\n                let { data, status } = await this.client.post(this.anilistGraphqlUrl, options, {\n                    validateStatus: () => true,\n                });\n                if (status >= 500 && !query)\n                    throw new Error('No results found');\n                if (status >= 500)\n                    data = await new anify_1.default().rawSearch(query, page);\n                const res = {\n                    currentPage: (_e = (_d = (_c = (_b = data.data) === null || _b === void 0 ? void 0 : _b.Page) === null || _c === void 0 ? void 0 : _c.pageInfo) === null || _d === void 0 ? void 0 : _d.currentPage) !== null && _e !== void 0 ? _e : (_f = data.meta) === null || _f === void 0 ? void 0 : _f.currentPage,\n                    hasNextPage: (_k = (_j = (_h = (_g = data.data) === null || _g === void 0 ? void 0 : _g.Page) === null || _h === void 0 ? void 0 : _h.pageInfo) === null || _j === void 0 ? void 0 : _j.hasNextPage) !== null && _k !== void 0 ? _k : ((_l = data.meta) === null || _l === void 0 ? void 0 : _l.currentPage) != ((_m = data.meta) === null || _m === void 0 ? void 0 : _m.lastPage),\n                    totalPages: (_q = (_p = (_o = data.data) === null || _o === void 0 ? void 0 : _o.Page) === null || _p === void 0 ? void 0 : _p.pageInfo) === null || _q === void 0 ? void 0 : _q.lastPage,\n                    totalResults: (_t = (_s = (_r = data.data) === null || _r === void 0 ? void 0 : _r.Page) === null || _s === void 0 ? void 0 : _s.pageInfo) === null || _t === void 0 ? void 0 : _t.total,\n                    results: [],\n                };\n                res.results.push(...((_x = (_w = (_v = (_u = data.data) === null || _u === void 0 ? void 0 : _u.Page) === null || _v === void 0 ? void 0 : _v.media) === null || _w === void 0 ? void 0 : _w.map((item) => {\n                    var _b, _c, _d, _e, _f, _g, _h, _j;\n                    return ({\n                        id: item.id.toString(),\n                        malId: item.idMal,\n                        title: item.title\n                            ? {\n                                romaji: item.title.romaji,\n                                english: item.title.english,\n                                native: item.title.native,\n                                userPreferred: item.title.userPreferred,\n                            }\n                            : item.title.romaji,\n                        status: item.status == 'RELEASING'\n                            ? models_1.MediaStatus.ONGOING\n                            : item.status == 'FINISHED'\n                                ? models_1.MediaStatus.COMPLETED\n                                : item.status == 'NOT_YET_RELEASED'\n                                    ? models_1.MediaStatus.NOT_YET_AIRED\n                                    : item.status == 'CANCELLED'\n                                        ? models_1.MediaStatus.CANCELLED\n                                        : item.status == 'HIATUS'\n                                            ? models_1.MediaStatus.HIATUS\n                                            : models_1.MediaStatus.UNKNOWN,\n                        image: (_c = (_b = item.coverImage.extraLarge) !== null && _b !== void 0 ? _b : item.coverImage.large) !== null && _c !== void 0 ? _c : item.coverImage.medium,\n                        imageHash: (0, utils_2.getHashFromImage)((_e = (_d = item.coverImage.extraLarge) !== null && _d !== void 0 ? _d : item.coverImage.large) !== null && _e !== void 0 ? _e : item.coverImage.medium),\n                        cover: item.bannerImage,\n                        coverHash: (0, utils_2.getHashFromImage)(item.bannerImage),\n                        popularity: item.popularity,\n                        totalEpisodes: (_f = item.episodes) !== null && _f !== void 0 ? _f : ((_g = item.nextAiringEpisode) === null || _g === void 0 ? void 0 : _g.episode) - 1,\n                        currentEpisode: ((_h = item.nextAiringEpisode) === null || _h === void 0 ? void 0 : _h.episode) - 1 || item.episodes,\n                        countryOfOrigin: item.countryOfOrigin,\n                        description: item.description,\n                        genres: item.genres,\n                        rating: item.averageScore,\n                        color: (_j = item.coverImage) === null || _j === void 0 ? void 0 : _j.color,\n                        type: item.format,\n                        releaseDate: item.seasonYear,\n                    });\n                })) !== null && _x !== void 0 ? _x : (_y = data.data) === null || _y === void 0 ? void 0 : _y.map((item) => {\n                    var _b, _c;\n                    return ({\n                        id: item.anilistId.toString(),\n                        malId: item.mappings['mal'],\n                        title: item.title,\n                        status: item.status == 'RELEASING'\n                            ? models_1.MediaStatus.ONGOING\n                            : item.status == 'FINISHED'\n                                ? models_1.MediaStatus.COMPLETED\n                                : item.status == 'NOT_YET_RELEASED'\n                                    ? models_1.MediaStatus.NOT_YET_AIRED\n                                    : item.status == 'CANCELLED'\n                                        ? models_1.MediaStatus.CANCELLED\n                                        : item.status == 'HIATUS'\n                                            ? models_1.MediaStatus.HIATUS\n                                            : models_1.MediaStatus.UNKNOWN,\n                        image: (_b = item.coverImage) !== null && _b !== void 0 ? _b : item.bannerImage,\n                        imageHash: (0, utils_2.getHashFromImage)((_c = item.coverImage) !== null && _c !== void 0 ? _c : item.bannerImage),\n                        cover: item.bannerImage,\n                        coverHash: (0, utils_2.getHashFromImage)(item.bannerImage),\n                        popularity: item.popularity,\n                        description: item.description,\n                        rating: item.averageScore,\n                        genres: item.genre,\n                        color: item.color,\n                        totalEpisodes: item.currentEpisode,\n                        type: item.format,\n                        releaseDate: item.year,\n                    });\n                })));\n                return res;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param id Anime id\n         * @param dub to get dubbed episodes (optional) set to `true` to get dubbed episodes. **ONLY WORKS FOR GOGOANIME**\n         * @param fetchFiller to get filler boolean on the episode object (optional) set to `true` to get filler boolean on the episode object.\n         */\n        this.fetchAnimeInfo = async (id, dub = false, fetchFiller = false) => {\n            var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31, _32, _33, _34, _35, _36, _37, _38, _39, _40, _41, _42, _43, _44, _45, _46, _47, _48, _49, _50, _51, _52, _53, _54, _55, _56, _57, _58, _59, _60, _61, _62, _63, _64, _65, _66, _67, _68, _69, _70, _71, _72, _73, _74, _75, _76, _77, _78, _79, _80, _81, _82;\n            const animeInfo = {\n                id: id,\n                title: '',\n            };\n            const options = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n                query: (0, utils_1.anilistMediaDetailQuery)(id),\n            };\n            let fillerEpisodes;\n            try {\n                let { data, status } = await this.client.post(this.anilistGraphqlUrl, options, {\n                    validateStatus: () => true,\n                });\n                if (status == 404)\n                    throw new Error('Media not found. Perhaps the id is invalid or the anime is not in anilist');\n                if (status == 429)\n                    throw new Error('You have been ratelimited by anilist. Please try again later');\n                // if (status >= 500) throw new Error('Anilist seems to be down. Please try again later');\n                if (status != 200 && status < 429)\n                    throw Error('Media not found. If the problem persists, please contact the developer');\n                if (status >= 500)\n                    data = await new anify_1.default().fetchAnimeInfoByIdRaw(id);\n                animeInfo.malId = (_d = (_c = (_b = data.data) === null || _b === void 0 ? void 0 : _b.Media) === null || _c === void 0 ? void 0 : _c.idMal) !== null && _d !== void 0 ? _d : (_e = data === null || data === void 0 ? void 0 : data.mappings) === null || _e === void 0 ? void 0 : _e.mal;\n                animeInfo.title = data.data.Media\n                    ? {\n                        romaji: data.data.Media.title.romaji,\n                        english: data.data.Media.title.english,\n                        native: data.data.Media.title.native,\n                        userPreferred: data.data.Media.title.userPreferred,\n                    }\n                    : data.data.title;\n                animeInfo.synonyms = (_h = (_g = (_f = data.data) === null || _f === void 0 ? void 0 : _f.Media) === null || _g === void 0 ? void 0 : _g.synonyms) !== null && _h !== void 0 ? _h : data === null || data === void 0 ? void 0 : data.synonyms;\n                animeInfo.isLicensed = (_l = (_k = (_j = data.data) === null || _j === void 0 ? void 0 : _j.Media) === null || _k === void 0 ? void 0 : _k.isLicensed) !== null && _l !== void 0 ? _l : undefined;\n                animeInfo.isAdult = (_p = (_o = (_m = data.data) === null || _m === void 0 ? void 0 : _m.Media) === null || _o === void 0 ? void 0 : _o.isAdult) !== null && _p !== void 0 ? _p : undefined;\n                animeInfo.countryOfOrigin = (_s = (_r = (_q = data.data) === null || _q === void 0 ? void 0 : _q.Media) === null || _r === void 0 ? void 0 : _r.countryOfOrigin) !== null && _s !== void 0 ? _s : undefined;\n                if ((_v = (_u = (_t = data.data) === null || _t === void 0 ? void 0 : _t.Media) === null || _u === void 0 ? void 0 : _u.trailer) === null || _v === void 0 ? void 0 : _v.id) {\n                    animeInfo.trailer = {\n                        id: data.data.Media.trailer.id,\n                        site: (_w = data.data.Media.trailer) === null || _w === void 0 ? void 0 : _w.site,\n                        thumbnail: (_x = data.data.Media.trailer) === null || _x === void 0 ? void 0 : _x.thumbnail,\n                        thumbnailHash: (0, utils_2.getHashFromImage)((_y = data.data.Media.trailer) === null || _y === void 0 ? void 0 : _y.thumbnail),\n                    };\n                }\n                animeInfo.image =\n                    (_11 = (_10 = (_6 = (_2 = (_1 = (_0 = (_z = data.data) === null || _z === void 0 ? void 0 : _z.Media) === null || _0 === void 0 ? void 0 : _0.coverImage) === null || _1 === void 0 ? void 0 : _1.extraLarge) !== null && _2 !== void 0 ? _2 : (_5 = (_4 = (_3 = data.data) === null || _3 === void 0 ? void 0 : _3.Media) === null || _4 === void 0 ? void 0 : _4.coverImage) === null || _5 === void 0 ? void 0 : _5.large) !== null && _6 !== void 0 ? _6 : (_9 = (_8 = (_7 = data.data) === null || _7 === void 0 ? void 0 : _7.Media) === null || _8 === void 0 ? void 0 : _8.coverImage) === null || _9 === void 0 ? void 0 : _9.medium) !== null && _10 !== void 0 ? _10 : data.coverImage) !== null && _11 !== void 0 ? _11 : data.bannerImage;\n                animeInfo.imageHash = (0, utils_2.getHashFromImage)((_24 = (_23 = (_19 = (_15 = (_14 = (_13 = (_12 = data.data) === null || _12 === void 0 ? void 0 : _12.Media) === null || _13 === void 0 ? void 0 : _13.coverImage) === null || _14 === void 0 ? void 0 : _14.extraLarge) !== null && _15 !== void 0 ? _15 : (_18 = (_17 = (_16 = data.data) === null || _16 === void 0 ? void 0 : _16.Media) === null || _17 === void 0 ? void 0 : _17.coverImage) === null || _18 === void 0 ? void 0 : _18.large) !== null && _19 !== void 0 ? _19 : (_22 = (_21 = (_20 = data.data) === null || _20 === void 0 ? void 0 : _20.Media) === null || _21 === void 0 ? void 0 : _21.coverImage) === null || _22 === void 0 ? void 0 : _22.medium) !== null && _23 !== void 0 ? _23 : data.coverImage) !== null && _24 !== void 0 ? _24 : data.bannerImage);\n                animeInfo.popularity = (_27 = (_26 = (_25 = data.data) === null || _25 === void 0 ? void 0 : _25.Media) === null || _26 === void 0 ? void 0 : _26.popularity) !== null && _27 !== void 0 ? _27 : data === null || data === void 0 ? void 0 : data.popularity;\n                animeInfo.color = (_31 = (_30 = (_29 = (_28 = data.data) === null || _28 === void 0 ? void 0 : _28.Media) === null || _29 === void 0 ? void 0 : _29.coverImage) === null || _30 === void 0 ? void 0 : _30.color) !== null && _31 !== void 0 ? _31 : data === null || data === void 0 ? void 0 : data.color;\n                animeInfo.cover = (_35 = (_34 = (_33 = (_32 = data.data) === null || _32 === void 0 ? void 0 : _32.Media) === null || _33 === void 0 ? void 0 : _33.bannerImage) !== null && _34 !== void 0 ? _34 : data === null || data === void 0 ? void 0 : data.bannerImage) !== null && _35 !== void 0 ? _35 : animeInfo.image;\n                animeInfo.coverHash = (0, utils_2.getHashFromImage)((_39 = (_38 = (_37 = (_36 = data.data) === null || _36 === void 0 ? void 0 : _36.Media) === null || _37 === void 0 ? void 0 : _37.bannerImage) !== null && _38 !== void 0 ? _38 : data === null || data === void 0 ? void 0 : data.bannerImage) !== null && _39 !== void 0 ? _39 : animeInfo.image);\n                animeInfo.description = (_42 = (_41 = (_40 = data.data) === null || _40 === void 0 ? void 0 : _40.Media) === null || _41 === void 0 ? void 0 : _41.description) !== null && _42 !== void 0 ? _42 : data === null || data === void 0 ? void 0 : data.description;\n                switch ((_45 = (_44 = (_43 = data.data) === null || _43 === void 0 ? void 0 : _43.Media) === null || _44 === void 0 ? void 0 : _44.status) !== null && _45 !== void 0 ? _45 : data === null || data === void 0 ? void 0 : data.status) {\n                    case 'RELEASING':\n                        animeInfo.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    case 'FINISHED':\n                        animeInfo.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                    case 'NOT_YET_RELEASED':\n                        animeInfo.status = models_1.MediaStatus.NOT_YET_AIRED;\n                        break;\n                    case 'CANCELLED':\n                        animeInfo.status = models_1.MediaStatus.CANCELLED;\n                        break;\n                    case 'HIATUS':\n                        animeInfo.status = models_1.MediaStatus.HIATUS;\n                    default:\n                        animeInfo.status = models_1.MediaStatus.UNKNOWN;\n                }\n                animeInfo.releaseDate = (_49 = (_48 = (_47 = (_46 = data.data) === null || _46 === void 0 ? void 0 : _46.Media) === null || _47 === void 0 ? void 0 : _47.startDate) === null || _48 === void 0 ? void 0 : _48.year) !== null && _49 !== void 0 ? _49 : data.year;\n                animeInfo.startDate = {\n                    year: data.data.Media.startDate.year,\n                    month: data.data.Media.startDate.month,\n                    day: data.data.Media.startDate.day,\n                };\n                animeInfo.endDate = {\n                    year: data.data.Media.endDate.year,\n                    month: data.data.Media.endDate.month,\n                    day: data.data.Media.endDate.day,\n                };\n                if ((_50 = data.data.Media.nextAiringEpisode) === null || _50 === void 0 ? void 0 : _50.airingAt)\n                    animeInfo.nextAiringEpisode = {\n                        airingTime: (_51 = data.data.Media.nextAiringEpisode) === null || _51 === void 0 ? void 0 : _51.airingAt,\n                        timeUntilAiring: (_52 = data.data.Media.nextAiringEpisode) === null || _52 === void 0 ? void 0 : _52.timeUntilAiring,\n                        episode: (_53 = data.data.Media.nextAiringEpisode) === null || _53 === void 0 ? void 0 : _53.episode,\n                    };\n                animeInfo.totalEpisodes = (_55 = (_54 = data.data.Media) === null || _54 === void 0 ? void 0 : _54.episodes) !== null && _55 !== void 0 ? _55 : ((_56 = data.data.Media.nextAiringEpisode) === null || _56 === void 0 ? void 0 : _56.episode) - 1;\n                animeInfo.currentEpisode = ((_58 = (_57 = data.data.Media) === null || _57 === void 0 ? void 0 : _57.nextAiringEpisode) === null || _58 === void 0 ? void 0 : _58.episode)\n                    ? ((_59 = data.data.Media.nextAiringEpisode) === null || _59 === void 0 ? void 0 : _59.episode) - 1\n                    : (_60 = data.data.Media) === null || _60 === void 0 ? void 0 : _60.episodes;\n                animeInfo.rating = data.data.Media.averageScore;\n                animeInfo.duration = data.data.Media.duration;\n                animeInfo.genres = data.data.Media.genres;\n                animeInfo.season = data.data.Media.season;\n                animeInfo.studios = data.data.Media.studios.edges.map((item) => item.node.name);\n                animeInfo.subOrDub = dub ? models_1.SubOrSub.DUB : models_1.SubOrSub.SUB;\n                animeInfo.type = data.data.Media.format;\n                animeInfo.recommendations = (_63 = (_62 = (_61 = data.data.Media) === null || _61 === void 0 ? void 0 : _61.recommendations) === null || _62 === void 0 ? void 0 : _62.edges) === null || _63 === void 0 ? void 0 : _63.map((item) => {\n                    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30;\n                    return ({\n                        id: (_b = item.node.mediaRecommendation) === null || _b === void 0 ? void 0 : _b.id,\n                        malId: (_c = item.node.mediaRecommendation) === null || _c === void 0 ? void 0 : _c.idMal,\n                        title: {\n                            romaji: (_e = (_d = item.node.mediaRecommendation) === null || _d === void 0 ? void 0 : _d.title) === null || _e === void 0 ? void 0 : _e.romaji,\n                            english: (_g = (_f = item.node.mediaRecommendation) === null || _f === void 0 ? void 0 : _f.title) === null || _g === void 0 ? void 0 : _g.english,\n                            native: (_j = (_h = item.node.mediaRecommendation) === null || _h === void 0 ? void 0 : _h.title) === null || _j === void 0 ? void 0 : _j.native,\n                            userPreferred: (_l = (_k = item.node.mediaRecommendation) === null || _k === void 0 ? void 0 : _k.title) === null || _l === void 0 ? void 0 : _l.userPreferred,\n                        },\n                        status: ((_m = item.node.mediaRecommendation) === null || _m === void 0 ? void 0 : _m.status) == 'RELEASING'\n                            ? models_1.MediaStatus.ONGOING\n                            : ((_o = item.node.mediaRecommendation) === null || _o === void 0 ? void 0 : _o.status) == 'FINISHED'\n                                ? models_1.MediaStatus.COMPLETED\n                                : ((_p = item.node.mediaRecommendation) === null || _p === void 0 ? void 0 : _p.status) == 'NOT_YET_RELEASED'\n                                    ? models_1.MediaStatus.NOT_YET_AIRED\n                                    : ((_q = item.node.mediaRecommendation) === null || _q === void 0 ? void 0 : _q.status) == 'CANCELLED'\n                                        ? models_1.MediaStatus.CANCELLED\n                                        : ((_r = item.node.mediaRecommendation) === null || _r === void 0 ? void 0 : _r.status) == 'HIATUS'\n                                            ? models_1.MediaStatus.HIATUS\n                                            : models_1.MediaStatus.UNKNOWN,\n                        episodes: (_s = item.node.mediaRecommendation) === null || _s === void 0 ? void 0 : _s.episodes,\n                        image: (_y = (_v = (_u = (_t = item.node.mediaRecommendation) === null || _t === void 0 ? void 0 : _t.coverImage) === null || _u === void 0 ? void 0 : _u.extraLarge) !== null && _v !== void 0 ? _v : (_x = (_w = item.node.mediaRecommendation) === null || _w === void 0 ? void 0 : _w.coverImage) === null || _x === void 0 ? void 0 : _x.large) !== null && _y !== void 0 ? _y : (_0 = (_z = item.node.mediaRecommendation) === null || _z === void 0 ? void 0 : _z.coverImage) === null || _0 === void 0 ? void 0 : _0.medium,\n                        imageHash: (0, utils_2.getHashFromImage)((_6 = (_3 = (_2 = (_1 = item.node.mediaRecommendation) === null || _1 === void 0 ? void 0 : _1.coverImage) === null || _2 === void 0 ? void 0 : _2.extraLarge) !== null && _3 !== void 0 ? _3 : (_5 = (_4 = item.node.mediaRecommendation) === null || _4 === void 0 ? void 0 : _4.coverImage) === null || _5 === void 0 ? void 0 : _5.large) !== null && _6 !== void 0 ? _6 : (_8 = (_7 = item.node.mediaRecommendation) === null || _7 === void 0 ? void 0 : _7.coverImage) === null || _8 === void 0 ? void 0 : _8.medium),\n                        cover: (_16 = (_13 = (_10 = (_9 = item.node.mediaRecommendation) === null || _9 === void 0 ? void 0 : _9.bannerImage) !== null && _10 !== void 0 ? _10 : (_12 = (_11 = item.node.mediaRecommendation) === null || _11 === void 0 ? void 0 : _11.coverImage) === null || _12 === void 0 ? void 0 : _12.extraLarge) !== null && _13 !== void 0 ? _13 : (_15 = (_14 = item.node.mediaRecommendation) === null || _14 === void 0 ? void 0 : _14.coverImage) === null || _15 === void 0 ? void 0 : _15.large) !== null && _16 !== void 0 ? _16 : (_18 = (_17 = item.node.mediaRecommendation) === null || _17 === void 0 ? void 0 : _17.coverImage) === null || _18 === void 0 ? void 0 : _18.medium,\n                        coverHash: (0, utils_2.getHashFromImage)((_26 = (_23 = (_20 = (_19 = item.node.mediaRecommendation) === null || _19 === void 0 ? void 0 : _19.bannerImage) !== null && _20 !== void 0 ? _20 : (_22 = (_21 = item.node.mediaRecommendation) === null || _21 === void 0 ? void 0 : _21.coverImage) === null || _22 === void 0 ? void 0 : _22.extraLarge) !== null && _23 !== void 0 ? _23 : (_25 = (_24 = item.node.mediaRecommendation) === null || _24 === void 0 ? void 0 : _24.coverImage) === null || _25 === void 0 ? void 0 : _25.large) !== null && _26 !== void 0 ? _26 : (_28 = (_27 = item.node.mediaRecommendation) === null || _27 === void 0 ? void 0 : _27.coverImage) === null || _28 === void 0 ? void 0 : _28.medium),\n                        rating: (_29 = item.node.mediaRecommendation) === null || _29 === void 0 ? void 0 : _29.meanScore,\n                        type: (_30 = item.node.mediaRecommendation) === null || _30 === void 0 ? void 0 : _30.format,\n                    });\n                });\n                animeInfo.characters = (_67 = (_66 = (_65 = (_64 = data.data) === null || _64 === void 0 ? void 0 : _64.Media) === null || _65 === void 0 ? void 0 : _65.characters) === null || _66 === void 0 ? void 0 : _66.edges) === null || _67 === void 0 ? void 0 : _67.map((item) => {\n                    var _b, _c, _d;\n                    return ({\n                        id: (_b = item.node) === null || _b === void 0 ? void 0 : _b.id,\n                        role: item.role,\n                        name: {\n                            first: item.node.name.first,\n                            last: item.node.name.last,\n                            full: item.node.name.full,\n                            native: item.node.name.native,\n                            userPreferred: item.node.name.userPreferred,\n                        },\n                        image: (_c = item.node.image.large) !== null && _c !== void 0 ? _c : item.node.image.medium,\n                        imageHash: (0, utils_2.getHashFromImage)((_d = item.node.image.large) !== null && _d !== void 0 ? _d : item.node.image.medium),\n                        voiceActors: item.voiceActors.map((voiceActor) => {\n                            var _b, _c;\n                            return ({\n                                id: voiceActor.id,\n                                language: voiceActor.languageV2,\n                                name: {\n                                    first: voiceActor.name.first,\n                                    last: voiceActor.name.last,\n                                    full: voiceActor.name.full,\n                                    native: voiceActor.name.native,\n                                    userPreferred: voiceActor.name.userPreferred,\n                                },\n                                image: (_b = voiceActor.image.large) !== null && _b !== void 0 ? _b : voiceActor.image.medium,\n                                imageHash: (0, utils_2.getHashFromImage)((_c = voiceActor.image.large) !== null && _c !== void 0 ? _c : voiceActor.image.medium),\n                            });\n                        }),\n                    });\n                });\n                animeInfo.relations = (_71 = (_70 = (_69 = (_68 = data.data) === null || _68 === void 0 ? void 0 : _68.Media) === null || _69 === void 0 ? void 0 : _69.relations) === null || _70 === void 0 ? void 0 : _70.edges) === null || _71 === void 0 ? void 0 : _71.map((item) => {\n                    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n                    return ({\n                        id: item.node.id,\n                        relationType: item.relationType,\n                        malId: item.node.idMal,\n                        title: {\n                            romaji: item.node.title.romaji,\n                            english: item.node.title.english,\n                            native: item.node.title.native,\n                            userPreferred: item.node.title.userPreferred,\n                        },\n                        status: item.node.status == 'RELEASING'\n                            ? models_1.MediaStatus.ONGOING\n                            : item.node.status == 'FINISHED'\n                                ? models_1.MediaStatus.COMPLETED\n                                : item.node.status == 'NOT_YET_RELEASED'\n                                    ? models_1.MediaStatus.NOT_YET_AIRED\n                                    : item.node.status == 'CANCELLED'\n                                        ? models_1.MediaStatus.CANCELLED\n                                        : item.node.status == 'HIATUS'\n                                            ? models_1.MediaStatus.HIATUS\n                                            : models_1.MediaStatus.UNKNOWN,\n                        episodes: item.node.episodes,\n                        image: (_c = (_b = item.node.coverImage.extraLarge) !== null && _b !== void 0 ? _b : item.node.coverImage.large) !== null && _c !== void 0 ? _c : item.node.coverImage.medium,\n                        imageHash: (0, utils_2.getHashFromImage)((_e = (_d = item.node.coverImage.extraLarge) !== null && _d !== void 0 ? _d : item.node.coverImage.large) !== null && _e !== void 0 ? _e : item.node.coverImage.medium),\n                        color: (_f = item.node.coverImage) === null || _f === void 0 ? void 0 : _f.color,\n                        type: item.node.format,\n                        cover: (_j = (_h = (_g = item.node.bannerImage) !== null && _g !== void 0 ? _g : item.node.coverImage.extraLarge) !== null && _h !== void 0 ? _h : item.node.coverImage.large) !== null && _j !== void 0 ? _j : item.node.coverImage.medium,\n                        coverHash: (0, utils_2.getHashFromImage)((_m = (_l = (_k = item.node.bannerImage) !== null && _k !== void 0 ? _k : item.node.coverImage.extraLarge) !== null && _l !== void 0 ? _l : item.node.coverImage.large) !== null && _m !== void 0 ? _m : item.node.coverImage.medium),\n                        rating: item.node.meanScore,\n                    });\n                });\n                if ((this.provider instanceof zoro_1.default || this.provider instanceof gogoanime_1.default) &&\n                    !dub &&\n                    (animeInfo.status === models_1.MediaStatus.ONGOING ||\n                        (0, utils_1.range)({ from: 1940, to: new Date().getFullYear() + 1 }).includes(parseInt(animeInfo.releaseDate)))) {\n                    try {\n                        const anifyInfo = await new anify_1.default(this.proxyConfig, this.adapter, this.provider.name.toLowerCase()).fetchAnimeInfo(id);\n                        animeInfo.mappings = anifyInfo.mappings;\n                        animeInfo.artwork = anifyInfo.artwork;\n                        animeInfo.episodes = (_72 = anifyInfo.episodes) === null || _72 === void 0 ? void 0 : _72.map((item) => {\n                            var _b;\n                            return ({\n                                id: item.id,\n                                title: item.title,\n                                description: item.description,\n                                number: item.number,\n                                image: item.image,\n                                imageHash: (0, utils_2.getHashFromImage)(item.image),\n                                airDate: (_b = item.airDate) !== null && _b !== void 0 ? _b : null,\n                            });\n                        });\n                        if (!((_73 = animeInfo.episodes) === null || _73 === void 0 ? void 0 : _73.length)) {\n                            animeInfo.episodes = await this.fetchDefaultEpisodeList({\n                                idMal: animeInfo.malId,\n                                season: data.data.Media.season,\n                                startDate: { year: parseInt(animeInfo.releaseDate) },\n                                title: {\n                                    english: (_74 = animeInfo.title) === null || _74 === void 0 ? void 0 : _74.english,\n                                    romaji: (_75 = animeInfo.title) === null || _75 === void 0 ? void 0 : _75.romaji,\n                                },\n                            }, dub, id);\n                            animeInfo.episodes = (_76 = animeInfo.episodes) === null || _76 === void 0 ? void 0 : _76.map((episode) => {\n                                if (!episode.image) {\n                                    episode.image = animeInfo.image;\n                                    episode.imageHash = animeInfo.imageHash;\n                                }\n                                return episode;\n                            });\n                        }\n                    }\n                    catch (err) {\n                        animeInfo.episodes = await this.fetchDefaultEpisodeList({\n                            idMal: animeInfo.malId,\n                            season: data.data.Media.season,\n                            startDate: { year: parseInt(animeInfo.releaseDate) },\n                            title: {\n                                english: (_77 = animeInfo.title) === null || _77 === void 0 ? void 0 : _77.english,\n                                romaji: (_78 = animeInfo.title) === null || _78 === void 0 ? void 0 : _78.romaji,\n                            },\n                        }, dub, id);\n                        animeInfo.episodes = (_79 = animeInfo.episodes) === null || _79 === void 0 ? void 0 : _79.map((episode) => {\n                            if (!episode.image) {\n                                episode.image = animeInfo.image;\n                                episode.imageHash = animeInfo.imageHash;\n                            }\n                            return episode;\n                        });\n                        return animeInfo;\n                    }\n                }\n                else\n                    animeInfo.episodes = await this.fetchDefaultEpisodeList({\n                        idMal: animeInfo.malId,\n                        season: data.data.Media.season,\n                        startDate: { year: parseInt(animeInfo.releaseDate) },\n                        title: {\n                            english: (_80 = animeInfo.title) === null || _80 === void 0 ? void 0 : _80.english,\n                            romaji: (_81 = animeInfo.title) === null || _81 === void 0 ? void 0 : _81.romaji,\n                        },\n                        externalLinks: data.data.Media.externalLinks.filter((link) => link.type === 'STREAMING'),\n                    }, dub, id);\n                if (fetchFiller) {\n                    const { data: fillerData } = await this.client.get(`https://raw.githubusercontent.com/saikou-app/mal-id-filler-list/main/fillers/${animeInfo.malId}.json`, { validateStatus: () => true });\n                    if (!fillerData.toString().startsWith('404')) {\n                        fillerEpisodes = [];\n                        fillerEpisodes === null || fillerEpisodes === void 0 ? void 0 : fillerEpisodes.push(...fillerData.episodes);\n                    }\n                }\n                animeInfo.episodes = (_82 = animeInfo.episodes) === null || _82 === void 0 ? void 0 : _82.map((episode) => {\n                    if (!episode.image) {\n                        episode.image = animeInfo.image;\n                        episode.imageHash = animeInfo.imageHash;\n                    }\n                    if (fetchFiller &&\n                        (fillerEpisodes === null || fillerEpisodes === void 0 ? void 0 : fillerEpisodes.length) > 0 &&\n                        (fillerEpisodes === null || fillerEpisodes === void 0 ? void 0 : fillerEpisodes.length) >= animeInfo.episodes.length) {\n                        if (fillerEpisodes[episode.number - 1])\n                            episode.isFiller = new Boolean(fillerEpisodes[episode.number - 1]['filler-bool']).valueOf();\n                    }\n                    return episode;\n                });\n                return animeInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId Episode id\n         */\n        this.fetchEpisodeSources = async (episodeId, ...args) => {\n            try {\n                if (this.provider instanceof anify_1.default)\n                    return new anify_1.default().fetchEpisodeSources(episodeId, args[0], args[1]);\n                return this.provider.fetchEpisodeSources(episodeId, ...args);\n            }\n            catch (err) {\n                throw new Error(`Failed to fetch episode sources from ${this.provider.name}: ${err}`);\n            }\n        };\n        /**\n         *\n         * @param episodeId Episode id\n         */\n        this.fetchEpisodeServers = async (episodeId) => {\n            try {\n                return this.provider.fetchEpisodeServers(episodeId);\n            }\n            catch (err) {\n                throw new Error(`Failed to fetch episode servers from ${this.provider.name}: ${err}`);\n            }\n        };\n        this.findAnime = async (title, season, startDate, malId, dub, anilistId, externalLinks) => {\n            var _b, _c, _d;\n            title.english = (_b = title.english) !== null && _b !== void 0 ? _b : title.romaji;\n            title.romaji = (_c = title.romaji) !== null && _c !== void 0 ? _c : title.english;\n            title.english = title.english.toLowerCase();\n            title.romaji = title.romaji.toLowerCase();\n            if (title.english === title.romaji) {\n                return ((_d = (await this.findAnimeSlug(title.english, season, startDate, malId, dub, anilistId, externalLinks))) !== null && _d !== void 0 ? _d : []);\n            }\n            const romajiPossibleEpisodes = await this.findAnimeSlug(title.romaji, season, startDate, malId, dub, anilistId, externalLinks);\n            if (romajiPossibleEpisodes) {\n                return romajiPossibleEpisodes;\n            }\n            const englishPossibleEpisodes = await this.findAnimeSlug(title.english, season, startDate, malId, dub, anilistId, externalLinks);\n            return englishPossibleEpisodes !== null && englishPossibleEpisodes !== void 0 ? englishPossibleEpisodes : [];\n        };\n        this.findAnimeSlug = async (title, season, startDate, malId, dub, anilistId, externalLinks) => {\n            var _b, _c, _d;\n            if (this.provider instanceof anify_1.default)\n                return (await this.provider.fetchAnimeInfo(anilistId)).episodes;\n            const slug = title.replace(/[^0-9a-zA-Z]+/g, ' ');\n            let possibleAnime;\n            if (malId && !(this.provider instanceof crunchyroll_1.default || this.provider instanceof bilibili_1.default)) {\n                const malAsyncReq = await this.client.get(`${this.malSyncUrl}/mal/anime/${malId}`, {\n                    validateStatus: () => true,\n                });\n                if (malAsyncReq.status === 200) {\n                    const sitesT = malAsyncReq.data.Sites;\n                    let sites = Object.values(sitesT).map((v, i) => {\n                        const obj = [...Object.values(Object.values(sitesT)[i])];\n                        const pages = obj.map((v) => ({\n                            page: v.page,\n                            url: v.url,\n                            title: v.title,\n                        }));\n                        return pages;\n                    });\n                    sites = sites.flat();\n                    sites.sort((a, b) => {\n                        const targetTitle = malAsyncReq.data.title.toLowerCase();\n                        const firstRating = (0, utils_2.compareTwoStrings)(targetTitle, a.title.toLowerCase());\n                        const secondRating = (0, utils_2.compareTwoStrings)(targetTitle, b.title.toLowerCase());\n                        // Sort in descending order\n                        return secondRating - firstRating;\n                    });\n                    const possibleSource = sites.find(s => {\n                        if (s.page.toLowerCase() === this.provider.name.toLowerCase())\n                            if (this.provider instanceof gogoanime_1.default)\n                                return dub ? s.title.toLowerCase().includes('dub') : !s.title.toLowerCase().includes('dub');\n                            else\n                                return true;\n                        return false;\n                    });\n                    if (possibleSource) {\n                        try {\n                            possibleAnime = await this.provider.fetchAnimeInfo(new URL(possibleSource.url).pathname.slice(1));\n                        }\n                        catch (err) {\n                            console.error(err);\n                            possibleAnime = await this.findAnimeRaw(slug);\n                        }\n                    }\n                    else\n                        possibleAnime = await this.findAnimeRaw(slug);\n                }\n                else\n                    possibleAnime = await this.findAnimeRaw(slug);\n            }\n            else\n                possibleAnime = await this.findAnimeRaw(slug, externalLinks);\n            if (!possibleAnime)\n                return undefined;\n            // To avoid a new request, lets match and see if the anime show found is in sub/dub\n            const expectedType = dub ? models_1.SubOrSub.DUB : models_1.SubOrSub.SUB;\n            // Have this as a fallback in the meantime for compatibility\n            if (possibleAnime.subOrDub) {\n                if (possibleAnime.subOrDub != models_1.SubOrSub.BOTH && possibleAnime.subOrDub != expectedType) {\n                    return undefined;\n                }\n            }\n            else if ((!possibleAnime.hasDub && dub) || (!possibleAnime.hasSub && !dub)) {\n                return undefined;\n            }\n            if (this.provider instanceof zoro_1.default) {\n                // Set the correct episode sub/dub request type\n                possibleAnime.episodes.forEach((_, index) => {\n                    if (possibleAnime.subOrDub === models_1.SubOrSub.BOTH) {\n                        possibleAnime.episodes[index].id = possibleAnime.episodes[index].id.replace(`$both`, dub ? '$dub' : '$sub');\n                    }\n                });\n            }\n            if (this.provider instanceof crunchyroll_1.default) {\n                const nestedEpisodes = Object.keys(possibleAnime.episodes)\n                    .filter((key) => key.toLowerCase().includes(dub ? 'dub' : 'sub'))\n                    .sort((first, second) => {\n                    var _b, _c, _d, _e;\n                    return (((_c = (_b = possibleAnime.episodes[first]) === null || _b === void 0 ? void 0 : _b[0].season_number) !== null && _c !== void 0 ? _c : 0) -\n                        ((_e = (_d = possibleAnime.episodes[second]) === null || _d === void 0 ? void 0 : _d[0].season_number) !== null && _e !== void 0 ? _e : 0));\n                })\n                    .map((key) => {\n                    const audio = key\n                        .replace(/[0-9]/g, '')\n                        .replace(/(^\\w{1})|(\\s+\\w{1})/g, (letter) => letter.toUpperCase());\n                    possibleAnime.episodes[key].forEach((element) => (element.type = audio));\n                    return possibleAnime.episodes[key];\n                });\n                return nestedEpisodes.flat();\n            }\n            if (this.provider instanceof _9anime_1.default) {\n                possibleAnime.episodes.forEach((_, index) => {\n                    if (expectedType == models_1.SubOrSub.DUB) {\n                        possibleAnime.episodes[index].id = possibleAnime.episodes[index].dubId;\n                    }\n                    if (possibleAnime.episodes[index].dubId) {\n                        delete possibleAnime.episodes[index].dubId;\n                    }\n                });\n                possibleAnime.episodes = possibleAnime.episodes.filter((el) => el.id != undefined);\n            }\n            const possibleProviderEpisodes = possibleAnime.episodes;\n            if (typeof ((_b = possibleProviderEpisodes[0]) === null || _b === void 0 ? void 0 : _b.image) !== 'undefined' &&\n                typeof ((_c = possibleProviderEpisodes[0]) === null || _c === void 0 ? void 0 : _c.title) !== 'undefined' &&\n                typeof ((_d = possibleProviderEpisodes[0]) === null || _d === void 0 ? void 0 : _d.description) !== 'undefined')\n                return possibleProviderEpisodes;\n            const options = {\n                headers: { 'Content-Type': 'application/json' },\n                query: (0, utils_1.kitsuSearchQuery)(slug),\n            };\n            const newEpisodeList = await this.findKitsuAnime(possibleProviderEpisodes, options, season, startDate);\n            return newEpisodeList;\n        };\n        this.findKitsuAnime = async (possibleProviderEpisodes, options, season, startDate) => {\n            try {\n                const kitsuEpisodes = await this.client.post(this.kitsuGraphqlUrl, options);\n                const episodesList = new Map();\n                if (kitsuEpisodes === null || kitsuEpisodes === void 0 ? void 0 : kitsuEpisodes.data.data) {\n                    const { nodes } = kitsuEpisodes.data.data.searchAnimeByTitle;\n                    if (nodes) {\n                        nodes.forEach((node) => {\n                            var _b, _c;\n                            if (node.season === season && node.startDate.trim().split('-')[0] === (startDate === null || startDate === void 0 ? void 0 : startDate.toString())) {\n                                const episodes = node.episodes.nodes;\n                                for (const episode of episodes) {\n                                    const i = episode === null || episode === void 0 ? void 0 : episode.number.toString().replace(/\"/g, '');\n                                    let name = undefined;\n                                    let description = undefined;\n                                    let thumbnail = undefined;\n                                    let thumbnailHash = undefined;\n                                    if ((_b = episode === null || episode === void 0 ? void 0 : episode.description) === null || _b === void 0 ? void 0 : _b.en)\n                                        description = episode === null || episode === void 0 ? void 0 : episode.description.en.toString().replace(/\"/g, '').replace('\\\\n', '\\n');\n                                    if (episode === null || episode === void 0 ? void 0 : episode.thumbnail) {\n                                        thumbnail = episode === null || episode === void 0 ? void 0 : episode.thumbnail.original.url.toString().replace(/\"/g, '');\n                                        thumbnailHash = (0, utils_2.getHashFromImage)(episode === null || episode === void 0 ? void 0 : episode.thumbnail.original.url.toString().replace(/\"/g, ''));\n                                    }\n                                    if (episode) {\n                                        if ((_c = episode.titles) === null || _c === void 0 ? void 0 : _c.canonical)\n                                            name = episode.titles.canonical.toString().replace(/\"/g, '');\n                                        episodesList.set(i, {\n                                            episodeNum: episode === null || episode === void 0 ? void 0 : episode.number.toString().replace(/\"/g, ''),\n                                            title: name,\n                                            description,\n                                            createdAt: episode === null || episode === void 0 ? void 0 : episode.createdAt,\n                                            thumbnail,\n                                        });\n                                        continue;\n                                    }\n                                    episodesList.set(i, {\n                                        episodeNum: undefined,\n                                        title: undefined,\n                                        description: undefined,\n                                        createdAt: undefined,\n                                        thumbnail,\n                                        thumbnailHash,\n                                    });\n                                }\n                            }\n                        });\n                    }\n                }\n                const newEpisodeList = [];\n                if ((possibleProviderEpisodes === null || possibleProviderEpisodes === void 0 ? void 0 : possibleProviderEpisodes.length) !== 0) {\n                    possibleProviderEpisodes === null || possibleProviderEpisodes === void 0 ? void 0 : possibleProviderEpisodes.forEach((ep, i) => {\n                        var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\n                        const j = (i + 1).toString();\n                        newEpisodeList.push({\n                            id: ep.id,\n                            title: (_d = (_b = ep.title) !== null && _b !== void 0 ? _b : (_c = episodesList.get(j)) === null || _c === void 0 ? void 0 : _c.title) !== null && _d !== void 0 ? _d : null,\n                            image: (_g = (_e = ep.image) !== null && _e !== void 0 ? _e : (_f = episodesList.get(j)) === null || _f === void 0 ? void 0 : _f.thumbnail) !== null && _g !== void 0 ? _g : null,\n                            imageHash: (0, utils_2.getHashFromImage)((_k = (_h = ep.image) !== null && _h !== void 0 ? _h : (_j = episodesList.get(j)) === null || _j === void 0 ? void 0 : _j.thumbnail) !== null && _k !== void 0 ? _k : null),\n                            number: ep.number,\n                            createdAt: (_o = (_l = ep.createdAt) !== null && _l !== void 0 ? _l : (_m = episodesList.get(j)) === null || _m === void 0 ? void 0 : _m.createdAt) !== null && _o !== void 0 ? _o : null,\n                            description: (_r = (_p = ep.description) !== null && _p !== void 0 ? _p : (_q = episodesList.get(j)) === null || _q === void 0 ? void 0 : _q.description) !== null && _r !== void 0 ? _r : null,\n                            url: (_s = ep.url) !== null && _s !== void 0 ? _s : null,\n                        });\n                    });\n                }\n                return newEpisodeList;\n            }\n            catch (error) {\n                return possibleProviderEpisodes;\n            }\n        };\n        /**\n         * @param page page number to search for (optional)\n         * @param perPage number of results per page (optional)\n         */\n        this.fetchTrendingAnime = async (page = 1, perPage = 10) => {\n            const options = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n                query: (0, utils_1.anilistTrendingQuery)(page, perPage),\n            };\n            try {\n                const { data } = await this.client.post(this.anilistGraphqlUrl, options);\n                const res = {\n                    currentPage: data.data.Page.pageInfo.currentPage,\n                    hasNextPage: data.data.Page.pageInfo.hasNextPage,\n                    results: data.data.Page.media.map((item) => {\n                        var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u;\n                        return ({\n                            id: item.id.toString(),\n                            malId: item.idMal,\n                            title: item.title\n                                ? {\n                                    romaji: item.title.romaji,\n                                    english: item.title.english,\n                                    native: item.title.native,\n                                    userPreferred: item.title.userPreferred,\n                                }\n                                : item.title.romaji,\n                            image: (_c = (_b = item.coverImage.extraLarge) !== null && _b !== void 0 ? _b : item.coverImage.large) !== null && _c !== void 0 ? _c : item.coverImage.medium,\n                            imageHash: (0, utils_2.getHashFromImage)((_e = (_d = item.coverImage.extraLarge) !== null && _d !== void 0 ? _d : item.coverImage.large) !== null && _e !== void 0 ? _e : item.coverImage.medium),\n                            trailer: {\n                                id: (_f = item.trailer) === null || _f === void 0 ? void 0 : _f.id,\n                                site: (_g = item.trailer) === null || _g === void 0 ? void 0 : _g.site,\n                                thumbnail: (_h = item.trailer) === null || _h === void 0 ? void 0 : _h.thumbnail,\n                                thumbnailHash: (0, utils_2.getHashFromImage)((_j = item.trailer) === null || _j === void 0 ? void 0 : _j.thumbnail),\n                            },\n                            description: item.description,\n                            status: item.status == 'RELEASING'\n                                ? models_1.MediaStatus.ONGOING\n                                : item.status == 'FINISHED'\n                                    ? models_1.MediaStatus.COMPLETED\n                                    : item.status == 'NOT_YET_RELEASED'\n                                        ? models_1.MediaStatus.NOT_YET_AIRED\n                                        : item.status == 'CANCELLED'\n                                            ? models_1.MediaStatus.CANCELLED\n                                            : item.status == 'HIATUS'\n                                                ? models_1.MediaStatus.HIATUS\n                                                : models_1.MediaStatus.UNKNOWN,\n                            cover: (_m = (_l = (_k = item.bannerImage) !== null && _k !== void 0 ? _k : item.coverImage.extraLarge) !== null && _l !== void 0 ? _l : item.coverImage.large) !== null && _m !== void 0 ? _m : item.coverImage.medium,\n                            coverHash: (0, utils_2.getHashFromImage)((_q = (_p = (_o = item.bannerImage) !== null && _o !== void 0 ? _o : item.coverImage.extraLarge) !== null && _p !== void 0 ? _p : item.coverImage.large) !== null && _q !== void 0 ? _q : item.coverImage.medium),\n                            rating: item.averageScore,\n                            releaseDate: item.seasonYear,\n                            color: (_r = item.coverImage) === null || _r === void 0 ? void 0 : _r.color,\n                            genres: item.genres,\n                            totalEpisodes: isNaN(item.episodes) ? 0 : (_u = (_s = item.episodes) !== null && _s !== void 0 ? _s : ((_t = item.nextAiringEpisode) === null || _t === void 0 ? void 0 : _t.episode) - 1) !== null && _u !== void 0 ? _u : 0,\n                            duration: item.duration,\n                            type: item.format,\n                        });\n                    }),\n                };\n                return res;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param page page number to search for (optional)\n         * @param perPage number of results per page (optional)\n         */\n        this.fetchPopularAnime = async (page = 1, perPage = 10) => {\n            const options = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n                query: (0, utils_1.anilistPopularQuery)(page, perPage),\n            };\n            try {\n                const { data } = await this.client.post(this.anilistGraphqlUrl, options);\n                const res = {\n                    currentPage: data.data.Page.pageInfo.currentPage,\n                    hasNextPage: data.data.Page.pageInfo.hasNextPage,\n                    results: data.data.Page.media.map((item) => {\n                        var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u;\n                        return ({\n                            id: item.id.toString(),\n                            malId: item.idMal,\n                            title: item.title\n                                ? {\n                                    romaji: item.title.romaji,\n                                    english: item.title.english,\n                                    native: item.title.native,\n                                    userPreferred: item.title.userPreferred,\n                                }\n                                : item.title.romaji,\n                            image: (_c = (_b = item.coverImage.extraLarge) !== null && _b !== void 0 ? _b : item.coverImage.large) !== null && _c !== void 0 ? _c : item.coverImage.medium,\n                            imageHash: (0, utils_2.getHashFromImage)((_e = (_d = item.coverImage.extraLarge) !== null && _d !== void 0 ? _d : item.coverImage.large) !== null && _e !== void 0 ? _e : item.coverImage.medium),\n                            trailer: {\n                                id: (_f = item.trailer) === null || _f === void 0 ? void 0 : _f.id,\n                                site: (_g = item.trailer) === null || _g === void 0 ? void 0 : _g.site,\n                                thumbnail: (_h = item.trailer) === null || _h === void 0 ? void 0 : _h.thumbnail,\n                                thumbnailHash: (0, utils_2.getHashFromImage)((_j = item.trailer) === null || _j === void 0 ? void 0 : _j.thumbnail),\n                            },\n                            description: item.description,\n                            status: item.status == 'RELEASING'\n                                ? models_1.MediaStatus.ONGOING\n                                : item.status == 'FINISHED'\n                                    ? models_1.MediaStatus.COMPLETED\n                                    : item.status == 'NOT_YET_RELEASED'\n                                        ? models_1.MediaStatus.NOT_YET_AIRED\n                                        : item.status == 'CANCELLED'\n                                            ? models_1.MediaStatus.CANCELLED\n                                            : item.status == 'HIATUS'\n                                                ? models_1.MediaStatus.HIATUS\n                                                : models_1.MediaStatus.UNKNOWN,\n                            cover: (_m = (_l = (_k = item.bannerImage) !== null && _k !== void 0 ? _k : item.coverImage.extraLarge) !== null && _l !== void 0 ? _l : item.coverImage.large) !== null && _m !== void 0 ? _m : item.coverImage.medium,\n                            coverHash: (0, utils_2.getHashFromImage)((_q = (_p = (_o = item.bannerImage) !== null && _o !== void 0 ? _o : item.coverImage.extraLarge) !== null && _p !== void 0 ? _p : item.coverImage.large) !== null && _q !== void 0 ? _q : item.coverImage.medium),\n                            rating: item.averageScore,\n                            releaseDate: item.seasonYear,\n                            color: (_r = item.coverImage) === null || _r === void 0 ? void 0 : _r.color,\n                            genres: item.genres,\n                            totalEpisodes: isNaN(item.episodes) ? 0 : (_u = (_s = item.episodes) !== null && _s !== void 0 ? _s : ((_t = item.nextAiringEpisode) === null || _t === void 0 ? void 0 : _t.episode) - 1) !== null && _u !== void 0 ? _u : 0,\n                            duration: item.duration,\n                            type: item.format,\n                        });\n                    }),\n                };\n                return res;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param page page number (optional)\n         * @param perPage number of results per page (optional)\n         * @param weekStart Filter by the start of the week (optional) (default: todays date) (options: 2 = Monday, 3 = Tuesday, 4 = Wednesday, 5 = Thursday, 6 = Friday, 0 = Saturday, 1 = Sunday) you can use either the number or the string\n         * @param weekEnd Filter by the end of the week (optional) similar to weekStart\n         * @param notYetAired if true will return anime that have not yet aired (optional)\n         * @returns the next airing episodes\n         */\n        this.fetchAiringSchedule = async (page = 1, perPage = 20, weekStart = (new Date().getDay() + 1) % 7, weekEnd = (new Date().getDay() + 7) % 7, notYetAired = false) => {\n            let day1, day2 = undefined;\n            if (typeof weekStart === 'string' && typeof weekEnd === 'string')\n                [day1, day2] = (0, utils_1.getDays)((0, utils_1.capitalizeFirstLetter)(weekStart.toLowerCase()), (0, utils_1.capitalizeFirstLetter)(weekEnd.toLowerCase()));\n            else if (typeof weekStart === 'number' && typeof weekEnd === 'number')\n                [day1, day2] = [weekStart, weekEnd];\n            else\n                throw new Error('Invalid weekStart or weekEnd');\n            const options = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n                query: (0, utils_1.anilistAiringScheduleQuery)(page, perPage, day1, day2, notYetAired),\n            };\n            try {\n                const { data } = await this.client.post(this.anilistGraphqlUrl, options);\n                const res = {\n                    currentPage: data.data.Page.pageInfo.currentPage,\n                    hasNextPage: data.data.Page.pageInfo.hasNextPage,\n                    results: data.data.Page.airingSchedules.map((item) => {\n                        var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n                        return ({\n                            id: item.media.id.toString(),\n                            malId: item.media.idMal,\n                            episode: item.episode,\n                            airingAt: item.airingAt,\n                            title: item.media.title\n                                ? {\n                                    romaji: item.media.title.romaji,\n                                    english: item.media.title.english,\n                                    native: item.media.title.native,\n                                    userPreferred: item.media.title.userPreferred,\n                                }\n                                : item.media.title.romaji,\n                            country: item.media.countryOfOrigin,\n                            image: (_c = (_b = item.media.coverImage.extraLarge) !== null && _b !== void 0 ? _b : item.media.coverImage.large) !== null && _c !== void 0 ? _c : item.media.coverImage.medium,\n                            imageHash: (0, utils_2.getHashFromImage)((_e = (_d = item.media.coverImage.extraLarge) !== null && _d !== void 0 ? _d : item.media.coverImage.large) !== null && _e !== void 0 ? _e : item.media.coverImage.medium),\n                            description: item.media.description,\n                            cover: (_h = (_g = (_f = item.media.bannerImage) !== null && _f !== void 0 ? _f : item.media.coverImage.extraLarge) !== null && _g !== void 0 ? _g : item.media.coverImage.large) !== null && _h !== void 0 ? _h : item.media.coverImage.medium,\n                            coverHash: (0, utils_2.getHashFromImage)((_l = (_k = (_j = item.media.bannerImage) !== null && _j !== void 0 ? _j : item.media.coverImage.extraLarge) !== null && _k !== void 0 ? _k : item.media.coverImage.large) !== null && _l !== void 0 ? _l : item.media.coverImage.medium),\n                            genres: item.media.genres,\n                            color: (_m = item.media.coverImage) === null || _m === void 0 ? void 0 : _m.color,\n                            rating: item.media.averageScore,\n                            releaseDate: item.media.seasonYear,\n                            type: item.media.format,\n                        });\n                    }),\n                };\n                return res;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param genres An array of genres to filter by (optional) genres: [`Action`, `Adventure`, `Cars`, `Comedy`, `Drama`, `Fantasy`, `Horror`, `Mahou Shoujo`, `Mecha`, `Music`, `Mystery`, `Psychological`, `Romance`, `Sci-Fi`, `Slice of Life`, `Sports`, `Supernatural`, `Thriller`]\n         * @param page page number (optional)\n         * @param perPage number of results per page (optional)\n         */\n        this.fetchAnimeGenres = async (genres, page = 1, perPage = 20) => {\n            if (genres.length === 0)\n                throw new Error('No genres specified');\n            for (const genre of genres)\n                if (!Object.values(models_1.Genres).includes(genre))\n                    throw new Error('Invalid genre');\n            const options = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n                query: (0, utils_1.anilistGenresQuery)(genres, page, perPage),\n            };\n            try {\n                const { data } = await this.client.post(this.anilistGraphqlUrl, options);\n                const res = {\n                    currentPage: data.data.Page.pageInfo.currentPage,\n                    hasNextPage: data.data.Page.pageInfo.hasNextPage,\n                    results: data.data.Page.media.map((item) => {\n                        var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u;\n                        return ({\n                            id: item.id.toString(),\n                            malId: item.idMal,\n                            title: item.title\n                                ? {\n                                    romaji: item.title.romaji,\n                                    english: item.title.english,\n                                    native: item.title.native,\n                                    userPreferred: item.title.userPreferred,\n                                }\n                                : item.title.romaji,\n                            image: (_c = (_b = item.coverImage.extraLarge) !== null && _b !== void 0 ? _b : item.coverImage.large) !== null && _c !== void 0 ? _c : item.coverImage.medium,\n                            imageHash: (0, utils_2.getHashFromImage)((_e = (_d = item.coverImage.extraLarge) !== null && _d !== void 0 ? _d : item.coverImage.large) !== null && _e !== void 0 ? _e : item.coverImage.medium),\n                            trailer: {\n                                id: (_f = item.trailer) === null || _f === void 0 ? void 0 : _f.id,\n                                site: (_g = item.trailer) === null || _g === void 0 ? void 0 : _g.site,\n                                thumbnail: (_h = item.trailer) === null || _h === void 0 ? void 0 : _h.thumbnail,\n                                thumbnailHash: (0, utils_2.getHashFromImage)((_j = item.trailer) === null || _j === void 0 ? void 0 : _j.thumbnail),\n                            },\n                            description: item.description,\n                            cover: (_m = (_l = (_k = item.bannerImage) !== null && _k !== void 0 ? _k : item.coverImage.extraLarge) !== null && _l !== void 0 ? _l : item.coverImage.large) !== null && _m !== void 0 ? _m : item.coverImage.medium,\n                            coverHash: (0, utils_2.getHashFromImage)((_q = (_p = (_o = item.bannerImage) !== null && _o !== void 0 ? _o : item.coverImage.extraLarge) !== null && _p !== void 0 ? _p : item.coverImage.large) !== null && _q !== void 0 ? _q : item.coverImage.medium),\n                            rating: item.averageScore,\n                            releaseDate: item.seasonYear,\n                            color: (_r = item.coverImage) === null || _r === void 0 ? void 0 : _r.color,\n                            genres: item.genres,\n                            totalEpisodes: isNaN(item.episodes) ? 0 : (_u = (_s = item.episodes) !== null && _s !== void 0 ? _s : ((_t = item.nextAiringEpisode) === null || _t === void 0 ? void 0 : _t.episode) - 1) !== null && _u !== void 0 ? _u : 0,\n                            duration: item.duration,\n                            type: item.format,\n                        });\n                    }),\n                };\n                return res;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.findAnimeRaw = async (slug, externalLinks) => {\n            if (this.provider instanceof crunchyroll_1.default && externalLinks) {\n                const link = externalLinks.find((link) => link.site.includes('Crunchyroll'));\n                if (link) {\n                    const { request } = await this.client.get(link.url, {\n                        validateStatus: () => true,\n                    });\n                    if (request.res.responseUrl.includes('series') || request.res.responseUrl.includes('watch')) {\n                        const mediaType = request.res.responseUrl.split('/')[3];\n                        const id = request.res.responseUrl.split('/')[4];\n                        return await this.provider.fetchAnimeInfo(id, mediaType);\n                    }\n                }\n            }\n            const findAnime = (await this.provider.search(slug));\n            if (findAnime.results.length === 0)\n                return undefined;\n            // Sort the retrieved info for more accurate results.\n            let topRating = 0;\n            findAnime.results.sort((a, b) => {\n                var _b, _c, _d, _e;\n                const targetTitle = slug.toLowerCase();\n                let firstTitle;\n                let secondTitle;\n                if (typeof a.title == 'string')\n                    firstTitle = a.title;\n                else\n                    firstTitle = (_c = (_b = a.title.english) !== null && _b !== void 0 ? _b : a.title.romaji) !== null && _c !== void 0 ? _c : '';\n                if (typeof b.title == 'string')\n                    secondTitle = b.title;\n                else\n                    secondTitle = (_e = (_d = b.title.english) !== null && _d !== void 0 ? _d : b.title.romaji) !== null && _e !== void 0 ? _e : '';\n                const firstRating = (0, utils_2.compareTwoStrings)(targetTitle, firstTitle.toLowerCase());\n                const secondRating = (0, utils_2.compareTwoStrings)(targetTitle, secondTitle.toLowerCase());\n                if (firstRating > topRating) {\n                    topRating = firstRating;\n                }\n                if (secondRating > topRating) {\n                    topRating = secondRating;\n                }\n                // Sort in descending order\n                return secondRating - firstRating;\n            });\n            if (topRating >= 0.7) {\n                if (this.provider instanceof crunchyroll_1.default) {\n                    return await this.provider.fetchAnimeInfo(findAnime.results[0].id, findAnime.results[0].type);\n                }\n                else {\n                    return await this.provider.fetchAnimeInfo(findAnime.results[0].id);\n                }\n            }\n            return undefined;\n        };\n        /**\n         * @returns a random anime\n         */\n        this.fetchRandomAnime = async () => {\n            const options = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n                query: (0, utils_1.anilistSiteStatisticsQuery)(),\n            };\n            try {\n                // const {\n                //   data: { data },\n                // } = await this.client.post(this.anilistGraphqlUrl, options);\n                // const selectedAnime = Math.floor(\n                //   Math.random() * data.SiteStatistics.anime.nodes[data.SiteStatistics.anime.nodes.length - 1].count\n                // );\n                // const { results } = await this.advancedSearch(undefined, 'ANIME', Math.ceil(selectedAnime / 50), 50);\n                const { data: data } = await this.client.get('https://raw.githubusercontent.com/5H4D0WILA/IDFetch/main/ids.txt');\n                const ids = data === null || data === void 0 ? void 0 : data.trim().split('\\n');\n                const selectedAnime = Math.floor(Math.random() * ids.length);\n                return await this.fetchAnimeInfo(ids[selectedAnime]);\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         * @param provider The provider to get the episode Ids from (optional) default: `gogoanime` (options: `gogoanime`, `zoro`)\n         * @param page page number (optional)\n         * @param perPage number of results per page (optional)\n         */\n        this.fetchRecentEpisodes = async (provider = 'gogoanime', page = 1, perPage = 25) => {\n            try {\n                const { data } = await this.client.get(`${this.anifyUrl}/recent?page=${page}&perPage=${perPage}&type=anime`);\n                const results = data === null || data === void 0 ? void 0 : data.map((item) => {\n                    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n                    return {\n                        id: item.id.toString(),\n                        malId: (_b = item.mappings.find((item) => item.providerType === 'META' && item.providerId === 'mal')) === null || _b === void 0 ? void 0 : _b.id,\n                        title: {\n                            romaji: (_c = item.title) === null || _c === void 0 ? void 0 : _c.romaji,\n                            english: (_d = item.title) === null || _d === void 0 ? void 0 : _d.english,\n                            native: (_e = item.title) === null || _e === void 0 ? void 0 : _e.native,\n                            // userPreferred: (_f = item.title) === null || _f === void 0 ? void 0 : _f.userPreferred,\n                        },\n                        image: (_f = item.coverImage) !== null && _f !== void 0 ? _f : item.bannerImage,\n                        imageHash: (0, utils_2.getHashFromImage)((_g = item.coverImage) !== null && _g !== void 0 ? _g : item.bannerImage),\n                        rating: item.averageScore,\n                        color: (_h = item.anime) === null || _h === void 0 ? void 0 : _h.color,\n                        episodeId: `${provider === 'gogoanime'\n                            ? (_k = (_j = item.episodes.data\n                                .find((source) => source.providerId.toLowerCase() === 'gogoanime')) === null || _j === void 0 ? void 0 : _j.episodes.pop()) === null || _k === void 0 ? void 0 : _k.id\n                            : (_m = (_l = item.episodes.data\n                                .find((source) => source.providerId.toLowerCase() === 'zoro')) === null || _l === void 0 ? void 0 : _l.episodes.pop()) === null || _m === void 0 ? void 0 : _m.id}`,\n                        episodeTitle: (_o = item.episodes.latest.latestTitle) !== null && _o !== void 0 ? _o : `Episode ${item.currentEpisode}`,\n                        episodeNumber: item.currentEpisode,\n                        genres: item.genre,\n                        type: item.format,\n                    };\n                });\n                // results = results.filter((item) => item.episodeNumber !== 0 &&\n                //     item.episodeId.replace('-enime', '').length > 0 &&\n                //     item.episodeId.replace('-enime', '') !== 'undefined');\n                return {\n                    currentPage: page,\n                    // hasNextPage: meta.lastPage !== page,\n                    // totalPages: meta.lastPage,\n                    totalResults: results === null || results === void 0 ? void 0 : results.length,\n                    results: results,\n                };\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchDefaultEpisodeList = async (Media, dub, id) => {\n            var _b, _c;\n            let episodes = [];\n            episodes = await this.findAnime({ english: (_b = Media.title) === null || _b === void 0 ? void 0 : _b.english, romaji: (_c = Media.title) === null || _c === void 0 ? void 0 : _c.romaji }, Media.season, Media.startDate.year, Media.idMal, dub, id, Media.externalLinks);\n            return episodes;\n        };\n        /**\n         * @param id anilist id\n         * @param dub language of the dubbed version (optional) currently only works for gogoanime\n         * @param fetchFiller to get filler boolean on the episode object (optional) set to `true` to get filler boolean on the episode object.\n         * @returns episode list **(without anime info)**\n         */\n        this.fetchEpisodesListById = async (id, dub = false, fetchFiller = false) => {\n            var _b, _c;\n            const options = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n                query: `query($id: Int = ${id}){ Media(id: $id){ idMal externalLinks { site url } title { romaji english } status season episodes startDate { year month day } endDate { year month day }  coverImage {extraLarge large medium} } }`,\n            };\n            const { data: { data: { Media }, }, } = await this.client.post(this.anilistGraphqlUrl, options);\n            let possibleAnimeEpisodes = [];\n            let fillerEpisodes = [];\n            if ((this.provider instanceof zoro_1.default || this.provider instanceof gogoanime_1.default) &&\n                !dub &&\n                (Media.status === 'RELEASING' ||\n                    (0, utils_1.range)({ from: 2000, to: new Date().getFullYear() + 1 }).includes(parseInt((_b = Media.startDate) === null || _b === void 0 ? void 0 : _b.year)))) {\n                try {\n                    possibleAnimeEpisodes = (_c = (await new anify_1.default().fetchAnimeInfoByAnilistId(id, this.provider.name.toLowerCase())).episodes) === null || _c === void 0 ? void 0 : _c.map((item) => ({\n                        id: item.slug,\n                        title: item.title,\n                        description: item.description,\n                        number: item.number,\n                        image: item.image,\n                        imageHash: (0, utils_2.getHashFromImage)(item.image),\n                    }));\n                    if (!possibleAnimeEpisodes.length) {\n                        possibleAnimeEpisodes = await this.fetchDefaultEpisodeList(Media, dub, id);\n                        possibleAnimeEpisodes = possibleAnimeEpisodes === null || possibleAnimeEpisodes === void 0 ? void 0 : possibleAnimeEpisodes.map((episode) => {\n                            var _b, _c, _d, _e;\n                            if (!episode.image) {\n                                episode.image =\n                                    (_c = (_b = Media.coverImage.extraLarge) !== null && _b !== void 0 ? _b : Media.coverImage.large) !== null && _c !== void 0 ? _c : Media.coverImage.medium;\n                                episode.imageHash = (0, utils_2.getHashFromImage)((_e = (_d = Media.coverImage.extraLarge) !== null && _d !== void 0 ? _d : Media.coverImage.large) !== null && _e !== void 0 ? _e : Media.coverImage.medium);\n                            }\n                            return episode;\n                        });\n                    }\n                }\n                catch (err) {\n                    possibleAnimeEpisodes = await this.fetchDefaultEpisodeList(Media, dub, id);\n                    possibleAnimeEpisodes = possibleAnimeEpisodes === null || possibleAnimeEpisodes === void 0 ? void 0 : possibleAnimeEpisodes.map((episode) => {\n                        var _b, _c, _d, _e;\n                        if (!episode.image) {\n                            episode.image = (_c = (_b = Media.coverImage.extraLarge) !== null && _b !== void 0 ? _b : Media.coverImage.large) !== null && _c !== void 0 ? _c : Media.coverImage.medium;\n                            episode.imageHash = (0, utils_2.getHashFromImage)((_e = (_d = Media.coverImage.extraLarge) !== null && _d !== void 0 ? _d : Media.coverImage.large) !== null && _e !== void 0 ? _e : Media.coverImage.medium);\n                        }\n                        return episode;\n                    });\n                    return possibleAnimeEpisodes;\n                }\n            }\n            else\n                possibleAnimeEpisodes = await this.fetchDefaultEpisodeList(Media, dub, id);\n            if (fetchFiller) {\n                const { data: fillerData } = await this.client.get(`https://raw.githubusercontent.com/saikou-app/mal-id-filler-list/main/fillers/${Media.idMal}.json`, {\n                    validateStatus: () => true,\n                });\n                if (!fillerData.toString().startsWith('404')) {\n                    fillerEpisodes = [];\n                    fillerEpisodes === null || fillerEpisodes === void 0 ? void 0 : fillerEpisodes.push(...fillerData.episodes);\n                }\n            }\n            possibleAnimeEpisodes = possibleAnimeEpisodes === null || possibleAnimeEpisodes === void 0 ? void 0 : possibleAnimeEpisodes.map((episode) => {\n                var _b, _c, _d, _e;\n                if (!episode.image) {\n                    episode.image = (_c = (_b = Media.coverImage.extraLarge) !== null && _b !== void 0 ? _b : Media.coverImage.large) !== null && _c !== void 0 ? _c : Media.coverImage.medium;\n                    episode.imageHash = (0, utils_2.getHashFromImage)((_e = (_d = Media.coverImage.extraLarge) !== null && _d !== void 0 ? _d : Media.coverImage.large) !== null && _e !== void 0 ? _e : Media.coverImage.medium);\n                }\n                if (fetchFiller && (fillerEpisodes === null || fillerEpisodes === void 0 ? void 0 : fillerEpisodes.length) > 0 && (fillerEpisodes === null || fillerEpisodes === void 0 ? void 0 : fillerEpisodes.length) >= Media.episodes) {\n                    if (fillerEpisodes[episode.number - 1])\n                        episode.isFiller = new Boolean(fillerEpisodes[episode.number - 1]['filler-bool']).valueOf();\n                }\n                return episode;\n            });\n            return possibleAnimeEpisodes;\n        };\n        /**\n         * @param id anilist id\n         * @returns anilist data for the anime **(without episodes)** (use `fetchEpisodesListById` to get the episodes) (use `fetchAnimeInfo` to get both)\n         */\n        this.fetchAnilistInfoById = async (id) => {\n            var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5;\n            const animeInfo = {\n                id: id,\n                title: '',\n            };\n            const options = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n                query: (0, utils_1.anilistMediaDetailQuery)(id),\n            };\n            try {\n                const { data } = await this.client.post(this.anilistGraphqlUrl, options).catch(() => {\n                    throw new Error('Media not found');\n                });\n                animeInfo.malId = data.data.Media.idMal;\n                animeInfo.title = {\n                    romaji: data.data.Media.title.romaji,\n                    english: data.data.Media.title.english,\n                    native: data.data.Media.title.native,\n                    userPreferred: data.data.Media.title.userPreferred,\n                };\n                if ((_b = data.data.Media.trailer) === null || _b === void 0 ? void 0 : _b.id) {\n                    animeInfo.trailer = {\n                        id: (_c = data.data.Media.trailer) === null || _c === void 0 ? void 0 : _c.id,\n                        site: (_d = data.data.Media.trailer) === null || _d === void 0 ? void 0 : _d.site,\n                        thumbnail: (_e = data.data.Media.trailer) === null || _e === void 0 ? void 0 : _e.thumbnail,\n                        thumbnailHash: (0, utils_2.getHashFromImage)((_f = data.data.Media.trailer) === null || _f === void 0 ? void 0 : _f.thumbnail),\n                    };\n                }\n                animeInfo.synonyms = data.data.Media.synonyms;\n                animeInfo.isLicensed = data.data.Media.isLicensed;\n                animeInfo.isAdult = data.data.Media.isAdult;\n                animeInfo.countryOfOrigin = data.data.Media.countryOfOrigin;\n                animeInfo.image =\n                    (_h = (_g = data.data.Media.coverImage.extraLarge) !== null && _g !== void 0 ? _g : data.data.Media.coverImage.large) !== null && _h !== void 0 ? _h : data.data.Media.coverImage.medium;\n                animeInfo.imageHash = (0, utils_2.getHashFromImage)((_k = (_j = data.data.Media.coverImage.extraLarge) !== null && _j !== void 0 ? _j : data.data.Media.coverImage.large) !== null && _k !== void 0 ? _k : data.data.Media.coverImage.medium);\n                animeInfo.cover = (_l = data.data.Media.bannerImage) !== null && _l !== void 0 ? _l : animeInfo.image;\n                animeInfo.coverHash = (0, utils_2.getHashFromImage)((_m = data.data.Media.bannerImage) !== null && _m !== void 0 ? _m : animeInfo.image);\n                animeInfo.description = data.data.Media.description;\n                switch (data.data.Media.status) {\n                    case 'RELEASING':\n                        animeInfo.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    case 'FINISHED':\n                        animeInfo.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                    case 'NOT_YET_RELEASED':\n                        animeInfo.status = models_1.MediaStatus.NOT_YET_AIRED;\n                        break;\n                    case 'CANCELLED':\n                        animeInfo.status = models_1.MediaStatus.CANCELLED;\n                        break;\n                    case 'HIATUS':\n                        animeInfo.status = models_1.MediaStatus.HIATUS;\n                    default:\n                        animeInfo.status = models_1.MediaStatus.UNKNOWN;\n                }\n                animeInfo.releaseDate = data.data.Media.startDate.year;\n                if ((_o = data.data.Media.nextAiringEpisode) === null || _o === void 0 ? void 0 : _o.airingAt)\n                    animeInfo.nextAiringEpisode = {\n                        airingTime: (_p = data.data.Media.nextAiringEpisode) === null || _p === void 0 ? void 0 : _p.airingAt,\n                        timeUntilAiring: (_q = data.data.Media.nextAiringEpisode) === null || _q === void 0 ? void 0 : _q.timeUntilAiring,\n                        episode: (_r = data.data.Media.nextAiringEpisode) === null || _r === void 0 ? void 0 : _r.episode,\n                    };\n                animeInfo.totalEpisodes = (_t = (_s = data.data.Media) === null || _s === void 0 ? void 0 : _s.episodes) !== null && _t !== void 0 ? _t : ((_u = data.data.Media.nextAiringEpisode) === null || _u === void 0 ? void 0 : _u.episode) - 1;\n                animeInfo.currentEpisode = ((_w = (_v = data.data.Media) === null || _v === void 0 ? void 0 : _v.nextAiringEpisode) === null || _w === void 0 ? void 0 : _w.episode)\n                    ? ((_x = data.data.Media.nextAiringEpisode) === null || _x === void 0 ? void 0 : _x.episode) - 1\n                    : ((_y = data.data.Media) === null || _y === void 0 ? void 0 : _y.episodes) || undefined;\n                animeInfo.rating = data.data.Media.averageScore;\n                animeInfo.duration = data.data.Media.duration;\n                animeInfo.genres = data.data.Media.genres;\n                animeInfo.studios = data.data.Media.studios.edges.map((item) => item.node.name);\n                animeInfo.season = data.data.Media.season;\n                animeInfo.popularity = data.data.Media.popularity;\n                animeInfo.type = data.data.Media.format;\n                animeInfo.startDate = {\n                    year: (_z = data.data.Media.startDate) === null || _z === void 0 ? void 0 : _z.year,\n                    month: (_0 = data.data.Media.startDate) === null || _0 === void 0 ? void 0 : _0.month,\n                    day: (_1 = data.data.Media.startDate) === null || _1 === void 0 ? void 0 : _1.day,\n                };\n                animeInfo.endDate = {\n                    year: (_2 = data.data.Media.endDate) === null || _2 === void 0 ? void 0 : _2.year,\n                    month: (_3 = data.data.Media.endDate) === null || _3 === void 0 ? void 0 : _3.month,\n                    day: (_4 = data.data.Media.endDate) === null || _4 === void 0 ? void 0 : _4.day,\n                };\n                animeInfo.recommendations = data.data.Media.recommendations.edges.map((item) => {\n                    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n                    return ({\n                        id: item.node.mediaRecommendation.id,\n                        malId: item.node.mediaRecommendation.idMal,\n                        title: {\n                            romaji: item.node.mediaRecommendation.title.romaji,\n                            english: item.node.mediaRecommendation.title.english,\n                            native: item.node.mediaRecommendation.title.native,\n                            userPreferred: item.node.mediaRecommendation.title.userPreferred,\n                        },\n                        status: item.node.mediaRecommendation.status == 'RELEASING'\n                            ? models_1.MediaStatus.ONGOING\n                            : item.node.mediaRecommendation.status == 'FINISHED'\n                                ? models_1.MediaStatus.COMPLETED\n                                : item.node.mediaRecommendation.status == 'NOT_YET_RELEASED'\n                                    ? models_1.MediaStatus.NOT_YET_AIRED\n                                    : item.node.mediaRecommendation.status == 'CANCELLED'\n                                        ? models_1.MediaStatus.CANCELLED\n                                        : item.node.mediaRecommendation.status == 'HIATUS'\n                                            ? models_1.MediaStatus.HIATUS\n                                            : models_1.MediaStatus.UNKNOWN,\n                        episodes: item.node.mediaRecommendation.episodes,\n                        image: (_c = (_b = item.node.mediaRecommendation.coverImage.extraLarge) !== null && _b !== void 0 ? _b : item.node.mediaRecommendation.coverImage.large) !== null && _c !== void 0 ? _c : item.node.mediaRecommendation.coverImage.medium,\n                        imageHash: (0, utils_2.getHashFromImage)((_e = (_d = item.node.mediaRecommendation.coverImage.extraLarge) !== null && _d !== void 0 ? _d : item.node.mediaRecommendation.coverImage.large) !== null && _e !== void 0 ? _e : item.node.mediaRecommendation.coverImage.medium),\n                        cover: (_h = (_g = (_f = item.node.mediaRecommendation.bannerImage) !== null && _f !== void 0 ? _f : item.node.mediaRecommendation.coverImage.extraLarge) !== null && _g !== void 0 ? _g : item.node.mediaRecommendation.coverImage.large) !== null && _h !== void 0 ? _h : item.node.mediaRecommendation.coverImage.medium,\n                        coverHash: (_l = (_k = (_j = item.node.mediaRecommendation.bannerImage) !== null && _j !== void 0 ? _j : item.node.mediaRecommendation.coverImage.extraLarge) !== null && _k !== void 0 ? _k : item.node.mediaRecommendation.coverImage.large) !== null && _l !== void 0 ? _l : item.node.mediaRecommendation.coverImage.medium,\n                        rating: item.node.mediaRecommendation.meanScore,\n                        type: item.node.mediaRecommendation.format,\n                    });\n                });\n                animeInfo.characters = data.data.Media.characters.edges.map((item) => {\n                    var _b, _c;\n                    return ({\n                        id: item.node.id,\n                        role: item.role,\n                        name: {\n                            first: item.node.name.first,\n                            last: item.node.name.last,\n                            full: item.node.name.full,\n                            native: item.node.name.native,\n                            userPreferred: item.node.name.userPreferred,\n                        },\n                        image: (_b = item.node.image.large) !== null && _b !== void 0 ? _b : item.node.image.medium,\n                        imageHash: (0, utils_2.getHashFromImage)((_c = item.node.image.large) !== null && _c !== void 0 ? _c : item.node.image.medium),\n                        voiceActors: item.voiceActors.map((voiceActor) => {\n                            var _b, _c;\n                            return ({\n                                id: voiceActor.id,\n                                language: voiceActor.languageV2,\n                                name: {\n                                    first: voiceActor.name.first,\n                                    last: voiceActor.name.last,\n                                    full: voiceActor.name.full,\n                                    native: voiceActor.name.native,\n                                    userPreferred: voiceActor.name.userPreferred,\n                                },\n                                image: (_b = voiceActor.image.large) !== null && _b !== void 0 ? _b : voiceActor.image.medium,\n                                imageHash: (0, utils_2.getHashFromImage)((_c = voiceActor.image.large) !== null && _c !== void 0 ? _c : voiceActor.image.medium),\n                            });\n                        }),\n                    });\n                });\n                animeInfo.color = (_5 = data.data.Media.coverImage) === null || _5 === void 0 ? void 0 : _5.color;\n                animeInfo.relations = data.data.Media.relations.edges.map((item) => {\n                    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n                    return ({\n                        id: item.node.id,\n                        malId: item.node.idMal,\n                        relationType: item.relationType,\n                        title: {\n                            romaji: item.node.title.romaji,\n                            english: item.node.title.english,\n                            native: item.node.title.native,\n                            userPreferred: item.node.title.userPreferred,\n                        },\n                        status: item.node.status == 'RELEASING'\n                            ? models_1.MediaStatus.ONGOING\n                            : item.node.status == 'FINISHED'\n                                ? models_1.MediaStatus.COMPLETED\n                                : item.node.status == 'NOT_YET_RELEASED'\n                                    ? models_1.MediaStatus.NOT_YET_AIRED\n                                    : item.node.status == 'CANCELLED'\n                                        ? models_1.MediaStatus.CANCELLED\n                                        : item.node.status == 'HIATUS'\n                                            ? models_1.MediaStatus.HIATUS\n                                            : models_1.MediaStatus.UNKNOWN,\n                        episodes: item.node.episodes,\n                        image: (_c = (_b = item.node.coverImage.extraLarge) !== null && _b !== void 0 ? _b : item.node.coverImage.large) !== null && _c !== void 0 ? _c : item.node.coverImage.medium,\n                        imageHash: (0, utils_2.getHashFromImage)((_e = (_d = item.node.coverImage.extraLarge) !== null && _d !== void 0 ? _d : item.node.coverImage.large) !== null && _e !== void 0 ? _e : item.node.coverImage.medium),\n                        cover: (_h = (_g = (_f = item.node.bannerImage) !== null && _f !== void 0 ? _f : item.node.coverImage.extraLarge) !== null && _g !== void 0 ? _g : item.node.coverImage.large) !== null && _h !== void 0 ? _h : item.node.coverImage.medium,\n                        coverHash: (0, utils_2.getHashFromImage)((_l = (_k = (_j = item.node.bannerImage) !== null && _j !== void 0 ? _j : item.node.coverImage.extraLarge) !== null && _k !== void 0 ? _k : item.node.coverImage.large) !== null && _l !== void 0 ? _l : item.node.coverImage.medium),\n                        rating: item.node.meanScore,\n                        type: item.node.format,\n                    });\n                });\n                return animeInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         * To get Staff details by anilistId\n         * @param id staff id from anilist\n         *\n         */\n        this.fetchStaffById = async (id) => {\n            const staffInfo = {\n                id: String(id),\n                name: { first: '', last: '', native: '', full: '' },\n            };\n            const options = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n                query: (0, utils_1.anilistStaffInfoQuery)(id),\n            };\n            try {\n                const { data } = await this.client.post(this.anilistGraphqlUrl, options).catch(err => {\n                    throw new Error(err.message);\n                });\n                const staff = data.data.Staff;\n                staffInfo.id = staff === null || staff === void 0 ? void 0 : staff.id;\n                staffInfo.name = staff === null || staff === void 0 ? void 0 : staff.name;\n                staffInfo.image = staff === null || staff === void 0 ? void 0 : staff.image;\n                staffInfo.description = staff === null || staff === void 0 ? void 0 : staff.description;\n                staffInfo.siteUrl = staff === null || staff === void 0 ? void 0 : staff.siteUrl;\n                staffInfo.roles = staff === null || staff === void 0 ? void 0 : staff.staffMedia.edges.map((media) => {\n                    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n                    return ({\n                        id: (_b = media === null || media === void 0 ? void 0 : media.node) === null || _b === void 0 ? void 0 : _b.id,\n                        title: (_c = media === null || media === void 0 ? void 0 : media.node) === null || _c === void 0 ? void 0 : _c.title,\n                        type: (_d = media === null || media === void 0 ? void 0 : media.node) === null || _d === void 0 ? void 0 : _d.type,\n                        image: {\n                            extraLarge: (_f = (_e = media === null || media === void 0 ? void 0 : media.node) === null || _e === void 0 ? void 0 : _e.coverImage) === null || _f === void 0 ? void 0 : _f.extraLarge,\n                            large: (_h = (_g = media === null || media === void 0 ? void 0 : media.node) === null || _g === void 0 ? void 0 : _g.coverImage) === null || _h === void 0 ? void 0 : _h.large,\n                            medium: (_k = (_j = media === null || media === void 0 ? void 0 : media.node) === null || _j === void 0 ? void 0 : _j.coverImage) === null || _k === void 0 ? void 0 : _k.medium,\n                        },\n                        color: (_m = (_l = media === null || media === void 0 ? void 0 : media.node) === null || _l === void 0 ? void 0 : _l.coverImage) === null || _m === void 0 ? void 0 : _m.color,\n                    });\n                });\n                return staffInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param id character id from anilist\n         */\n        this.fetchCharacterInfoById = async (id) => {\n            var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12;\n            const options = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n                query: (0, utils_1.anilistCharacterQuery)(),\n                variables: {\n                    id: id,\n                },\n            };\n            try {\n                const { data: { data: { Character }, }, } = await this.client.post(this.anilistGraphqlUrl, options);\n                const height = (_b = Character.description.match(/__Height:__(.*)/)) === null || _b === void 0 ? void 0 : _b[1].trim();\n                const weight = (_c = Character.description.match(/__Weight:__(.*)/)) === null || _c === void 0 ? void 0 : _c[1].trim();\n                const hairColor = (_d = Character.description.match(/__Hair Color:__(.*)/)) === null || _d === void 0 ? void 0 : _d[1].trim();\n                const eyeColor = (_e = Character.description.match(/__Eye Color:__(.*)/)) === null || _e === void 0 ? void 0 : _e[1].trim();\n                const relatives = (_f = Character.description\n                    .match(/__Relatives:__(.*)/)) === null || _f === void 0 ? void 0 : _f[1].trim().split(/(, \\[)/g).filter((g) => !g.includes(', [')).map((r) => {\n                    var _b, _c, _d;\n                    return ({\n                        id: (_b = r.match(/\\/(\\d+)/)) === null || _b === void 0 ? void 0 : _b[1],\n                        name: (_c = r.match(/([^)]+)\\]/)) === null || _c === void 0 ? void 0 : _c[1].replace(/\\[/g, ''),\n                        relationship: (_d = r.match(/\\(([^)]+)\\).*?(\\(([^)]+)\\))/)) === null || _d === void 0 ? void 0 : _d[3],\n                    });\n                });\n                const race = (_g = Character.description\n                    .match(/__Race:__(.*)/)) === null || _g === void 0 ? void 0 : _g[1].split(', ').map((r) => r.trim());\n                const rank = (_h = Character.description.match(/__Rank:__(.*)/)) === null || _h === void 0 ? void 0 : _h[1];\n                const occupation = (_j = Character.description.match(/__Occupation:__(.*)/)) === null || _j === void 0 ? void 0 : _j[1];\n                const previousPosition = (_l = (_k = Character.description.match(/__Previous Position:__(.*)/)) === null || _k === void 0 ? void 0 : _k[1]) === null || _l === void 0 ? void 0 : _l.trim();\n                const partner = (_m = Character.description\n                    .match(/__Partner:__(.*)/)) === null || _m === void 0 ? void 0 : _m[1].split(/(, \\[)/g).filter((g) => !g.includes(', [')).map((r) => {\n                    var _b, _c;\n                    return ({\n                        id: (_b = r.match(/\\/(\\d+)/)) === null || _b === void 0 ? void 0 : _b[1],\n                        name: (_c = r.match(/([^)]+)\\]/)) === null || _c === void 0 ? void 0 : _c[1].replace(/\\[/g, ''),\n                    });\n                });\n                const dislikes = (_o = Character.description.match(/__Dislikes:__(.*)/)) === null || _o === void 0 ? void 0 : _o[1];\n                const sign = (_p = Character.description.match(/__Sign:__(.*)/)) === null || _p === void 0 ? void 0 : _p[1];\n                const zodicSign = (_r = (_q = Character.description.match(/__Zodiac sign:__(.*)/)) === null || _q === void 0 ? void 0 : _q[1]) === null || _r === void 0 ? void 0 : _r.trim();\n                const zodicAnimal = (_t = (_s = Character.description.match(/__Zodiac Animal:__(.*)/)) === null || _s === void 0 ? void 0 : _s[1]) === null || _t === void 0 ? void 0 : _t.trim();\n                const themeSong = (_v = (_u = Character.description.match(/__Theme Song:__(.*)/)) === null || _u === void 0 ? void 0 : _u[1]) === null || _v === void 0 ? void 0 : _v.trim();\n                Character.description = Character.description.replace(/__Theme Song:__(.*)\\n|__Race:__(.*)\\n|__Height:__(.*)\\n|__Relatives:__(.*)\\n|__Rank:__(.*)\\n|__Zodiac sign:__(.*)\\n|__Zodiac Animal:__(.*)\\n|__Weight:__(.*)\\n|__Eye Color:__(.*)\\n|__Hair Color:__(.*)\\n|__Dislikes:__(.*)\\n|__Sign:__(.*)\\n|__Partner:__(.*)\\n|__Previous Position:__(.*)\\n|__Occupation:__(.*)\\n/gm, '');\n                const characterInfo = {\n                    id: Character.id,\n                    name: {\n                        first: (_w = Character.name) === null || _w === void 0 ? void 0 : _w.first,\n                        last: (_x = Character.name) === null || _x === void 0 ? void 0 : _x.last,\n                        full: (_y = Character.name) === null || _y === void 0 ? void 0 : _y.full,\n                        native: (_z = Character.name) === null || _z === void 0 ? void 0 : _z.native,\n                        userPreferred: (_0 = Character.name) === null || _0 === void 0 ? void 0 : _0.userPreferred,\n                        alternative: (_1 = Character.name) === null || _1 === void 0 ? void 0 : _1.alternative,\n                        alternativeSpoiler: (_2 = Character.name) === null || _2 === void 0 ? void 0 : _2.alternativeSpoiler,\n                    },\n                    image: (_4 = (_3 = Character.image) === null || _3 === void 0 ? void 0 : _3.large) !== null && _4 !== void 0 ? _4 : (_5 = Character.image) === null || _5 === void 0 ? void 0 : _5.medium,\n                    imageHash: (0, utils_2.getHashFromImage)((_7 = (_6 = Character.image) === null || _6 === void 0 ? void 0 : _6.large) !== null && _7 !== void 0 ? _7 : (_8 = Character.image) === null || _8 === void 0 ? void 0 : _8.medium),\n                    description: Character.description,\n                    gender: Character.gender,\n                    dateOfBirth: {\n                        year: (_9 = Character.dateOfBirth) === null || _9 === void 0 ? void 0 : _9.year,\n                        month: (_10 = Character.dateOfBirth) === null || _10 === void 0 ? void 0 : _10.month,\n                        day: (_11 = Character.dateOfBirth) === null || _11 === void 0 ? void 0 : _11.day,\n                    },\n                    bloodType: Character.bloodType,\n                    age: Character.age,\n                    hairColor: hairColor,\n                    eyeColor: eyeColor,\n                    height: height,\n                    weight: weight,\n                    occupation: occupation,\n                    partner: partner,\n                    relatives: relatives,\n                    race: race,\n                    rank: rank,\n                    previousPosition: previousPosition,\n                    dislikes: dislikes,\n                    sign: sign,\n                    zodicSign: zodicSign,\n                    zodicAnimal: zodicAnimal,\n                    themeSong: themeSong,\n                    relations: (_12 = Character.media.edges) === null || _12 === void 0 ? void 0 : _12.map((v) => {\n                        var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\n                        return ({\n                            id: v.node.id,\n                            malId: v.node.idMal,\n                            role: v.characterRole,\n                            title: {\n                                romaji: (_b = v.node.title) === null || _b === void 0 ? void 0 : _b.romaji,\n                                english: (_c = v.node.title) === null || _c === void 0 ? void 0 : _c.english,\n                                native: (_d = v.node.title) === null || _d === void 0 ? void 0 : _d.native,\n                                userPreferred: (_e = v.node.title) === null || _e === void 0 ? void 0 : _e.userPreferred,\n                            },\n                            status: v.node.status == 'RELEASING'\n                                ? models_1.MediaStatus.ONGOING\n                                : v.node.status == 'FINISHED'\n                                    ? models_1.MediaStatus.COMPLETED\n                                    : v.node.status == 'NOT_YET_RELEASED'\n                                        ? models_1.MediaStatus.NOT_YET_AIRED\n                                        : v.node.status == 'CANCELLED'\n                                            ? models_1.MediaStatus.CANCELLED\n                                            : v.node.status == 'HIATUS'\n                                                ? models_1.MediaStatus.HIATUS\n                                                : models_1.MediaStatus.UNKNOWN,\n                            episodes: v.node.episodes,\n                            image: (_j = (_g = (_f = v.node.coverImage) === null || _f === void 0 ? void 0 : _f.extraLarge) !== null && _g !== void 0 ? _g : (_h = v.node.coverImage) === null || _h === void 0 ? void 0 : _h.large) !== null && _j !== void 0 ? _j : (_k = v.node.coverImage) === null || _k === void 0 ? void 0 : _k.medium,\n                            imageHash: (0, utils_2.getHashFromImage)((_p = (_m = (_l = v.node.coverImage) === null || _l === void 0 ? void 0 : _l.extraLarge) !== null && _m !== void 0 ? _m : (_o = v.node.coverImage) === null || _o === void 0 ? void 0 : _o.large) !== null && _p !== void 0 ? _p : (_q = v.node.coverImage) === null || _q === void 0 ? void 0 : _q.medium),\n                            rating: v.node.averageScore,\n                            releaseDate: (_r = v.node.startDate) === null || _r === void 0 ? void 0 : _r.year,\n                            type: v.node.format,\n                            color: (_s = v.node.coverImage) === null || _s === void 0 ? void 0 : _s.color,\n                        });\n                    }),\n                };\n                return characterInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.findMangaSlug = async (provider, title, malId) => {\n            const slug = title.replace(/[^0-9a-zA-Z]+/g, ' ');\n            let possibleManga;\n            if (malId) {\n                const malAsyncReq = await this.client.get(`${this.malSyncUrl}/mal/manga/${malId}`, {\n                    validateStatus: () => true,\n                });\n                if (malAsyncReq.status === 200) {\n                    const sitesT = malAsyncReq.data.Sites;\n                    let sites = Object.values(sitesT).map((v, i) => {\n                        const obj = [...Object.values(Object.values(sitesT)[i])];\n                        const pages = obj.map((v) => ({\n                            page: v.page,\n                            url: v.url,\n                            title: v.title,\n                        }));\n                        return pages;\n                    });\n                    sites = sites.flat();\n                    const possibleSource = sites.find(s => s.page.toLowerCase() === provider.name.toLowerCase());\n                    if (possibleSource)\n                        possibleManga = await provider.fetchMangaInfo(possibleSource.url.split('/').pop());\n                    else\n                        possibleManga = await this.findMangaRaw(provider, slug, title);\n                }\n                else\n                    possibleManga = await this.findMangaRaw(provider, slug, title);\n            }\n            else\n                possibleManga = await this.findMangaRaw(provider, slug, title);\n            const possibleProviderChapters = possibleManga.chapters;\n            return possibleProviderChapters;\n        };\n        this.findMangaRaw = async (provider, slug, title) => {\n            const findAnime = (await provider.search(slug));\n            if (findAnime.results.length === 0)\n                return [];\n            // TODO: use much better way than this\n            const possibleManga = findAnime.results.find((manga) => title.toLowerCase() == (typeof manga.title === 'string' ? manga.title.toLowerCase() : ''));\n            if (!possibleManga)\n                return (await provider.fetchMangaInfo(findAnime.results[0].id));\n            return (await provider.fetchMangaInfo(possibleManga.id));\n        };\n        this.findManga = async (provider, title, malId) => {\n            var _b, _c;\n            title.english = (_b = title.english) !== null && _b !== void 0 ? _b : title.romaji;\n            title.romaji = (_c = title.romaji) !== null && _c !== void 0 ? _c : title.english;\n            title.english = title.english.toLowerCase();\n            title.romaji = title.romaji.toLowerCase();\n            if (title.english === title.romaji)\n                return await this.findMangaSlug(provider, title.english, malId);\n            const romajiPossibleEpisodes = this.findMangaSlug(provider, title.romaji, malId);\n            if (romajiPossibleEpisodes) {\n                return romajiPossibleEpisodes;\n            }\n            const englishPossibleEpisodes = this.findMangaSlug(provider, title.english, malId);\n            return englishPossibleEpisodes;\n        };\n        this.provider = provider || new gogoanime_1.default(customBaseURL, proxyConfig);\n    }\n}\n_a = Anilist;\n/**\n * Anilist Anime class\n */\nAnilist.Anime = _a;\n/**\n * Anilist Manga Class\n */\nAnilist.Manga = class Manga {\n    /**\n     * Maps anilist manga to any manga provider (mangadex, mangasee, etc)\n     * @param provider MangaParser\n     */\n    constructor(provider) {\n        /**\n         *\n         * @param query query to search for\n         * @param page (optional) page number (default: `1`)\n         * @param perPage (optional) number of results per page (default: `20`)\n         */\n        this.search = async (query, page = 1, perPage = 20) => {\n            const options = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n                query: (0, utils_1.anilistSearchQuery)(query, page, perPage, 'MANGA'),\n            };\n            try {\n                const { data } = await axios_1.default.post(new _a().anilistGraphqlUrl, options);\n                const res = {\n                    currentPage: data.data.Page.pageInfo.currentPage,\n                    hasNextPage: data.data.Page.pageInfo.hasNextPage,\n                    results: data.data.Page.media.map((item) => {\n                        var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n                        return ({\n                            id: item.id.toString(),\n                            malId: item.idMal,\n                            title: item.title\n                                ? {\n                                    romaji: item.title.romaji,\n                                    english: item.title.english,\n                                    native: item.title.native,\n                                    userPreferred: item.title.userPreferred,\n                                }\n                                : item.title.romaji,\n                            status: item.status == 'RELEASING'\n                                ? models_1.MediaStatus.ONGOING\n                                : item.status == 'FINISHED'\n                                    ? models_1.MediaStatus.COMPLETED\n                                    : item.status == 'NOT_YET_RELEASED'\n                                        ? models_1.MediaStatus.NOT_YET_AIRED\n                                        : item.status == 'CANCELLED'\n                                            ? models_1.MediaStatus.CANCELLED\n                                            : item.status == 'HIATUS'\n                                                ? models_1.MediaStatus.HIATUS\n                                                : models_1.MediaStatus.UNKNOWN,\n                            image: (_e = (_c = (_b = item.coverImage) === null || _b === void 0 ? void 0 : _b.extraLarge) !== null && _c !== void 0 ? _c : (_d = item.coverImage) === null || _d === void 0 ? void 0 : _d.large) !== null && _e !== void 0 ? _e : (_f = item.coverImage) === null || _f === void 0 ? void 0 : _f.medium,\n                            imageHash: (0, utils_2.getHashFromImage)((_k = (_h = (_g = item.coverImage) === null || _g === void 0 ? void 0 : _g.extraLarge) !== null && _h !== void 0 ? _h : (_j = item.coverImage) === null || _j === void 0 ? void 0 : _j.large) !== null && _k !== void 0 ? _k : (_l = item.coverImage) === null || _l === void 0 ? void 0 : _l.medium),\n                            cover: item.bannerImage,\n                            coverHash: (0, utils_2.getHashFromImage)(item.bannerImage),\n                            popularity: item.popularity,\n                            description: item.description,\n                            rating: item.averageScore,\n                            genres: item.genres,\n                            color: (_m = item.coverImage) === null || _m === void 0 ? void 0 : _m.color,\n                            totalChapters: item.chapters,\n                            volumes: item.volumes,\n                            type: item.format,\n                            releaseDate: item.seasonYear,\n                        });\n                    }),\n                };\n                return res;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param chapterId chapter id\n         * @param args args to pass to the provider (if any)\n         * @returns\n         */\n        this.fetchChapterPages = (chapterId, ...args) => {\n            return this.provider.fetchChapterPages(chapterId, ...args);\n        };\n        this.fetchMangaInfo = async (id, ...args) => {\n            var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n            const mangaInfo = {\n                id: id,\n                title: '',\n            };\n            const options = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json',\n                },\n                query: (0, utils_1.anilistMediaDetailQuery)(id),\n            };\n            try {\n                const { data } = await axios_1.default.post(new _a().anilistGraphqlUrl, options).catch(err => {\n                    throw new Error('Media not found');\n                });\n                mangaInfo.malId = data.data.Media.idMal;\n                mangaInfo.title = {\n                    romaji: data.data.Media.title.romaji,\n                    english: data.data.Media.title.english,\n                    native: data.data.Media.title.native,\n                    userPreferred: data.data.Media.title.userPreferred,\n                };\n                if ((_b = data.data.Media.trailer) === null || _b === void 0 ? void 0 : _b.id) {\n                    mangaInfo.trailer = {\n                        id: data.data.Media.trailer.id,\n                        site: (_c = data.data.Media.trailer) === null || _c === void 0 ? void 0 : _c.site,\n                        thumbnail: (_d = data.data.Media.trailer) === null || _d === void 0 ? void 0 : _d.thumbnail,\n                        thumbnailHash: (0, utils_2.getHashFromImage)((_e = data.data.Media.trailer) === null || _e === void 0 ? void 0 : _e.thumbnail),\n                    };\n                }\n                mangaInfo.image =\n                    (_g = (_f = data.data.Media.coverImage.extraLarge) !== null && _f !== void 0 ? _f : data.data.Media.coverImage.large) !== null && _g !== void 0 ? _g : data.data.Media.coverImage.medium;\n                mangaInfo.imageHash = (0, utils_2.getHashFromImage)((_j = (_h = data.data.Media.coverImage.extraLarge) !== null && _h !== void 0 ? _h : data.data.Media.coverImage.large) !== null && _j !== void 0 ? _j : data.data.Media.coverImage.medium);\n                mangaInfo.popularity = data.data.Media.popularity;\n                mangaInfo.color = (_k = data.data.Media.coverImage) === null || _k === void 0 ? void 0 : _k.color;\n                mangaInfo.cover = (_l = data.data.Media.bannerImage) !== null && _l !== void 0 ? _l : mangaInfo.image;\n                mangaInfo.coverHash = (0, utils_2.getHashFromImage)((_m = data.data.Media.bannerImage) !== null && _m !== void 0 ? _m : mangaInfo.image);\n                mangaInfo.description = data.data.Media.description;\n                switch (data.data.Media.status) {\n                    case 'RELEASING':\n                        mangaInfo.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    case 'FINISHED':\n                        mangaInfo.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                    case 'NOT_YET_RELEASED':\n                        mangaInfo.status = models_1.MediaStatus.NOT_YET_AIRED;\n                        break;\n                    case 'CANCELLED':\n                        mangaInfo.status = models_1.MediaStatus.CANCELLED;\n                        break;\n                    case 'HIATUS':\n                        mangaInfo.status = models_1.MediaStatus.HIATUS;\n                    default:\n                        mangaInfo.status = models_1.MediaStatus.UNKNOWN;\n                }\n                mangaInfo.releaseDate = data.data.Media.startDate.year;\n                mangaInfo.startDate = {\n                    year: data.data.Media.startDate.year,\n                    month: data.data.Media.startDate.month,\n                    day: data.data.Media.startDate.day,\n                };\n                mangaInfo.endDate = {\n                    year: data.data.Media.endDate.year,\n                    month: data.data.Media.endDate.month,\n                    day: data.data.Media.endDate.day,\n                };\n                mangaInfo.rating = data.data.Media.averageScore;\n                mangaInfo.genres = data.data.Media.genres;\n                mangaInfo.season = data.data.Media.season;\n                mangaInfo.studios = data.data.Media.studios.edges.map((item) => item.node.name);\n                mangaInfo.type = data.data.Media.format;\n                mangaInfo.recommendations = data.data.Media.recommendations.edges.map((item) => {\n                    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30;\n                    return ({\n                        id: (_b = item.node.mediaRecommendation) === null || _b === void 0 ? void 0 : _b.id,\n                        malId: (_c = item.node.mediaRecommendation) === null || _c === void 0 ? void 0 : _c.idMal,\n                        title: {\n                            romaji: (_e = (_d = item.node.mediaRecommendation) === null || _d === void 0 ? void 0 : _d.title) === null || _e === void 0 ? void 0 : _e.romaji,\n                            english: (_g = (_f = item.node.mediaRecommendation) === null || _f === void 0 ? void 0 : _f.title) === null || _g === void 0 ? void 0 : _g.english,\n                            native: (_j = (_h = item.node.mediaRecommendation) === null || _h === void 0 ? void 0 : _h.title) === null || _j === void 0 ? void 0 : _j.native,\n                            userPreferred: (_l = (_k = item.node.mediaRecommendation) === null || _k === void 0 ? void 0 : _k.title) === null || _l === void 0 ? void 0 : _l.userPreferred,\n                        },\n                        status: ((_m = item.node.mediaRecommendation) === null || _m === void 0 ? void 0 : _m.status) == 'RELEASING'\n                            ? models_1.MediaStatus.ONGOING\n                            : ((_o = item.node.mediaRecommendation) === null || _o === void 0 ? void 0 : _o.status) == 'FINISHED'\n                                ? models_1.MediaStatus.COMPLETED\n                                : ((_p = item.node.mediaRecommendation) === null || _p === void 0 ? void 0 : _p.status) == 'NOT_YET_RELEASED'\n                                    ? models_1.MediaStatus.NOT_YET_AIRED\n                                    : ((_q = item.node.mediaRecommendation) === null || _q === void 0 ? void 0 : _q.status) == 'CANCELLED'\n                                        ? models_1.MediaStatus.CANCELLED\n                                        : ((_r = item.node.mediaRecommendation) === null || _r === void 0 ? void 0 : _r.status) == 'HIATUS'\n                                            ? models_1.MediaStatus.HIATUS\n                                            : models_1.MediaStatus.UNKNOWN,\n                        chapters: (_s = item.node.mediaRecommendation) === null || _s === void 0 ? void 0 : _s.chapters,\n                        image: (_y = (_v = (_u = (_t = item.node.mediaRecommendation) === null || _t === void 0 ? void 0 : _t.coverImage) === null || _u === void 0 ? void 0 : _u.extraLarge) !== null && _v !== void 0 ? _v : (_x = (_w = item.node.mediaRecommendation) === null || _w === void 0 ? void 0 : _w.coverImage) === null || _x === void 0 ? void 0 : _x.large) !== null && _y !== void 0 ? _y : (_0 = (_z = item.node.mediaRecommendation) === null || _z === void 0 ? void 0 : _z.coverImage) === null || _0 === void 0 ? void 0 : _0.medium,\n                        imageHash: (0, utils_2.getHashFromImage)((_6 = (_3 = (_2 = (_1 = item.node.mediaRecommendation) === null || _1 === void 0 ? void 0 : _1.coverImage) === null || _2 === void 0 ? void 0 : _2.extraLarge) !== null && _3 !== void 0 ? _3 : (_5 = (_4 = item.node.mediaRecommendation) === null || _4 === void 0 ? void 0 : _4.coverImage) === null || _5 === void 0 ? void 0 : _5.large) !== null && _6 !== void 0 ? _6 : (_8 = (_7 = item.node.mediaRecommendation) === null || _7 === void 0 ? void 0 : _7.coverImage) === null || _8 === void 0 ? void 0 : _8.medium),\n                        cover: (_16 = (_13 = (_10 = (_9 = item.node.mediaRecommendation) === null || _9 === void 0 ? void 0 : _9.bannerImage) !== null && _10 !== void 0 ? _10 : (_12 = (_11 = item.node.mediaRecommendation) === null || _11 === void 0 ? void 0 : _11.coverImage) === null || _12 === void 0 ? void 0 : _12.extraLarge) !== null && _13 !== void 0 ? _13 : (_15 = (_14 = item.node.mediaRecommendation) === null || _14 === void 0 ? void 0 : _14.coverImage) === null || _15 === void 0 ? void 0 : _15.large) !== null && _16 !== void 0 ? _16 : (_18 = (_17 = item.node.mediaRecommendation) === null || _17 === void 0 ? void 0 : _17.coverImage) === null || _18 === void 0 ? void 0 : _18.medium,\n                        coverHash: (0, utils_2.getHashFromImage)((_26 = (_23 = (_20 = (_19 = item.node.mediaRecommendation) === null || _19 === void 0 ? void 0 : _19.bannerImage) !== null && _20 !== void 0 ? _20 : (_22 = (_21 = item.node.mediaRecommendation) === null || _21 === void 0 ? void 0 : _21.coverImage) === null || _22 === void 0 ? void 0 : _22.extraLarge) !== null && _23 !== void 0 ? _23 : (_25 = (_24 = item.node.mediaRecommendation) === null || _24 === void 0 ? void 0 : _24.coverImage) === null || _25 === void 0 ? void 0 : _25.large) !== null && _26 !== void 0 ? _26 : (_28 = (_27 = item.node.mediaRecommendation) === null || _27 === void 0 ? void 0 : _27.coverImage) === null || _28 === void 0 ? void 0 : _28.medium),\n                        rating: (_29 = item.node.mediaRecommendation) === null || _29 === void 0 ? void 0 : _29.meanScore,\n                        type: (_30 = item.node.mediaRecommendation) === null || _30 === void 0 ? void 0 : _30.format,\n                    });\n                });\n                mangaInfo.characters = data.data.Media.characters.edges.map((item) => {\n                    var _b, _c, _d;\n                    return ({\n                        id: (_b = item.node) === null || _b === void 0 ? void 0 : _b.id,\n                        role: item.role,\n                        name: {\n                            first: item.node.name.first,\n                            last: item.node.name.last,\n                            full: item.node.name.full,\n                            native: item.node.name.native,\n                            userPreferred: item.node.name.userPreferred,\n                        },\n                        image: (_c = item.node.image.large) !== null && _c !== void 0 ? _c : item.node.image.medium,\n                        imageHash: (0, utils_2.getHashFromImage)((_d = item.node.image.large) !== null && _d !== void 0 ? _d : item.node.image.medium),\n                    });\n                });\n                mangaInfo.relations = data.data.Media.relations.edges.map((item) => {\n                    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n                    return ({\n                        id: item.node.id,\n                        relationType: item.relationType,\n                        malId: item.node.idMal,\n                        title: {\n                            romaji: item.node.title.romaji,\n                            english: item.node.title.english,\n                            native: item.node.title.native,\n                            userPreferred: item.node.title.userPreferred,\n                        },\n                        status: item.node.status == 'RELEASING'\n                            ? models_1.MediaStatus.ONGOING\n                            : item.node.status == 'FINISHED'\n                                ? models_1.MediaStatus.COMPLETED\n                                : item.node.status == 'NOT_YET_RELEASED'\n                                    ? models_1.MediaStatus.NOT_YET_AIRED\n                                    : item.node.status == 'CANCELLED'\n                                        ? models_1.MediaStatus.CANCELLED\n                                        : item.node.status == 'HIATUS'\n                                            ? models_1.MediaStatus.HIATUS\n                                            : models_1.MediaStatus.UNKNOWN,\n                        chapters: item.node.chapters,\n                        image: (_c = (_b = item.node.coverImage.extraLarge) !== null && _b !== void 0 ? _b : item.node.coverImage.large) !== null && _c !== void 0 ? _c : item.node.coverImage.medium,\n                        imageHash: (0, utils_2.getHashFromImage)((_e = (_d = item.node.coverImage.extraLarge) !== null && _d !== void 0 ? _d : item.node.coverImage.large) !== null && _e !== void 0 ? _e : item.node.coverImage.medium),\n                        color: (_f = item.node.coverImage) === null || _f === void 0 ? void 0 : _f.color,\n                        type: item.node.format,\n                        cover: (_j = (_h = (_g = item.node.bannerImage) !== null && _g !== void 0 ? _g : item.node.coverImage.extraLarge) !== null && _h !== void 0 ? _h : item.node.coverImage.large) !== null && _j !== void 0 ? _j : item.node.coverImage.medium,\n                        coverHash: (0, utils_2.getHashFromImage)((_m = (_l = (_k = item.node.bannerImage) !== null && _k !== void 0 ? _k : item.node.coverImage.extraLarge) !== null && _l !== void 0 ? _l : item.node.coverImage.large) !== null && _m !== void 0 ? _m : item.node.coverImage.medium),\n                        rating: item.node.meanScore,\n                    });\n                });\n                mangaInfo.chapters = await new _a().findManga(this.provider, {\n                    english: mangaInfo.title.english,\n                    romaji: mangaInfo.title.romaji,\n                }, mangaInfo.malId);\n                mangaInfo.chapters = mangaInfo.chapters.reverse();\n                return mangaInfo;\n            }\n            catch (error) {\n                throw Error(error.message);\n            }\n        };\n        this.provider = provider || new mangasee123_1.default();\n    }\n};\n// (async () => {\n//   const ani = new Anilist(new Zoro());\n//   const anime = await ani.fetchAnimeInfo('21');\n//   console.log(anime.episodes);\n//   const sources = await ani.fetchEpisodeSources(anime.episodes![0].id, anime.episodes![0].number, anime.id);\n//   console.log(sources);\n// })();\nexports[\"default\"] = Anilist;\n//# sourceMappingURL=anilist.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWV0YS9hbmlsaXN0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQ0FBZ0MsbUJBQU8sQ0FBQyw2REFBTztBQUMvQyxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QyxnQkFBZ0IsbUJBQU8sQ0FBQyxrRkFBYTtBQUNyQyxvQ0FBb0MsbUJBQU8sQ0FBQyxvSEFBaUM7QUFDN0UsZ0NBQWdDLG1CQUFPLENBQUMsK0ZBQWdCO0FBQ3hELCtCQUErQixtQkFBTyxDQUFDLDZGQUFlO0FBQ3RELHNDQUFzQyxtQkFBTyxDQUFDLDJHQUFzQjtBQUNwRSxzQ0FBc0MsbUJBQU8sQ0FBQywyR0FBc0I7QUFDcEUsbUNBQW1DLG1CQUFPLENBQUMscUdBQW1CO0FBQzlELGtDQUFrQyxtQkFBTyxDQUFDLGlHQUFpQjtBQUMzRCxnQkFBZ0IsbUJBQU8sQ0FBQyx3RkFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixlQUFlO0FBQ3JDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsS0FBSztBQUN6QztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHNCQUFzQixlQUFlO0FBQ3JDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZUFBZTtBQUNyQztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qix5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsOENBQThDO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHVDQUF1QztBQUNwRjtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsdUNBQXVDO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qix5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHVDQUF1QztBQUM1RTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSw0QkFBNEIsbUJBQW1CLHdHQUF3RyxnQkFBZ0IsVUFBVSw0QkFBNEI7QUFDN007QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLG1CQUFtQixJQUFJLElBQUk7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxtQkFBbUIsSUFBSSxJQUFJO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGdCQUFnQixhQUFhLE1BQU07QUFDaEc7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsRUFBRSxTQUFTLEVBQUU7QUFDcEQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG9DQUFvQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixRQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVTtBQUN0QztBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixNQUFNO0FBQ25DLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsVUFBVTtBQUNyQyx3QkFBd0IsYUFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsY0FBYyxlQUFlLEtBQUssV0FBVyxRQUFRO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLGtNQUFrTTtBQUNsTSwwSEFBMEgsb0JBQW9CO0FBQzlJO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyx3SkFBd0o7QUFDdE07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiwyQ0FBMkMsR0FBRyxHQUFHLGdCQUFnQixzQkFBc0IsV0FBVyxRQUFRLGlCQUFpQixtQ0FBbUMsaUJBQWlCLFVBQVUsa0JBQWtCLFlBQVksNEJBQTRCO0FBQ25QO0FBQ0Esb0JBQW9CLFFBQVEsUUFBUSxPQUFPLEdBQUcsSUFBSTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDhDQUE4QztBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1CQUFtQix3R0FBd0csWUFBWTtBQUMvSjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwyQ0FBMkM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUSxRQUFRLFdBQVcsR0FBRyxJQUFJO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGdCQUFnQixhQUFhLE1BQU07QUFDaEc7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxtZXRhXFxhbmlsaXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xudmFyIF9hO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgYXhpb3NfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiYXhpb3NcIikpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlsc1wiKTtcbmNvbnN0IGdvZ29hbmltZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi9wcm92aWRlcnMvYW5pbWUvZ29nb2FuaW1lXCIpKTtcbmNvbnN0IGFuaWZ5XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL2FuaW1lL2FuaWZ5XCIpKTtcbmNvbnN0IHpvcm9fMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vYW5pbWUvem9yb1wiKSk7XG5jb25zdCBtYW5nYXNlZTEyM18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9tYW5nYS9tYW5nYXNlZTEyM1wiKSk7XG5jb25zdCBjcnVuY2h5cm9sbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9hbmltZS9jcnVuY2h5cm9sbFwiKSk7XG5jb25zdCBiaWxpYmlsaV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9hbmltZS9iaWxpYmlsaVwiKSk7XG5jb25zdCBfOWFuaW1lXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL2FuaW1lLzlhbmltZVwiKSk7XG5jb25zdCB1dGlsc18yID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuY2xhc3MgQW5pbGlzdCBleHRlbmRzIG1vZGVsc18xLkFuaW1lUGFyc2VyIHtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNsYXNzIG1hcHMgYW5pbGlzdCB0byBraXRzdSB3aXRoIGFueSBvdGhlciBhbmltZSBwcm92aWRlci5cbiAgICAgKiBraXRzdSBpcyB1c2VkIGZvciBlcGlzb2RlIGltYWdlcywgdGl0bGVzIGFuZCBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcGFyYW0gcHJvdmlkZXIgYW5pbWUgcHJvdmlkZXIgKG9wdGlvbmFsKSBkZWZhdWx0OiBHb2dvYW5pbWVcbiAgICAgKiBAcGFyYW0gcHJveHlDb25maWcgcHJveHkgY29uZmlnIChvcHRpb25hbClcbiAgICAgKiBAcGFyYW0gYWRhcHRlciBheGlvcyBhZGFwdGVyIChvcHRpb25hbClcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm92aWRlciwgcHJveHlDb25maWcsIGFkYXB0ZXIsIGN1c3RvbUJhc2VVUkwpIHtcbiAgICAgICAgc3VwZXIocHJveHlDb25maWcsIGFkYXB0ZXIpO1xuICAgICAgICB0aGlzLnByb3h5Q29uZmlnID0gcHJveHlDb25maWc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdBbmlsaXN0JztcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJ2h0dHBzOi8vYW5pbGlzdC5jbyc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL3VwbG9hZC53aWtpbWVkaWEub3JnL3dpa2lwZWRpYS9jb21tb25zLzYvNjEvQW5pTGlzdF9sb2dvLnN2Zyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ01FVEEuQW5pbGlzdCc7XG4gICAgICAgIHRoaXMuYW5pbGlzdEdyYXBocWxVcmwgPSAnaHR0cHM6Ly9ncmFwaHFsLmFuaWxpc3QuY28nO1xuICAgICAgICB0aGlzLmtpdHN1R3JhcGhxbFVybCA9ICdodHRwczovL2tpdHN1LmlvL2FwaS9ncmFwaHFsJztcbiAgICAgICAgdGhpcy5tYWxTeW5jVXJsID0gJ2h0dHBzOi8vYXBpLm1hbHN5bmMubW9lJztcbiAgICAgICAgdGhpcy5hbmlmeVVybCA9IHV0aWxzXzIuQU5JRllfVVJMO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHF1ZXJ5IFNlYXJjaCBxdWVyeVxuICAgICAgICAgKiBAcGFyYW0gcGFnZSBQYWdlIG51bWJlciAob3B0aW9uYWwpXG4gICAgICAgICAqIEBwYXJhbSBwZXJQYWdlIE51bWJlciBvZiByZXN1bHRzIHBlciBwYWdlIChvcHRpb25hbCkgKGRlZmF1bHQ6IDE1KSAobWF4OiA1MClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5LCBwYWdlID0gMSwgcGVyUGFnZSA9IDE1KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tLCBfbywgX3A7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBxdWVyeTogKDAsIHV0aWxzXzEuYW5pbGlzdFNlYXJjaFF1ZXJ5KShxdWVyeSwgcGFnZSwgcGVyUGFnZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgeyBkYXRhLCBzdGF0dXMgfSA9IGF3YWl0IHRoaXMuY2xpZW50LnBvc3QodGhpcy5hbmlsaXN0R3JhcGhxbFVybCwgb3B0aW9ucywge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZVN0YXR1czogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID49IDUwMCB8fCBzdGF0dXMgPT0gNDI5KVxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gYXdhaXQgbmV3IGFuaWZ5XzEuZGVmYXVsdCgpLnJhd1NlYXJjaChxdWVyeSwgcGFnZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogKF9kID0gKF9jID0gKF9iID0gZGF0YS5kYXRhLlBhZ2UpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5wYWdlSW5mbykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmN1cnJlbnRQYWdlKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAoX2UgPSBkYXRhLm1ldGEpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5jdXJyZW50UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IChfaCA9IChfZyA9IChfZiA9IGRhdGEuZGF0YS5QYWdlKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YucGFnZUluZm8pID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5oYXNOZXh0UGFnZSkgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogKChfaiA9IGRhdGEubWV0YSkgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLmN1cnJlbnRQYWdlKSAhPSAoKF9rID0gZGF0YS5tZXRhKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2subGFzdFBhZ2UpLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiAoX3AgPSAoX28gPSAoX20gPSAoX2wgPSBkYXRhLmRhdGEpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC5QYWdlKSA9PT0gbnVsbCB8fCBfbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20ubWVkaWEpID09PSBudWxsIHx8IF9vID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfby5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX20sIF9vLCBfcCwgX3E7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbElkOiBpdGVtLmlkTWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9tYWppOiBpdGVtLnRpdGxlLnJvbWFqaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ2xpc2g6IGl0ZW0udGl0bGUuZW5nbGlzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZTogaXRlbS50aXRsZS5uYXRpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyUHJlZmVycmVkOiBpdGVtLnRpdGxlLnVzZXJQcmVmZXJyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnRpdGxlLnJvbWFqaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGl0ZW0uc3RhdHVzID09ICdSRUxFQVNJTkcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lOR1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uc3RhdHVzID09ICdGSU5JU0hFRCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uc3RhdHVzID09ICdOT1RfWUVUX1JFTEVBU0VEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuTk9UX1lFVF9BSVJFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5zdGF0dXMgPT0gJ0NBTkNFTExFRCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5DQU5DRUxMRURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnN0YXR1cyA9PSAnSElBVFVTJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5ISUFUVVNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuTWVkaWFTdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogKF9lID0gKF9jID0gKF9iID0gaXRlbS5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogKF9kID0gaXRlbS5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QubGFyZ2UpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IChfZiA9IGl0ZW0uY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLm1lZGl1bSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfayA9IChfaCA9IChfZyA9IGl0ZW0uY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF9oICE9PSB2b2lkIDAgPyBfaCA6IChfaiA9IGl0ZW0uY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLmxhcmdlKSAhPT0gbnVsbCAmJiBfayAhPT0gdm9pZCAwID8gX2sgOiAoX2wgPSBpdGVtLmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC5tZWRpdW0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyOiBpdGVtLmJhbm5lckltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVySGFzaDogKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoaXRlbS5iYW5uZXJJbWFnZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhcml0eTogaXRlbS5wb3B1bGFyaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBpdGVtLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZzogaXRlbS5hdmVyYWdlU2NvcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VucmVzOiBpdGVtLmdlbnJlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogKF9tID0gaXRlbS5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20uY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxFcGlzb2RlczogKF9vID0gaXRlbS5lcGlzb2RlcykgIT09IG51bGwgJiYgX28gIT09IHZvaWQgMCA/IF9vIDogKChfcCA9IGl0ZW0ubmV4dEFpcmluZ0VwaXNvZGUpID09PSBudWxsIHx8IF9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcC5lcGlzb2RlKSAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVwaXNvZGVDb3VudDogKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS5uZXh0QWlyaW5nRXBpc29kZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoKF9xID0gaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLm5leHRBaXJpbmdFcGlzb2RlKSA9PT0gbnVsbCB8fCBfcSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3EuZXBpc29kZSkgLSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5lcGlzb2RlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBpdGVtLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogaXRlbS5zZWFzb25ZZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfcCAhPT0gdm9pZCAwID8gX3AgOiBkYXRhLmRhdGEubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmFuaWxpc3RJZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbElkOiBpdGVtLm1hcHBpbmdzWydtYWwnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGl0ZW0uc3RhdHVzID09ICdSRUxFQVNJTkcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lOR1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uc3RhdHVzID09ICdGSU5JU0hFRCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uc3RhdHVzID09ICdOT1RfWUVUX1JFTEVBU0VEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuTk9UX1lFVF9BSVJFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5zdGF0dXMgPT0gJ0NBTkNFTExFRCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5DQU5DRUxMRURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnN0YXR1cyA9PSAnSElBVFVTJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5ISUFUVVNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuTWVkaWFTdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogKF9iID0gaXRlbS5jb3ZlckltYWdlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBpdGVtLmJhbm5lckltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlSGFzaDogKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF9jID0gaXRlbS5jb3ZlckltYWdlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBpdGVtLmJhbm5lckltYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcjogaXRlbS5iYW5uZXJJbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3Zlckhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKGl0ZW0uYmFubmVySW1hZ2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXJpdHk6IGl0ZW0ucG9wdWxhcml0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogaXRlbS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmc6IGl0ZW0uYXZlcmFnZVNjb3JlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbnJlczogaXRlbS5nZW5yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogaXRlbS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEVwaXNvZGVzOiBpdGVtLmN1cnJlbnRFcGlzb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFcGlzb2RlQ291bnQ6IChpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0ubmV4dEFpcmluZ0VwaXNvZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKChfZCA9IGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS5uZXh0QWlyaW5nRXBpc29kZSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmVwaXNvZGUpIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uY3VycmVudEVwaXNvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogaXRlbS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IGl0ZW0ueWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSBTZWFyY2ggcXVlcnkgKG9wdGlvbmFsKVxuICAgICAgICAgKiBAcGFyYW0gdHlwZSBNZWRpYSB0eXBlIChvcHRpb25hbCkgKGRlZmF1bHQ6IGBBTklNRWApIChvcHRpb25zOiBgQU5JTUVgLCBgTUFOR0FgKVxuICAgICAgICAgKiBAcGFyYW0gcGFnZSBQYWdlIG51bWJlciAob3B0aW9uYWwpXG4gICAgICAgICAqIEBwYXJhbSBwZXJQYWdlIE51bWJlciBvZiByZXN1bHRzIHBlciBwYWdlIChvcHRpb25hbCkgKGRlZmF1bHQ6IGAyMGApIChtYXg6IGA1MGApXG4gICAgICAgICAqIEBwYXJhbSBmb3JtYXQgRm9ybWF0IChvcHRpb25hbCkgKG9wdGlvbnM6IGBUVmAsIGBUVl9TSE9SVGAsIGBNT1ZJRWAsIGBTUEVDSUFMYCwgYE9WQWAsIGBPTkFgLCBgTVVTSUNgKVxuICAgICAgICAgKiBAcGFyYW0gc29ydCBTb3J0IChvcHRpb25hbCkgKERlZmF1bHQ6IGBbUE9QVUxBUklUWV9ERVNDLCBTQ09SRV9ERVNDXWApIChvcHRpb25zOiBgUE9QVUxBUklUWV9ERVNDYCwgYFBPUFVMQVJJVFlgLCBgVFJFTkRJTkdfREVTQ2AsIGBUUkVORElOR2AsIGBVUERBVEVEX0FUX0RFU0NgLCBgVVBEQVRFRF9BVGAsIGBTVEFSVF9EQVRFX0RFU0NgLCBgU1RBUlRfREFURWAsIGBFTkRfREFURV9ERVNDYCwgYEVORF9EQVRFYCwgYEZBVk9VUklURVNfREVTQ2AsIGBGQVZPVVJJVEVTYCwgYFNDT1JFX0RFU0NgLCBgU0NPUkVgLCBgVElUTEVfUk9NQUpJX0RFU0NgLCBgVElUTEVfUk9NQUpJYCwgYFRJVExFX0VOR0xJU0hfREVTQ2AsIGBUSVRMRV9FTkdMSVNIYCwgYFRJVExFX05BVElWRV9ERVNDYCwgYFRJVExFX05BVElWRWAsIGBFUElTT0RFU19ERVNDYCwgYEVQSVNPREVTYCwgYElEYCwgYElEX0RFU0NgKVxuICAgICAgICAgKiBAcGFyYW0gZ2VucmVzIEdlbnJlcyAob3B0aW9uYWwpIChvcHRpb25zOiBgQWN0aW9uYCwgYEFkdmVudHVyZWAsIGBDYXJzYCwgYENvbWVkeWAsIGBEcmFtYWAsIGBGYW50YXN5YCwgYEhvcnJvcmAsIGBNYWhvdSBTaG91am9gLCBgTWVjaGFgLCBgTXVzaWNgLCBgTXlzdGVyeWAsIGBQc3ljaG9sb2dpY2FsYCwgYFJvbWFuY2VgLCBgU2NpLUZpYCwgYFNsaWNlIG9mIExpZmVgLCBgU3BvcnRzYCwgYFN1cGVybmF0dXJhbGAsIGBUaHJpbGxlcmApXG4gICAgICAgICAqIEBwYXJhbSBpZCBhbmlsaXN0IElkIChvcHRpb25hbClcbiAgICAgICAgICogQHBhcmFtIHllYXIgWWVhciAob3B0aW9uYWwpIGUuZy4gYDIwMjJgXG4gICAgICAgICAqIEBwYXJhbSBzdGF0dXMgU3RhdHVzIChvcHRpb25hbCkgKG9wdGlvbnM6IGBSRUxFQVNJTkdgLCBgRklOSVNIRURgLCBgTk9UX1lFVF9SRUxFQVNFRGAsIGBDQU5DRUxMRURgLCBgSElBVFVTYClcbiAgICAgICAgICogQHBhcmFtIHNlYXNvbiBTZWFzb24gKG9wdGlvbmFsKSAob3B0aW9uczogYFdJTlRFUmAsIGBTUFJJTkdgLCBgU1VNTUVSYCwgYEZBTExgKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hZHZhbmNlZFNlYXJjaCA9IGFzeW5jIChxdWVyeSwgdHlwZSA9ICdBTklNRScsIHBhZ2UgPSAxLCBwZXJQYWdlID0gMjAsIGZvcm1hdCwgc29ydCwgZ2VucmVzLCBpZCwgeWVhciwgc3RhdHVzLCBzZWFzb24pID0+IHtcbiAgICAgICAgICAgIHZhciBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX20sIF9vLCBfcCwgX3EsIF9yLCBfcywgX3QsIF91LCBfdiwgX3csIF94LCBfeTtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiAoMCwgdXRpbHNfMS5hbmlsaXN0QWR2YW5jZWRRdWVyeSkoKSxcbiAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiBxdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogcGVyUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIHNvcnQ6IHNvcnQsXG4gICAgICAgICAgICAgICAgICAgIGdlbnJlczogZ2VucmVzLFxuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgIHllYXI6IHllYXIgPyBgJHt5ZWFyfSVgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgc2Vhc29uOiBzZWFzb24sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZ2VucmVzKSB7XG4gICAgICAgICAgICAgICAgZ2VucmVzLmZvckVhY2goZ2VucmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC52YWx1ZXMobW9kZWxzXzEuR2VucmVzKS5pbmNsdWRlcyhnZW5yZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZ2VucmUgJHtnZW5yZX0gaXMgbm90IHZhbGlkYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IHsgZGF0YSwgc3RhdHVzIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KHRoaXMuYW5pbGlzdEdyYXBocWxVcmwsIG9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVTdGF0dXM6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA+PSA1MDAgJiYgIXF1ZXJ5KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHJlc3VsdHMgZm91bmQnKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID49IDUwMClcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGF3YWl0IG5ldyBhbmlmeV8xLmRlZmF1bHQoKS5yYXdTZWFyY2gocXVlcnksIHBhZ2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IChfZSA9IChfZCA9IChfYyA9IChfYiA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLlBhZ2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5wYWdlSW5mbykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmN1cnJlbnRQYWdlKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiAoX2YgPSBkYXRhLm1ldGEpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jdXJyZW50UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IChfayA9IChfaiA9IChfaCA9IChfZyA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLlBhZ2UpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC5wYWdlSW5mbykgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLmhhc05leHRQYWdlKSAhPT0gbnVsbCAmJiBfayAhPT0gdm9pZCAwID8gX2sgOiAoKF9sID0gZGF0YS5tZXRhKSA9PT0gbnVsbCB8fCBfbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2wuY3VycmVudFBhZ2UpICE9ICgoX20gPSBkYXRhLm1ldGEpID09PSBudWxsIHx8IF9tID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbS5sYXN0UGFnZSksXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUGFnZXM6IChfcSA9IChfcCA9IChfbyA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgX28gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vLlBhZ2UpID09PSBudWxsIHx8IF9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcC5wYWdlSW5mbykgPT09IG51bGwgfHwgX3EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9xLmxhc3RQYWdlLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbFJlc3VsdHM6IChfdCA9IChfcyA9IChfciA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgX3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yLlBhZ2UpID09PSBudWxsIHx8IF9zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcy5wYWdlSW5mbykgPT09IG51bGwgfHwgX3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90LnRvdGFsLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlcy5yZXN1bHRzLnB1c2goLi4uKChfeCA9IChfdyA9IChfdiA9IChfdSA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgX3UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF91LlBhZ2UpID09PSBudWxsIHx8IF92ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdi5tZWRpYSkgPT09IG51bGwgfHwgX3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWxJZDogaXRlbS5pZE1hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbWFqaTogaXRlbS50aXRsZS5yb21hamksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ2xpc2g6IGl0ZW0udGl0bGUuZW5nbGlzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlOiBpdGVtLnRpdGxlLm5hdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclByZWZlcnJlZDogaXRlbS50aXRsZS51c2VyUHJlZmVycmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0udGl0bGUucm9tYWppLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBpdGVtLnN0YXR1cyA9PSAnUkVMRUFTSU5HJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lOR1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5zdGF0dXMgPT0gJ0ZJTklTSEVEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uc3RhdHVzID09ICdOT1RfWUVUX1JFTEVBU0VEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5OT1RfWUVUX0FJUkVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uc3RhdHVzID09ICdDQU5DRUxMRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5DQU5DRUxMRURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uc3RhdHVzID09ICdISUFUVVMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuSElBVFVTXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuTWVkaWFTdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX2MgPSAoX2IgPSBpdGVtLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogaXRlbS5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBpdGVtLmNvdmVySW1hZ2UubWVkaXVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX2UgPSAoX2QgPSBpdGVtLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogaXRlbS5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBpdGVtLmNvdmVySW1hZ2UubWVkaXVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyOiBpdGVtLmJhbm5lckltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKShpdGVtLmJhbm5lckltYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXJpdHk6IGl0ZW0ucG9wdWxhcml0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsRXBpc29kZXM6IChfZiA9IGl0ZW0uZXBpc29kZXMpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6ICgoX2cgPSBpdGVtLm5leHRBaXJpbmdFcGlzb2RlKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuZXBpc29kZSkgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVwaXNvZGU6ICgoX2ggPSBpdGVtLm5leHRBaXJpbmdFcGlzb2RlKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2guZXBpc29kZSkgLSAxIHx8IGl0ZW0uZXBpc29kZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5T2ZPcmlnaW46IGl0ZW0uY291bnRyeU9mT3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGl0ZW0uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5yZXM6IGl0ZW0uZ2VucmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiBpdGVtLmF2ZXJhZ2VTY29yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAoX2ogPSBpdGVtLmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGl0ZW0uZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IGl0ZW0uc2Vhc29uWWVhcixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF94ICE9PSB2b2lkIDAgPyBfeCA6IChfeSA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgX3kgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF95Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmFuaWxpc3RJZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFsSWQ6IGl0ZW0ubWFwcGluZ3NbJ21hbCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGl0ZW0uc3RhdHVzID09ICdSRUxFQVNJTkcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnN0YXR1cyA9PSAnRklOSVNIRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5zdGF0dXMgPT0gJ05PVF9ZRVRfUkVMRUFTRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk5PVF9ZRVRfQUlSRURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5zdGF0dXMgPT0gJ0NBTkNFTExFRCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNBTkNFTExFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5zdGF0dXMgPT0gJ0hJQVRVUydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5ISUFUVVNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtb2RlbHNfMS5NZWRpYVN0YXR1cy5VTktOT1dOLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfYiA9IGl0ZW0uY292ZXJJbWFnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogaXRlbS5iYW5uZXJJbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlSGFzaDogKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF9jID0gaXRlbS5jb3ZlckltYWdlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBpdGVtLmJhbm5lckltYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyOiBpdGVtLmJhbm5lckltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKShpdGVtLmJhbm5lckltYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXJpdHk6IGl0ZW0ucG9wdWxhcml0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBpdGVtLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiBpdGVtLmF2ZXJhZ2VTY29yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbnJlczogaXRlbS5nZW5yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpdGVtLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxFcGlzb2RlczogaXRlbS5jdXJyZW50RXBpc29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGl0ZW0uZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IGl0ZW0ueWVhcixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gaWQgQW5pbWUgaWRcbiAgICAgICAgICogQHBhcmFtIGR1YiB0byBnZXQgZHViYmVkIGVwaXNvZGVzIChvcHRpb25hbCkgc2V0IHRvIGB0cnVlYCB0byBnZXQgZHViYmVkIGVwaXNvZGVzLiAqKk9OTFkgV09SS1MgRk9SIEdPR09BTklNRSoqXG4gICAgICAgICAqIEBwYXJhbSBmZXRjaEZpbGxlciB0byBnZXQgZmlsbGVyIGJvb2xlYW4gb24gdGhlIGVwaXNvZGUgb2JqZWN0IChvcHRpb25hbCkgc2V0IHRvIGB0cnVlYCB0byBnZXQgZmlsbGVyIGJvb2xlYW4gb24gdGhlIGVwaXNvZGUgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEFuaW1lSW5mbyA9IGFzeW5jIChpZCwgZHViID0gZmFsc2UsIGZldGNoRmlsbGVyID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgIHZhciBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX20sIF9vLCBfcCwgX3EsIF9yLCBfcywgX3QsIF91LCBfdiwgX3csIF94LCBfeSwgX3osIF8wLCBfMSwgXzIsIF8zLCBfNCwgXzUsIF82LCBfNywgXzgsIF85LCBfMTAsIF8xMSwgXzEyLCBfMTMsIF8xNCwgXzE1LCBfMTYsIF8xNywgXzE4LCBfMTksIF8yMCwgXzIxLCBfMjIsIF8yMywgXzI0LCBfMjUsIF8yNiwgXzI3LCBfMjgsIF8yOSwgXzMwLCBfMzEsIF8zMiwgXzMzLCBfMzQsIF8zNSwgXzM2LCBfMzcsIF8zOCwgXzM5LCBfNDAsIF80MSwgXzQyLCBfNDMsIF80NCwgXzQ1LCBfNDYsIF80NywgXzQ4LCBfNDksIF81MCwgXzUxLCBfNTIsIF81MywgXzU0LCBfNTUsIF81NiwgXzU3LCBfNTgsIF81OSwgXzYwLCBfNjEsIF82MiwgXzYzLCBfNjQsIF82NSwgXzY2LCBfNjcsIF82OCwgXzY5LCBfNzAsIF83MSwgXzcyLCBfNzMsIF83NCwgXzc1LCBfNzYsIF83NywgXzc4LCBfNzksIF84MCwgXzgxLCBfODI7XG4gICAgICAgICAgICBjb25zdCBhbmltZUluZm8gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBxdWVyeTogKDAsIHV0aWxzXzEuYW5pbGlzdE1lZGlhRGV0YWlsUXVlcnkpKGlkKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgZmlsbGVyRXBpc29kZXM7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxldCB7IGRhdGEsIHN0YXR1cyB9ID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdCh0aGlzLmFuaWxpc3RHcmFwaHFsVXJsLCBvcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlU3RhdHVzOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gNDA0KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01lZGlhIG5vdCBmb3VuZC4gUGVyaGFwcyB0aGUgaWQgaXMgaW52YWxpZCBvciB0aGUgYW5pbWUgaXMgbm90IGluIGFuaWxpc3QnKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09IDQyOSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgaGF2ZSBiZWVuIHJhdGVsaW1pdGVkIGJ5IGFuaWxpc3QuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXInKTtcbiAgICAgICAgICAgICAgICAvLyBpZiAoc3RhdHVzID49IDUwMCkgdGhyb3cgbmV3IEVycm9yKCdBbmlsaXN0IHNlZW1zIHRvIGJlIGRvd24uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXInKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzICE9IDIwMCAmJiBzdGF0dXMgPCA0MjkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdNZWRpYSBub3QgZm91bmQuIElmIHRoZSBwcm9ibGVtIHBlcnNpc3RzLCBwbGVhc2UgY29udGFjdCB0aGUgZGV2ZWxvcGVyJyk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA+PSA1MDApXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBhd2FpdCBuZXcgYW5pZnlfMS5kZWZhdWx0KCkuZmV0Y2hBbmltZUluZm9CeUlkUmF3KGlkKTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8ubWFsSWQgPSAoX2QgPSAoX2MgPSAoX2IgPSBkYXRhLmRhdGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5NZWRpYSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmlkTWFsKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAoX2UgPSBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEubWFwcGluZ3MpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5tYWw7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLnRpdGxlID0gZGF0YS5kYXRhLk1lZGlhXG4gICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9tYWppOiBkYXRhLmRhdGEuTWVkaWEudGl0bGUucm9tYWppLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5nbGlzaDogZGF0YS5kYXRhLk1lZGlhLnRpdGxlLmVuZ2xpc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmU6IGRhdGEuZGF0YS5NZWRpYS50aXRsZS5uYXRpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyUHJlZmVycmVkOiBkYXRhLmRhdGEuTWVkaWEudGl0bGUudXNlclByZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA6IGRhdGEuZGF0YS50aXRsZTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uc3lub255bXMgPSAoX2ggPSAoX2cgPSAoX2YgPSBkYXRhLmRhdGEpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5NZWRpYSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLnN5bm9ueW1zKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEuc3lub255bXM7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLmlzTGljZW5zZWQgPSAoX2wgPSAoX2sgPSAoX2ogPSBkYXRhLmRhdGEpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5NZWRpYSkgPT09IG51bGwgfHwgX2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9rLmlzTGljZW5zZWQpICE9PSBudWxsICYmIF9sICE9PSB2b2lkIDAgPyBfbCA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uaXNBZHVsdCA9IChfcCA9IChfbyA9IChfbSA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgX20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tLk1lZGlhKSA9PT0gbnVsbCB8fCBfbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX28uaXNBZHVsdCkgIT09IG51bGwgJiYgX3AgIT09IHZvaWQgMCA/IF9wIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5jb3VudHJ5T2ZPcmlnaW4gPSAoX3MgPSAoX3IgPSAoX3EgPSBkYXRhLmRhdGEpID09PSBudWxsIHx8IF9xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcS5NZWRpYSkgPT09IG51bGwgfHwgX3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yLmNvdW50cnlPZk9yaWdpbikgIT09IG51bGwgJiYgX3MgIT09IHZvaWQgMCA/IF9zIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmICgoX3YgPSAoX3UgPSAoX3QgPSBkYXRhLmRhdGEpID09PSBudWxsIHx8IF90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdC5NZWRpYSkgPT09IG51bGwgfHwgX3UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF91LnRyYWlsZXIpID09PSBudWxsIHx8IF92ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdi5pZCkge1xuICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8udHJhaWxlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkYXRhLmRhdGEuTWVkaWEudHJhaWxlci5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpdGU6IChfdyA9IGRhdGEuZGF0YS5NZWRpYS50cmFpbGVyKSA9PT0gbnVsbCB8fCBfdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3cuc2l0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbDogKF94ID0gZGF0YS5kYXRhLk1lZGlhLnRyYWlsZXIpID09PSBudWxsIHx8IF94ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfeC50aHVtYm5haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWxIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX3kgPSBkYXRhLmRhdGEuTWVkaWEudHJhaWxlcikgPT09IG51bGwgfHwgX3kgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF95LnRodW1ibmFpbCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5pbWFnZSA9XG4gICAgICAgICAgICAgICAgICAgIChfMTEgPSAoXzEwID0gKF82ID0gKF8yID0gKF8xID0gKF8wID0gKF96ID0gZGF0YS5kYXRhKSA9PT0gbnVsbCB8fCBfeiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ouTWVkaWEpID09PSBudWxsIHx8IF8wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMC5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgXzIgIT09IHZvaWQgMCA/IF8yIDogKF81ID0gKF80ID0gKF8zID0gZGF0YS5kYXRhKSA9PT0gbnVsbCB8fCBfMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzMuTWVkaWEpID09PSBudWxsIHx8IF80ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNC5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzUubGFyZ2UpICE9PSBudWxsICYmIF82ICE9PSB2b2lkIDAgPyBfNiA6IChfOSA9IChfOCA9IChfNyA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgXzcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF83Lk1lZGlhKSA9PT0gbnVsbCB8fCBfOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzguY292ZXJJbWFnZSkgPT09IG51bGwgfHwgXzkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF85Lm1lZGl1bSkgIT09IG51bGwgJiYgXzEwICE9PSB2b2lkIDAgPyBfMTAgOiBkYXRhLmNvdmVySW1hZ2UpICE9PSBudWxsICYmIF8xMSAhPT0gdm9pZCAwID8gXzExIDogZGF0YS5iYW5uZXJJbWFnZTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uaW1hZ2VIYXNoID0gKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF8yNCA9IChfMjMgPSAoXzE5ID0gKF8xNSA9IChfMTQgPSAoXzEzID0gKF8xMiA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgXzEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTIuTWVkaWEpID09PSBudWxsIHx8IF8xMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEzLmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF8xNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE0LmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF8xNSAhPT0gdm9pZCAwID8gXzE1IDogKF8xOCA9IChfMTcgPSAoXzE2ID0gZGF0YS5kYXRhKSA9PT0gbnVsbCB8fCBfMTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNi5NZWRpYSkgPT09IG51bGwgfHwgXzE3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTcuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgXzE4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTgubGFyZ2UpICE9PSBudWxsICYmIF8xOSAhPT0gdm9pZCAwID8gXzE5IDogKF8yMiA9IChfMjEgPSAoXzIwID0gZGF0YS5kYXRhKSA9PT0gbnVsbCB8fCBfMjAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yMC5NZWRpYSkgPT09IG51bGwgfHwgXzIxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjEuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgXzIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjIubWVkaXVtKSAhPT0gbnVsbCAmJiBfMjMgIT09IHZvaWQgMCA/IF8yMyA6IGRhdGEuY292ZXJJbWFnZSkgIT09IG51bGwgJiYgXzI0ICE9PSB2b2lkIDAgPyBfMjQgOiBkYXRhLmJhbm5lckltYWdlKTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8ucG9wdWxhcml0eSA9IChfMjcgPSAoXzI2ID0gKF8yNSA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgXzI1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjUuTWVkaWEpID09PSBudWxsIHx8IF8yNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzI2LnBvcHVsYXJpdHkpICE9PSBudWxsICYmIF8yNyAhPT0gdm9pZCAwID8gXzI3IDogZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnBvcHVsYXJpdHk7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLmNvbG9yID0gKF8zMSA9IChfMzAgPSAoXzI5ID0gKF8yOCA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgXzI4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjguTWVkaWEpID09PSBudWxsIHx8IF8yOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzI5LmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF8zMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzMwLmNvbG9yKSAhPT0gbnVsbCAmJiBfMzEgIT09IHZvaWQgMCA/IF8zMSA6IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5jb2xvcjtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uY292ZXIgPSAoXzM1ID0gKF8zNCA9IChfMzMgPSAoXzMyID0gZGF0YS5kYXRhKSA9PT0gbnVsbCB8fCBfMzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zMi5NZWRpYSkgPT09IG51bGwgfHwgXzMzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMzMuYmFubmVySW1hZ2UpICE9PSBudWxsICYmIF8zNCAhPT0gdm9pZCAwID8gXzM0IDogZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLmJhbm5lckltYWdlKSAhPT0gbnVsbCAmJiBfMzUgIT09IHZvaWQgMCA/IF8zNSA6IGFuaW1lSW5mby5pbWFnZTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uY292ZXJIYXNoID0gKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF8zOSA9IChfMzggPSAoXzM3ID0gKF8zNiA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgXzM2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMzYuTWVkaWEpID09PSBudWxsIHx8IF8zNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzM3LmJhbm5lckltYWdlKSAhPT0gbnVsbCAmJiBfMzggIT09IHZvaWQgMCA/IF8zOCA6IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5iYW5uZXJJbWFnZSkgIT09IG51bGwgJiYgXzM5ICE9PSB2b2lkIDAgPyBfMzkgOiBhbmltZUluZm8uaW1hZ2UpO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5kZXNjcmlwdGlvbiA9IChfNDIgPSAoXzQxID0gKF80MCA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgXzQwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNDAuTWVkaWEpID09PSBudWxsIHx8IF80MSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzQxLmRlc2NyaXB0aW9uKSAhPT0gbnVsbCAmJiBfNDIgIT09IHZvaWQgMCA/IF80MiA6IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKChfNDUgPSAoXzQ0ID0gKF80MyA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgXzQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNDMuTWVkaWEpID09PSBudWxsIHx8IF80NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzQ0LnN0YXR1cykgIT09IG51bGwgJiYgXzQ1ICE9PSB2b2lkIDAgPyBfNDUgOiBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1JFTEVBU0lORyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lORztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdGSU5JU0hFRCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ05PVF9ZRVRfUkVMRUFTRUQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLk5PVF9ZRVRfQUlSRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnQ0FOQ0VMTEVEJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5DQU5DRUxMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnSElBVFVTJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5ISUFUVVM7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuVU5LTk9XTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLnJlbGVhc2VEYXRlID0gKF80OSA9IChfNDggPSAoXzQ3ID0gKF80NiA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgXzQ2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNDYuTWVkaWEpID09PSBudWxsIHx8IF80NyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzQ3LnN0YXJ0RGF0ZSkgPT09IG51bGwgfHwgXzQ4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNDgueWVhcikgIT09IG51bGwgJiYgXzQ5ICE9PSB2b2lkIDAgPyBfNDkgOiBkYXRhLnllYXI7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLnN0YXJ0RGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgeWVhcjogZGF0YS5kYXRhLk1lZGlhLnN0YXJ0RGF0ZS55ZWFyLFxuICAgICAgICAgICAgICAgICAgICBtb250aDogZGF0YS5kYXRhLk1lZGlhLnN0YXJ0RGF0ZS5tb250aCxcbiAgICAgICAgICAgICAgICAgICAgZGF5OiBkYXRhLmRhdGEuTWVkaWEuc3RhcnREYXRlLmRheSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5lbmREYXRlID0ge1xuICAgICAgICAgICAgICAgICAgICB5ZWFyOiBkYXRhLmRhdGEuTWVkaWEuZW5kRGF0ZS55ZWFyLFxuICAgICAgICAgICAgICAgICAgICBtb250aDogZGF0YS5kYXRhLk1lZGlhLmVuZERhdGUubW9udGgsXG4gICAgICAgICAgICAgICAgICAgIGRheTogZGF0YS5kYXRhLk1lZGlhLmVuZERhdGUuZGF5LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKChfNTAgPSBkYXRhLmRhdGEuTWVkaWEubmV4dEFpcmluZ0VwaXNvZGUpID09PSBudWxsIHx8IF81MCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzUwLmFpcmluZ0F0KVxuICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8ubmV4dEFpcmluZ0VwaXNvZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhaXJpbmdUaW1lOiAoXzUxID0gZGF0YS5kYXRhLk1lZGlhLm5leHRBaXJpbmdFcGlzb2RlKSA9PT0gbnVsbCB8fCBfNTEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF81MS5haXJpbmdBdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVVbnRpbEFpcmluZzogKF81MiA9IGRhdGEuZGF0YS5NZWRpYS5uZXh0QWlyaW5nRXBpc29kZSkgPT09IG51bGwgfHwgXzUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNTIudGltZVVudGlsQWlyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZTogKF81MyA9IGRhdGEuZGF0YS5NZWRpYS5uZXh0QWlyaW5nRXBpc29kZSkgPT09IG51bGwgfHwgXzUzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNTMuZXBpc29kZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8udG90YWxFcGlzb2RlcyA9IChfNTUgPSAoXzU0ID0gZGF0YS5kYXRhLk1lZGlhKSA9PT0gbnVsbCB8fCBfNTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF81NC5lcGlzb2RlcykgIT09IG51bGwgJiYgXzU1ICE9PSB2b2lkIDAgPyBfNTUgOiAoKF81NiA9IGRhdGEuZGF0YS5NZWRpYS5uZXh0QWlyaW5nRXBpc29kZSkgPT09IG51bGwgfHwgXzU2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNTYuZXBpc29kZSkgLSAxO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5jdXJyZW50RXBpc29kZSA9ICgoXzU4ID0gKF81NyA9IGRhdGEuZGF0YS5NZWRpYSkgPT09IG51bGwgfHwgXzU3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNTcubmV4dEFpcmluZ0VwaXNvZGUpID09PSBudWxsIHx8IF81OCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzU4LmVwaXNvZGUpXG4gICAgICAgICAgICAgICAgICAgID8gKChfNTkgPSBkYXRhLmRhdGEuTWVkaWEubmV4dEFpcmluZ0VwaXNvZGUpID09PSBudWxsIHx8IF81OSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzU5LmVwaXNvZGUpIC0gMVxuICAgICAgICAgICAgICAgICAgICA6IChfNjAgPSBkYXRhLmRhdGEuTWVkaWEpID09PSBudWxsIHx8IF82MCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzYwLmVwaXNvZGVzO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5yYXRpbmcgPSBkYXRhLmRhdGEuTWVkaWEuYXZlcmFnZVNjb3JlO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5kdXJhdGlvbiA9IGRhdGEuZGF0YS5NZWRpYS5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uZ2VucmVzID0gZGF0YS5kYXRhLk1lZGlhLmdlbnJlcztcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uc2Vhc29uID0gZGF0YS5kYXRhLk1lZGlhLnNlYXNvbjtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uc3R1ZGlvcyA9IGRhdGEuZGF0YS5NZWRpYS5zdHVkaW9zLmVkZ2VzLm1hcCgoaXRlbSkgPT4gaXRlbS5ub2RlLm5hbWUpO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdWJPckR1YiA9IGR1YiA/IG1vZGVsc18xLlN1Yk9yU3ViLkRVQiA6IG1vZGVsc18xLlN1Yk9yU3ViLlNVQjtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8udHlwZSA9IGRhdGEuZGF0YS5NZWRpYS5mb3JtYXQ7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLnJlY29tbWVuZGF0aW9ucyA9IChfNjMgPSAoXzYyID0gKF82MSA9IGRhdGEuZGF0YS5NZWRpYSkgPT09IG51bGwgfHwgXzYxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNjEucmVjb21tZW5kYXRpb25zKSA9PT0gbnVsbCB8fCBfNjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF82Mi5lZGdlcykgPT09IG51bGwgfHwgXzYzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNjMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX20sIF9vLCBfcCwgX3EsIF9yLCBfcywgX3QsIF91LCBfdiwgX3csIF94LCBfeSwgX3osIF8wLCBfMSwgXzIsIF8zLCBfNCwgXzUsIF82LCBfNywgXzgsIF85LCBfMTAsIF8xMSwgXzEyLCBfMTMsIF8xNCwgXzE1LCBfMTYsIF8xNywgXzE4LCBfMTksIF8yMCwgXzIxLCBfMjIsIF8yMywgXzI0LCBfMjUsIF8yNiwgXzI3LCBfMjgsIF8yOSwgXzMwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2IgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFsSWQ6IChfYyA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuaWRNYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbWFqaTogKF9lID0gKF9kID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC50aXRsZSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnJvbWFqaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdsaXNoOiAoX2cgPSAoX2YgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnRpdGxlKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuZW5nbGlzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmU6IChfaiA9IChfaCA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2gudGl0bGUpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5uYXRpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclByZWZlcnJlZDogKF9sID0gKF9rID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay50aXRsZSkgPT09IG51bGwgfHwgX2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sLnVzZXJQcmVmZXJyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAoKF9tID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF9tID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbS5zdGF0dXMpID09ICdSRUxFQVNJTkcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoKF9vID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF9vID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfby5zdGF0dXMpID09ICdGSU5JU0hFRCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5DT01QTEVURURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoKF9wID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcC5zdGF0dXMpID09ICdOT1RfWUVUX1JFTEVBU0VEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5OT1RfWUVUX0FJUkVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICgoX3EgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgX3EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9xLnN0YXR1cykgPT0gJ0NBTkNFTExFRCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNBTkNFTExFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKChfciA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Iuc3RhdHVzKSA9PSAnSElBVFVTJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLkhJQVRVU1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV04sXG4gICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlczogKF9zID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF9zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcy5lcGlzb2RlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX3kgPSAoX3YgPSAoX3UgPSAoX3QgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgX3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90LmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF91ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfdiAhPT0gdm9pZCAwID8gX3YgOiAoX3ggPSAoX3cgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgX3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93LmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF94ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfeC5sYXJnZSkgIT09IG51bGwgJiYgX3kgIT09IHZvaWQgMCA/IF95IDogKF8wID0gKF96ID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF96ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfei5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzAubWVkaXVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoXzYgPSAoXzMgPSAoXzIgPSAoXzEgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgXzEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xLmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF8yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMi5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfMyAhPT0gdm9pZCAwID8gXzMgOiAoXzUgPSAoXzQgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgXzQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80LmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF81ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNS5sYXJnZSkgIT09IG51bGwgJiYgXzYgIT09IHZvaWQgMCA/IF82IDogKF84ID0gKF83ID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF83ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNy5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzgubWVkaXVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyOiAoXzE2ID0gKF8xMyA9IChfMTAgPSAoXzkgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgXzkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF85LmJhbm5lckltYWdlKSAhPT0gbnVsbCAmJiBfMTAgIT09IHZvaWQgMCA/IF8xMCA6IChfMTIgPSAoXzExID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF8xMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzExLmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF8xMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEyLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF8xMyAhPT0gdm9pZCAwID8gXzEzIDogKF8xNSA9IChfMTQgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgXzE0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTQuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgXzE1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTUubGFyZ2UpICE9PSBudWxsICYmIF8xNiAhPT0gdm9pZCAwID8gXzE2IDogKF8xOCA9IChfMTcgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgXzE3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTcuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgXzE4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTgubWVkaXVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoXzI2ID0gKF8yMyA9IChfMjAgPSAoXzE5ID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF8xOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE5LmJhbm5lckltYWdlKSAhPT0gbnVsbCAmJiBfMjAgIT09IHZvaWQgMCA/IF8yMCA6IChfMjIgPSAoXzIxID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF8yMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIxLmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF8yMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIyLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF8yMyAhPT0gdm9pZCAwID8gXzIzIDogKF8yNSA9IChfMjQgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgXzI0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjQuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgXzI1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjUubGFyZ2UpICE9PSBudWxsICYmIF8yNiAhPT0gdm9pZCAwID8gXzI2IDogKF8yOCA9IChfMjcgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgXzI3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjcuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgXzI4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjgubWVkaXVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZzogKF8yOSA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfMjkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yOS5tZWFuU2NvcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAoXzMwID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF8zMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzMwLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLmNoYXJhY3RlcnMgPSAoXzY3ID0gKF82NiA9IChfNjUgPSAoXzY0ID0gZGF0YS5kYXRhKSA9PT0gbnVsbCB8fCBfNjQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF82NC5NZWRpYSkgPT09IG51bGwgfHwgXzY1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNjUuY2hhcmFjdGVycykgPT09IG51bGwgfHwgXzY2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNjYuZWRnZXMpID09PSBudWxsIHx8IF82NyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzY3Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9iID0gaXRlbS5ub2RlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlOiBpdGVtLnJvbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3Q6IGl0ZW0ubm9kZS5uYW1lLmZpcnN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3Q6IGl0ZW0ubm9kZS5uYW1lLmxhc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbDogaXRlbS5ub2RlLm5hbWUuZnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmU6IGl0ZW0ubm9kZS5uYW1lLm5hdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyUHJlZmVycmVkOiBpdGVtLm5vZGUubmFtZS51c2VyUHJlZmVycmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX2MgPSBpdGVtLm5vZGUuaW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGl0ZW0ubm9kZS5pbWFnZS5tZWRpdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfZCA9IGl0ZW0ubm9kZS5pbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogaXRlbS5ub2RlLmltYWdlLm1lZGl1bSksXG4gICAgICAgICAgICAgICAgICAgICAgICB2b2ljZUFjdG9yczogaXRlbS52b2ljZUFjdG9ycy5tYXAoKHZvaWNlQWN0b3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdm9pY2VBY3Rvci5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IHZvaWNlQWN0b3IubGFuZ3VhZ2VWMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3Q6IHZvaWNlQWN0b3IubmFtZS5maXJzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3Q6IHZvaWNlQWN0b3IubmFtZS5sYXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbDogdm9pY2VBY3Rvci5uYW1lLmZ1bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmU6IHZvaWNlQWN0b3IubmFtZS5uYXRpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyUHJlZmVycmVkOiB2b2ljZUFjdG9yLm5hbWUudXNlclByZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfYiA9IHZvaWNlQWN0b3IuaW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHZvaWNlQWN0b3IuaW1hZ2UubWVkaXVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfYyA9IHZvaWNlQWN0b3IuaW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHZvaWNlQWN0b3IuaW1hZ2UubWVkaXVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8ucmVsYXRpb25zID0gKF83MSA9IChfNzAgPSAoXzY5ID0gKF82OCA9IGRhdGEuZGF0YSkgPT09IG51bGwgfHwgXzY4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNjguTWVkaWEpID09PSBudWxsIHx8IF82OSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzY5LnJlbGF0aW9ucykgPT09IG51bGwgfHwgXzcwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNzAuZWRnZXMpID09PSBudWxsIHx8IF83MSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzcxLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLm5vZGUuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvblR5cGU6IGl0ZW0ucmVsYXRpb25UeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFsSWQ6IGl0ZW0ubm9kZS5pZE1hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9tYWppOiBpdGVtLm5vZGUudGl0bGUucm9tYWppLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ2xpc2g6IGl0ZW0ubm9kZS50aXRsZS5lbmdsaXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZTogaXRlbS5ub2RlLnRpdGxlLm5hdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyUHJlZmVycmVkOiBpdGVtLm5vZGUudGl0bGUudXNlclByZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGl0ZW0ubm9kZS5zdGF0dXMgPT0gJ1JFTEVBU0lORydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0ubm9kZS5zdGF0dXMgPT0gJ0ZJTklTSEVEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0ubm9kZS5zdGF0dXMgPT0gJ05PVF9ZRVRfUkVMRUFTRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk5PVF9ZRVRfQUlSRURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5ub2RlLnN0YXR1cyA9PSAnQ0FOQ0VMTEVEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ0FOQ0VMTEVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLm5vZGUuc3RhdHVzID09ICdISUFUVVMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuSElBVFVTXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuTWVkaWFTdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVzOiBpdGVtLm5vZGUuZXBpc29kZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogKF9jID0gKF9iID0gaXRlbS5ub2RlLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogaXRlbS5ub2RlLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGl0ZW0ubm9kZS5jb3ZlckltYWdlLm1lZGl1bSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlSGFzaDogKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF9lID0gKF9kID0gaXRlbS5ub2RlLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogaXRlbS5ub2RlLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IGl0ZW0ubm9kZS5jb3ZlckltYWdlLm1lZGl1bSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogKF9mID0gaXRlbS5ub2RlLmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGl0ZW0ubm9kZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcjogKF9qID0gKF9oID0gKF9nID0gaXRlbS5ub2RlLmJhbm5lckltYWdlKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiBpdGVtLm5vZGUuY292ZXJJbWFnZS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiBpdGVtLm5vZGUuY292ZXJJbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2ogIT09IHZvaWQgMCA/IF9qIDogaXRlbS5ub2RlLmNvdmVySW1hZ2UubWVkaXVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX20gPSAoX2wgPSAoX2sgPSBpdGVtLm5vZGUuYmFubmVySW1hZ2UpICE9PSBudWxsICYmIF9rICE9PSB2b2lkIDAgPyBfayA6IGl0ZW0ubm9kZS5jb3ZlckltYWdlLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF9sICE9PSB2b2lkIDAgPyBfbCA6IGl0ZW0ubm9kZS5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfbSAhPT0gdm9pZCAwID8gX20gOiBpdGVtLm5vZGUuY292ZXJJbWFnZS5tZWRpdW0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiBpdGVtLm5vZGUubWVhblNjb3JlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMucHJvdmlkZXIgaW5zdGFuY2VvZiB6b3JvXzEuZGVmYXVsdCB8fCB0aGlzLnByb3ZpZGVyIGluc3RhbmNlb2YgZ29nb2FuaW1lXzEuZGVmYXVsdCkgJiZcbiAgICAgICAgICAgICAgICAgICAgIWR1YiAmJlxuICAgICAgICAgICAgICAgICAgICAoYW5pbWVJbmZvLnN0YXR1cyA9PT0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lORyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHV0aWxzXzEucmFuZ2UpKHsgZnJvbTogMTk0MCwgdG86IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSArIDEgfSkuaW5jbHVkZXMocGFyc2VJbnQoYW5pbWVJbmZvLnJlbGVhc2VEYXRlKSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmlmeUluZm8gPSBhd2FpdCBuZXcgYW5pZnlfMS5kZWZhdWx0KHRoaXMucHJveHlDb25maWcsIHRoaXMuYWRhcHRlciwgdGhpcy5wcm92aWRlci5uYW1lLnRvTG93ZXJDYXNlKCkpLmZldGNoQW5pbWVJbmZvKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5tYXBwaW5ncyA9IGFuaWZ5SW5mby5tYXBwaW5ncztcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5hcnR3b3JrID0gYW5pZnlJbmZvLmFydHdvcms7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uZXBpc29kZXMgPSAoXzcyID0gYW5pZnlJbmZvLmVwaXNvZGVzKSA9PT0gbnVsbCB8fCBfNzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF83Mi5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGl0ZW0uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRlbS5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBpdGVtLmltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKGl0ZW0uaW1hZ2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhaXJEYXRlOiAoX2IgPSBpdGVtLmFpckRhdGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKChfNzMgPSBhbmltZUluZm8uZXBpc29kZXMpID09PSBudWxsIHx8IF83MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzczLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uZXBpc29kZXMgPSBhd2FpdCB0aGlzLmZldGNoRGVmYXVsdEVwaXNvZGVMaXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRNYWw6IGFuaW1lSW5mby5tYWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uOiBkYXRhLmRhdGEuTWVkaWEuc2Vhc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGU6IHsgeWVhcjogcGFyc2VJbnQoYW5pbWVJbmZvLnJlbGVhc2VEYXRlKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nbGlzaDogKF83NCA9IGFuaW1lSW5mby50aXRsZSkgPT09IG51bGwgfHwgXzc0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNzQuZW5nbGlzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbWFqaTogKF83NSA9IGFuaW1lSW5mby50aXRsZSkgPT09IG51bGwgfHwgXzc1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNzUucm9tYWppLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGR1YiwgaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5lcGlzb2RlcyA9IChfNzYgPSBhbmltZUluZm8uZXBpc29kZXMpID09PSBudWxsIHx8IF83NiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzc2Lm1hcCgoZXBpc29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVwaXNvZGUuaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGUuaW1hZ2UgPSBhbmltZUluZm8uaW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlLmltYWdlSGFzaCA9IGFuaW1lSW5mby5pbWFnZUhhc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVwaXNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLmVwaXNvZGVzID0gYXdhaXQgdGhpcy5mZXRjaERlZmF1bHRFcGlzb2RlTGlzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRNYWw6IGFuaW1lSW5mby5tYWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFzb246IGRhdGEuZGF0YS5NZWRpYS5zZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiB7IHllYXI6IHBhcnNlSW50KGFuaW1lSW5mby5yZWxlYXNlRGF0ZSkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdsaXNoOiAoXzc3ID0gYW5pbWVJbmZvLnRpdGxlKSA9PT0gbnVsbCB8fCBfNzcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF83Ny5lbmdsaXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb21hamk6IChfNzggPSBhbmltZUluZm8udGl0bGUpID09PSBudWxsIHx8IF83OCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzc4LnJvbWFqaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZHViLCBpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uZXBpc29kZXMgPSAoXzc5ID0gYW5pbWVJbmZvLmVwaXNvZGVzKSA9PT0gbnVsbCB8fCBfNzkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF83OS5tYXAoKGVwaXNvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVwaXNvZGUuaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZS5pbWFnZSA9IGFuaW1lSW5mby5pbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZS5pbWFnZUhhc2ggPSBhbmltZUluZm8uaW1hZ2VIYXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXBpc29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1lSW5mbztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5lcGlzb2RlcyA9IGF3YWl0IHRoaXMuZmV0Y2hEZWZhdWx0RXBpc29kZUxpc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRNYWw6IGFuaW1lSW5mby5tYWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXNvbjogZGF0YS5kYXRhLk1lZGlhLnNlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogeyB5ZWFyOiBwYXJzZUludChhbmltZUluZm8ucmVsZWFzZURhdGUpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ2xpc2g6IChfODAgPSBhbmltZUluZm8udGl0bGUpID09PSBudWxsIHx8IF84MCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzgwLmVuZ2xpc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9tYWppOiAoXzgxID0gYW5pbWVJbmZvLnRpdGxlKSA9PT0gbnVsbCB8fCBfODEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF84MS5yb21hamksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZXJuYWxMaW5rczogZGF0YS5kYXRhLk1lZGlhLmV4dGVybmFsTGlua3MuZmlsdGVyKChsaW5rKSA9PiBsaW5rLnR5cGUgPT09ICdTVFJFQU1JTkcnKSxcbiAgICAgICAgICAgICAgICAgICAgfSwgZHViLCBpZCk7XG4gICAgICAgICAgICAgICAgaWYgKGZldGNoRmlsbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogZmlsbGVyRGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vc2Fpa291LWFwcC9tYWwtaWQtZmlsbGVyLWxpc3QvbWFpbi9maWxsZXJzLyR7YW5pbWVJbmZvLm1hbElkfS5qc29uYCwgeyB2YWxpZGF0ZVN0YXR1czogKCkgPT4gdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxsZXJEYXRhLnRvU3RyaW5nKCkuc3RhcnRzV2l0aCgnNDA0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxlckVwaXNvZGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsZXJFcGlzb2RlcyA9PT0gbnVsbCB8fCBmaWxsZXJFcGlzb2RlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmlsbGVyRXBpc29kZXMucHVzaCguLi5maWxsZXJEYXRhLmVwaXNvZGVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhbmltZUluZm8uZXBpc29kZXMgPSAoXzgyID0gYW5pbWVJbmZvLmVwaXNvZGVzKSA9PT0gbnVsbCB8fCBfODIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF84Mi5tYXAoKGVwaXNvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlcGlzb2RlLmltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlLmltYWdlID0gYW5pbWVJbmZvLmltYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZS5pbWFnZUhhc2ggPSBhbmltZUluZm8uaW1hZ2VIYXNoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChmZXRjaEZpbGxlciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGZpbGxlckVwaXNvZGVzID09PSBudWxsIHx8IGZpbGxlckVwaXNvZGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaWxsZXJFcGlzb2Rlcy5sZW5ndGgpID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGZpbGxlckVwaXNvZGVzID09PSBudWxsIHx8IGZpbGxlckVwaXNvZGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaWxsZXJFcGlzb2Rlcy5sZW5ndGgpID49IGFuaW1lSW5mby5lcGlzb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxsZXJFcGlzb2Rlc1tlcGlzb2RlLm51bWJlciAtIDFdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGUuaXNGaWxsZXIgPSBuZXcgQm9vbGVhbihmaWxsZXJFcGlzb2Rlc1tlcGlzb2RlLm51bWJlciAtIDFdWydmaWxsZXItYm9vbCddKS52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVwaXNvZGU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1lSW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGVwaXNvZGVJZCBFcGlzb2RlIGlkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNvdXJjZXMgPSBhc3luYyAoZXBpc29kZUlkLCAuLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3ZpZGVyIGluc3RhbmNlb2YgYW5pZnlfMS5kZWZhdWx0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGFuaWZ5XzEuZGVmYXVsdCgpLmZldGNoRXBpc29kZVNvdXJjZXMoZXBpc29kZUlkLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlci5mZXRjaEVwaXNvZGVTb3VyY2VzKGVwaXNvZGVJZCwgLi4uYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggZXBpc29kZSBzb3VyY2VzIGZyb20gJHt0aGlzLnByb3ZpZGVyLm5hbWV9OiAke2Vycn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgRXBpc29kZSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTZXJ2ZXJzID0gYXN5bmMgKGVwaXNvZGVJZCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlci5mZXRjaEVwaXNvZGVTZXJ2ZXJzKGVwaXNvZGVJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggZXBpc29kZSBzZXJ2ZXJzIGZyb20gJHt0aGlzLnByb3ZpZGVyLm5hbWV9OiAke2Vycn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5maW5kQW5pbWUgPSBhc3luYyAodGl0bGUsIHNlYXNvbiwgc3RhcnREYXRlLCBtYWxJZCwgZHViLCBhbmlsaXN0SWQsIGV4dGVybmFsTGlua3MpID0+IHtcbiAgICAgICAgICAgIHZhciBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgdGl0bGUuZW5nbGlzaCA9IChfYiA9IHRpdGxlLmVuZ2xpc2gpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRpdGxlLnJvbWFqaTtcbiAgICAgICAgICAgIHRpdGxlLnJvbWFqaSA9IChfYyA9IHRpdGxlLnJvbWFqaSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdGl0bGUuZW5nbGlzaDtcbiAgICAgICAgICAgIHRpdGxlLmVuZ2xpc2ggPSB0aXRsZS5lbmdsaXNoLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB0aXRsZS5yb21hamkgPSB0aXRsZS5yb21hamkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmICh0aXRsZS5lbmdsaXNoID09PSB0aXRsZS5yb21hamkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKChfZCA9IChhd2FpdCB0aGlzLmZpbmRBbmltZVNsdWcodGl0bGUuZW5nbGlzaCwgc2Vhc29uLCBzdGFydERhdGUsIG1hbElkLCBkdWIsIGFuaWxpc3RJZCwgZXh0ZXJuYWxMaW5rcykpKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByb21hamlQb3NzaWJsZUVwaXNvZGVzID0gYXdhaXQgdGhpcy5maW5kQW5pbWVTbHVnKHRpdGxlLnJvbWFqaSwgc2Vhc29uLCBzdGFydERhdGUsIG1hbElkLCBkdWIsIGFuaWxpc3RJZCwgZXh0ZXJuYWxMaW5rcyk7XG4gICAgICAgICAgICBpZiAocm9tYWppUG9zc2libGVFcGlzb2Rlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiByb21hamlQb3NzaWJsZUVwaXNvZGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZW5nbGlzaFBvc3NpYmxlRXBpc29kZXMgPSBhd2FpdCB0aGlzLmZpbmRBbmltZVNsdWcodGl0bGUuZW5nbGlzaCwgc2Vhc29uLCBzdGFydERhdGUsIG1hbElkLCBkdWIsIGFuaWxpc3RJZCwgZXh0ZXJuYWxMaW5rcyk7XG4gICAgICAgICAgICByZXR1cm4gZW5nbGlzaFBvc3NpYmxlRXBpc29kZXMgIT09IG51bGwgJiYgZW5nbGlzaFBvc3NpYmxlRXBpc29kZXMgIT09IHZvaWQgMCA/IGVuZ2xpc2hQb3NzaWJsZUVwaXNvZGVzIDogW107XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmluZEFuaW1lU2x1ZyA9IGFzeW5jICh0aXRsZSwgc2Vhc29uLCBzdGFydERhdGUsIG1hbElkLCBkdWIsIGFuaWxpc3RJZCwgZXh0ZXJuYWxMaW5rcykgPT4ge1xuICAgICAgICAgICAgdmFyIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm92aWRlciBpbnN0YW5jZW9mIGFuaWZ5XzEuZGVmYXVsdClcbiAgICAgICAgICAgICAgICByZXR1cm4gKGF3YWl0IHRoaXMucHJvdmlkZXIuZmV0Y2hBbmltZUluZm8oYW5pbGlzdElkKSkuZXBpc29kZXM7XG4gICAgICAgICAgICBjb25zdCBzbHVnID0gdGl0bGUucmVwbGFjZSgvW14wLTlhLXpBLVpdKy9nLCAnICcpO1xuICAgICAgICAgICAgbGV0IHBvc3NpYmxlQW5pbWU7XG4gICAgICAgICAgICBpZiAobWFsSWQgJiYgISh0aGlzLnByb3ZpZGVyIGluc3RhbmNlb2YgY3J1bmNoeXJvbGxfMS5kZWZhdWx0IHx8IHRoaXMucHJvdmlkZXIgaW5zdGFuY2VvZiBiaWxpYmlsaV8xLmRlZmF1bHQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFsQXN5bmNSZXEgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5tYWxTeW5jVXJsfS9tYWwvYW5pbWUvJHttYWxJZH1gLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlU3RhdHVzOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChtYWxBc3luY1JlcS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXRlc1QgPSBtYWxBc3luY1JlcS5kYXRhLlNpdGVzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2l0ZXMgPSBPYmplY3QudmFsdWVzKHNpdGVzVCkubWFwKCh2LCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBbLi4uT2JqZWN0LnZhbHVlcyhPYmplY3QudmFsdWVzKHNpdGVzVClbaV0pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VzID0gb2JqLm1hcCgodikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiB2LnBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB2LnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdi50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWdlcztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVzID0gc2l0ZXMuZmxhdCgpO1xuICAgICAgICAgICAgICAgICAgICBzaXRlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRUaXRsZSA9IG1hbEFzeW5jUmVxLmRhdGEudGl0bGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0UmF0aW5nID0gKDAsIHV0aWxzXzIuY29tcGFyZVR3b1N0cmluZ3MpKHRhcmdldFRpdGxlLCBhLnRpdGxlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vjb25kUmF0aW5nID0gKDAsIHV0aWxzXzIuY29tcGFyZVR3b1N0cmluZ3MpKHRhcmdldFRpdGxlLCBiLnRpdGxlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU29ydCBpbiBkZXNjZW5kaW5nIG9yZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Vjb25kUmF0aW5nIC0gZmlyc3RSYXRpbmc7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NzaWJsZVNvdXJjZSA9IHNpdGVzLmZpbmQocyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5wYWdlLnRvTG93ZXJDYXNlKCkgPT09IHRoaXMucHJvdmlkZXIubmFtZS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3ZpZGVyIGluc3RhbmNlb2YgZ29nb2FuaW1lXzEuZGVmYXVsdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGR1YiA/IHMudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZHViJykgOiAhcy50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdkdWInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlU291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQW5pbWUgPSBhd2FpdCB0aGlzLnByb3ZpZGVyLmZldGNoQW5pbWVJbmZvKG5ldyBVUkwocG9zc2libGVTb3VyY2UudXJsKS5wYXRobmFtZS5zbGljZSgxKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQW5pbWUgPSBhd2FpdCB0aGlzLmZpbmRBbmltZVJhdyhzbHVnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUFuaW1lID0gYXdhaXQgdGhpcy5maW5kQW5pbWVSYXcoc2x1Zyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcG9zc2libGVBbmltZSA9IGF3YWl0IHRoaXMuZmluZEFuaW1lUmF3KHNsdWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHBvc3NpYmxlQW5pbWUgPSBhd2FpdCB0aGlzLmZpbmRBbmltZVJhdyhzbHVnLCBleHRlcm5hbExpbmtzKTtcbiAgICAgICAgICAgIGlmICghcG9zc2libGVBbmltZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgLy8gVG8gYXZvaWQgYSBuZXcgcmVxdWVzdCwgbGV0cyBtYXRjaCBhbmQgc2VlIGlmIHRoZSBhbmltZSBzaG93IGZvdW5kIGlzIGluIHN1Yi9kdWJcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGR1YiA/IG1vZGVsc18xLlN1Yk9yU3ViLkRVQiA6IG1vZGVsc18xLlN1Yk9yU3ViLlNVQjtcbiAgICAgICAgICAgIC8vIEhhdmUgdGhpcyBhcyBhIGZhbGxiYWNrIGluIHRoZSBtZWFudGltZSBmb3IgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgaWYgKHBvc3NpYmxlQW5pbWUuc3ViT3JEdWIpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zc2libGVBbmltZS5zdWJPckR1YiAhPSBtb2RlbHNfMS5TdWJPclN1Yi5CT1RIICYmIHBvc3NpYmxlQW5pbWUuc3ViT3JEdWIgIT0gZXhwZWN0ZWRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKCFwb3NzaWJsZUFuaW1lLmhhc0R1YiAmJiBkdWIpIHx8ICghcG9zc2libGVBbmltZS5oYXNTdWIgJiYgIWR1YikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucHJvdmlkZXIgaW5zdGFuY2VvZiB6b3JvXzEuZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgY29ycmVjdCBlcGlzb2RlIHN1Yi9kdWIgcmVxdWVzdCB0eXBlXG4gICAgICAgICAgICAgICAgcG9zc2libGVBbmltZS5lcGlzb2Rlcy5mb3JFYWNoKChfLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVBbmltZS5zdWJPckR1YiA9PT0gbW9kZWxzXzEuU3ViT3JTdWIuQk9USCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2libGVBbmltZS5lcGlzb2Rlc1tpbmRleF0uaWQgPSBwb3NzaWJsZUFuaW1lLmVwaXNvZGVzW2luZGV4XS5pZC5yZXBsYWNlKGAkYm90aGAsIGR1YiA/ICckZHViJyA6ICckc3ViJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnByb3ZpZGVyIGluc3RhbmNlb2YgY3J1bmNoeXJvbGxfMS5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmVzdGVkRXBpc29kZXMgPSBPYmplY3Qua2V5cyhwb3NzaWJsZUFuaW1lLmVwaXNvZGVzKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChrZXkpID0+IGtleS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGR1YiA/ICdkdWInIDogJ3N1YicpKVxuICAgICAgICAgICAgICAgICAgICAuc29ydCgoZmlyc3QsIHNlY29uZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKChfYyA9IChfYiA9IHBvc3NpYmxlQW5pbWUuZXBpc29kZXNbZmlyc3RdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JbMF0uc2Vhc29uX251bWJlcikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMCkgLVxuICAgICAgICAgICAgICAgICAgICAgICAgKChfZSA9IChfZCA9IHBvc3NpYmxlQW5pbWUuZXBpc29kZXNbc2Vjb25kXSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kWzBdLnNlYXNvbl9udW1iZXIpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IDApKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAubWFwKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXVkaW8gPSBrZXlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9bMC05XS9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXlxcd3sxfSl8KFxccytcXHd7MX0pL2csIChsZXR0ZXIpID0+IGxldHRlci50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zc2libGVBbmltZS5lcGlzb2Rlc1trZXldLmZvckVhY2goKGVsZW1lbnQpID0+IChlbGVtZW50LnR5cGUgPSBhdWRpbykpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zc2libGVBbmltZS5lcGlzb2Rlc1trZXldO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXN0ZWRFcGlzb2Rlcy5mbGF0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wcm92aWRlciBpbnN0YW5jZW9mIF85YW5pbWVfMS5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgcG9zc2libGVBbmltZS5lcGlzb2Rlcy5mb3JFYWNoKChfLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXhwZWN0ZWRUeXBlID09IG1vZGVsc18xLlN1Yk9yU3ViLkRVQikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2libGVBbmltZS5lcGlzb2Rlc1tpbmRleF0uaWQgPSBwb3NzaWJsZUFuaW1lLmVwaXNvZGVzW2luZGV4XS5kdWJJZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVBbmltZS5lcGlzb2Rlc1tpbmRleF0uZHViSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwb3NzaWJsZUFuaW1lLmVwaXNvZGVzW2luZGV4XS5kdWJJZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHBvc3NpYmxlQW5pbWUuZXBpc29kZXMgPSBwb3NzaWJsZUFuaW1lLmVwaXNvZGVzLmZpbHRlcigoZWwpID0+IGVsLmlkICE9IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3NzaWJsZVByb3ZpZGVyRXBpc29kZXMgPSBwb3NzaWJsZUFuaW1lLmVwaXNvZGVzO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAoKF9iID0gcG9zc2libGVQcm92aWRlckVwaXNvZGVzWzBdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW1hZ2UpICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiAoKF9jID0gcG9zc2libGVQcm92aWRlckVwaXNvZGVzWzBdKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudGl0bGUpICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiAoKF9kID0gcG9zc2libGVQcm92aWRlckVwaXNvZGVzWzBdKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuZGVzY3JpcHRpb24pICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zc2libGVQcm92aWRlckVwaXNvZGVzO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICBxdWVyeTogKDAsIHV0aWxzXzEua2l0c3VTZWFyY2hRdWVyeSkoc2x1ZyksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbmV3RXBpc29kZUxpc3QgPSBhd2FpdCB0aGlzLmZpbmRLaXRzdUFuaW1lKHBvc3NpYmxlUHJvdmlkZXJFcGlzb2Rlcywgb3B0aW9ucywgc2Vhc29uLCBzdGFydERhdGUpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0VwaXNvZGVMaXN0O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZpbmRLaXRzdUFuaW1lID0gYXN5bmMgKHBvc3NpYmxlUHJvdmlkZXJFcGlzb2Rlcywgb3B0aW9ucywgc2Vhc29uLCBzdGFydERhdGUpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2l0c3VFcGlzb2RlcyA9IGF3YWl0IHRoaXMuY2xpZW50LnBvc3QodGhpcy5raXRzdUdyYXBocWxVcmwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGVzTGlzdCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICBpZiAoa2l0c3VFcGlzb2RlcyA9PT0gbnVsbCB8fCBraXRzdUVwaXNvZGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBraXRzdUVwaXNvZGVzLmRhdGEuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG5vZGVzIH0gPSBraXRzdUVwaXNvZGVzLmRhdGEuZGF0YS5zZWFyY2hBbmltZUJ5VGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuc2Vhc29uID09PSBzZWFzb24gJiYgbm9kZS5zdGFydERhdGUudHJpbSgpLnNwbGl0KCctJylbMF0gPT09IChzdGFydERhdGUgPT09IG51bGwgfHwgc3RhcnREYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGFydERhdGUudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXBpc29kZXMgPSBub2RlLmVwaXNvZGVzLm5vZGVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVwaXNvZGUgb2YgZXBpc29kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBlcGlzb2RlID09PSBudWxsIHx8IGVwaXNvZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVwaXNvZGUubnVtYmVyLnRvU3RyaW5nKCkucmVwbGFjZSgvXCIvZywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGh1bWJuYWlsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRodW1ibmFpbEhhc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKF9iID0gZXBpc29kZSA9PT0gbnVsbCB8fCBlcGlzb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcGlzb2RlLmRlc2NyaXB0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBlcGlzb2RlID09PSBudWxsIHx8IGVwaXNvZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVwaXNvZGUuZGVzY3JpcHRpb24uZW4udG9TdHJpbmcoKS5yZXBsYWNlKC9cIi9nLCAnJykucmVwbGFjZSgnXFxcXG4nLCAnXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXBpc29kZSA9PT0gbnVsbCB8fCBlcGlzb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcGlzb2RlLnRodW1ibmFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbCA9IGVwaXNvZGUgPT09IG51bGwgfHwgZXBpc29kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXBpc29kZS50aHVtYm5haWwub3JpZ2luYWwudXJsLnRvU3RyaW5nKCkucmVwbGFjZSgvXCIvZywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbEhhc2ggPSAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKShlcGlzb2RlID09PSBudWxsIHx8IGVwaXNvZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVwaXNvZGUudGh1bWJuYWlsLm9yaWdpbmFsLnVybC50b1N0cmluZygpLnJlcGxhY2UoL1wiL2csICcnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXBpc29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoX2MgPSBlcGlzb2RlLnRpdGxlcykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbm9uaWNhbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGVwaXNvZGUudGl0bGVzLmNhbm9uaWNhbC50b1N0cmluZygpLnJlcGxhY2UoL1wiL2csICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2Rlc0xpc3Quc2V0KGksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZU51bTogZXBpc29kZSA9PT0gbnVsbCB8fCBlcGlzb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcGlzb2RlLm51bWJlci50b1N0cmluZygpLnJlcGxhY2UoL1wiL2csICcnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGVwaXNvZGUgPT09IG51bGwgfHwgZXBpc29kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXBpc29kZS5jcmVhdGVkQXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVzTGlzdC5zZXQoaSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVOdW06IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbEhhc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0VwaXNvZGVMaXN0ID0gW107XG4gICAgICAgICAgICAgICAgaWYgKChwb3NzaWJsZVByb3ZpZGVyRXBpc29kZXMgPT09IG51bGwgfHwgcG9zc2libGVQcm92aWRlckVwaXNvZGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb3NzaWJsZVByb3ZpZGVyRXBpc29kZXMubGVuZ3RoKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZVByb3ZpZGVyRXBpc29kZXMgPT09IG51bGwgfHwgcG9zc2libGVQcm92aWRlckVwaXNvZGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb3NzaWJsZVByb3ZpZGVyRXBpc29kZXMuZm9yRWFjaCgoZXAsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX20sIF9vLCBfcCwgX3EsIF9yLCBfcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGogPSAoaSArIDEpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdFcGlzb2RlTGlzdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZXAuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfZCA9IChfYiA9IGVwLnRpdGxlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAoX2MgPSBlcGlzb2Rlc0xpc3QuZ2V0KGopKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudGl0bGUpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfZyA9IChfZSA9IGVwLmltYWdlKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiAoX2YgPSBlcGlzb2Rlc0xpc3QuZ2V0KGopKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YudGh1bWJuYWlsKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlSGFzaDogKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF9rID0gKF9oID0gZXAuaW1hZ2UpICE9PSBudWxsICYmIF9oICE9PSB2b2lkIDAgPyBfaCA6IChfaiA9IGVwaXNvZGVzTGlzdC5nZXQoaikpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai50aHVtYm5haWwpICE9PSBudWxsICYmIF9rICE9PSB2b2lkIDAgPyBfayA6IG51bGwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogZXAubnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogKF9vID0gKF9sID0gZXAuY3JlYXRlZEF0KSAhPT0gbnVsbCAmJiBfbCAhPT0gdm9pZCAwID8gX2wgOiAoX20gPSBlcGlzb2Rlc0xpc3QuZ2V0KGopKSA9PT0gbnVsbCB8fCBfbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20uY3JlYXRlZEF0KSAhPT0gbnVsbCAmJiBfbyAhPT0gdm9pZCAwID8gX28gOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAoX3IgPSAoX3AgPSBlcC5kZXNjcmlwdGlvbikgIT09IG51bGwgJiYgX3AgIT09IHZvaWQgMCA/IF9wIDogKF9xID0gZXBpc29kZXNMaXN0LmdldChqKSkgPT09IG51bGwgfHwgX3EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9xLmRlc2NyaXB0aW9uKSAhPT0gbnVsbCAmJiBfciAhPT0gdm9pZCAwID8gX3IgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogKF9zID0gZXAudXJsKSAhPT0gbnVsbCAmJiBfcyAhPT0gdm9pZCAwID8gX3MgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3RXBpc29kZUxpc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zc2libGVQcm92aWRlckVwaXNvZGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHBhZ2UgcGFnZSBudW1iZXIgdG8gc2VhcmNoIGZvciAob3B0aW9uYWwpXG4gICAgICAgICAqIEBwYXJhbSBwZXJQYWdlIG51bWJlciBvZiByZXN1bHRzIHBlciBwYWdlIChvcHRpb25hbClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hUcmVuZGluZ0FuaW1lID0gYXN5bmMgKHBhZ2UgPSAxLCBwZXJQYWdlID0gMTApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiAoMCwgdXRpbHNfMS5hbmlsaXN0VHJlbmRpbmdRdWVyeSkocGFnZSwgcGVyUGFnZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LnBvc3QodGhpcy5hbmlsaXN0R3JhcGhxbFVybCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogZGF0YS5kYXRhLlBhZ2UucGFnZUluZm8uY3VycmVudFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBkYXRhLmRhdGEuUGFnZS5wYWdlSW5mby5oYXNOZXh0UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogZGF0YS5kYXRhLlBhZ2UubWVkaWEubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tLCBfbywgX3AsIF9xLCBfciwgX3MsIF90LCBfdTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFsSWQ6IGl0ZW0uaWRNYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb21hamk6IGl0ZW0udGl0bGUucm9tYWppLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nbGlzaDogaXRlbS50aXRsZS5lbmdsaXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlOiBpdGVtLnRpdGxlLm5hdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcmVmZXJyZWQ6IGl0ZW0udGl0bGUudXNlclByZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0udGl0bGUucm9tYWppLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX2MgPSAoX2IgPSBpdGVtLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogaXRlbS5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBpdGVtLmNvdmVySW1hZ2UubWVkaXVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlSGFzaDogKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF9lID0gKF9kID0gaXRlbS5jb3ZlckltYWdlLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGl0ZW0uY292ZXJJbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogaXRlbS5jb3ZlckltYWdlLm1lZGl1bSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9mID0gaXRlbS50cmFpbGVyKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGU6IChfZyA9IGl0ZW0udHJhaWxlcikgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLnNpdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbDogKF9oID0gaXRlbS50cmFpbGVyKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2gudGh1bWJuYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWxIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX2ogPSBpdGVtLnRyYWlsZXIpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai50aHVtYm5haWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGl0ZW0uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBpdGVtLnN0YXR1cyA9PSAnUkVMRUFTSU5HJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnN0YXR1cyA9PSAnRklOSVNIRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnN0YXR1cyA9PSAnTk9UX1lFVF9SRUxFQVNFRCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk5PVF9ZRVRfQUlSRURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uc3RhdHVzID09ICdDQU5DRUxMRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ0FOQ0VMTEVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5zdGF0dXMgPT0gJ0hJQVRVUydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuSElBVFVTXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV04sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY292ZXI6IChfbSA9IChfbCA9IChfayA9IGl0ZW0uYmFubmVySW1hZ2UpICE9PSBudWxsICYmIF9rICE9PSB2b2lkIDAgPyBfayA6IGl0ZW0uY292ZXJJbWFnZS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfbCAhPT0gdm9pZCAwID8gX2wgOiBpdGVtLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9tICE9PSB2b2lkIDAgPyBfbSA6IGl0ZW0uY292ZXJJbWFnZS5tZWRpdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX3EgPSAoX3AgPSAoX28gPSBpdGVtLmJhbm5lckltYWdlKSAhPT0gbnVsbCAmJiBfbyAhPT0gdm9pZCAwID8gX28gOiBpdGVtLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX3AgIT09IHZvaWQgMCA/IF9wIDogaXRlbS5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfcSAhPT0gdm9pZCAwID8gX3EgOiBpdGVtLmNvdmVySW1hZ2UubWVkaXVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmc6IGl0ZW0uYXZlcmFnZVNjb3JlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBpdGVtLnNlYXNvblllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IChfciA9IGl0ZW0uY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbnJlczogaXRlbS5nZW5yZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxFcGlzb2RlczogaXNOYU4oaXRlbS5lcGlzb2RlcykgPyAwIDogKF91ID0gKF9zID0gaXRlbS5lcGlzb2RlcykgIT09IG51bGwgJiYgX3MgIT09IHZvaWQgMCA/IF9zIDogKChfdCA9IGl0ZW0ubmV4dEFpcmluZ0VwaXNvZGUpID09PSBudWxsIHx8IF90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdC5lcGlzb2RlKSAtIDEpICE9PSBudWxsICYmIF91ICE9PSB2b2lkIDAgPyBfdSA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGl0ZW0uZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogaXRlbS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gcGFnZSBwYWdlIG51bWJlciB0byBzZWFyY2ggZm9yIChvcHRpb25hbClcbiAgICAgICAgICogQHBhcmFtIHBlclBhZ2UgbnVtYmVyIG9mIHJlc3VsdHMgcGVyIHBhZ2UgKG9wdGlvbmFsKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaFBvcHVsYXJBbmltZSA9IGFzeW5jIChwYWdlID0gMSwgcGVyUGFnZSA9IDEwKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBxdWVyeTogKDAsIHV0aWxzXzEuYW5pbGlzdFBvcHVsYXJRdWVyeSkocGFnZSwgcGVyUGFnZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LnBvc3QodGhpcy5hbmlsaXN0R3JhcGhxbFVybCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogZGF0YS5kYXRhLlBhZ2UucGFnZUluZm8uY3VycmVudFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBkYXRhLmRhdGEuUGFnZS5wYWdlSW5mby5oYXNOZXh0UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogZGF0YS5kYXRhLlBhZ2UubWVkaWEubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tLCBfbywgX3AsIF9xLCBfciwgX3MsIF90LCBfdTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFsSWQ6IGl0ZW0uaWRNYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb21hamk6IGl0ZW0udGl0bGUucm9tYWppLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nbGlzaDogaXRlbS50aXRsZS5lbmdsaXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlOiBpdGVtLnRpdGxlLm5hdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcmVmZXJyZWQ6IGl0ZW0udGl0bGUudXNlclByZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0udGl0bGUucm9tYWppLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX2MgPSAoX2IgPSBpdGVtLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogaXRlbS5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBpdGVtLmNvdmVySW1hZ2UubWVkaXVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlSGFzaDogKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF9lID0gKF9kID0gaXRlbS5jb3ZlckltYWdlLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGl0ZW0uY292ZXJJbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogaXRlbS5jb3ZlckltYWdlLm1lZGl1bSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9mID0gaXRlbS50cmFpbGVyKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGU6IChfZyA9IGl0ZW0udHJhaWxlcikgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLnNpdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbDogKF9oID0gaXRlbS50cmFpbGVyKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2gudGh1bWJuYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWxIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX2ogPSBpdGVtLnRyYWlsZXIpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai50aHVtYm5haWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGl0ZW0uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBpdGVtLnN0YXR1cyA9PSAnUkVMRUFTSU5HJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnN0YXR1cyA9PSAnRklOSVNIRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnN0YXR1cyA9PSAnTk9UX1lFVF9SRUxFQVNFRCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk5PVF9ZRVRfQUlSRURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uc3RhdHVzID09ICdDQU5DRUxMRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ0FOQ0VMTEVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5zdGF0dXMgPT0gJ0hJQVRVUydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuSElBVFVTXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV04sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY292ZXI6IChfbSA9IChfbCA9IChfayA9IGl0ZW0uYmFubmVySW1hZ2UpICE9PSBudWxsICYmIF9rICE9PSB2b2lkIDAgPyBfayA6IGl0ZW0uY292ZXJJbWFnZS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfbCAhPT0gdm9pZCAwID8gX2wgOiBpdGVtLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9tICE9PSB2b2lkIDAgPyBfbSA6IGl0ZW0uY292ZXJJbWFnZS5tZWRpdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX3EgPSAoX3AgPSAoX28gPSBpdGVtLmJhbm5lckltYWdlKSAhPT0gbnVsbCAmJiBfbyAhPT0gdm9pZCAwID8gX28gOiBpdGVtLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX3AgIT09IHZvaWQgMCA/IF9wIDogaXRlbS5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfcSAhPT0gdm9pZCAwID8gX3EgOiBpdGVtLmNvdmVySW1hZ2UubWVkaXVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmc6IGl0ZW0uYXZlcmFnZVNjb3JlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBpdGVtLnNlYXNvblllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IChfciA9IGl0ZW0uY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbnJlczogaXRlbS5nZW5yZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxFcGlzb2RlczogaXNOYU4oaXRlbS5lcGlzb2RlcykgPyAwIDogKF91ID0gKF9zID0gaXRlbS5lcGlzb2RlcykgIT09IG51bGwgJiYgX3MgIT09IHZvaWQgMCA/IF9zIDogKChfdCA9IGl0ZW0ubmV4dEFpcmluZ0VwaXNvZGUpID09PSBudWxsIHx8IF90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdC5lcGlzb2RlKSAtIDEpICE9PSBudWxsICYmIF91ICE9PSB2b2lkIDAgPyBfdSA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGl0ZW0uZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogaXRlbS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gcGFnZSBwYWdlIG51bWJlciAob3B0aW9uYWwpXG4gICAgICAgICAqIEBwYXJhbSBwZXJQYWdlIG51bWJlciBvZiByZXN1bHRzIHBlciBwYWdlIChvcHRpb25hbClcbiAgICAgICAgICogQHBhcmFtIHdlZWtTdGFydCBGaWx0ZXIgYnkgdGhlIHN0YXJ0IG9mIHRoZSB3ZWVrIChvcHRpb25hbCkgKGRlZmF1bHQ6IHRvZGF5cyBkYXRlKSAob3B0aW9uczogMiA9IE1vbmRheSwgMyA9IFR1ZXNkYXksIDQgPSBXZWRuZXNkYXksIDUgPSBUaHVyc2RheSwgNiA9IEZyaWRheSwgMCA9IFNhdHVyZGF5LCAxID0gU3VuZGF5KSB5b3UgY2FuIHVzZSBlaXRoZXIgdGhlIG51bWJlciBvciB0aGUgc3RyaW5nXG4gICAgICAgICAqIEBwYXJhbSB3ZWVrRW5kIEZpbHRlciBieSB0aGUgZW5kIG9mIHRoZSB3ZWVrIChvcHRpb25hbCkgc2ltaWxhciB0byB3ZWVrU3RhcnRcbiAgICAgICAgICogQHBhcmFtIG5vdFlldEFpcmVkIGlmIHRydWUgd2lsbCByZXR1cm4gYW5pbWUgdGhhdCBoYXZlIG5vdCB5ZXQgYWlyZWQgKG9wdGlvbmFsKVxuICAgICAgICAgKiBAcmV0dXJucyB0aGUgbmV4dCBhaXJpbmcgZXBpc29kZXNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hBaXJpbmdTY2hlZHVsZSA9IGFzeW5jIChwYWdlID0gMSwgcGVyUGFnZSA9IDIwLCB3ZWVrU3RhcnQgPSAobmV3IERhdGUoKS5nZXREYXkoKSArIDEpICUgNywgd2Vla0VuZCA9IChuZXcgRGF0ZSgpLmdldERheSgpICsgNykgJSA3LCBub3RZZXRBaXJlZCA9IGZhbHNlKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGF5MSwgZGF5MiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2Vla1N0YXJ0ID09PSAnc3RyaW5nJyAmJiB0eXBlb2Ygd2Vla0VuZCA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgW2RheTEsIGRheTJdID0gKDAsIHV0aWxzXzEuZ2V0RGF5cykoKDAsIHV0aWxzXzEuY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKSh3ZWVrU3RhcnQudG9Mb3dlckNhc2UoKSksICgwLCB1dGlsc18xLmNhcGl0YWxpemVGaXJzdExldHRlcikod2Vla0VuZC50b0xvd2VyQ2FzZSgpKSk7XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2Vla1N0YXJ0ID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygd2Vla0VuZCA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgW2RheTEsIGRheTJdID0gW3dlZWtTdGFydCwgd2Vla0VuZF07XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHdlZWtTdGFydCBvciB3ZWVrRW5kJyk7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBxdWVyeTogKDAsIHV0aWxzXzEuYW5pbGlzdEFpcmluZ1NjaGVkdWxlUXVlcnkpKHBhZ2UsIHBlclBhZ2UsIGRheTEsIGRheTIsIG5vdFlldEFpcmVkKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdCh0aGlzLmFuaWxpc3RHcmFwaHFsVXJsLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBkYXRhLmRhdGEuUGFnZS5wYWdlSW5mby5jdXJyZW50UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGRhdGEuZGF0YS5QYWdlLnBhZ2VJbmZvLmhhc05leHRQYWdlLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBkYXRhLmRhdGEuUGFnZS5haXJpbmdTY2hlZHVsZXMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0ubWVkaWEuaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWxJZDogaXRlbS5tZWRpYS5pZE1hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlOiBpdGVtLmVwaXNvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWlyaW5nQXQ6IGl0ZW0uYWlyaW5nQXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0ubWVkaWEudGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb21hamk6IGl0ZW0ubWVkaWEudGl0bGUucm9tYWppLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nbGlzaDogaXRlbS5tZWRpYS50aXRsZS5lbmdsaXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlOiBpdGVtLm1lZGlhLnRpdGxlLm5hdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcmVmZXJyZWQ6IGl0ZW0ubWVkaWEudGl0bGUudXNlclByZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0ubWVkaWEudGl0bGUucm9tYWppLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50cnk6IGl0ZW0ubWVkaWEuY291bnRyeU9mT3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX2MgPSAoX2IgPSBpdGVtLm1lZGlhLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogaXRlbS5tZWRpYS5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBpdGVtLm1lZGlhLmNvdmVySW1hZ2UubWVkaXVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlSGFzaDogKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF9lID0gKF9kID0gaXRlbS5tZWRpYS5jb3ZlckltYWdlLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGl0ZW0ubWVkaWEuY292ZXJJbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogaXRlbS5tZWRpYS5jb3ZlckltYWdlLm1lZGl1bSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGl0ZW0ubWVkaWEuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY292ZXI6IChfaCA9IChfZyA9IChfZiA9IGl0ZW0ubWVkaWEuYmFubmVySW1hZ2UpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IGl0ZW0ubWVkaWEuY292ZXJJbWFnZS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiBpdGVtLm1lZGlhLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9oICE9PSB2b2lkIDAgPyBfaCA6IGl0ZW0ubWVkaWEuY292ZXJJbWFnZS5tZWRpdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX2wgPSAoX2sgPSAoX2ogPSBpdGVtLm1lZGlhLmJhbm5lckltYWdlKSAhPT0gbnVsbCAmJiBfaiAhPT0gdm9pZCAwID8gX2ogOiBpdGVtLm1lZGlhLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2sgIT09IHZvaWQgMCA/IF9rIDogaXRlbS5tZWRpYS5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfbCAhPT0gdm9pZCAwID8gX2wgOiBpdGVtLm1lZGlhLmNvdmVySW1hZ2UubWVkaXVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5yZXM6IGl0ZW0ubWVkaWEuZ2VucmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAoX20gPSBpdGVtLm1lZGlhLmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF9tID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmc6IGl0ZW0ubWVkaWEuYXZlcmFnZVNjb3JlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBpdGVtLm1lZGlhLnNlYXNvblllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogaXRlbS5tZWRpYS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gZ2VucmVzIEFuIGFycmF5IG9mIGdlbnJlcyB0byBmaWx0ZXIgYnkgKG9wdGlvbmFsKSBnZW5yZXM6IFtgQWN0aW9uYCwgYEFkdmVudHVyZWAsIGBDYXJzYCwgYENvbWVkeWAsIGBEcmFtYWAsIGBGYW50YXN5YCwgYEhvcnJvcmAsIGBNYWhvdSBTaG91am9gLCBgTWVjaGFgLCBgTXVzaWNgLCBgTXlzdGVyeWAsIGBQc3ljaG9sb2dpY2FsYCwgYFJvbWFuY2VgLCBgU2NpLUZpYCwgYFNsaWNlIG9mIExpZmVgLCBgU3BvcnRzYCwgYFN1cGVybmF0dXJhbGAsIGBUaHJpbGxlcmBdXG4gICAgICAgICAqIEBwYXJhbSBwYWdlIHBhZ2UgbnVtYmVyIChvcHRpb25hbClcbiAgICAgICAgICogQHBhcmFtIHBlclBhZ2UgbnVtYmVyIG9mIHJlc3VsdHMgcGVyIHBhZ2UgKG9wdGlvbmFsKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEFuaW1lR2VucmVzID0gYXN5bmMgKGdlbnJlcywgcGFnZSA9IDEsIHBlclBhZ2UgPSAyMCkgPT4ge1xuICAgICAgICAgICAgaWYgKGdlbnJlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBnZW5yZXMgc3BlY2lmaWVkJyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGdlbnJlIG9mIGdlbnJlcylcbiAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC52YWx1ZXMobW9kZWxzXzEuR2VucmVzKS5pbmNsdWRlcyhnZW5yZSkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBnZW5yZScpO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcXVlcnk6ICgwLCB1dGlsc18xLmFuaWxpc3RHZW5yZXNRdWVyeSkoZ2VucmVzLCBwYWdlLCBwZXJQYWdlKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdCh0aGlzLmFuaWxpc3RHcmFwaHFsVXJsLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBkYXRhLmRhdGEuUGFnZS5wYWdlSW5mby5jdXJyZW50UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGRhdGEuZGF0YS5QYWdlLnBhZ2VJbmZvLmhhc05leHRQYWdlLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBkYXRhLmRhdGEuUGFnZS5tZWRpYS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX20sIF9vLCBfcCwgX3EsIF9yLCBfcywgX3QsIF91O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWxJZDogaXRlbS5pZE1hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbWFqaTogaXRlbS50aXRsZS5yb21hamksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdsaXNoOiBpdGVtLnRpdGxlLmVuZ2xpc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmU6IGl0ZW0udGl0bGUubmF0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclByZWZlcnJlZDogaXRlbS50aXRsZS51c2VyUHJlZmVycmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS50aXRsZS5yb21hamksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfYyA9IChfYiA9IGl0ZW0uY292ZXJJbWFnZS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBpdGVtLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGl0ZW0uY292ZXJJbWFnZS5tZWRpdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX2UgPSAoX2QgPSBpdGVtLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogaXRlbS5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBpdGVtLmNvdmVySW1hZ2UubWVkaXVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFpbGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2YgPSBpdGVtLnRyYWlsZXIpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZTogKF9nID0gaXRlbS50cmFpbGVyKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuc2l0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsOiAoX2ggPSBpdGVtLnRyYWlsZXIpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC50aHVtYm5haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbEhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfaiA9IGl0ZW0udHJhaWxlcikgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLnRodW1ibmFpbCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogaXRlbS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcjogKF9tID0gKF9sID0gKF9rID0gaXRlbS5iYW5uZXJJbWFnZSkgIT09IG51bGwgJiYgX2sgIT09IHZvaWQgMCA/IF9rIDogaXRlbS5jb3ZlckltYWdlLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF9sICE9PSB2b2lkIDAgPyBfbCA6IGl0ZW0uY292ZXJJbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX20gIT09IHZvaWQgMCA/IF9tIDogaXRlbS5jb3ZlckltYWdlLm1lZGl1bSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3Zlckhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfcSA9IChfcCA9IChfbyA9IGl0ZW0uYmFubmVySW1hZ2UpICE9PSBudWxsICYmIF9vICE9PSB2b2lkIDAgPyBfbyA6IGl0ZW0uY292ZXJJbWFnZS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfcCAhPT0gdm9pZCAwID8gX3AgOiBpdGVtLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9xICE9PSB2b2lkIDAgPyBfcSA6IGl0ZW0uY292ZXJJbWFnZS5tZWRpdW0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZzogaXRlbS5hdmVyYWdlU2NvcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IGl0ZW0uc2Vhc29uWWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogKF9yID0gaXRlbS5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3IuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VucmVzOiBpdGVtLmdlbnJlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEVwaXNvZGVzOiBpc05hTihpdGVtLmVwaXNvZGVzKSA/IDAgOiAoX3UgPSAoX3MgPSBpdGVtLmVwaXNvZGVzKSAhPT0gbnVsbCAmJiBfcyAhPT0gdm9pZCAwID8gX3MgOiAoKF90ID0gaXRlbS5uZXh0QWlyaW5nRXBpc29kZSkgPT09IG51bGwgfHwgX3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90LmVwaXNvZGUpIC0gMSkgIT09IG51bGwgJiYgX3UgIT09IHZvaWQgMCA/IF91IDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogaXRlbS5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBpdGVtLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5maW5kQW5pbWVSYXcgPSBhc3luYyAoc2x1ZywgZXh0ZXJuYWxMaW5rcykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvdmlkZXIgaW5zdGFuY2VvZiBjcnVuY2h5cm9sbF8xLmRlZmF1bHQgJiYgZXh0ZXJuYWxMaW5rcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBleHRlcm5hbExpbmtzLmZpbmQoKGxpbmspID0+IGxpbmsuc2l0ZS5pbmNsdWRlcygnQ3J1bmNoeXJvbGwnKSk7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyByZXF1ZXN0IH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQobGluay51cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlU3RhdHVzOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QucmVzLnJlc3BvbnNlVXJsLmluY2x1ZGVzKCdzZXJpZXMnKSB8fCByZXF1ZXN0LnJlcy5yZXNwb25zZVVybC5pbmNsdWRlcygnd2F0Y2gnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVkaWFUeXBlID0gcmVxdWVzdC5yZXMucmVzcG9uc2VVcmwuc3BsaXQoJy8nKVszXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gcmVxdWVzdC5yZXMucmVzcG9uc2VVcmwuc3BsaXQoJy8nKVs0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb3ZpZGVyLmZldGNoQW5pbWVJbmZvKGlkLCBtZWRpYVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZmluZEFuaW1lID0gKGF3YWl0IHRoaXMucHJvdmlkZXIuc2VhcmNoKHNsdWcpKTtcbiAgICAgICAgICAgIGlmIChmaW5kQW5pbWUucmVzdWx0cy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIC8vIFNvcnQgdGhlIHJldHJpZXZlZCBpbmZvIGZvciBtb3JlIGFjY3VyYXRlIHJlc3VsdHMuXG4gICAgICAgICAgICBsZXQgdG9wUmF0aW5nID0gMDtcbiAgICAgICAgICAgIGZpbmRBbmltZS5yZXN1bHRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0VGl0bGUgPSBzbHVnLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0VGl0bGU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZFRpdGxlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYS50aXRsZSA9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RUaXRsZSA9IGEudGl0bGU7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBmaXJzdFRpdGxlID0gKF9jID0gKF9iID0gYS50aXRsZS5lbmdsaXNoKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBhLnRpdGxlLnJvbWFqaSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogJyc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiLnRpdGxlID09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRUaXRsZSA9IGIudGl0bGU7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRUaXRsZSA9IChfZSA9IChfZCA9IGIudGl0bGUuZW5nbGlzaCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogYi50aXRsZS5yb21hamkpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0UmF0aW5nID0gKDAsIHV0aWxzXzIuY29tcGFyZVR3b1N0cmluZ3MpKHRhcmdldFRpdGxlLCBmaXJzdFRpdGxlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZFJhdGluZyA9ICgwLCB1dGlsc18yLmNvbXBhcmVUd29TdHJpbmdzKSh0YXJnZXRUaXRsZSwgc2Vjb25kVGl0bGUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0UmF0aW5nID4gdG9wUmF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcFJhdGluZyA9IGZpcnN0UmF0aW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kUmF0aW5nID4gdG9wUmF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcFJhdGluZyA9IHNlY29uZFJhdGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU29ydCBpbiBkZXNjZW5kaW5nIG9yZGVyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlY29uZFJhdGluZyAtIGZpcnN0UmF0aW5nO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodG9wUmF0aW5nID49IDAuNykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3ZpZGVyIGluc3RhbmNlb2YgY3J1bmNoeXJvbGxfMS5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb3ZpZGVyLmZldGNoQW5pbWVJbmZvKGZpbmRBbmltZS5yZXN1bHRzWzBdLmlkLCBmaW5kQW5pbWUucmVzdWx0c1swXS50eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb3ZpZGVyLmZldGNoQW5pbWVJbmZvKGZpbmRBbmltZS5yZXN1bHRzWzBdLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMgYSByYW5kb20gYW5pbWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hSYW5kb21BbmltZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiAoMCwgdXRpbHNfMS5hbmlsaXN0U2l0ZVN0YXRpc3RpY3NRdWVyeSkoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnN0IHtcbiAgICAgICAgICAgICAgICAvLyAgIGRhdGE6IHsgZGF0YSB9LFxuICAgICAgICAgICAgICAgIC8vIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KHRoaXMuYW5pbGlzdEdyYXBocWxVcmwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnN0IHNlbGVjdGVkQW5pbWUgPSBNYXRoLmZsb29yKFxuICAgICAgICAgICAgICAgIC8vICAgTWF0aC5yYW5kb20oKSAqIGRhdGEuU2l0ZVN0YXRpc3RpY3MuYW5pbWUubm9kZXNbZGF0YS5TaXRlU3RhdGlzdGljcy5hbmltZS5ub2Rlcy5sZW5ndGggLSAxXS5jb3VudFxuICAgICAgICAgICAgICAgIC8vICk7XG4gICAgICAgICAgICAgICAgLy8gY29uc3QgeyByZXN1bHRzIH0gPSBhd2FpdCB0aGlzLmFkdmFuY2VkU2VhcmNoKHVuZGVmaW5lZCwgJ0FOSU1FJywgTWF0aC5jZWlsKHNlbGVjdGVkQW5pbWUgLyA1MCksIDUwKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGE6IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLzVINEQwV0lMQS9JREZldGNoL21haW4vaWRzLnR4dCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkcyA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS50cmltKCkuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQW5pbWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBpZHMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaEFuaW1lSW5mbyhpZHNbc2VsZWN0ZWRBbmltZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gcHJvdmlkZXIgVGhlIHByb3ZpZGVyIHRvIGdldCB0aGUgZXBpc29kZSBJZHMgZnJvbSAob3B0aW9uYWwpIGRlZmF1bHQ6IGBnb2dvYW5pbWVgIChvcHRpb25zOiBgZ29nb2FuaW1lYCwgYHpvcm9gKVxuICAgICAgICAgKiBAcGFyYW0gcGFnZSBwYWdlIG51bWJlciAob3B0aW9uYWwpXG4gICAgICAgICAqIEBwYXJhbSBwZXJQYWdlIG51bWJlciBvZiByZXN1bHRzIHBlciBwYWdlIChvcHRpb25hbClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hSZWNlbnRFcGlzb2RlcyA9IGFzeW5jIChwcm92aWRlciA9ICdnb2dvYW5pbWUnLCBwYWdlID0gMSwgcGVyUGFnZSA9IDI1KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYW5pZnlVcmx9L3JlY2VudD9wYWdlPSR7cGFnZX0mcGVyUGFnZT0ke3BlclBhZ2V9JnR5cGU9YW5pbWVgKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tLCBfbztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWxJZDogKF9iID0gaXRlbS5tYXBwaW5ncy5maW5kKChpdGVtKSA9PiBpdGVtLnByb3ZpZGVyVHlwZSA9PT0gJ01FVEEnICYmIGl0ZW0ucHJvdmlkZXJJZCA9PT0gJ21hbCcpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbWFqaTogKF9jID0gaXRlbS50aXRsZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnJvbWFqaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdsaXNoOiAoX2QgPSBpdGVtLnRpdGxlKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuZW5nbGlzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmU6IChfZSA9IGl0ZW0udGl0bGUpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5uYXRpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlclByZWZlcnJlZDogKF9mID0gaXRlbS50aXRsZSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnVzZXJQcmVmZXJyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfZiA9IGl0ZW0uY292ZXJJbWFnZSkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogaXRlbS5iYW5uZXJJbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlSGFzaDogKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF9nID0gaXRlbS5jb3ZlckltYWdlKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiBpdGVtLmJhbm5lckltYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZzogaXRlbS5hdmVyYWdlU2NvcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogKF9oID0gaXRlbS5hbmltZSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZUlkOiBgJHtwcm92aWRlciA9PT0gJ2dvZ29hbmltZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChfayA9IChfaiA9IGl0ZW0uZXBpc29kZXMuZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgoc291cmNlKSA9PiBzb3VyY2UucHJvdmlkZXJJZC50b0xvd2VyQ2FzZSgpID09PSAnZ29nb2FuaW1lJykpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5lcGlzb2Rlcy5wb3AoKSkgPT09IG51bGwgfHwgX2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9rLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoX20gPSAoX2wgPSBpdGVtLmVwaXNvZGVzLmRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoKHNvdXJjZSkgPT4gc291cmNlLnByb3ZpZGVySWQudG9Mb3dlckNhc2UoKSA9PT0gJ3pvcm8nKSkgPT09IG51bGwgfHwgX2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sLmVwaXNvZGVzLnBvcCgpKSA9PT0gbnVsbCB8fCBfbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20uaWR9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVUaXRsZTogKF9vID0gaXRlbS5lcGlzb2Rlcy5sYXRlc3QubGF0ZXN0VGl0bGUpICE9PSBudWxsICYmIF9vICE9PSB2b2lkIDAgPyBfbyA6IGBFcGlzb2RlICR7aXRlbS5jdXJyZW50RXBpc29kZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZU51bWJlcjogaXRlbS5jdXJyZW50RXBpc29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbnJlczogaXRlbS5nZW5yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGl0ZW0uZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIHJlc3VsdHMgPSByZXN1bHRzLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5lcGlzb2RlTnVtYmVyICE9PSAwICYmXG4gICAgICAgICAgICAgICAgLy8gICAgIGl0ZW0uZXBpc29kZUlkLnJlcGxhY2UoJy1lbmltZScsICcnKS5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgLy8gICAgIGl0ZW0uZXBpc29kZUlkLnJlcGxhY2UoJy1lbmltZScsICcnKSAhPT0gJ3VuZGVmaW5lZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICAvLyBoYXNOZXh0UGFnZTogbWV0YS5sYXN0UGFnZSAhPT0gcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gdG90YWxQYWdlczogbWV0YS5sYXN0UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxSZXN1bHRzOiByZXN1bHRzID09PSBudWxsIHx8IHJlc3VsdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiByZXN1bHRzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaERlZmF1bHRFcGlzb2RlTGlzdCA9IGFzeW5jIChNZWRpYSwgZHViLCBpZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9iLCBfYztcbiAgICAgICAgICAgIGxldCBlcGlzb2RlcyA9IFtdO1xuICAgICAgICAgICAgZXBpc29kZXMgPSBhd2FpdCB0aGlzLmZpbmRBbmltZSh7IGVuZ2xpc2g6IChfYiA9IE1lZGlhLnRpdGxlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZW5nbGlzaCwgcm9tYWppOiAoX2MgPSBNZWRpYS50aXRsZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnJvbWFqaSB9LCBNZWRpYS5zZWFzb24sIE1lZGlhLnN0YXJ0RGF0ZS55ZWFyLCBNZWRpYS5pZE1hbCwgZHViLCBpZCwgTWVkaWEuZXh0ZXJuYWxMaW5rcyk7XG4gICAgICAgICAgICByZXR1cm4gZXBpc29kZXM7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gaWQgYW5pbGlzdCBpZFxuICAgICAgICAgKiBAcGFyYW0gZHViIGxhbmd1YWdlIG9mIHRoZSBkdWJiZWQgdmVyc2lvbiAob3B0aW9uYWwpIGN1cnJlbnRseSBvbmx5IHdvcmtzIGZvciBnb2dvYW5pbWVcbiAgICAgICAgICogQHBhcmFtIGZldGNoRmlsbGVyIHRvIGdldCBmaWxsZXIgYm9vbGVhbiBvbiB0aGUgZXBpc29kZSBvYmplY3QgKG9wdGlvbmFsKSBzZXQgdG8gYHRydWVgIHRvIGdldCBmaWxsZXIgYm9vbGVhbiBvbiB0aGUgZXBpc29kZSBvYmplY3QuXG4gICAgICAgICAqIEByZXR1cm5zIGVwaXNvZGUgbGlzdCAqKih3aXRob3V0IGFuaW1lIGluZm8pKipcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2Rlc0xpc3RCeUlkID0gYXN5bmMgKGlkLCBkdWIgPSBmYWxzZSwgZmV0Y2hGaWxsZXIgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9iLCBfYztcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiBgcXVlcnkoJGlkOiBJbnQgPSAke2lkfSl7IE1lZGlhKGlkOiAkaWQpeyBpZE1hbCBleHRlcm5hbExpbmtzIHsgc2l0ZSB1cmwgfSB0aXRsZSB7IHJvbWFqaSBlbmdsaXNoIH0gc3RhdHVzIHNlYXNvbiBlcGlzb2RlcyBzdGFydERhdGUgeyB5ZWFyIG1vbnRoIGRheSB9IGVuZERhdGUgeyB5ZWFyIG1vbnRoIGRheSB9ICBjb3ZlckltYWdlIHtleHRyYUxhcmdlIGxhcmdlIG1lZGl1bX0gfSB9YCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IHsgZGF0YTogeyBNZWRpYSB9LCB9LCB9ID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdCh0aGlzLmFuaWxpc3RHcmFwaHFsVXJsLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGxldCBwb3NzaWJsZUFuaW1lRXBpc29kZXMgPSBbXTtcbiAgICAgICAgICAgIGxldCBmaWxsZXJFcGlzb2RlcyA9IFtdO1xuICAgICAgICAgICAgaWYgKCh0aGlzLnByb3ZpZGVyIGluc3RhbmNlb2Ygem9yb18xLmRlZmF1bHQgfHwgdGhpcy5wcm92aWRlciBpbnN0YW5jZW9mIGdvZ29hbmltZV8xLmRlZmF1bHQpICYmXG4gICAgICAgICAgICAgICAgIWR1YiAmJlxuICAgICAgICAgICAgICAgIChNZWRpYS5zdGF0dXMgPT09ICdSRUxFQVNJTkcnIHx8XG4gICAgICAgICAgICAgICAgICAgICgwLCB1dGlsc18xLnJhbmdlKSh7IGZyb206IDIwMDAsIHRvOiBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgKyAxIH0pLmluY2x1ZGVzKHBhcnNlSW50KChfYiA9IE1lZGlhLnN0YXJ0RGF0ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnllYXIpKSkpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUFuaW1lRXBpc29kZXMgPSAoX2MgPSAoYXdhaXQgbmV3IGFuaWZ5XzEuZGVmYXVsdCgpLmZldGNoQW5pbWVJbmZvQnlBbmlsaXN0SWQoaWQsIHRoaXMucHJvdmlkZXIubmFtZS50b0xvd2VyQ2FzZSgpKSkuZXBpc29kZXMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5zbHVnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogaXRlbS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogaXRlbS5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogaXRlbS5pbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlSGFzaDogKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoaXRlbS5pbWFnZSksXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwb3NzaWJsZUFuaW1lRXBpc29kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUFuaW1lRXBpc29kZXMgPSBhd2FpdCB0aGlzLmZldGNoRGVmYXVsdEVwaXNvZGVMaXN0KE1lZGlhLCBkdWIsIGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQW5pbWVFcGlzb2RlcyA9IHBvc3NpYmxlQW5pbWVFcGlzb2RlcyA9PT0gbnVsbCB8fCBwb3NzaWJsZUFuaW1lRXBpc29kZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvc3NpYmxlQW5pbWVFcGlzb2Rlcy5tYXAoKGVwaXNvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcGlzb2RlLmltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGUuaW1hZ2UgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9jID0gKF9iID0gTWVkaWEuY292ZXJJbWFnZS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBNZWRpYS5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBNZWRpYS5jb3ZlckltYWdlLm1lZGl1bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZS5pbWFnZUhhc2ggPSAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX2UgPSAoX2QgPSBNZWRpYS5jb3ZlckltYWdlLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IE1lZGlhLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IE1lZGlhLmNvdmVySW1hZ2UubWVkaXVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVwaXNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQW5pbWVFcGlzb2RlcyA9IGF3YWl0IHRoaXMuZmV0Y2hEZWZhdWx0RXBpc29kZUxpc3QoTWVkaWEsIGR1YiwgaWQpO1xuICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUFuaW1lRXBpc29kZXMgPSBwb3NzaWJsZUFuaW1lRXBpc29kZXMgPT09IG51bGwgfHwgcG9zc2libGVBbmltZUVwaXNvZGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb3NzaWJsZUFuaW1lRXBpc29kZXMubWFwKChlcGlzb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVwaXNvZGUuaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlLmltYWdlID0gKF9jID0gKF9iID0gTWVkaWEuY292ZXJJbWFnZS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBNZWRpYS5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBNZWRpYS5jb3ZlckltYWdlLm1lZGl1bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlLmltYWdlSGFzaCA9ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfZSA9IChfZCA9IE1lZGlhLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogTWVkaWEuY292ZXJJbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogTWVkaWEuY292ZXJJbWFnZS5tZWRpdW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVwaXNvZGU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zc2libGVBbmltZUVwaXNvZGVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBwb3NzaWJsZUFuaW1lRXBpc29kZXMgPSBhd2FpdCB0aGlzLmZldGNoRGVmYXVsdEVwaXNvZGVMaXN0KE1lZGlhLCBkdWIsIGlkKTtcbiAgICAgICAgICAgIGlmIChmZXRjaEZpbGxlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogZmlsbGVyRGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vc2Fpa291LWFwcC9tYWwtaWQtZmlsbGVyLWxpc3QvbWFpbi9maWxsZXJzLyR7TWVkaWEuaWRNYWx9Lmpzb25gLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlU3RhdHVzOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghZmlsbGVyRGF0YS50b1N0cmluZygpLnN0YXJ0c1dpdGgoJzQwNCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGxlckVwaXNvZGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZpbGxlckVwaXNvZGVzID09PSBudWxsIHx8IGZpbGxlckVwaXNvZGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaWxsZXJFcGlzb2Rlcy5wdXNoKC4uLmZpbGxlckRhdGEuZXBpc29kZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvc3NpYmxlQW5pbWVFcGlzb2RlcyA9IHBvc3NpYmxlQW5pbWVFcGlzb2RlcyA9PT0gbnVsbCB8fCBwb3NzaWJsZUFuaW1lRXBpc29kZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvc3NpYmxlQW5pbWVFcGlzb2Rlcy5tYXAoKGVwaXNvZGUpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgICAgICAgICAgaWYgKCFlcGlzb2RlLmltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVwaXNvZGUuaW1hZ2UgPSAoX2MgPSAoX2IgPSBNZWRpYS5jb3ZlckltYWdlLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IE1lZGlhLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IE1lZGlhLmNvdmVySW1hZ2UubWVkaXVtO1xuICAgICAgICAgICAgICAgICAgICBlcGlzb2RlLmltYWdlSGFzaCA9ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfZSA9IChfZCA9IE1lZGlhLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogTWVkaWEuY292ZXJJbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogTWVkaWEuY292ZXJJbWFnZS5tZWRpdW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZmV0Y2hGaWxsZXIgJiYgKGZpbGxlckVwaXNvZGVzID09PSBudWxsIHx8IGZpbGxlckVwaXNvZGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaWxsZXJFcGlzb2Rlcy5sZW5ndGgpID4gMCAmJiAoZmlsbGVyRXBpc29kZXMgPT09IG51bGwgfHwgZmlsbGVyRXBpc29kZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZpbGxlckVwaXNvZGVzLmxlbmd0aCkgPj0gTWVkaWEuZXBpc29kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGxlckVwaXNvZGVzW2VwaXNvZGUubnVtYmVyIC0gMV0pXG4gICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlLmlzRmlsbGVyID0gbmV3IEJvb2xlYW4oZmlsbGVyRXBpc29kZXNbZXBpc29kZS5udW1iZXIgLSAxXVsnZmlsbGVyLWJvb2wnXSkudmFsdWVPZigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZXBpc29kZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3NpYmxlQW5pbWVFcGlzb2RlcztcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBpZCBhbmlsaXN0IGlkXG4gICAgICAgICAqIEByZXR1cm5zIGFuaWxpc3QgZGF0YSBmb3IgdGhlIGFuaW1lICoqKHdpdGhvdXQgZXBpc29kZXMpKiogKHVzZSBgZmV0Y2hFcGlzb2Rlc0xpc3RCeUlkYCB0byBnZXQgdGhlIGVwaXNvZGVzKSAodXNlIGBmZXRjaEFuaW1lSW5mb2AgdG8gZ2V0IGJvdGgpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoQW5pbGlzdEluZm9CeUlkID0gYXN5bmMgKGlkKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tLCBfbywgX3AsIF9xLCBfciwgX3MsIF90LCBfdSwgX3YsIF93LCBfeCwgX3ksIF96LCBfMCwgXzEsIF8yLCBfMywgXzQsIF81O1xuICAgICAgICAgICAgY29uc3QgYW5pbWVJbmZvID0ge1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcXVlcnk6ICgwLCB1dGlsc18xLmFuaWxpc3RNZWRpYURldGFpbFF1ZXJ5KShpZCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LnBvc3QodGhpcy5hbmlsaXN0R3JhcGhxbFVybCwgb3B0aW9ucykuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01lZGlhIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5tYWxJZCA9IGRhdGEuZGF0YS5NZWRpYS5pZE1hbDtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8udGl0bGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJvbWFqaTogZGF0YS5kYXRhLk1lZGlhLnRpdGxlLnJvbWFqaSxcbiAgICAgICAgICAgICAgICAgICAgZW5nbGlzaDogZGF0YS5kYXRhLk1lZGlhLnRpdGxlLmVuZ2xpc2gsXG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZTogZGF0YS5kYXRhLk1lZGlhLnRpdGxlLm5hdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgdXNlclByZWZlcnJlZDogZGF0YS5kYXRhLk1lZGlhLnRpdGxlLnVzZXJQcmVmZXJyZWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoKF9iID0gZGF0YS5kYXRhLk1lZGlhLnRyYWlsZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pZCkge1xuICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8udHJhaWxlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2MgPSBkYXRhLmRhdGEuTWVkaWEudHJhaWxlcikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZTogKF9kID0gZGF0YS5kYXRhLk1lZGlhLnRyYWlsZXIpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5zaXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsOiAoX2UgPSBkYXRhLmRhdGEuTWVkaWEudHJhaWxlcikgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnRodW1ibmFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbEhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfZiA9IGRhdGEuZGF0YS5NZWRpYS50cmFpbGVyKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YudGh1bWJuYWlsKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLnN5bm9ueW1zID0gZGF0YS5kYXRhLk1lZGlhLnN5bm9ueW1zO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5pc0xpY2Vuc2VkID0gZGF0YS5kYXRhLk1lZGlhLmlzTGljZW5zZWQ7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLmlzQWR1bHQgPSBkYXRhLmRhdGEuTWVkaWEuaXNBZHVsdDtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uY291bnRyeU9mT3JpZ2luID0gZGF0YS5kYXRhLk1lZGlhLmNvdW50cnlPZk9yaWdpbjtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uaW1hZ2UgPVxuICAgICAgICAgICAgICAgICAgICAoX2ggPSAoX2cgPSBkYXRhLmRhdGEuTWVkaWEuY292ZXJJbWFnZS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiBkYXRhLmRhdGEuTWVkaWEuY292ZXJJbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogZGF0YS5kYXRhLk1lZGlhLmNvdmVySW1hZ2UubWVkaXVtO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5pbWFnZUhhc2ggPSAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX2sgPSAoX2ogPSBkYXRhLmRhdGEuTWVkaWEuY292ZXJJbWFnZS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfaiAhPT0gdm9pZCAwID8gX2ogOiBkYXRhLmRhdGEuTWVkaWEuY292ZXJJbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2sgIT09IHZvaWQgMCA/IF9rIDogZGF0YS5kYXRhLk1lZGlhLmNvdmVySW1hZ2UubWVkaXVtKTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uY292ZXIgPSAoX2wgPSBkYXRhLmRhdGEuTWVkaWEuYmFubmVySW1hZ2UpICE9PSBudWxsICYmIF9sICE9PSB2b2lkIDAgPyBfbCA6IGFuaW1lSW5mby5pbWFnZTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uY292ZXJIYXNoID0gKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF9tID0gZGF0YS5kYXRhLk1lZGlhLmJhbm5lckltYWdlKSAhPT0gbnVsbCAmJiBfbSAhPT0gdm9pZCAwID8gX20gOiBhbmltZUluZm8uaW1hZ2UpO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5kZXNjcmlwdGlvbiA9IGRhdGEuZGF0YS5NZWRpYS5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRhdGEuZGF0YS5NZWRpYS5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUkVMRUFTSU5HJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0ZJTklTSEVEJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5DT01QTEVURUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTk9UX1lFVF9SRUxFQVNFRCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuTk9UX1lFVF9BSVJFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdDQU5DRUxMRUQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNBTkNFTExFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdISUFUVVMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLkhJQVRVUztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5VTktOT1dOO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhbmltZUluZm8ucmVsZWFzZURhdGUgPSBkYXRhLmRhdGEuTWVkaWEuc3RhcnREYXRlLnllYXI7XG4gICAgICAgICAgICAgICAgaWYgKChfbyA9IGRhdGEuZGF0YS5NZWRpYS5uZXh0QWlyaW5nRXBpc29kZSkgPT09IG51bGwgfHwgX28gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vLmFpcmluZ0F0KVxuICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8ubmV4dEFpcmluZ0VwaXNvZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhaXJpbmdUaW1lOiAoX3AgPSBkYXRhLmRhdGEuTWVkaWEubmV4dEFpcmluZ0VwaXNvZGUpID09PSBudWxsIHx8IF9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcC5haXJpbmdBdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVVbnRpbEFpcmluZzogKF9xID0gZGF0YS5kYXRhLk1lZGlhLm5leHRBaXJpbmdFcGlzb2RlKSA9PT0gbnVsbCB8fCBfcSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3EudGltZVVudGlsQWlyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZTogKF9yID0gZGF0YS5kYXRhLk1lZGlhLm5leHRBaXJpbmdFcGlzb2RlKSA9PT0gbnVsbCB8fCBfciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3IuZXBpc29kZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8udG90YWxFcGlzb2RlcyA9IChfdCA9IChfcyA9IGRhdGEuZGF0YS5NZWRpYSkgPT09IG51bGwgfHwgX3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zLmVwaXNvZGVzKSAhPT0gbnVsbCAmJiBfdCAhPT0gdm9pZCAwID8gX3QgOiAoKF91ID0gZGF0YS5kYXRhLk1lZGlhLm5leHRBaXJpbmdFcGlzb2RlKSA9PT0gbnVsbCB8fCBfdSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3UuZXBpc29kZSkgLSAxO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5jdXJyZW50RXBpc29kZSA9ICgoX3cgPSAoX3YgPSBkYXRhLmRhdGEuTWVkaWEpID09PSBudWxsIHx8IF92ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdi5uZXh0QWlyaW5nRXBpc29kZSkgPT09IG51bGwgfHwgX3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93LmVwaXNvZGUpXG4gICAgICAgICAgICAgICAgICAgID8gKChfeCA9IGRhdGEuZGF0YS5NZWRpYS5uZXh0QWlyaW5nRXBpc29kZSkgPT09IG51bGwgfHwgX3ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF94LmVwaXNvZGUpIC0gMVxuICAgICAgICAgICAgICAgICAgICA6ICgoX3kgPSBkYXRhLmRhdGEuTWVkaWEpID09PSBudWxsIHx8IF95ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfeS5lcGlzb2RlcykgfHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5yYXRpbmcgPSBkYXRhLmRhdGEuTWVkaWEuYXZlcmFnZVNjb3JlO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5kdXJhdGlvbiA9IGRhdGEuZGF0YS5NZWRpYS5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uZ2VucmVzID0gZGF0YS5kYXRhLk1lZGlhLmdlbnJlcztcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uc3R1ZGlvcyA9IGRhdGEuZGF0YS5NZWRpYS5zdHVkaW9zLmVkZ2VzLm1hcCgoaXRlbSkgPT4gaXRlbS5ub2RlLm5hbWUpO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zZWFzb24gPSBkYXRhLmRhdGEuTWVkaWEuc2Vhc29uO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5wb3B1bGFyaXR5ID0gZGF0YS5kYXRhLk1lZGlhLnBvcHVsYXJpdHk7XG4gICAgICAgICAgICAgICAgYW5pbWVJbmZvLnR5cGUgPSBkYXRhLmRhdGEuTWVkaWEuZm9ybWF0O1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdGFydERhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHllYXI6IChfeiA9IGRhdGEuZGF0YS5NZWRpYS5zdGFydERhdGUpID09PSBudWxsIHx8IF96ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfei55ZWFyLFxuICAgICAgICAgICAgICAgICAgICBtb250aDogKF8wID0gZGF0YS5kYXRhLk1lZGlhLnN0YXJ0RGF0ZSkgPT09IG51bGwgfHwgXzAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8wLm1vbnRoLFxuICAgICAgICAgICAgICAgICAgICBkYXk6IChfMSA9IGRhdGEuZGF0YS5NZWRpYS5zdGFydERhdGUpID09PSBudWxsIHx8IF8xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMS5kYXksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uZW5kRGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgeWVhcjogKF8yID0gZGF0YS5kYXRhLk1lZGlhLmVuZERhdGUpID09PSBudWxsIHx8IF8yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMi55ZWFyLFxuICAgICAgICAgICAgICAgICAgICBtb250aDogKF8zID0gZGF0YS5kYXRhLk1lZGlhLmVuZERhdGUpID09PSBudWxsIHx8IF8zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMy5tb250aCxcbiAgICAgICAgICAgICAgICAgICAgZGF5OiAoXzQgPSBkYXRhLmRhdGEuTWVkaWEuZW5kRGF0ZSkgPT09IG51bGwgfHwgXzQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80LmRheSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5yZWNvbW1lbmRhdGlvbnMgPSBkYXRhLmRhdGEuTWVkaWEucmVjb21tZW5kYXRpb25zLmVkZ2VzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2w7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFsSWQ6IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uLmlkTWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb21hamk6IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uLnRpdGxlLnJvbWFqaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdsaXNoOiBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbi50aXRsZS5lbmdsaXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZTogaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24udGl0bGUubmF0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcmVmZXJyZWQ6IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uLnRpdGxlLnVzZXJQcmVmZXJyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbi5zdGF0dXMgPT0gJ1JFTEVBU0lORydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uLnN0YXR1cyA9PSAnRklOSVNIRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24uc3RhdHVzID09ICdOT1RfWUVUX1JFTEVBU0VEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5OT1RfWUVUX0FJUkVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uLnN0YXR1cyA9PSAnQ0FOQ0VMTEVEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ0FOQ0VMTEVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbi5zdGF0dXMgPT0gJ0hJQVRVUydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5ISUFUVVNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtb2RlbHNfMS5NZWRpYVN0YXR1cy5VTktOT1dOLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZXM6IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uLmVwaXNvZGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfYyA9IChfYiA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24uY292ZXJJbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24uY292ZXJJbWFnZS5tZWRpdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfZSA9IChfZCA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24uY292ZXJJbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24uY292ZXJJbWFnZS5tZWRpdW0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXI6IChfaCA9IChfZyA9IChfZiA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uLmJhbm5lckltYWdlKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbi5jb3ZlckltYWdlLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF9nICE9PSB2b2lkIDAgPyBfZyA6IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9oICE9PSB2b2lkIDAgPyBfaCA6IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uLmNvdmVySW1hZ2UubWVkaXVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJIYXNoOiAoX2wgPSAoX2sgPSAoX2ogPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbi5iYW5uZXJJbWFnZSkgIT09IG51bGwgJiYgX2ogIT09IHZvaWQgMCA/IF9qIDogaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24uY292ZXJJbWFnZS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfayAhPT0gdm9pZCAwID8gX2sgOiBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbi5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfbCAhPT0gdm9pZCAwID8gX2wgOiBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbi5jb3ZlckltYWdlLm1lZGl1bSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZzogaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24ubWVhblNjb3JlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24uZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uY2hhcmFjdGVycyA9IGRhdGEuZGF0YS5NZWRpYS5jaGFyYWN0ZXJzLmVkZ2VzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLm5vZGUuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlOiBpdGVtLnJvbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3Q6IGl0ZW0ubm9kZS5uYW1lLmZpcnN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3Q6IGl0ZW0ubm9kZS5uYW1lLmxhc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbDogaXRlbS5ub2RlLm5hbWUuZnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmU6IGl0ZW0ubm9kZS5uYW1lLm5hdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyUHJlZmVycmVkOiBpdGVtLm5vZGUubmFtZS51c2VyUHJlZmVycmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX2IgPSBpdGVtLm5vZGUuaW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGl0ZW0ubm9kZS5pbWFnZS5tZWRpdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfYyA9IGl0ZW0ubm9kZS5pbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogaXRlbS5ub2RlLmltYWdlLm1lZGl1bSksXG4gICAgICAgICAgICAgICAgICAgICAgICB2b2ljZUFjdG9yczogaXRlbS52b2ljZUFjdG9ycy5tYXAoKHZvaWNlQWN0b3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdm9pY2VBY3Rvci5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IHZvaWNlQWN0b3IubGFuZ3VhZ2VWMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3Q6IHZvaWNlQWN0b3IubmFtZS5maXJzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3Q6IHZvaWNlQWN0b3IubmFtZS5sYXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbDogdm9pY2VBY3Rvci5uYW1lLmZ1bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmU6IHZvaWNlQWN0b3IubmFtZS5uYXRpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyUHJlZmVycmVkOiB2b2ljZUFjdG9yLm5hbWUudXNlclByZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfYiA9IHZvaWNlQWN0b3IuaW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHZvaWNlQWN0b3IuaW1hZ2UubWVkaXVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfYyA9IHZvaWNlQWN0b3IuaW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHZvaWNlQWN0b3IuaW1hZ2UubWVkaXVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhbmltZUluZm8uY29sb3IgPSAoXzUgPSBkYXRhLmRhdGEuTWVkaWEuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgXzUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF81LmNvbG9yO1xuICAgICAgICAgICAgICAgIGFuaW1lSW5mby5yZWxhdGlvbnMgPSBkYXRhLmRhdGEuTWVkaWEucmVsYXRpb25zLmVkZ2VzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2w7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0ubm9kZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hbElkOiBpdGVtLm5vZGUuaWRNYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvblR5cGU6IGl0ZW0ucmVsYXRpb25UeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb21hamk6IGl0ZW0ubm9kZS50aXRsZS5yb21hamksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nbGlzaDogaXRlbS5ub2RlLnRpdGxlLmVuZ2xpc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlOiBpdGVtLm5vZGUudGl0bGUubmF0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcmVmZXJyZWQ6IGl0ZW0ubm9kZS50aXRsZS51c2VyUHJlZmVycmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogaXRlbS5ub2RlLnN0YXR1cyA9PSAnUkVMRUFTSU5HJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lOR1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5ub2RlLnN0YXR1cyA9PSAnRklOSVNIRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5ub2RlLnN0YXR1cyA9PSAnTk9UX1lFVF9SRUxFQVNFRCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuTk9UX1lFVF9BSVJFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLm5vZGUuc3RhdHVzID09ICdDQU5DRUxMRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5DQU5DRUxMRURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0ubm9kZS5zdGF0dXMgPT0gJ0hJQVRVUydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5ISUFUVVNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtb2RlbHNfMS5NZWRpYVN0YXR1cy5VTktOT1dOLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZXM6IGl0ZW0ubm9kZS5lcGlzb2RlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX2MgPSAoX2IgPSBpdGVtLm5vZGUuY292ZXJJbWFnZS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBpdGVtLm5vZGUuY292ZXJJbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogaXRlbS5ub2RlLmNvdmVySW1hZ2UubWVkaXVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX2UgPSAoX2QgPSBpdGVtLm5vZGUuY292ZXJJbWFnZS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBpdGVtLm5vZGUuY292ZXJJbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogaXRlbS5ub2RlLmNvdmVySW1hZ2UubWVkaXVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyOiAoX2ggPSAoX2cgPSAoX2YgPSBpdGVtLm5vZGUuYmFubmVySW1hZ2UpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IGl0ZW0ubm9kZS5jb3ZlckltYWdlLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF9nICE9PSB2b2lkIDAgPyBfZyA6IGl0ZW0ubm9kZS5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiBpdGVtLm5vZGUuY292ZXJJbWFnZS5tZWRpdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3Zlckhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfbCA9IChfayA9IChfaiA9IGl0ZW0ubm9kZS5iYW5uZXJJbWFnZSkgIT09IG51bGwgJiYgX2ogIT09IHZvaWQgMCA/IF9qIDogaXRlbS5ub2RlLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2sgIT09IHZvaWQgMCA/IF9rIDogaXRlbS5ub2RlLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9sICE9PSB2b2lkIDAgPyBfbCA6IGl0ZW0ubm9kZS5jb3ZlckltYWdlLm1lZGl1bSksXG4gICAgICAgICAgICAgICAgICAgICAgICByYXRpbmc6IGl0ZW0ubm9kZS5tZWFuU2NvcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBpdGVtLm5vZGUuZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5pbWVJbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUbyBnZXQgU3RhZmYgZGV0YWlscyBieSBhbmlsaXN0SWRcbiAgICAgICAgICogQHBhcmFtIGlkIHN0YWZmIGlkIGZyb20gYW5pbGlzdFxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaFN0YWZmQnlJZCA9IGFzeW5jIChpZCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhZmZJbmZvID0ge1xuICAgICAgICAgICAgICAgIGlkOiBTdHJpbmcoaWQpLFxuICAgICAgICAgICAgICAgIG5hbWU6IHsgZmlyc3Q6ICcnLCBsYXN0OiAnJywgbmF0aXZlOiAnJywgZnVsbDogJycgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBxdWVyeTogKDAsIHV0aWxzXzEuYW5pbGlzdFN0YWZmSW5mb1F1ZXJ5KShpZCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LnBvc3QodGhpcy5hbmlsaXN0R3JhcGhxbFVybCwgb3B0aW9ucykuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFmZiA9IGRhdGEuZGF0YS5TdGFmZjtcbiAgICAgICAgICAgICAgICBzdGFmZkluZm8uaWQgPSBzdGFmZiA9PT0gbnVsbCB8fCBzdGFmZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhZmYuaWQ7XG4gICAgICAgICAgICAgICAgc3RhZmZJbmZvLm5hbWUgPSBzdGFmZiA9PT0gbnVsbCB8fCBzdGFmZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhZmYubmFtZTtcbiAgICAgICAgICAgICAgICBzdGFmZkluZm8uaW1hZ2UgPSBzdGFmZiA9PT0gbnVsbCB8fCBzdGFmZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhZmYuaW1hZ2U7XG4gICAgICAgICAgICAgICAgc3RhZmZJbmZvLmRlc2NyaXB0aW9uID0gc3RhZmYgPT09IG51bGwgfHwgc3RhZmYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YWZmLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIHN0YWZmSW5mby5zaXRlVXJsID0gc3RhZmYgPT09IG51bGwgfHwgc3RhZmYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YWZmLnNpdGVVcmw7XG4gICAgICAgICAgICAgICAgc3RhZmZJbmZvLnJvbGVzID0gc3RhZmYgPT09IG51bGwgfHwgc3RhZmYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YWZmLnN0YWZmTWVkaWEuZWRnZXMubWFwKChtZWRpYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2IgPSBtZWRpYSA9PT0gbnVsbCB8fCBtZWRpYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVkaWEubm9kZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYyA9IG1lZGlhID09PSBudWxsIHx8IG1lZGlhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZWRpYS5ub2RlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAoX2QgPSBtZWRpYSA9PT0gbnVsbCB8fCBtZWRpYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVkaWEubm9kZSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhTGFyZ2U6IChfZiA9IChfZSA9IG1lZGlhID09PSBudWxsIHx8IG1lZGlhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZWRpYS5ub2RlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmV4dHJhTGFyZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFyZ2U6IChfaCA9IChfZyA9IG1lZGlhID09PSBudWxsIHx8IG1lZGlhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZWRpYS5ub2RlKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLmxhcmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lZGl1bTogKF9rID0gKF9qID0gbWVkaWEgPT09IG51bGwgfHwgbWVkaWEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lZGlhLm5vZGUpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2subWVkaXVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAoX20gPSAoX2wgPSBtZWRpYSA9PT0gbnVsbCB8fCBtZWRpYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVkaWEubm9kZSkgPT09IG51bGwgfHwgX2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sLmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF9tID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YWZmSW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGlkIGNoYXJhY3RlciBpZCBmcm9tIGFuaWxpc3RcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hDaGFyYWN0ZXJJbmZvQnlJZCA9IGFzeW5jIChpZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbSwgX28sIF9wLCBfcSwgX3IsIF9zLCBfdCwgX3UsIF92LCBfdywgX3gsIF95LCBfeiwgXzAsIF8xLCBfMiwgXzMsIF80LCBfNSwgXzYsIF83LCBfOCwgXzksIF8xMCwgXzExLCBfMTI7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBxdWVyeTogKDAsIHV0aWxzXzEuYW5pbGlzdENoYXJhY3RlclF1ZXJ5KSgpLFxuICAgICAgICAgICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogeyBkYXRhOiB7IENoYXJhY3RlciB9LCB9LCB9ID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdCh0aGlzLmFuaWxpc3RHcmFwaHFsVXJsLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSAoX2IgPSBDaGFyYWN0ZXIuZGVzY3JpcHRpb24ubWF0Y2goL19fSGVpZ2h0Ol9fKC4qKS8pKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JbMV0udHJpbSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdlaWdodCA9IChfYyA9IENoYXJhY3Rlci5kZXNjcmlwdGlvbi5tYXRjaCgvX19XZWlnaHQ6X18oLiopLykpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1sxXS50cmltKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFpckNvbG9yID0gKF9kID0gQ2hhcmFjdGVyLmRlc2NyaXB0aW9uLm1hdGNoKC9fX0hhaXIgQ29sb3I6X18oLiopLykpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZFsxXS50cmltKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXllQ29sb3IgPSAoX2UgPSBDaGFyYWN0ZXIuZGVzY3JpcHRpb24ubWF0Y2goL19fRXllIENvbG9yOl9fKC4qKS8pKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VbMV0udHJpbSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlcyA9IChfZiA9IENoYXJhY3Rlci5kZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAubWF0Y2goL19fUmVsYXRpdmVzOl9fKC4qKS8pKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ZbMV0udHJpbSgpLnNwbGl0KC8oLCBcXFspL2cpLmZpbHRlcigoZykgPT4gIWcuaW5jbHVkZXMoJywgWycpKS5tYXAoKHIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYiA9IHIubWF0Y2goL1xcLyhcXGQrKS8pKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAoX2MgPSByLm1hdGNoKC8oW14pXSspXFxdLykpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1sxXS5yZXBsYWNlKC9cXFsvZywgJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwOiAoX2QgPSByLm1hdGNoKC9cXCgoW14pXSspXFwpLio/KFxcKChbXildKylcXCkpLykpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZFszXSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFjZSA9IChfZyA9IENoYXJhY3Rlci5kZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAubWF0Y2goL19fUmFjZTpfXyguKikvKSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nWzFdLnNwbGl0KCcsICcpLm1hcCgocikgPT4gci50cmltKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmsgPSAoX2ggPSBDaGFyYWN0ZXIuZGVzY3JpcHRpb24ubWF0Y2goL19fUmFuazpfXyguKikvKSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oWzFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9jY3VwYXRpb24gPSAoX2ogPSBDaGFyYWN0ZXIuZGVzY3JpcHRpb24ubWF0Y2goL19fT2NjdXBhdGlvbjpfXyguKikvKSkgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qWzFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzUG9zaXRpb24gPSAoX2wgPSAoX2sgPSBDaGFyYWN0ZXIuZGVzY3JpcHRpb24ubWF0Y2goL19fUHJldmlvdXMgUG9zaXRpb246X18oLiopLykpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfa1sxXSkgPT09IG51bGwgfHwgX2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0bmVyID0gKF9tID0gQ2hhcmFjdGVyLmRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgIC5tYXRjaCgvX19QYXJ0bmVyOl9fKC4qKS8pKSA9PT0gbnVsbCB8fCBfbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX21bMV0uc3BsaXQoLygsIFxcWykvZykuZmlsdGVyKChnKSA9PiAhZy5pbmNsdWRlcygnLCBbJykpLm1hcCgocikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2IgPSByLm1hdGNoKC9cXC8oXFxkKykvKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogKF9jID0gci5tYXRjaCgvKFteKV0rKVxcXS8pKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbMV0ucmVwbGFjZSgvXFxbL2csICcnKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzbGlrZXMgPSAoX28gPSBDaGFyYWN0ZXIuZGVzY3JpcHRpb24ubWF0Y2goL19fRGlzbGlrZXM6X18oLiopLykpID09PSBudWxsIHx8IF9vID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb1sxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaWduID0gKF9wID0gQ2hhcmFjdGVyLmRlc2NyaXB0aW9uLm1hdGNoKC9fX1NpZ246X18oLiopLykpID09PSBudWxsIHx8IF9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcFsxXTtcbiAgICAgICAgICAgICAgICBjb25zdCB6b2RpY1NpZ24gPSAoX3IgPSAoX3EgPSBDaGFyYWN0ZXIuZGVzY3JpcHRpb24ubWF0Y2goL19fWm9kaWFjIHNpZ246X18oLiopLykpID09PSBudWxsIHx8IF9xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcVsxXSkgPT09IG51bGwgfHwgX3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBjb25zdCB6b2RpY0FuaW1hbCA9IChfdCA9IChfcyA9IENoYXJhY3Rlci5kZXNjcmlwdGlvbi5tYXRjaCgvX19ab2RpYWMgQW5pbWFsOl9fKC4qKS8pKSA9PT0gbnVsbCB8fCBfcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NbMV0pID09PSBudWxsIHx8IF90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdC50cmltKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGhlbWVTb25nID0gKF92ID0gKF91ID0gQ2hhcmFjdGVyLmRlc2NyaXB0aW9uLm1hdGNoKC9fX1RoZW1lIFNvbmc6X18oLiopLykpID09PSBudWxsIHx8IF91ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdVsxXSkgPT09IG51bGwgfHwgX3YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92LnRyaW0oKTtcbiAgICAgICAgICAgICAgICBDaGFyYWN0ZXIuZGVzY3JpcHRpb24gPSBDaGFyYWN0ZXIuZGVzY3JpcHRpb24ucmVwbGFjZSgvX19UaGVtZSBTb25nOl9fKC4qKVxcbnxfX1JhY2U6X18oLiopXFxufF9fSGVpZ2h0Ol9fKC4qKVxcbnxfX1JlbGF0aXZlczpfXyguKilcXG58X19SYW5rOl9fKC4qKVxcbnxfX1pvZGlhYyBzaWduOl9fKC4qKVxcbnxfX1pvZGlhYyBBbmltYWw6X18oLiopXFxufF9fV2VpZ2h0Ol9fKC4qKVxcbnxfX0V5ZSBDb2xvcjpfXyguKilcXG58X19IYWlyIENvbG9yOl9fKC4qKVxcbnxfX0Rpc2xpa2VzOl9fKC4qKVxcbnxfX1NpZ246X18oLiopXFxufF9fUGFydG5lcjpfXyguKilcXG58X19QcmV2aW91cyBQb3NpdGlvbjpfXyguKilcXG58X19PY2N1cGF0aW9uOl9fKC4qKVxcbi9nbSwgJycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlckluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBDaGFyYWN0ZXIuaWQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0OiAoX3cgPSBDaGFyYWN0ZXIubmFtZSkgPT09IG51bGwgfHwgX3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93LmZpcnN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdDogKF94ID0gQ2hhcmFjdGVyLm5hbWUpID09PSBudWxsIHx8IF94ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfeC5sYXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsbDogKF95ID0gQ2hhcmFjdGVyLm5hbWUpID09PSBudWxsIHx8IF95ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfeS5mdWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlOiAoX3ogPSBDaGFyYWN0ZXIubmFtZSkgPT09IG51bGwgfHwgX3ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF96Lm5hdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcmVmZXJyZWQ6IChfMCA9IENoYXJhY3Rlci5uYW1lKSA9PT0gbnVsbCB8fCBfMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzAudXNlclByZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aXZlOiAoXzEgPSBDaGFyYWN0ZXIubmFtZSkgPT09IG51bGwgfHwgXzEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xLmFsdGVybmF0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpdmVTcG9pbGVyOiAoXzIgPSBDaGFyYWN0ZXIubmFtZSkgPT09IG51bGwgfHwgXzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yLmFsdGVybmF0aXZlU3BvaWxlcixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfNCA9IChfMyA9IENoYXJhY3Rlci5pbWFnZSkgPT09IG51bGwgfHwgXzMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zLmxhcmdlKSAhPT0gbnVsbCAmJiBfNCAhPT0gdm9pZCAwID8gXzQgOiAoXzUgPSBDaGFyYWN0ZXIuaW1hZ2UpID09PSBudWxsIHx8IF81ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNS5tZWRpdW0sXG4gICAgICAgICAgICAgICAgICAgIGltYWdlSGFzaDogKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF83ID0gKF82ID0gQ2hhcmFjdGVyLmltYWdlKSA9PT0gbnVsbCB8fCBfNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzYubGFyZ2UpICE9PSBudWxsICYmIF83ICE9PSB2b2lkIDAgPyBfNyA6IChfOCA9IENoYXJhY3Rlci5pbWFnZSkgPT09IG51bGwgfHwgXzggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF84Lm1lZGl1bSksXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBDaGFyYWN0ZXIuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIGdlbmRlcjogQ2hhcmFjdGVyLmdlbmRlcixcbiAgICAgICAgICAgICAgICAgICAgZGF0ZU9mQmlydGg6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6IChfOSA9IENoYXJhY3Rlci5kYXRlT2ZCaXJ0aCkgPT09IG51bGwgfHwgXzkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF85LnllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aDogKF8xMCA9IENoYXJhY3Rlci5kYXRlT2ZCaXJ0aCkgPT09IG51bGwgfHwgXzEwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTAubW9udGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXk6IChfMTEgPSBDaGFyYWN0ZXIuZGF0ZU9mQmlydGgpID09PSBudWxsIHx8IF8xMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzExLmRheSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYmxvb2RUeXBlOiBDaGFyYWN0ZXIuYmxvb2RUeXBlLFxuICAgICAgICAgICAgICAgICAgICBhZ2U6IENoYXJhY3Rlci5hZ2UsXG4gICAgICAgICAgICAgICAgICAgIGhhaXJDb2xvcjogaGFpckNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBleWVDb2xvcjogZXllQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IHdlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgb2NjdXBhdGlvbjogb2NjdXBhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgcGFydG5lcjogcGFydG5lcixcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVzOiByZWxhdGl2ZXMsXG4gICAgICAgICAgICAgICAgICAgIHJhY2U6IHJhY2UsXG4gICAgICAgICAgICAgICAgICAgIHJhbms6IHJhbmssXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzUG9zaXRpb246IHByZXZpb3VzUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGRpc2xpa2VzOiBkaXNsaWtlcyxcbiAgICAgICAgICAgICAgICAgICAgc2lnbjogc2lnbixcbiAgICAgICAgICAgICAgICAgICAgem9kaWNTaWduOiB6b2RpY1NpZ24sXG4gICAgICAgICAgICAgICAgICAgIHpvZGljQW5pbWFsOiB6b2RpY0FuaW1hbCxcbiAgICAgICAgICAgICAgICAgICAgdGhlbWVTb25nOiB0aGVtZVNvbmcsXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uczogKF8xMiA9IENoYXJhY3Rlci5tZWRpYS5lZGdlcykgPT09IG51bGwgfHwgXzEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTIubWFwKCh2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tLCBfbywgX3AsIF9xLCBfciwgX3M7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdi5ub2RlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbElkOiB2Lm5vZGUuaWRNYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogdi5jaGFyYWN0ZXJSb2xlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbWFqaTogKF9iID0gdi5ub2RlLnRpdGxlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iucm9tYWppLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdsaXNoOiAoX2MgPSB2Lm5vZGUudGl0bGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5lbmdsaXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmU6IChfZCA9IHYubm9kZS50aXRsZSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLm5hdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclByZWZlcnJlZDogKF9lID0gdi5ub2RlLnRpdGxlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UudXNlclByZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdi5ub2RlLnN0YXR1cyA9PSAnUkVMRUFTSU5HJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB2Lm5vZGUuc3RhdHVzID09ICdGSU5JU0hFRCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHYubm9kZS5zdGF0dXMgPT0gJ05PVF9ZRVRfUkVMRUFTRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5OT1RfWUVUX0FJUkVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB2Lm5vZGUuc3RhdHVzID09ICdDQU5DRUxMRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ0FOQ0VMTEVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdi5ub2RlLnN0YXR1cyA9PSAnSElBVFVTJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYVN0YXR1cy5ISUFUVVNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuTWVkaWFTdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2Rlczogdi5ub2RlLmVwaXNvZGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX2ogPSAoX2cgPSAoX2YgPSB2Lm5vZGUuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF9nICE9PSB2b2lkIDAgPyBfZyA6IChfaCA9IHYubm9kZS5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2gubGFyZ2UpICE9PSBudWxsICYmIF9qICE9PSB2b2lkIDAgPyBfaiA6IChfayA9IHYubm9kZS5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2subWVkaXVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlSGFzaDogKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF9wID0gKF9tID0gKF9sID0gdi5ub2RlLmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfbSAhPT0gdm9pZCAwID8gX20gOiAoX28gPSB2Lm5vZGUuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX28gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vLmxhcmdlKSAhPT0gbnVsbCAmJiBfcCAhPT0gdm9pZCAwID8gX3AgOiAoX3EgPSB2Lm5vZGUuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX3EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9xLm1lZGl1bSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiB2Lm5vZGUuYXZlcmFnZVNjb3JlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiAoX3IgPSB2Lm5vZGUuc3RhcnREYXRlKSA9PT0gbnVsbCB8fCBfciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3IueWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB2Lm5vZGUuZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAoX3MgPSB2Lm5vZGUuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJhY3RlckluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5maW5kTWFuZ2FTbHVnID0gYXN5bmMgKHByb3ZpZGVyLCB0aXRsZSwgbWFsSWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNsdWcgPSB0aXRsZS5yZXBsYWNlKC9bXjAtOWEtekEtWl0rL2csICcgJyk7XG4gICAgICAgICAgICBsZXQgcG9zc2libGVNYW5nYTtcbiAgICAgICAgICAgIGlmIChtYWxJZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hbEFzeW5jUmVxID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMubWFsU3luY1VybH0vbWFsL21hbmdhLyR7bWFsSWR9YCwge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZVN0YXR1czogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAobWFsQXN5bmNSZXEuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l0ZXNUID0gbWFsQXN5bmNSZXEuZGF0YS5TaXRlcztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNpdGVzID0gT2JqZWN0LnZhbHVlcyhzaXRlc1QpLm1hcCgodiwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gWy4uLk9iamVjdC52YWx1ZXMoT2JqZWN0LnZhbHVlcyhzaXRlc1QpW2ldKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlcyA9IG9iai5tYXAoKHYpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogdi5wYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdi51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHYudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFnZXM7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzaXRlcyA9IHNpdGVzLmZsYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zc2libGVTb3VyY2UgPSBzaXRlcy5maW5kKHMgPT4gcy5wYWdlLnRvTG93ZXJDYXNlKCkgPT09IHByb3ZpZGVyLm5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3NzaWJsZVNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlTWFuZ2EgPSBhd2FpdCBwcm92aWRlci5mZXRjaE1hbmdhSW5mbyhwb3NzaWJsZVNvdXJjZS51cmwuc3BsaXQoJy8nKS5wb3AoKSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlTWFuZ2EgPSBhd2FpdCB0aGlzLmZpbmRNYW5nYVJhdyhwcm92aWRlciwgc2x1ZywgdGl0bGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlTWFuZ2EgPSBhd2FpdCB0aGlzLmZpbmRNYW5nYVJhdyhwcm92aWRlciwgc2x1ZywgdGl0bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTWFuZ2EgPSBhd2FpdCB0aGlzLmZpbmRNYW5nYVJhdyhwcm92aWRlciwgc2x1ZywgdGl0bGUpO1xuICAgICAgICAgICAgY29uc3QgcG9zc2libGVQcm92aWRlckNoYXB0ZXJzID0gcG9zc2libGVNYW5nYS5jaGFwdGVycztcbiAgICAgICAgICAgIHJldHVybiBwb3NzaWJsZVByb3ZpZGVyQ2hhcHRlcnM7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmluZE1hbmdhUmF3ID0gYXN5bmMgKHByb3ZpZGVyLCBzbHVnLCB0aXRsZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmluZEFuaW1lID0gKGF3YWl0IHByb3ZpZGVyLnNlYXJjaChzbHVnKSk7XG4gICAgICAgICAgICBpZiAoZmluZEFuaW1lLnJlc3VsdHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIC8vIFRPRE86IHVzZSBtdWNoIGJldHRlciB3YXkgdGhhbiB0aGlzXG4gICAgICAgICAgICBjb25zdCBwb3NzaWJsZU1hbmdhID0gZmluZEFuaW1lLnJlc3VsdHMuZmluZCgobWFuZ2EpID0+IHRpdGxlLnRvTG93ZXJDYXNlKCkgPT0gKHR5cGVvZiBtYW5nYS50aXRsZSA9PT0gJ3N0cmluZycgPyBtYW5nYS50aXRsZS50b0xvd2VyQ2FzZSgpIDogJycpKTtcbiAgICAgICAgICAgIGlmICghcG9zc2libGVNYW5nYSlcbiAgICAgICAgICAgICAgICByZXR1cm4gKGF3YWl0IHByb3ZpZGVyLmZldGNoTWFuZ2FJbmZvKGZpbmRBbmltZS5yZXN1bHRzWzBdLmlkKSk7XG4gICAgICAgICAgICByZXR1cm4gKGF3YWl0IHByb3ZpZGVyLmZldGNoTWFuZ2FJbmZvKHBvc3NpYmxlTWFuZ2EuaWQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5maW5kTWFuZ2EgPSBhc3luYyAocHJvdmlkZXIsIHRpdGxlLCBtYWxJZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9iLCBfYztcbiAgICAgICAgICAgIHRpdGxlLmVuZ2xpc2ggPSAoX2IgPSB0aXRsZS5lbmdsaXNoKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aXRsZS5yb21hamk7XG4gICAgICAgICAgICB0aXRsZS5yb21hamkgPSAoX2MgPSB0aXRsZS5yb21hamkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHRpdGxlLmVuZ2xpc2g7XG4gICAgICAgICAgICB0aXRsZS5lbmdsaXNoID0gdGl0bGUuZW5nbGlzaC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGl0bGUucm9tYWppID0gdGl0bGUucm9tYWppLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAodGl0bGUuZW5nbGlzaCA9PT0gdGl0bGUucm9tYWppKVxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRNYW5nYVNsdWcocHJvdmlkZXIsIHRpdGxlLmVuZ2xpc2gsIG1hbElkKTtcbiAgICAgICAgICAgIGNvbnN0IHJvbWFqaVBvc3NpYmxlRXBpc29kZXMgPSB0aGlzLmZpbmRNYW5nYVNsdWcocHJvdmlkZXIsIHRpdGxlLnJvbWFqaSwgbWFsSWQpO1xuICAgICAgICAgICAgaWYgKHJvbWFqaVBvc3NpYmxlRXBpc29kZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcm9tYWppUG9zc2libGVFcGlzb2RlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVuZ2xpc2hQb3NzaWJsZUVwaXNvZGVzID0gdGhpcy5maW5kTWFuZ2FTbHVnKHByb3ZpZGVyLCB0aXRsZS5lbmdsaXNoLCBtYWxJZCk7XG4gICAgICAgICAgICByZXR1cm4gZW5nbGlzaFBvc3NpYmxlRXBpc29kZXM7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucHJvdmlkZXIgPSBwcm92aWRlciB8fCBuZXcgZ29nb2FuaW1lXzEuZGVmYXVsdChjdXN0b21CYXNlVVJMLCBwcm94eUNvbmZpZyk7XG4gICAgfVxufVxuX2EgPSBBbmlsaXN0O1xuLyoqXG4gKiBBbmlsaXN0IEFuaW1lIGNsYXNzXG4gKi9cbkFuaWxpc3QuQW5pbWUgPSBfYTtcbi8qKlxuICogQW5pbGlzdCBNYW5nYSBDbGFzc1xuICovXG5BbmlsaXN0Lk1hbmdhID0gY2xhc3MgTWFuZ2Ege1xuICAgIC8qKlxuICAgICAqIE1hcHMgYW5pbGlzdCBtYW5nYSB0byBhbnkgbWFuZ2EgcHJvdmlkZXIgKG1hbmdhZGV4LCBtYW5nYXNlZSwgZXRjKVxuICAgICAqIEBwYXJhbSBwcm92aWRlciBNYW5nYVBhcnNlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3ZpZGVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgcXVlcnkgdG8gc2VhcmNoIGZvclxuICAgICAgICAgKiBAcGFyYW0gcGFnZSAob3B0aW9uYWwpIHBhZ2UgbnVtYmVyIChkZWZhdWx0OiBgMWApXG4gICAgICAgICAqIEBwYXJhbSBwZXJQYWdlIChvcHRpb25hbCkgbnVtYmVyIG9mIHJlc3VsdHMgcGVyIHBhZ2UgKGRlZmF1bHQ6IGAyMGApXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGFzeW5jIChxdWVyeSwgcGFnZSA9IDEsIHBlclBhZ2UgPSAyMCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcXVlcnk6ICgwLCB1dGlsc18xLmFuaWxpc3RTZWFyY2hRdWVyeSkocXVlcnksIHBhZ2UsIHBlclBhZ2UsICdNQU5HQScpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvc18xLmRlZmF1bHQucG9zdChuZXcgX2EoKS5hbmlsaXN0R3JhcGhxbFVybCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogZGF0YS5kYXRhLlBhZ2UucGFnZUluZm8uY3VycmVudFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBkYXRhLmRhdGEuUGFnZS5wYWdlSW5mby5oYXNOZXh0UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogZGF0YS5kYXRhLlBhZ2UubWVkaWEubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWxJZDogaXRlbS5pZE1hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbWFqaTogaXRlbS50aXRsZS5yb21hamksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdsaXNoOiBpdGVtLnRpdGxlLmVuZ2xpc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmU6IGl0ZW0udGl0bGUubmF0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclByZWZlcnJlZDogaXRlbS50aXRsZS51c2VyUHJlZmVycmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS50aXRsZS5yb21hamksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBpdGVtLnN0YXR1cyA9PSAnUkVMRUFTSU5HJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnN0YXR1cyA9PSAnRklOSVNIRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnN0YXR1cyA9PSAnTk9UX1lFVF9SRUxFQVNFRCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk5PVF9ZRVRfQUlSRURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uc3RhdHVzID09ICdDQU5DRUxMRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ0FOQ0VMTEVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5zdGF0dXMgPT0gJ0hJQVRVUydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuSElBVFVTXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV04sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfZSA9IChfYyA9IChfYiA9IGl0ZW0uY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IChfZCA9IGl0ZW0uY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmxhcmdlKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiAoX2YgPSBpdGVtLmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5tZWRpdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX2sgPSAoX2ggPSAoX2cgPSBpdGVtLmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiAoX2ogPSBpdGVtLmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5sYXJnZSkgIT09IG51bGwgJiYgX2sgIT09IHZvaWQgMCA/IF9rIDogKF9sID0gaXRlbS5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2wubWVkaXVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcjogaXRlbS5iYW5uZXJJbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3Zlckhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKGl0ZW0uYmFubmVySW1hZ2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXJpdHk6IGl0ZW0ucG9wdWxhcml0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogaXRlbS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmc6IGl0ZW0uYXZlcmFnZVNjb3JlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbnJlczogaXRlbS5nZW5yZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IChfbSA9IGl0ZW0uY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQ2hhcHRlcnM6IGl0ZW0uY2hhcHRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9sdW1lczogaXRlbS52b2x1bWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGl0ZW0uZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBpdGVtLnNlYXNvblllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gY2hhcHRlcklkIGNoYXB0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIGFyZ3MgYXJncyB0byBwYXNzIHRvIHRoZSBwcm92aWRlciAoaWYgYW55KVxuICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaENoYXB0ZXJQYWdlcyA9IChjaGFwdGVySWQsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyLmZldGNoQ2hhcHRlclBhZ2VzKGNoYXB0ZXJJZCwgLi4uYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hNYW5nYUluZm8gPSBhc3luYyAoaWQsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIHZhciBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX207XG4gICAgICAgICAgICBjb25zdCBtYW5nYUluZm8gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBxdWVyeTogKDAsIHV0aWxzXzEuYW5pbGlzdE1lZGlhRGV0YWlsUXVlcnkpKGlkKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3NfMS5kZWZhdWx0LnBvc3QobmV3IF9hKCkuYW5pbGlzdEdyYXBocWxVcmwsIG9wdGlvbnMpLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWVkaWEgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLm1hbElkID0gZGF0YS5kYXRhLk1lZGlhLmlkTWFsO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby50aXRsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgcm9tYWppOiBkYXRhLmRhdGEuTWVkaWEudGl0bGUucm9tYWppLFxuICAgICAgICAgICAgICAgICAgICBlbmdsaXNoOiBkYXRhLmRhdGEuTWVkaWEudGl0bGUuZW5nbGlzaCxcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlOiBkYXRhLmRhdGEuTWVkaWEudGl0bGUubmF0aXZlLFxuICAgICAgICAgICAgICAgICAgICB1c2VyUHJlZmVycmVkOiBkYXRhLmRhdGEuTWVkaWEudGl0bGUudXNlclByZWZlcnJlZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICgoX2IgPSBkYXRhLmRhdGEuTWVkaWEudHJhaWxlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby50cmFpbGVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGRhdGEuZGF0YS5NZWRpYS50cmFpbGVyLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZTogKF9jID0gZGF0YS5kYXRhLk1lZGlhLnRyYWlsZXIpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5zaXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsOiAoX2QgPSBkYXRhLmRhdGEuTWVkaWEudHJhaWxlcikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnRodW1ibmFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbEhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfZSA9IGRhdGEuZGF0YS5NZWRpYS50cmFpbGVyKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UudGh1bWJuYWlsKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmltYWdlID1cbiAgICAgICAgICAgICAgICAgICAgKF9nID0gKF9mID0gZGF0YS5kYXRhLk1lZGlhLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogZGF0YS5kYXRhLk1lZGlhLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9nICE9PSB2b2lkIDAgPyBfZyA6IGRhdGEuZGF0YS5NZWRpYS5jb3ZlckltYWdlLm1lZGl1bTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uaW1hZ2VIYXNoID0gKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF9qID0gKF9oID0gZGF0YS5kYXRhLk1lZGlhLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogZGF0YS5kYXRhLk1lZGlhLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9qICE9PSB2b2lkIDAgPyBfaiA6IGRhdGEuZGF0YS5NZWRpYS5jb3ZlckltYWdlLm1lZGl1bSk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLnBvcHVsYXJpdHkgPSBkYXRhLmRhdGEuTWVkaWEucG9wdWxhcml0eTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uY29sb3IgPSAoX2sgPSBkYXRhLmRhdGEuTWVkaWEuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9rLmNvbG9yO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5jb3ZlciA9IChfbCA9IGRhdGEuZGF0YS5NZWRpYS5iYW5uZXJJbWFnZSkgIT09IG51bGwgJiYgX2wgIT09IHZvaWQgMCA/IF9sIDogbWFuZ2FJbmZvLmltYWdlO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5jb3Zlckhhc2ggPSAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX20gPSBkYXRhLmRhdGEuTWVkaWEuYmFubmVySW1hZ2UpICE9PSBudWxsICYmIF9tICE9PSB2b2lkIDAgPyBfbSA6IG1hbmdhSW5mby5pbWFnZSk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmRlc2NyaXB0aW9uID0gZGF0YS5kYXRhLk1lZGlhLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZGF0YS5kYXRhLk1lZGlhLnN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdSRUxFQVNJTkcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgbWFuZ2FJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnRklOSVNIRUQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgbWFuZ2FJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdOT1RfWUVUX1JFTEVBU0VEJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hbmdhSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5OT1RfWUVUX0FJUkVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0NBTkNFTExFRCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ0FOQ0VMTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0hJQVRVUyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5nYUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuSElBVFVTO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgbWFuZ2FJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV047XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5yZWxlYXNlRGF0ZSA9IGRhdGEuZGF0YS5NZWRpYS5zdGFydERhdGUueWVhcjtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uc3RhcnREYXRlID0ge1xuICAgICAgICAgICAgICAgICAgICB5ZWFyOiBkYXRhLmRhdGEuTWVkaWEuc3RhcnREYXRlLnllYXIsXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoOiBkYXRhLmRhdGEuTWVkaWEuc3RhcnREYXRlLm1vbnRoLFxuICAgICAgICAgICAgICAgICAgICBkYXk6IGRhdGEuZGF0YS5NZWRpYS5zdGFydERhdGUuZGF5LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmVuZERhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHllYXI6IGRhdGEuZGF0YS5NZWRpYS5lbmREYXRlLnllYXIsXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoOiBkYXRhLmRhdGEuTWVkaWEuZW5kRGF0ZS5tb250aCxcbiAgICAgICAgICAgICAgICAgICAgZGF5OiBkYXRhLmRhdGEuTWVkaWEuZW5kRGF0ZS5kYXksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8ucmF0aW5nID0gZGF0YS5kYXRhLk1lZGlhLmF2ZXJhZ2VTY29yZTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uZ2VucmVzID0gZGF0YS5kYXRhLk1lZGlhLmdlbnJlcztcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uc2Vhc29uID0gZGF0YS5kYXRhLk1lZGlhLnNlYXNvbjtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uc3R1ZGlvcyA9IGRhdGEuZGF0YS5NZWRpYS5zdHVkaW9zLmVkZ2VzLm1hcCgoaXRlbSkgPT4gaXRlbS5ub2RlLm5hbWUpO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby50eXBlID0gZGF0YS5kYXRhLk1lZGlhLmZvcm1hdDtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8ucmVjb21tZW5kYXRpb25zID0gZGF0YS5kYXRhLk1lZGlhLnJlY29tbWVuZGF0aW9ucy5lZGdlcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbSwgX28sIF9wLCBfcSwgX3IsIF9zLCBfdCwgX3UsIF92LCBfdywgX3gsIF95LCBfeiwgXzAsIF8xLCBfMiwgXzMsIF80LCBfNSwgXzYsIF83LCBfOCwgXzksIF8xMCwgXzExLCBfMTIsIF8xMywgXzE0LCBfMTUsIF8xNiwgXzE3LCBfMTgsIF8xOSwgXzIwLCBfMjEsIF8yMiwgXzIzLCBfMjQsIF8yNSwgXzI2LCBfMjcsIF8yOCwgXzI5LCBfMzA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYiA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWxJZDogKF9jID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5pZE1hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9tYWppOiAoX2UgPSAoX2QgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnRpdGxlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Uucm9tYWppLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ2xpc2g6IChfZyA9IChfZiA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YudGl0bGUpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5lbmdsaXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZTogKF9qID0gKF9oID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC50aXRsZSkgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLm5hdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyUHJlZmVycmVkOiAoX2wgPSAoX2sgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgX2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9rLnRpdGxlKSA9PT0gbnVsbCB8fCBfbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2wudXNlclByZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICgoX20gPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgX20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tLnN0YXR1cykgPT0gJ1JFTEVBU0lORydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICgoX28gPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgX28gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vLnN0YXR1cykgPT0gJ0ZJTklTSEVEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICgoX3AgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgX3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wLnN0YXR1cykgPT0gJ05PVF9ZRVRfUkVMRUFTRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk5PVF9ZRVRfQUlSRURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKChfcSA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfcSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Euc3RhdHVzKSA9PSAnQ0FOQ0VMTEVEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ0FOQ0VMTEVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoKF9yID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfci5zdGF0dXMpID09ICdISUFUVVMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuSElBVFVTXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuTWVkaWFTdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXB0ZXJzOiAoX3MgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgX3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zLmNoYXB0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfeSA9IChfdiA9IChfdSA9IChfdCA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3QuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX3UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF91LmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF92ICE9PSB2b2lkIDAgPyBfdiA6IChfeCA9IChfdyA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3cuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgX3ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF94LmxhcmdlKSAhPT0gbnVsbCAmJiBfeSAhPT0gdm9pZCAwID8gX3kgOiAoXzAgPSAoX3ogPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgX3ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF96LmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF8wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMC5tZWRpdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfNiA9IChfMyA9IChfMiA9IChfMSA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgXzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF8zICE9PSB2b2lkIDAgPyBfMyA6IChfNSA9IChfNCA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzQuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgXzUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF81LmxhcmdlKSAhPT0gbnVsbCAmJiBfNiAhPT0gdm9pZCAwID8gXzYgOiAoXzggPSAoXzcgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgXzcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF83LmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF84ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfOC5tZWRpdW0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXI6IChfMTYgPSAoXzEzID0gKF8xMCA9IChfOSA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzkuYmFubmVySW1hZ2UpICE9PSBudWxsICYmIF8xMCAhPT0gdm9pZCAwID8gXzEwIDogKF8xMiA9IChfMTEgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgXzExID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTEuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgXzEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTIuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgXzEzICE9PSB2b2lkIDAgPyBfMTMgOiAoXzE1ID0gKF8xNCA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfMTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNC5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfMTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNS5sYXJnZSkgIT09IG51bGwgJiYgXzE2ICE9PSB2b2lkIDAgPyBfMTYgOiAoXzE4ID0gKF8xNyA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfMTcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNy5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfMTggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xOC5tZWRpdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3Zlckhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfMjYgPSAoXzIzID0gKF8yMCA9IChfMTkgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgXzE5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTkuYmFubmVySW1hZ2UpICE9PSBudWxsICYmIF8yMCAhPT0gdm9pZCAwID8gXzIwIDogKF8yMiA9IChfMjEgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgXzIxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjEuY292ZXJJbWFnZSkgPT09IG51bGwgfHwgXzIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjIuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgXzIzICE9PSB2b2lkIDAgPyBfMjMgOiAoXzI1ID0gKF8yNCA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfMjQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yNC5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfMjUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yNS5sYXJnZSkgIT09IG51bGwgJiYgXzI2ICE9PSB2b2lkIDAgPyBfMjYgOiAoXzI4ID0gKF8yNyA9IGl0ZW0ubm9kZS5tZWRpYVJlY29tbWVuZGF0aW9uKSA9PT0gbnVsbCB8fCBfMjcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yNy5jb3ZlckltYWdlKSA9PT0gbnVsbCB8fCBfMjggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yOC5tZWRpdW0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAoXzI5ID0gaXRlbS5ub2RlLm1lZGlhUmVjb21tZW5kYXRpb24pID09PSBudWxsIHx8IF8yOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzI5Lm1lYW5TY29yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IChfMzAgPSBpdGVtLm5vZGUubWVkaWFSZWNvbW1lbmRhdGlvbikgPT09IG51bGwgfHwgXzMwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMzAuZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uY2hhcmFjdGVycyA9IGRhdGEuZGF0YS5NZWRpYS5jaGFyYWN0ZXJzLmVkZ2VzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9iID0gaXRlbS5ub2RlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlOiBpdGVtLnJvbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3Q6IGl0ZW0ubm9kZS5uYW1lLmZpcnN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3Q6IGl0ZW0ubm9kZS5uYW1lLmxhc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbDogaXRlbS5ub2RlLm5hbWUuZnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmU6IGl0ZW0ubm9kZS5uYW1lLm5hdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyUHJlZmVycmVkOiBpdGVtLm5vZGUubmFtZS51c2VyUHJlZmVycmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX2MgPSBpdGVtLm5vZGUuaW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGl0ZW0ubm9kZS5pbWFnZS5tZWRpdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUhhc2g6ICgwLCB1dGlsc18yLmdldEhhc2hGcm9tSW1hZ2UpKChfZCA9IGl0ZW0ubm9kZS5pbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogaXRlbS5ub2RlLmltYWdlLm1lZGl1bSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1hbmdhSW5mby5yZWxhdGlvbnMgPSBkYXRhLmRhdGEuTWVkaWEucmVsYXRpb25zLmVkZ2VzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLm5vZGUuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvblR5cGU6IGl0ZW0ucmVsYXRpb25UeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFsSWQ6IGl0ZW0ubm9kZS5pZE1hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9tYWppOiBpdGVtLm5vZGUudGl0bGUucm9tYWppLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ2xpc2g6IGl0ZW0ubm9kZS50aXRsZS5lbmdsaXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZTogaXRlbS5ub2RlLnRpdGxlLm5hdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyUHJlZmVycmVkOiBpdGVtLm5vZGUudGl0bGUudXNlclByZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGl0ZW0ubm9kZS5zdGF0dXMgPT0gJ1JFTEVBU0lORydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0ubm9kZS5zdGF0dXMgPT0gJ0ZJTklTSEVEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLkNPTVBMRVRFRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0ubm9kZS5zdGF0dXMgPT0gJ05PVF9ZRVRfUkVMRUFTRUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhU3RhdHVzLk5PVF9ZRVRfQUlSRURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5ub2RlLnN0YXR1cyA9PSAnQ0FOQ0VMTEVEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ0FOQ0VMTEVEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLm5vZGUuc3RhdHVzID09ICdISUFUVVMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFTdGF0dXMuSElBVFVTXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuTWVkaWFTdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXB0ZXJzOiBpdGVtLm5vZGUuY2hhcHRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogKF9jID0gKF9iID0gaXRlbS5ub2RlLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogaXRlbS5ub2RlLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGl0ZW0ubm9kZS5jb3ZlckltYWdlLm1lZGl1bSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlSGFzaDogKDAsIHV0aWxzXzIuZ2V0SGFzaEZyb21JbWFnZSkoKF9lID0gKF9kID0gaXRlbS5ub2RlLmNvdmVySW1hZ2UuZXh0cmFMYXJnZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogaXRlbS5ub2RlLmNvdmVySW1hZ2UubGFyZ2UpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IGl0ZW0ubm9kZS5jb3ZlckltYWdlLm1lZGl1bSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogKF9mID0gaXRlbS5ub2RlLmNvdmVySW1hZ2UpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGl0ZW0ubm9kZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcjogKF9qID0gKF9oID0gKF9nID0gaXRlbS5ub2RlLmJhbm5lckltYWdlKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiBpdGVtLm5vZGUuY292ZXJJbWFnZS5leHRyYUxhcmdlKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiBpdGVtLm5vZGUuY292ZXJJbWFnZS5sYXJnZSkgIT09IG51bGwgJiYgX2ogIT09IHZvaWQgMCA/IF9qIDogaXRlbS5ub2RlLmNvdmVySW1hZ2UubWVkaXVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJIYXNoOiAoMCwgdXRpbHNfMi5nZXRIYXNoRnJvbUltYWdlKSgoX20gPSAoX2wgPSAoX2sgPSBpdGVtLm5vZGUuYmFubmVySW1hZ2UpICE9PSBudWxsICYmIF9rICE9PSB2b2lkIDAgPyBfayA6IGl0ZW0ubm9kZS5jb3ZlckltYWdlLmV4dHJhTGFyZ2UpICE9PSBudWxsICYmIF9sICE9PSB2b2lkIDAgPyBfbCA6IGl0ZW0ubm9kZS5jb3ZlckltYWdlLmxhcmdlKSAhPT0gbnVsbCAmJiBfbSAhPT0gdm9pZCAwID8gX20gOiBpdGVtLm5vZGUuY292ZXJJbWFnZS5tZWRpdW0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiBpdGVtLm5vZGUubWVhblNjb3JlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtYW5nYUluZm8uY2hhcHRlcnMgPSBhd2FpdCBuZXcgX2EoKS5maW5kTWFuZ2EodGhpcy5wcm92aWRlciwge1xuICAgICAgICAgICAgICAgICAgICBlbmdsaXNoOiBtYW5nYUluZm8udGl0bGUuZW5nbGlzaCxcbiAgICAgICAgICAgICAgICAgICAgcm9tYWppOiBtYW5nYUluZm8udGl0bGUucm9tYWppLFxuICAgICAgICAgICAgICAgIH0sIG1hbmdhSW5mby5tYWxJZCk7XG4gICAgICAgICAgICAgICAgbWFuZ2FJbmZvLmNoYXB0ZXJzID0gbWFuZ2FJbmZvLmNoYXB0ZXJzLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFuZ2FJbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucHJvdmlkZXIgPSBwcm92aWRlciB8fCBuZXcgbWFuZ2FzZWUxMjNfMS5kZWZhdWx0KCk7XG4gICAgfVxufTtcbi8vIChhc3luYyAoKSA9PiB7XG4vLyAgIGNvbnN0IGFuaSA9IG5ldyBBbmlsaXN0KG5ldyBab3JvKCkpO1xuLy8gICBjb25zdCBhbmltZSA9IGF3YWl0IGFuaS5mZXRjaEFuaW1lSW5mbygnMjEnKTtcbi8vICAgY29uc29sZS5sb2coYW5pbWUuZXBpc29kZXMpO1xuLy8gICBjb25zdCBzb3VyY2VzID0gYXdhaXQgYW5pLmZldGNoRXBpc29kZVNvdXJjZXMoYW5pbWUuZXBpc29kZXMhWzBdLmlkLCBhbmltZS5lcGlzb2RlcyFbMF0ubnVtYmVyLCBhbmltZS5pZCk7XG4vLyAgIGNvbnNvbGUubG9nKHNvdXJjZXMpO1xuLy8gfSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEFuaWxpc3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmlsaXN0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/meta/anilist.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/meta/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/meta/index.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst anilist_1 = __importDefault(__webpack_require__(/*! ./anilist */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/meta/anilist.js\"));\nconst mal_1 = __importDefault(__webpack_require__(/*! ./mal */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/meta/mal.js\"));\nconst tmdb_1 = __importDefault(__webpack_require__(/*! ./tmdb */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/meta/tmdb.js\"));\nexports[\"default\"] = { Anilist: anilist_1.default, Myanimelist: mal_1.default, TMDB: tmdb_1.default };\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWV0YS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtDQUFrQyxtQkFBTyxDQUFDLDJGQUFXO0FBQ3JELDhCQUE4QixtQkFBTyxDQUFDLG1GQUFPO0FBQzdDLCtCQUErQixtQkFBTyxDQUFDLHFGQUFRO0FBQy9DLGtCQUFlLEtBQUs7QUFDcEIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcbWV0YVxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBhbmlsaXN0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYW5pbGlzdFwiKSk7XG5jb25zdCBtYWxfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9tYWxcIikpO1xuY29uc3QgdG1kYl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RtZGJcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0geyBBbmlsaXN0OiBhbmlsaXN0XzEuZGVmYXVsdCwgTXlhbmltZWxpc3Q6IG1hbF8xLmRlZmF1bHQsIFRNREI6IHRtZGJfMS5kZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/meta/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/meta/mal.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/meta/mal.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nconst gogoanime_1 = __importDefault(__webpack_require__(/*! ../anime/gogoanime */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/gogoanime.js\"));\nconst zoro_1 = __importDefault(__webpack_require__(/*! ../anime/zoro */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/zoro.js\"));\nconst crunchyroll_1 = __importDefault(__webpack_require__(/*! ../anime/crunchyroll */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/crunchyroll.js\"));\nconst anify_1 = __importDefault(__webpack_require__(/*! ../anime/anify */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/anify.js\"));\nconst bilibili_1 = __importDefault(__webpack_require__(/*! ../anime/bilibili */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/anime/bilibili.js\"));\nconst utils_2 = __webpack_require__(/*! ../../utils/utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/utils.js\");\nclass Myanimelist extends models_1.AnimeParser {\n    /**\n     * This class maps myanimelist to kitsu with any other anime provider.\n     * kitsu is used for episode images, titles and description.\n     * @param provider anime provider (optional) default: Gogoanime\n     */\n    constructor(provider) {\n        super();\n        this.name = 'Myanimelist';\n        this.baseUrl = 'https://myanimelist.net/';\n        this.logo = 'https://en.wikipedia.org/wiki/MyAnimeList#/media/File:MyAnimeList.png';\n        this.classPath = 'META.Myanimelist';\n        this.anilistGraphqlUrl = 'https://graphql.anilist.co';\n        this.kitsuGraphqlUrl = 'https://kitsu.app/api/graphql';\n        this.malSyncUrl = 'https://api.malsync.moe';\n        this.anifyUrl = utils_2.ANIFY_URL;\n        this.search = async (query, page = 1) => {\n            const searchResults = {\n                currentPage: page,\n                results: [],\n            };\n            const { data } = await this.client.request({\n                method: 'get',\n                url: `https://myanimelist.net/anime.php?q=${query}&cat=anime&show=${50 * (page - 1)}`,\n                headers: {\n                    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 Edg/107.0.1418.35',\n                },\n            });\n            const $ = (0, cheerio_1.load)(data);\n            const pages = $('.normal_header').find('span').children();\n            const maxPage = parseInt(pages.last().text());\n            const hasNextPage = page < maxPage;\n            searchResults.hasNextPage = hasNextPage;\n            $('tr').each((i, item) => {\n                var _a;\n                const id = (_a = $(item).find('.hoverinfo_trigger').attr('href')) === null || _a === void 0 ? void 0 : _a.split('anime/')[1].split('/')[0];\n                const title = $(item).find('strong').text();\n                const description = $(item).find('.pt4').text().replace('...read more.', '...');\n                const type = $(item).children().eq(2).text().trim();\n                const episodeCount = $(item).children().eq(3).text().trim();\n                const score = (parseFloat($(item).children().eq(4).text()) * 10).toFixed(0);\n                const imageTmp = $(item).children().first().find('img').attr('data-src');\n                const imageUrl = `https://cdn.myanimelist.net/images/anime/${imageTmp === null || imageTmp === void 0 ? void 0 : imageTmp.split('anime/')[1]}`;\n                if (title != '') {\n                    searchResults.results.push({\n                        id: id !== null && id !== void 0 ? id : '',\n                        title: title,\n                        image: imageUrl,\n                        rating: parseInt(score),\n                        description: description,\n                        totalEpisodes: parseInt(episodeCount),\n                        type: type == 'TV'\n                            ? models_1.MediaFormat.TV\n                            : type == 'TV_SHORT'\n                                ? models_1.MediaFormat.TV_SHORT\n                                : type == 'MOVIE'\n                                    ? models_1.MediaFormat.MOVIE\n                                    : type == 'SPECIAL'\n                                        ? models_1.MediaFormat.SPECIAL\n                                        : type == 'OVA'\n                                            ? models_1.MediaFormat.OVA\n                                            : type == 'ONA'\n                                                ? models_1.MediaFormat.ONA\n                                                : type == 'MUSIC'\n                                                    ? models_1.MediaFormat.MUSIC\n                                                    : type == 'MANGA'\n                                                        ? models_1.MediaFormat.MANGA\n                                                        : type == 'NOVEL'\n                                                            ? models_1.MediaFormat.NOVEL\n                                                            : type == 'ONE_SHOT'\n                                                                ? models_1.MediaFormat.ONE_SHOT\n                                                                : undefined,\n                    });\n                }\n            });\n            return searchResults;\n        };\n        /**\n         *\n         * @param animeId anime id\n         * @param fetchFiller fetch filler episodes\n         */\n        this.fetchAnimeInfo = async (animeId, dub = false, fetchFiller = false) => {\n            var _a, _b, _c, _d, _e, _f, _g;\n            try {\n                const animeInfo = await this.fetchMalInfoById(animeId);\n                const titleWithLanguages = animeInfo === null || animeInfo === void 0 ? void 0 : animeInfo.title;\n                let fillerEpisodes;\n                if ((this.provider instanceof zoro_1.default || this.provider instanceof gogoanime_1.default) &&\n                    !dub &&\n                    (animeInfo.status === models_1.MediaStatus.ONGOING ||\n                        (0, utils_1.range)({ from: 2000, to: new Date().getFullYear() + 1 }).includes((_a = animeInfo.startDate) === null || _a === void 0 ? void 0 : _a.year))) {\n                    try {\n                        animeInfo.episodes = (_b = (await new anify_1.default(this.proxyConfig, this.adapter, this.provider.name.toLowerCase()).fetchAnimeInfo(animeId)).episodes) === null || _b === void 0 ? void 0 : _b.map((item) => ({\n                            id: item.slug,\n                            title: item.title,\n                            description: item.description,\n                            number: item.number,\n                            image: item.image,\n                        }));\n                        (_c = animeInfo.episodes) === null || _c === void 0 ? void 0 : _c.reverse();\n                    }\n                    catch (err) {\n                        animeInfo.episodes = await this.findAnimeSlug((titleWithLanguages === null || titleWithLanguages === void 0 ? void 0 : titleWithLanguages.english) ||\n                            (titleWithLanguages === null || titleWithLanguages === void 0 ? void 0 : titleWithLanguages.romaji) ||\n                            (titleWithLanguages === null || titleWithLanguages === void 0 ? void 0 : titleWithLanguages.native) ||\n                            (titleWithLanguages === null || titleWithLanguages === void 0 ? void 0 : titleWithLanguages.userPreferred), animeInfo.season, (_d = animeInfo.startDate) === null || _d === void 0 ? void 0 : _d.year, animeId, dub);\n                        animeInfo.episodes = (_e = animeInfo.episodes) === null || _e === void 0 ? void 0 : _e.map((episode) => {\n                            if (!episode.image)\n                                episode.image = animeInfo.image;\n                            return episode;\n                        });\n                        return animeInfo;\n                    }\n                }\n                else\n                    animeInfo.episodes = await this.findAnimeSlug((titleWithLanguages === null || titleWithLanguages === void 0 ? void 0 : titleWithLanguages.english) ||\n                        (titleWithLanguages === null || titleWithLanguages === void 0 ? void 0 : titleWithLanguages.romaji) ||\n                        (titleWithLanguages === null || titleWithLanguages === void 0 ? void 0 : titleWithLanguages.native) ||\n                        (titleWithLanguages === null || titleWithLanguages === void 0 ? void 0 : titleWithLanguages.userPreferred), animeInfo.season, (_f = animeInfo.startDate) === null || _f === void 0 ? void 0 : _f.year, animeId, dub);\n                if (fetchFiller) {\n                    const { data: fillerData } = await this.client({\n                        baseURL: `https://raw.githubusercontent.com/saikou-app/mal-id-filler-list/main/fillers/${animeId}.json`,\n                        method: 'GET',\n                        validateStatus: () => true,\n                    });\n                    if (!fillerData.toString().startsWith('404')) {\n                        fillerEpisodes = [];\n                        fillerEpisodes === null || fillerEpisodes === void 0 ? void 0 : fillerEpisodes.push(...fillerData.episodes);\n                    }\n                }\n                animeInfo.episodes = (_g = animeInfo.episodes) === null || _g === void 0 ? void 0 : _g.map((episode) => {\n                    if (!episode.image)\n                        episode.image = animeInfo.image;\n                    if (fetchFiller &&\n                        (fillerEpisodes === null || fillerEpisodes === void 0 ? void 0 : fillerEpisodes.length) > 0 &&\n                        (fillerEpisodes === null || fillerEpisodes === void 0 ? void 0 : fillerEpisodes.length) >= animeInfo.episodes.length) {\n                        if (fillerEpisodes[episode.number - 1])\n                            episode.isFiller = new Boolean(fillerEpisodes[episode.number - 1]['filler-bool']).valueOf();\n                    }\n                    return episode;\n                });\n                return animeInfo;\n            }\n            catch (err) {\n                console.error(err);\n                throw err;\n            }\n        };\n        this.fetchEpisodeSources = async (episodeId, ...args) => {\n            try {\n                if (episodeId.includes('/') && this.provider instanceof anify_1.default)\n                    return new anify_1.default().fetchEpisodeSources(episodeId, args[0], args[1]);\n                return this.provider.fetchEpisodeSources(episodeId, ...args);\n            }\n            catch (err) {\n                throw new Error(`Failed to fetch episode sources from ${this.provider.name}: ${err}`);\n            }\n        };\n        this.findAnimeRaw = async (slug, externalLinks) => {\n            if (externalLinks && this.provider instanceof crunchyroll_1.default) {\n                if (externalLinks.map((link) => link.site.includes('Crunchyroll'))) {\n                    const link = externalLinks.find((link) => link.site.includes('Crunchyroll'));\n                    const { request } = await this.client.get(link.url, {\n                        validateStatus: () => true,\n                    });\n                    const mediaType = request.res.responseUrl.split('/')[3];\n                    const id = request.res.responseUrl.split('/')[4];\n                    return await this.provider.fetchAnimeInfo(id, mediaType);\n                }\n            }\n            const findAnime = (await this.provider.search(slug));\n            if (findAnime.results.length === 0)\n                return [];\n            // Sort the retrieved info for more accurate results.\n            findAnime.results.sort((a, b) => {\n                var _a, _b, _c, _d;\n                const targetTitle = slug.toLowerCase();\n                let firstTitle;\n                let secondTitle;\n                if (typeof a.title == 'string')\n                    firstTitle = a.title;\n                else\n                    firstTitle = (_b = (_a = a.title.english) !== null && _a !== void 0 ? _a : a.title.romaji) !== null && _b !== void 0 ? _b : '';\n                if (typeof b.title == 'string')\n                    secondTitle = b.title;\n                else\n                    secondTitle = (_d = (_c = b.title.english) !== null && _c !== void 0 ? _c : b.title.romaji) !== null && _d !== void 0 ? _d : '';\n                const firstRating = (0, utils_1.compareTwoStrings)(targetTitle, firstTitle.toLowerCase());\n                const secondRating = (0, utils_1.compareTwoStrings)(targetTitle, secondTitle.toLowerCase());\n                // Sort in descending order\n                return secondRating - firstRating;\n            });\n            if (this.provider instanceof crunchyroll_1.default) {\n                return await this.provider.fetchAnimeInfo(findAnime.results[0].id, findAnime.results[0].type);\n            }\n            // TODO: use much better way than this\n            return (await this.provider.fetchAnimeInfo(findAnime.results[0].id));\n        };\n        this.findAnimeSlug = async (title, season, startDate, malId, dub, externalLinks) => {\n            var _a, _b, _c;\n            if (this.provider instanceof anify_1.default)\n                return (await this.provider.fetchAnimeInfo(malId)).episodes;\n            // console.log({ title });\n            const slug = title === null || title === void 0 ? void 0 : title.replace(/[^0-9a-zA-Z]+/g, ' ');\n            let possibleAnime;\n            if (malId && !(this.provider instanceof crunchyroll_1.default || this.provider instanceof bilibili_1.default)) {\n                const malAsyncReq = await this.client({\n                    method: 'GET',\n                    url: `${this.malSyncUrl}/mal/anime/${malId}`,\n                    validateStatus: () => true,\n                });\n                if (malAsyncReq.status === 200) {\n                    const sitesT = malAsyncReq.data.Sites;\n                    let sites = Object.values(sitesT).map((v, i) => {\n                        const obj = [...Object.values(Object.values(sitesT)[i])];\n                        const pages = obj.map(v => ({\n                            page: v.page,\n                            url: v.url,\n                            title: v.title,\n                        }));\n                        return pages;\n                    });\n                    sites = sites.flat();\n                    sites.sort((a, b) => {\n                        const targetTitle = malAsyncReq.data.title.toLowerCase();\n                        const firstRating = (0, utils_1.compareTwoStrings)(targetTitle, a.title.toLowerCase());\n                        const secondRating = (0, utils_1.compareTwoStrings)(targetTitle, b.title.toLowerCase());\n                        // Sort in descending order\n                        return secondRating - firstRating;\n                    });\n                    const possibleSource = sites.find(s => {\n                        if (s.page.toLowerCase() === this.provider.name.toLowerCase())\n                            if (this.provider instanceof gogoanime_1.default)\n                                return dub ? s.title.toLowerCase().includes('dub') : !s.title.toLowerCase().includes('dub');\n                            else\n                                return true;\n                        return false;\n                    });\n                    if (possibleSource) {\n                        try {\n                            possibleAnime = await this.provider.fetchAnimeInfo(possibleSource.url.split('/').pop());\n                        }\n                        catch (err) {\n                            console.error(err);\n                            possibleAnime = await this.findAnimeRaw(slug);\n                        }\n                    }\n                    else\n                        possibleAnime = await this.findAnimeRaw(slug);\n                }\n                else\n                    possibleAnime = await this.findAnimeRaw(slug);\n            }\n            else\n                possibleAnime = await this.findAnimeRaw(slug, externalLinks);\n            // To avoid a new request, lets match and see if the anime show found is in sub/dub\n            const expectedType = dub ? models_1.SubOrSub.DUB : models_1.SubOrSub.SUB;\n            if (possibleAnime.subOrDub != models_1.SubOrSub.BOTH && possibleAnime.subOrDub != expectedType) {\n                return [];\n            }\n            if (this.provider instanceof zoro_1.default) {\n                // Set the correct episode sub/dub request type\n                possibleAnime.episodes.forEach((_, index) => {\n                    if (possibleAnime.subOrDub === models_1.SubOrSub.BOTH) {\n                        possibleAnime.episodes[index].id = possibleAnime.episodes[index].id.replace(`$both`, dub ? '$dub' : '$sub');\n                    }\n                });\n            }\n            if (this.provider instanceof crunchyroll_1.default) {\n                const nestedEpisodes = Object.keys(possibleAnime.episodes)\n                    .filter((key) => key.toLowerCase().includes(dub ? 'dub' : 'sub'))\n                    .sort((first, second) => {\n                    var _a, _b, _c, _d;\n                    return (((_b = (_a = possibleAnime.episodes[first]) === null || _a === void 0 ? void 0 : _a[0].season_number) !== null && _b !== void 0 ? _b : 0) -\n                        ((_d = (_c = possibleAnime.episodes[second]) === null || _c === void 0 ? void 0 : _c[0].season_number) !== null && _d !== void 0 ? _d : 0));\n                })\n                    .map((key) => {\n                    const audio = key\n                        .replace(/[0-9]/g, '')\n                        .replace(/(^\\w{1})|(\\s+\\w{1})/g, (letter) => letter.toUpperCase());\n                    possibleAnime.episodes[key].forEach((element) => (element.type = audio));\n                    return possibleAnime.episodes[key];\n                });\n                return nestedEpisodes.flat();\n            }\n            const possibleProviderEpisodes = possibleAnime.episodes;\n            if (typeof ((_a = possibleProviderEpisodes[0]) === null || _a === void 0 ? void 0 : _a.image) !== 'undefined' &&\n                typeof ((_b = possibleProviderEpisodes[0]) === null || _b === void 0 ? void 0 : _b.title) !== 'undefined' &&\n                typeof ((_c = possibleProviderEpisodes[0]) === null || _c === void 0 ? void 0 : _c.description) !== 'undefined')\n                return possibleProviderEpisodes;\n            const options = {\n                headers: { 'Content-Type': 'application/json' },\n                query: (0, utils_1.kitsuSearchQuery)(slug),\n            };\n            const newEpisodeList = await this.findKitsuAnime(possibleProviderEpisodes, options, season, startDate);\n            return newEpisodeList;\n        };\n        this.findKitsuAnime = async (possibleProviderEpisodes, options, season, startDate) => {\n            const kitsuEpisodes = await this.client.post(this.kitsuGraphqlUrl, options);\n            const episodesList = new Map();\n            if (kitsuEpisodes === null || kitsuEpisodes === void 0 ? void 0 : kitsuEpisodes.data.data) {\n                const { nodes } = kitsuEpisodes.data.data.searchAnimeByTitle;\n                if (nodes) {\n                    nodes.forEach((node) => {\n                        var _a, _b;\n                        if (node.season === season && node.startDate.trim().split('-')[0] === (startDate === null || startDate === void 0 ? void 0 : startDate.toString())) {\n                            const episodes = node.episodes.nodes;\n                            for (const episode of episodes) {\n                                const i = episode === null || episode === void 0 ? void 0 : episode.number.toString().replace(/\"/g, '');\n                                let name = undefined;\n                                let description = undefined;\n                                let thumbnail = undefined;\n                                if ((_a = episode === null || episode === void 0 ? void 0 : episode.description) === null || _a === void 0 ? void 0 : _a.en)\n                                    description = episode === null || episode === void 0 ? void 0 : episode.description.en.toString().replace(/\"/g, '').replace('\\\\n', '\\n');\n                                if (episode === null || episode === void 0 ? void 0 : episode.thumbnail)\n                                    thumbnail = episode === null || episode === void 0 ? void 0 : episode.thumbnail.original.url.toString().replace(/\"/g, '');\n                                if (episode) {\n                                    if ((_b = episode.titles) === null || _b === void 0 ? void 0 : _b.canonical)\n                                        name = episode.titles.canonical.toString().replace(/\"/g, '');\n                                    episodesList.set(i, {\n                                        episodeNum: episode === null || episode === void 0 ? void 0 : episode.number.toString().replace(/\"/g, ''),\n                                        title: name,\n                                        description,\n                                        thumbnail,\n                                    });\n                                    continue;\n                                }\n                                episodesList.set(i, {\n                                    episodeNum: undefined,\n                                    title: undefined,\n                                    description: undefined,\n                                    thumbnail,\n                                });\n                            }\n                        }\n                    });\n                }\n            }\n            const newEpisodeList = [];\n            if ((possibleProviderEpisodes === null || possibleProviderEpisodes === void 0 ? void 0 : possibleProviderEpisodes.length) !== 0) {\n                possibleProviderEpisodes === null || possibleProviderEpisodes === void 0 ? void 0 : possibleProviderEpisodes.forEach((ep, i) => {\n                    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n                    const j = (i + 1).toString();\n                    newEpisodeList.push({\n                        id: ep.id,\n                        title: (_c = (_a = ep.title) !== null && _a !== void 0 ? _a : (_b = episodesList.get(j)) === null || _b === void 0 ? void 0 : _b.title) !== null && _c !== void 0 ? _c : null,\n                        image: (_f = (_d = ep.image) !== null && _d !== void 0 ? _d : (_e = episodesList.get(j)) === null || _e === void 0 ? void 0 : _e.thumbnail) !== null && _f !== void 0 ? _f : null,\n                        number: ep.number,\n                        description: (_j = (_g = ep.description) !== null && _g !== void 0 ? _g : (_h = episodesList.get(j)) === null || _h === void 0 ? void 0 : _h.description) !== null && _j !== void 0 ? _j : null,\n                        url: (_k = ep.url) !== null && _k !== void 0 ? _k : null,\n                    });\n                });\n            }\n            return newEpisodeList;\n        };\n        /**\n         *\n         * @param id anime id\n         * @returns anime info without streamable episodes\n         */\n        this.fetchMalInfoById = async (id) => {\n            const animeInfo = {\n                id: id,\n                title: '',\n            };\n            const { data } = await this.client.request({\n                method: 'GET',\n                url: `https://myanimelist.net/anime/${id}`,\n                headers: {\n                    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 Edg/107.0.1418.35',\n                },\n            });\n            const $ = (0, cheerio_1.load)(data);\n            const episodes = [];\n            const desc = $('[itemprop=\"description\"]').first().text();\n            const imageElem = $('[itemprop=\"image\"]').first();\n            const image = imageElem.attr('src') || imageElem.attr('data-image') || imageElem.attr('data-src');\n            const genres = [];\n            const genreDOM = $('[itemprop=\"genre\"]').get();\n            genreDOM.forEach(elem => genres.push($(elem).text()));\n            animeInfo.genres = genres;\n            animeInfo.image = image;\n            animeInfo.description = desc;\n            animeInfo.title = {\n                english: $('.js-alternative-titles.hide').children().eq(0).text().replace('English: ', '').trim(),\n                romaji: $('.title-name').text(),\n                native: $('.js-alternative-titles.hide').parent().children().eq(9).text().trim(),\n                userPreferred: $('.js-alternative-titles.hide').children().eq(0).text().replace('English: ', '').trim(),\n            };\n            animeInfo.synonyms = $('.js-alternative-titles.hide')\n                .parent()\n                .children()\n                .eq(8)\n                .text()\n                .replace('Synonyms:', '')\n                .trim()\n                .split(',');\n            animeInfo.studios = [];\n            animeInfo.popularity = parseInt($('.numbers.popularity').text().trim().replace('Popularity #', '').trim());\n            const producers = [];\n            $('a').each(function (i, link) {\n                var _a;\n                if (((_a = $(link).attr('href')) === null || _a === void 0 ? void 0 : _a.includes('producer')) &&\n                    $(link).parent().children().eq(0).text() == 'Producers:') {\n                    producers.push($(link).text());\n                }\n            });\n            animeInfo.producers = producers;\n            // animeInfo.episodes = episodes;\n            const teaserDOM = $('.video-promotion > a');\n            if (teaserDOM.length > 0) {\n                const teaserURL = $(teaserDOM).attr('href');\n                const style = $(teaserDOM).attr('style');\n                if (teaserURL) {\n                    animeInfo.trailer = {\n                        id: (0, utils_1.substringAfter)(teaserURL, 'embed/').split('?')[0],\n                        site: 'https://youtube.com/watch?v=',\n                        thumbnail: style ? (0, utils_1.substringBefore)((0, utils_1.substringAfter)(style, \"url('\"), \"'\") : '',\n                    };\n                }\n            }\n            const ops = $('.theme-songs.js-theme-songs.opnening').find('tr').get();\n            const ignoreList = ['Apple Music', 'Youtube Music', 'Amazon Music', 'Spotify'];\n            animeInfo.openings = ops.map((element) => {\n                //console.log($(element).text().trim());\n                const name = $(element).children().eq(1).children().first().text().trim();\n                if (!ignoreList.includes(name)) {\n                    if ($(element).find('.theme-song-index').length != 0) {\n                        const index = $(element).find('.theme-song-index').text().trim();\n                        const band = $(element).find('.theme-song-artist').text().trim();\n                        const episodes = $(element).find('.theme-song-episode').text().trim();\n                        //console.log($(element).children().eq(1).text().trim().split(index)[1]);\n                        return {\n                            name: $(element).children().eq(1).text().trim().split(index)[1].split(band)[0].trim(),\n                            band: band.replace('by ', ''),\n                            episodes: episodes,\n                        };\n                    }\n                    else {\n                        const band = $(element).find('.theme-song-artist').text().trim();\n                        const episodes = $(element).find('.theme-song-episode').text().trim();\n                        return {\n                            name: $(element).children().eq(1).text().trim().split(band)[0].trim(),\n                            band: band.replace('by ', ''),\n                            episodes: episodes,\n                        };\n                    }\n                }\n            });\n            animeInfo.openings = animeInfo.openings.filter(function (element) {\n                return element !== undefined;\n            });\n            const eds = $('.theme-songs.js-theme-songs.ending').find('tr').get();\n            animeInfo.endings = eds.map((element) => {\n                //console.log($(element).text().trim());\n                const name = $(element).children().eq(1).children().first().text().trim();\n                if (!ignoreList.includes(name)) {\n                    if ($(element).find('.theme-song-index').length != 0) {\n                        const index = $(element).find('.theme-song-index').text().trim();\n                        const band = $(element).find('.theme-song-artist').text().trim();\n                        const episodes = $(element).find('.theme-song-episode').text().trim();\n                        //console.log($(element).children().eq(1).text().trim().split(index)[1]);\n                        return {\n                            name: $(element).children().eq(1).text().trim().split(index)[1].split(band)[0].trim(),\n                            band: band.replace('by ', ''),\n                            episodes: episodes,\n                        };\n                    }\n                    else {\n                        const band = $(element).find('.theme-song-artist').text().trim();\n                        const episodes = $(element).find('.theme-song-episode').text().trim();\n                        return {\n                            name: $(element).children().eq(1).text().trim().split(band)[0].trim(),\n                            band: band.replace('by ', ''),\n                            episodes: episodes,\n                        };\n                    }\n                }\n            });\n            animeInfo.endings = animeInfo.endings.filter(function (element) {\n                return element !== undefined;\n            });\n            const description = $('.spaceit_pad').get();\n            description.forEach((elem) => {\n                var _a;\n                const text = $(elem).text().toLowerCase().trim();\n                const key = text.split(':')[0];\n                const value = (0, utils_1.substringAfter)(text, `${key}:`).trim();\n                switch (key) {\n                    case 'status':\n                        animeInfo.status = this.malStatusToMediaStatus(value);\n                        break;\n                    case 'episodes':\n                        animeInfo.totalEpisodes = parseInt(value);\n                        if (isNaN(animeInfo.totalEpisodes))\n                            animeInfo.totalEpisodes = 0;\n                        break;\n                    case 'premiered':\n                        animeInfo.season = value.split(' ')[0].toUpperCase();\n                        break;\n                    case 'aired':\n                        const dates = value.split('to');\n                        if (dates.length >= 2) {\n                            const start = dates[0].trim();\n                            const end = dates[1].trim();\n                            const startDate = new Date(start);\n                            const endDate = new Date(end);\n                            if (startDate.toString() !== 'Invalid Date') {\n                                animeInfo.startDate = {\n                                    day: startDate.getDate(),\n                                    month: startDate.getMonth(),\n                                    year: startDate.getFullYear(),\n                                };\n                            }\n                            if (endDate.toString() != 'Invalid Date') {\n                                animeInfo.endDate = {\n                                    day: endDate.getDate(),\n                                    month: endDate.getMonth(),\n                                    year: endDate.getFullYear(),\n                                };\n                            }\n                        }\n                        break;\n                    case 'score':\n                        animeInfo.rating = parseFloat(value);\n                        break;\n                    case 'studios':\n                        for (const studio of $(elem).find('a'))\n                            (_a = animeInfo.studios) === null || _a === void 0 ? void 0 : _a.push($(studio).text());\n                        break;\n                    case 'rating':\n                        animeInfo.ageRating = value;\n                }\n            });\n            // Only works on certain animes, so it is unreliable\n            // let videoLink = $('.mt4.ar a').attr('href');\n            // if (videoLink) {\n            //   await this.populateEpisodeList(episodes, videoLink);\n            // }\n            return animeInfo;\n        };\n        this.provider = provider || new gogoanime_1.default();\n    }\n    malStatusToMediaStatus(status) {\n        if (status == 'currently airing')\n            return models_1.MediaStatus.ONGOING;\n        else if (status == 'finished airing')\n            return models_1.MediaStatus.COMPLETED;\n        else if (status == 'not yet aired')\n            return models_1.MediaStatus.NOT_YET_AIRED;\n        return models_1.MediaStatus.UNKNOWN;\n    }\n    async populateEpisodeList(episodes, url, count = 1) {\n        try {\n            const { data } = await this.client.request({\n                method: 'get',\n                url: `${url}?p=${count}`,\n                headers: {\n                    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 Edg/107.0.1418.35',\n                },\n            });\n            let hasEpisodes = false;\n            const $ = (0, cheerio_1.load)(data);\n            for (const elem of $('.video-list').toArray()) {\n                const href = $(elem).attr('href');\n                const image = $(elem).find('img').attr('data-src');\n                const titleDOM = $(elem).find('.episode-title');\n                const title = titleDOM === null || titleDOM === void 0 ? void 0 : titleDOM.text();\n                titleDOM.remove();\n                const numberDOM = $(elem).find('.title').text().split(' ');\n                let number = 0;\n                if (numberDOM.length > 1) {\n                    number = Number(numberDOM[1]);\n                }\n                if (href && href.indexOf('myanimelist.net/anime') > -1) {\n                    hasEpisodes = true;\n                    episodes.push({\n                        id: '',\n                        number,\n                        title,\n                        image,\n                    });\n                }\n            }\n            if (hasEpisodes)\n                await this.populateEpisodeList(episodes, url, ++count);\n        }\n        catch (err) {\n            console.error(err);\n        }\n    }\n    fetchEpisodeServers(episodeId) {\n        return this.provider.fetchEpisodeServers(episodeId);\n    }\n}\nexports[\"default\"] = Myanimelist;\n// (async () => {\n//   const mal = new Myanimelist();\n//   // const search = await mal.search('one piece');\n//   const info = await mal.fetchAnimeInfo('21', true);\n//   //console.log(info);\n// })();\n//# sourceMappingURL=mal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWV0YS9tYWwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QyxnQkFBZ0IsbUJBQU8sQ0FBQyxrRkFBYTtBQUNyQyxvQ0FBb0MsbUJBQU8sQ0FBQyx1R0FBb0I7QUFDaEUsK0JBQStCLG1CQUFPLENBQUMsNkZBQWU7QUFDdEQsc0NBQXNDLG1CQUFPLENBQUMsMkdBQXNCO0FBQ3BFLGdDQUFnQyxtQkFBTyxDQUFDLCtGQUFnQjtBQUN4RCxtQ0FBbUMsbUJBQU8sQ0FBQyxxR0FBbUI7QUFDOUQsZ0JBQWdCLG1CQUFPLENBQUMsd0ZBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0EsNERBQTRELE1BQU0sa0JBQWtCLGdCQUFnQjtBQUNwRztBQUNBLHFEQUFxRDtBQUNyRCxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsZ0ZBQWdGO0FBQzdKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsOENBQThDO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG1CQUFtQjtBQUMvQyxpSEFBaUgsUUFBUTtBQUN6SDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLG1CQUFtQixJQUFJLElBQUk7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFVBQVU7QUFDdEM7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixPQUFPO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0JBQWdCLGFBQWEsTUFBTTtBQUMvRDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLEVBQUUsU0FBUyxFQUFFO0FBQ3BEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixvQ0FBb0M7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFFBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0Esc0RBQXNELEdBQUc7QUFDekQ7QUFDQSxxREFBcUQ7QUFDckQsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsSUFBSTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0Esd0JBQXdCLElBQUksS0FBSyxNQUFNO0FBQ3ZDO0FBQ0EscURBQXFEO0FBQ3JELGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxtZXRhXFxtYWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHNcIik7XG5jb25zdCBnb2dvYW5pbWVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vYW5pbWUvZ29nb2FuaW1lXCIpKTtcbmNvbnN0IHpvcm9fMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vYW5pbWUvem9yb1wiKSk7XG5jb25zdCBjcnVuY2h5cm9sbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9hbmltZS9jcnVuY2h5cm9sbFwiKSk7XG5jb25zdCBhbmlmeV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9hbmltZS9hbmlmeVwiKSk7XG5jb25zdCBiaWxpYmlsaV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9hbmltZS9iaWxpYmlsaVwiKSk7XG5jb25zdCB1dGlsc18yID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWxzXCIpO1xuY2xhc3MgTXlhbmltZWxpc3QgZXh0ZW5kcyBtb2RlbHNfMS5BbmltZVBhcnNlciB7XG4gICAgLyoqXG4gICAgICogVGhpcyBjbGFzcyBtYXBzIG15YW5pbWVsaXN0IHRvIGtpdHN1IHdpdGggYW55IG90aGVyIGFuaW1lIHByb3ZpZGVyLlxuICAgICAqIGtpdHN1IGlzIHVzZWQgZm9yIGVwaXNvZGUgaW1hZ2VzLCB0aXRsZXMgYW5kIGRlc2NyaXB0aW9uLlxuICAgICAqIEBwYXJhbSBwcm92aWRlciBhbmltZSBwcm92aWRlciAob3B0aW9uYWwpIGRlZmF1bHQ6IEdvZ29hbmltZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3ZpZGVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdNeWFuaW1lbGlzdCc7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL215YW5pbWVsaXN0Lm5ldC8nO1xuICAgICAgICB0aGlzLmxvZ28gPSAnaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTXlBbmltZUxpc3QjL21lZGlhL0ZpbGU6TXlBbmltZUxpc3QucG5nJztcbiAgICAgICAgdGhpcy5jbGFzc1BhdGggPSAnTUVUQS5NeWFuaW1lbGlzdCc7XG4gICAgICAgIHRoaXMuYW5pbGlzdEdyYXBocWxVcmwgPSAnaHR0cHM6Ly9ncmFwaHFsLmFuaWxpc3QuY28nO1xuICAgICAgICB0aGlzLmtpdHN1R3JhcGhxbFVybCA9ICdodHRwczovL2tpdHN1LmFwcC9hcGkvZ3JhcGhxbCc7XG4gICAgICAgIHRoaXMubWFsU3luY1VybCA9ICdodHRwczovL2FwaS5tYWxzeW5jLm1vZSc7XG4gICAgICAgIHRoaXMuYW5pZnlVcmwgPSB1dGlsc18yLkFOSUZZX1VSTDtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocXVlcnksIHBhZ2UgPSAxKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWFyY2hSZXN1bHRzID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JyxcbiAgICAgICAgICAgICAgICB1cmw6IGBodHRwczovL215YW5pbWVsaXN0Lm5ldC9hbmltZS5waHA/cT0ke3F1ZXJ5fSZjYXQ9YW5pbWUmc2hvdz0kezUwICogKHBhZ2UgLSAxKX1gLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTA3LjAuMC4wIFNhZmFyaS81MzcuMzYgRWRnLzEwNy4wLjE0MTguMzUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgY29uc3QgcGFnZXMgPSAkKCcubm9ybWFsX2hlYWRlcicpLmZpbmQoJ3NwYW4nKS5jaGlsZHJlbigpO1xuICAgICAgICAgICAgY29uc3QgbWF4UGFnZSA9IHBhcnNlSW50KHBhZ2VzLmxhc3QoKS50ZXh0KCkpO1xuICAgICAgICAgICAgY29uc3QgaGFzTmV4dFBhZ2UgPSBwYWdlIDwgbWF4UGFnZTtcbiAgICAgICAgICAgIHNlYXJjaFJlc3VsdHMuaGFzTmV4dFBhZ2UgPSBoYXNOZXh0UGFnZTtcbiAgICAgICAgICAgICQoJ3RyJykuZWFjaCgoaSwgaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IChfYSA9ICQoaXRlbSkuZmluZCgnLmhvdmVyaW5mb190cmlnZ2VyJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3BsaXQoJ2FuaW1lLycpWzFdLnNwbGl0KCcvJylbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSAkKGl0ZW0pLmZpbmQoJ3N0cm9uZycpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9ICQoaXRlbSkuZmluZCgnLnB0NCcpLnRleHQoKS5yZXBsYWNlKCcuLi5yZWFkIG1vcmUuJywgJy4uLicpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSAkKGl0ZW0pLmNoaWxkcmVuKCkuZXEoMikudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlcGlzb2RlQ291bnQgPSAkKGl0ZW0pLmNoaWxkcmVuKCkuZXEoMykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZSA9IChwYXJzZUZsb2F0KCQoaXRlbSkuY2hpbGRyZW4oKS5lcSg0KS50ZXh0KCkpICogMTApLnRvRml4ZWQoMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VUbXAgPSAkKGl0ZW0pLmNoaWxkcmVuKCkuZmlyc3QoKS5maW5kKCdpbWcnKS5hdHRyKCdkYXRhLXNyYycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gYGh0dHBzOi8vY2RuLm15YW5pbWVsaXN0Lm5ldC9pbWFnZXMvYW5pbWUvJHtpbWFnZVRtcCA9PT0gbnVsbCB8fCBpbWFnZVRtcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW1hZ2VUbXAuc3BsaXQoJ2FuaW1lLycpWzFdfWA7XG4gICAgICAgICAgICAgICAgaWYgKHRpdGxlICE9ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdHMucmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCAhPT0gbnVsbCAmJiBpZCAhPT0gdm9pZCAwID8gaWQgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBpbWFnZVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZzogcGFyc2VJbnQoc2NvcmUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxFcGlzb2RlczogcGFyc2VJbnQoZXBpc29kZUNvdW50KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUgPT0gJ1RWJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFGb3JtYXQuVFZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHR5cGUgPT0gJ1RWX1NIT1JUJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhRm9ybWF0LlRWX1NIT1JUXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdHlwZSA9PSAnTU9WSUUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLk1lZGlhRm9ybWF0Lk1PVklFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHR5cGUgPT0gJ1NQRUNJQUwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYUZvcm1hdC5TUEVDSUFMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0eXBlID09ICdPVkEnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFGb3JtYXQuT1ZBXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdHlwZSA9PSAnT05BJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYUZvcm1hdC5PTkFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdHlwZSA9PSAnTVVTSUMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYUZvcm1hdC5NVVNJQ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdHlwZSA9PSAnTUFOR0EnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFGb3JtYXQuTUFOR0FcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0eXBlID09ICdOT1ZFTCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuTWVkaWFGb3JtYXQuTk9WRUxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdHlwZSA9PSAnT05FX1NIT1QnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5NZWRpYUZvcm1hdC5PTkVfU0hPVFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzZWFyY2hSZXN1bHRzO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGFuaW1lSWQgYW5pbWUgaWRcbiAgICAgICAgICogQHBhcmFtIGZldGNoRmlsbGVyIGZldGNoIGZpbGxlciBlcGlzb2Rlc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEFuaW1lSW5mbyA9IGFzeW5jIChhbmltZUlkLCBkdWIgPSBmYWxzZSwgZmV0Y2hGaWxsZXIgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltZUluZm8gPSBhd2FpdCB0aGlzLmZldGNoTWFsSW5mb0J5SWQoYW5pbWVJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGVXaXRoTGFuZ3VhZ2VzID0gYW5pbWVJbmZvID09PSBudWxsIHx8IGFuaW1lSW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYW5pbWVJbmZvLnRpdGxlO1xuICAgICAgICAgICAgICAgIGxldCBmaWxsZXJFcGlzb2RlcztcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMucHJvdmlkZXIgaW5zdGFuY2VvZiB6b3JvXzEuZGVmYXVsdCB8fCB0aGlzLnByb3ZpZGVyIGluc3RhbmNlb2YgZ29nb2FuaW1lXzEuZGVmYXVsdCkgJiZcbiAgICAgICAgICAgICAgICAgICAgIWR1YiAmJlxuICAgICAgICAgICAgICAgICAgICAoYW5pbWVJbmZvLnN0YXR1cyA9PT0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuT05HT0lORyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHV0aWxzXzEucmFuZ2UpKHsgZnJvbTogMjAwMCwgdG86IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSArIDEgfSkuaW5jbHVkZXMoKF9hID0gYW5pbWVJbmZvLnN0YXJ0RGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnllYXIpKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLmVwaXNvZGVzID0gKF9iID0gKGF3YWl0IG5ldyBhbmlmeV8xLmRlZmF1bHQodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyLCB0aGlzLnByb3ZpZGVyLm5hbWUudG9Mb3dlckNhc2UoKSkuZmV0Y2hBbmltZUluZm8oYW5pbWVJZCkpLmVwaXNvZGVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLnNsdWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGl0ZW0uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBpdGVtLm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogaXRlbS5pbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYyA9IGFuaW1lSW5mby5lcGlzb2RlcykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uZXBpc29kZXMgPSBhd2FpdCB0aGlzLmZpbmRBbmltZVNsdWcoKHRpdGxlV2l0aExhbmd1YWdlcyA9PT0gbnVsbCB8fCB0aXRsZVdpdGhMYW5ndWFnZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRpdGxlV2l0aExhbmd1YWdlcy5lbmdsaXNoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aXRsZVdpdGhMYW5ndWFnZXMgPT09IG51bGwgfHwgdGl0bGVXaXRoTGFuZ3VhZ2VzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aXRsZVdpdGhMYW5ndWFnZXMucm9tYWppKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aXRsZVdpdGhMYW5ndWFnZXMgPT09IG51bGwgfHwgdGl0bGVXaXRoTGFuZ3VhZ2VzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aXRsZVdpdGhMYW5ndWFnZXMubmF0aXZlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aXRsZVdpdGhMYW5ndWFnZXMgPT09IG51bGwgfHwgdGl0bGVXaXRoTGFuZ3VhZ2VzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aXRsZVdpdGhMYW5ndWFnZXMudXNlclByZWZlcnJlZCksIGFuaW1lSW5mby5zZWFzb24sIChfZCA9IGFuaW1lSW5mby5zdGFydERhdGUpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC55ZWFyLCBhbmltZUlkLCBkdWIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLmVwaXNvZGVzID0gKF9lID0gYW5pbWVJbmZvLmVwaXNvZGVzKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UubWFwKChlcGlzb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcGlzb2RlLmltYWdlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlLmltYWdlID0gYW5pbWVJbmZvLmltYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcGlzb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW5pbWVJbmZvO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLmVwaXNvZGVzID0gYXdhaXQgdGhpcy5maW5kQW5pbWVTbHVnKCh0aXRsZVdpdGhMYW5ndWFnZXMgPT09IG51bGwgfHwgdGl0bGVXaXRoTGFuZ3VhZ2VzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aXRsZVdpdGhMYW5ndWFnZXMuZW5nbGlzaCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aXRsZVdpdGhMYW5ndWFnZXMgPT09IG51bGwgfHwgdGl0bGVXaXRoTGFuZ3VhZ2VzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aXRsZVdpdGhMYW5ndWFnZXMucm9tYWppKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHRpdGxlV2l0aExhbmd1YWdlcyA9PT0gbnVsbCB8fCB0aXRsZVdpdGhMYW5ndWFnZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRpdGxlV2l0aExhbmd1YWdlcy5uYXRpdmUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAodGl0bGVXaXRoTGFuZ3VhZ2VzID09PSBudWxsIHx8IHRpdGxlV2l0aExhbmd1YWdlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGl0bGVXaXRoTGFuZ3VhZ2VzLnVzZXJQcmVmZXJyZWQpLCBhbmltZUluZm8uc2Vhc29uLCAoX2YgPSBhbmltZUluZm8uc3RhcnREYXRlKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YueWVhciwgYW5pbWVJZCwgZHViKTtcbiAgICAgICAgICAgICAgICBpZiAoZmV0Y2hGaWxsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBmaWxsZXJEYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVVJMOiBgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3NhaWtvdS1hcHAvbWFsLWlkLWZpbGxlci1saXN0L21haW4vZmlsbGVycy8ke2FuaW1lSWR9Lmpzb25gLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlU3RhdHVzOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxsZXJEYXRhLnRvU3RyaW5nKCkuc3RhcnRzV2l0aCgnNDA0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxlckVwaXNvZGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsZXJFcGlzb2RlcyA9PT0gbnVsbCB8fCBmaWxsZXJFcGlzb2RlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmlsbGVyRXBpc29kZXMucHVzaCguLi5maWxsZXJEYXRhLmVwaXNvZGVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhbmltZUluZm8uZXBpc29kZXMgPSAoX2cgPSBhbmltZUluZm8uZXBpc29kZXMpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5tYXAoKGVwaXNvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlcGlzb2RlLmltYWdlKVxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZS5pbWFnZSA9IGFuaW1lSW5mby5pbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZldGNoRmlsbGVyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoZmlsbGVyRXBpc29kZXMgPT09IG51bGwgfHwgZmlsbGVyRXBpc29kZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZpbGxlckVwaXNvZGVzLmxlbmd0aCkgPiAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoZmlsbGVyRXBpc29kZXMgPT09IG51bGwgfHwgZmlsbGVyRXBpc29kZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZpbGxlckVwaXNvZGVzLmxlbmd0aCkgPj0gYW5pbWVJbmZvLmVwaXNvZGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGxlckVwaXNvZGVzW2VwaXNvZGUubnVtYmVyIC0gMV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZS5pc0ZpbGxlciA9IG5ldyBCb29sZWFuKGZpbGxlckVwaXNvZGVzW2VwaXNvZGUubnVtYmVyIC0gMV1bJ2ZpbGxlci1ib29sJ10pLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXBpc29kZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5pbWVJbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU291cmNlcyA9IGFzeW5jIChlcGlzb2RlSWQsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGVwaXNvZGVJZC5pbmNsdWRlcygnLycpICYmIHRoaXMucHJvdmlkZXIgaW5zdGFuY2VvZiBhbmlmeV8xLmRlZmF1bHQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgYW5pZnlfMS5kZWZhdWx0KCkuZmV0Y2hFcGlzb2RlU291cmNlcyhlcGlzb2RlSWQsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyLmZldGNoRXBpc29kZVNvdXJjZXMoZXBpc29kZUlkLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBlcGlzb2RlIHNvdXJjZXMgZnJvbSAke3RoaXMucHJvdmlkZXIubmFtZX06ICR7ZXJyfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZpbmRBbmltZVJhdyA9IGFzeW5jIChzbHVnLCBleHRlcm5hbExpbmtzKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXh0ZXJuYWxMaW5rcyAmJiB0aGlzLnByb3ZpZGVyIGluc3RhbmNlb2YgY3J1bmNoeXJvbGxfMS5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4dGVybmFsTGlua3MubWFwKChsaW5rKSA9PiBsaW5rLnNpdGUuaW5jbHVkZXMoJ0NydW5jaHlyb2xsJykpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBleHRlcm5hbExpbmtzLmZpbmQoKGxpbmspID0+IGxpbmsuc2l0ZS5pbmNsdWRlcygnQ3J1bmNoeXJvbGwnKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVxdWVzdCB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGxpbmsudXJsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZVN0YXR1czogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lZGlhVHlwZSA9IHJlcXVlc3QucmVzLnJlc3BvbnNlVXJsLnNwbGl0KCcvJylbM107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gcmVxdWVzdC5yZXMucmVzcG9uc2VVcmwuc3BsaXQoJy8nKVs0XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucHJvdmlkZXIuZmV0Y2hBbmltZUluZm8oaWQsIG1lZGlhVHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZmluZEFuaW1lID0gKGF3YWl0IHRoaXMucHJvdmlkZXIuc2VhcmNoKHNsdWcpKTtcbiAgICAgICAgICAgIGlmIChmaW5kQW5pbWUucmVzdWx0cy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgLy8gU29ydCB0aGUgcmV0cmlldmVkIGluZm8gZm9yIG1vcmUgYWNjdXJhdGUgcmVzdWx0cy5cbiAgICAgICAgICAgIGZpbmRBbmltZS5yZXN1bHRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0VGl0bGUgPSBzbHVnLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0VGl0bGU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZFRpdGxlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYS50aXRsZSA9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RUaXRsZSA9IGEudGl0bGU7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBmaXJzdFRpdGxlID0gKF9iID0gKF9hID0gYS50aXRsZS5lbmdsaXNoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBhLnRpdGxlLnJvbWFqaSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJyc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiLnRpdGxlID09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRUaXRsZSA9IGIudGl0bGU7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRUaXRsZSA9IChfZCA9IChfYyA9IGIudGl0bGUuZW5nbGlzaCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogYi50aXRsZS5yb21hamkpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0UmF0aW5nID0gKDAsIHV0aWxzXzEuY29tcGFyZVR3b1N0cmluZ3MpKHRhcmdldFRpdGxlLCBmaXJzdFRpdGxlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZFJhdGluZyA9ICgwLCB1dGlsc18xLmNvbXBhcmVUd29TdHJpbmdzKSh0YXJnZXRUaXRsZSwgc2Vjb25kVGl0bGUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgLy8gU29ydCBpbiBkZXNjZW5kaW5nIG9yZGVyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlY29uZFJhdGluZyAtIGZpcnN0UmF0aW5nO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm92aWRlciBpbnN0YW5jZW9mIGNydW5jaHlyb2xsXzEuZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb3ZpZGVyLmZldGNoQW5pbWVJbmZvKGZpbmRBbmltZS5yZXN1bHRzWzBdLmlkLCBmaW5kQW5pbWUucmVzdWx0c1swXS50eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IHVzZSBtdWNoIGJldHRlciB3YXkgdGhhbiB0aGlzXG4gICAgICAgICAgICByZXR1cm4gKGF3YWl0IHRoaXMucHJvdmlkZXIuZmV0Y2hBbmltZUluZm8oZmluZEFuaW1lLnJlc3VsdHNbMF0uaWQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5maW5kQW5pbWVTbHVnID0gYXN5bmMgKHRpdGxlLCBzZWFzb24sIHN0YXJ0RGF0ZSwgbWFsSWQsIGR1YiwgZXh0ZXJuYWxMaW5rcykgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm92aWRlciBpbnN0YW5jZW9mIGFuaWZ5XzEuZGVmYXVsdClcbiAgICAgICAgICAgICAgICByZXR1cm4gKGF3YWl0IHRoaXMucHJvdmlkZXIuZmV0Y2hBbmltZUluZm8obWFsSWQpKS5lcGlzb2RlcztcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHsgdGl0bGUgfSk7XG4gICAgICAgICAgICBjb25zdCBzbHVnID0gdGl0bGUgPT09IG51bGwgfHwgdGl0bGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRpdGxlLnJlcGxhY2UoL1teMC05YS16QS1aXSsvZywgJyAnKTtcbiAgICAgICAgICAgIGxldCBwb3NzaWJsZUFuaW1lO1xuICAgICAgICAgICAgaWYgKG1hbElkICYmICEodGhpcy5wcm92aWRlciBpbnN0YW5jZW9mIGNydW5jaHlyb2xsXzEuZGVmYXVsdCB8fCB0aGlzLnByb3ZpZGVyIGluc3RhbmNlb2YgYmlsaWJpbGlfMS5kZWZhdWx0KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hbEFzeW5jUmVxID0gYXdhaXQgdGhpcy5jbGllbnQoe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMubWFsU3luY1VybH0vbWFsL2FuaW1lLyR7bWFsSWR9YCxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVTdGF0dXM6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hbEFzeW5jUmVxLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpdGVzVCA9IG1hbEFzeW5jUmVxLmRhdGEuU2l0ZXM7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzaXRlcyA9IE9iamVjdC52YWx1ZXMoc2l0ZXNUKS5tYXAoKHYsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IFsuLi5PYmplY3QudmFsdWVzKE9iamVjdC52YWx1ZXMoc2l0ZXNUKVtpXSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZXMgPSBvYmoubWFwKHYgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiB2LnBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB2LnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdi50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWdlcztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNpdGVzID0gc2l0ZXMuZmxhdCgpO1xuICAgICAgICAgICAgICAgICAgICBzaXRlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRUaXRsZSA9IG1hbEFzeW5jUmVxLmRhdGEudGl0bGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0UmF0aW5nID0gKDAsIHV0aWxzXzEuY29tcGFyZVR3b1N0cmluZ3MpKHRhcmdldFRpdGxlLCBhLnRpdGxlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vjb25kUmF0aW5nID0gKDAsIHV0aWxzXzEuY29tcGFyZVR3b1N0cmluZ3MpKHRhcmdldFRpdGxlLCBiLnRpdGxlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU29ydCBpbiBkZXNjZW5kaW5nIG9yZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Vjb25kUmF0aW5nIC0gZmlyc3RSYXRpbmc7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NzaWJsZVNvdXJjZSA9IHNpdGVzLmZpbmQocyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5wYWdlLnRvTG93ZXJDYXNlKCkgPT09IHRoaXMucHJvdmlkZXIubmFtZS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3ZpZGVyIGluc3RhbmNlb2YgZ29nb2FuaW1lXzEuZGVmYXVsdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGR1YiA/IHMudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZHViJykgOiAhcy50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdkdWInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlU291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQW5pbWUgPSBhd2FpdCB0aGlzLnByb3ZpZGVyLmZldGNoQW5pbWVJbmZvKHBvc3NpYmxlU291cmNlLnVybC5zcGxpdCgnLycpLnBvcCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2libGVBbmltZSA9IGF3YWl0IHRoaXMuZmluZEFuaW1lUmF3KHNsdWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQW5pbWUgPSBhd2FpdCB0aGlzLmZpbmRBbmltZVJhdyhzbHVnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUFuaW1lID0gYXdhaXQgdGhpcy5maW5kQW5pbWVSYXcoc2x1Zyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcG9zc2libGVBbmltZSA9IGF3YWl0IHRoaXMuZmluZEFuaW1lUmF3KHNsdWcsIGV4dGVybmFsTGlua3MpO1xuICAgICAgICAgICAgLy8gVG8gYXZvaWQgYSBuZXcgcmVxdWVzdCwgbGV0cyBtYXRjaCBhbmQgc2VlIGlmIHRoZSBhbmltZSBzaG93IGZvdW5kIGlzIGluIHN1Yi9kdWJcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGR1YiA/IG1vZGVsc18xLlN1Yk9yU3ViLkRVQiA6IG1vZGVsc18xLlN1Yk9yU3ViLlNVQjtcbiAgICAgICAgICAgIGlmIChwb3NzaWJsZUFuaW1lLnN1Yk9yRHViICE9IG1vZGVsc18xLlN1Yk9yU3ViLkJPVEggJiYgcG9zc2libGVBbmltZS5zdWJPckR1YiAhPSBleHBlY3RlZFR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wcm92aWRlciBpbnN0YW5jZW9mIHpvcm9fMS5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBjb3JyZWN0IGVwaXNvZGUgc3ViL2R1YiByZXF1ZXN0IHR5cGVcbiAgICAgICAgICAgICAgICBwb3NzaWJsZUFuaW1lLmVwaXNvZGVzLmZvckVhY2goKF8sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3NzaWJsZUFuaW1lLnN1Yk9yRHViID09PSBtb2RlbHNfMS5TdWJPclN1Yi5CT1RIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUFuaW1lLmVwaXNvZGVzW2luZGV4XS5pZCA9IHBvc3NpYmxlQW5pbWUuZXBpc29kZXNbaW5kZXhdLmlkLnJlcGxhY2UoYCRib3RoYCwgZHViID8gJyRkdWInIDogJyRzdWInKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucHJvdmlkZXIgaW5zdGFuY2VvZiBjcnVuY2h5cm9sbF8xLmRlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXN0ZWRFcGlzb2RlcyA9IE9iamVjdC5rZXlzKHBvc3NpYmxlQW5pbWUuZXBpc29kZXMpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKGtleSkgPT4ga2V5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZHViID8gJ2R1YicgOiAnc3ViJykpXG4gICAgICAgICAgICAgICAgICAgIC5zb3J0KChmaXJzdCwgc2Vjb25kKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgoKF9iID0gKF9hID0gcG9zc2libGVBbmltZS5lcGlzb2Rlc1tmaXJzdF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVswXS5zZWFzb25fbnVtYmVyKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwKSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAoKF9kID0gKF9jID0gcG9zc2libGVBbmltZS5lcGlzb2Rlc1tzZWNvbmRdKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbMF0uc2Vhc29uX251bWJlcikgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogMCkpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdWRpbyA9IGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1swLTldL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheXFx3ezF9KXwoXFxzK1xcd3sxfSkvZywgKGxldHRlcikgPT4gbGV0dGVyLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUFuaW1lLmVwaXNvZGVzW2tleV0uZm9yRWFjaCgoZWxlbWVudCkgPT4gKGVsZW1lbnQudHlwZSA9IGF1ZGlvKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3NzaWJsZUFuaW1lLmVwaXNvZGVzW2tleV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5lc3RlZEVwaXNvZGVzLmZsYXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlUHJvdmlkZXJFcGlzb2RlcyA9IHBvc3NpYmxlQW5pbWUuZXBpc29kZXM7XG4gICAgICAgICAgICBpZiAodHlwZW9mICgoX2EgPSBwb3NzaWJsZVByb3ZpZGVyRXBpc29kZXNbMF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbWFnZSkgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mICgoX2IgPSBwb3NzaWJsZVByb3ZpZGVyRXBpc29kZXNbMF0pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50aXRsZSkgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mICgoX2MgPSBwb3NzaWJsZVByb3ZpZGVyRXBpc29kZXNbMF0pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5kZXNjcmlwdGlvbikgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NzaWJsZVByb3ZpZGVyRXBpc29kZXM7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiAoMCwgdXRpbHNfMS5raXRzdVNlYXJjaFF1ZXJ5KShzbHVnKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBuZXdFcGlzb2RlTGlzdCA9IGF3YWl0IHRoaXMuZmluZEtpdHN1QW5pbWUocG9zc2libGVQcm92aWRlckVwaXNvZGVzLCBvcHRpb25zLCBzZWFzb24sIHN0YXJ0RGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3RXBpc29kZUxpc3Q7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmluZEtpdHN1QW5pbWUgPSBhc3luYyAocG9zc2libGVQcm92aWRlckVwaXNvZGVzLCBvcHRpb25zLCBzZWFzb24sIHN0YXJ0RGF0ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2l0c3VFcGlzb2RlcyA9IGF3YWl0IHRoaXMuY2xpZW50LnBvc3QodGhpcy5raXRzdUdyYXBocWxVcmwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgZXBpc29kZXNMaXN0ID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgaWYgKGtpdHN1RXBpc29kZXMgPT09IG51bGwgfHwga2l0c3VFcGlzb2RlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDoga2l0c3VFcGlzb2Rlcy5kYXRhLmRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG5vZGVzIH0gPSBraXRzdUVwaXNvZGVzLmRhdGEuZGF0YS5zZWFyY2hBbmltZUJ5VGl0bGU7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5zZWFzb24gPT09IHNlYXNvbiAmJiBub2RlLnN0YXJ0RGF0ZS50cmltKCkuc3BsaXQoJy0nKVswXSA9PT0gKHN0YXJ0RGF0ZSA9PT0gbnVsbCB8fCBzdGFydERhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXJ0RGF0ZS50b1N0cmluZygpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGVzID0gbm9kZS5lcGlzb2Rlcy5ub2RlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVwaXNvZGUgb2YgZXBpc29kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IGVwaXNvZGUgPT09IG51bGwgfHwgZXBpc29kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXBpc29kZS5udW1iZXIudG9TdHJpbmcoKS5yZXBsYWNlKC9cIi9nLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aHVtYm5haWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoX2EgPSBlcGlzb2RlID09PSBudWxsIHx8IGVwaXNvZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVwaXNvZGUuZGVzY3JpcHRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gZXBpc29kZSA9PT0gbnVsbCB8fCBlcGlzb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcGlzb2RlLmRlc2NyaXB0aW9uLmVuLnRvU3RyaW5nKCkucmVwbGFjZSgvXCIvZywgJycpLnJlcGxhY2UoJ1xcXFxuJywgJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXBpc29kZSA9PT0gbnVsbCB8fCBlcGlzb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcGlzb2RlLnRodW1ibmFpbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbCA9IGVwaXNvZGUgPT09IG51bGwgfHwgZXBpc29kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXBpc29kZS50aHVtYm5haWwub3JpZ2luYWwudXJsLnRvU3RyaW5nKCkucmVwbGFjZSgvXCIvZywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXBpc29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChfYiA9IGVwaXNvZGUudGl0bGVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2Fub25pY2FsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBlcGlzb2RlLnRpdGxlcy5jYW5vbmljYWwudG9TdHJpbmcoKS5yZXBsYWNlKC9cIi9nLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2Rlc0xpc3Quc2V0KGksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlTnVtOiBlcGlzb2RlID09PSBudWxsIHx8IGVwaXNvZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVwaXNvZGUubnVtYmVyLnRvU3RyaW5nKCkucmVwbGFjZSgvXCIvZywgJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZXNMaXN0LnNldChpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlTnVtOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZXdFcGlzb2RlTGlzdCA9IFtdO1xuICAgICAgICAgICAgaWYgKChwb3NzaWJsZVByb3ZpZGVyRXBpc29kZXMgPT09IG51bGwgfHwgcG9zc2libGVQcm92aWRlckVwaXNvZGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb3NzaWJsZVByb3ZpZGVyRXBpc29kZXMubGVuZ3RoKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHBvc3NpYmxlUHJvdmlkZXJFcGlzb2RlcyA9PT0gbnVsbCB8fCBwb3NzaWJsZVByb3ZpZGVyRXBpc29kZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvc3NpYmxlUHJvdmlkZXJFcGlzb2Rlcy5mb3JFYWNoKChlcCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2s7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGogPSAoaSArIDEpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIG5ld0VwaXNvZGVMaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVwLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYyA9IChfYSA9IGVwLnRpdGxlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoX2IgPSBlcGlzb2Rlc0xpc3QuZ2V0KGopKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudGl0bGUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogKF9mID0gKF9kID0gZXAuaW1hZ2UpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IChfZSA9IGVwaXNvZGVzTGlzdC5nZXQoaikpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS50aHVtYm5haWwpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGVwLm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAoX2ogPSAoX2cgPSBlcC5kZXNjcmlwdGlvbikgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogKF9oID0gZXBpc29kZXNMaXN0LmdldChqKSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLmRlc2NyaXB0aW9uKSAhPT0gbnVsbCAmJiBfaiAhPT0gdm9pZCAwID8gX2ogOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAoX2sgPSBlcC51cmwpICE9PSBudWxsICYmIF9rICE9PSB2b2lkIDAgPyBfayA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld0VwaXNvZGVMaXN0O1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGlkIGFuaW1lIGlkXG4gICAgICAgICAqIEByZXR1cm5zIGFuaW1lIGluZm8gd2l0aG91dCBzdHJlYW1hYmxlIGVwaXNvZGVzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoTWFsSW5mb0J5SWQgPSBhc3luYyAoaWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1lSW5mbyA9IHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGBodHRwczovL215YW5pbWVsaXN0Lm5ldC9hbmltZS8ke2lkfWAsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAndXNlci1hZ2VudCc6ICdNb3ppbGxhLzUuMCAoWDExOyBMaW51eCB4ODZfNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMDcuMC4wLjAgU2FmYXJpLzUzNy4zNiBFZGcvMTA3LjAuMTQxOC4zNScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBlcGlzb2RlcyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgZGVzYyA9ICQoJ1tpdGVtcHJvcD1cImRlc2NyaXB0aW9uXCJdJykuZmlyc3QoKS50ZXh0KCk7XG4gICAgICAgICAgICBjb25zdCBpbWFnZUVsZW0gPSAkKCdbaXRlbXByb3A9XCJpbWFnZVwiXScpLmZpcnN0KCk7XG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IGltYWdlRWxlbS5hdHRyKCdzcmMnKSB8fCBpbWFnZUVsZW0uYXR0cignZGF0YS1pbWFnZScpIHx8IGltYWdlRWxlbS5hdHRyKCdkYXRhLXNyYycpO1xuICAgICAgICAgICAgY29uc3QgZ2VucmVzID0gW107XG4gICAgICAgICAgICBjb25zdCBnZW5yZURPTSA9ICQoJ1tpdGVtcHJvcD1cImdlbnJlXCJdJykuZ2V0KCk7XG4gICAgICAgICAgICBnZW5yZURPTS5mb3JFYWNoKGVsZW0gPT4gZ2VucmVzLnB1c2goJChlbGVtKS50ZXh0KCkpKTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5nZW5yZXMgPSBnZW5yZXM7XG4gICAgICAgICAgICBhbmltZUluZm8uaW1hZ2UgPSBpbWFnZTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5kZXNjcmlwdGlvbiA9IGRlc2M7XG4gICAgICAgICAgICBhbmltZUluZm8udGl0bGUgPSB7XG4gICAgICAgICAgICAgICAgZW5nbGlzaDogJCgnLmpzLWFsdGVybmF0aXZlLXRpdGxlcy5oaWRlJykuY2hpbGRyZW4oKS5lcSgwKS50ZXh0KCkucmVwbGFjZSgnRW5nbGlzaDogJywgJycpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICByb21hamk6ICQoJy50aXRsZS1uYW1lJykudGV4dCgpLFxuICAgICAgICAgICAgICAgIG5hdGl2ZTogJCgnLmpzLWFsdGVybmF0aXZlLXRpdGxlcy5oaWRlJykucGFyZW50KCkuY2hpbGRyZW4oKS5lcSg5KS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgIHVzZXJQcmVmZXJyZWQ6ICQoJy5qcy1hbHRlcm5hdGl2ZS10aXRsZXMuaGlkZScpLmNoaWxkcmVuKCkuZXEoMCkudGV4dCgpLnJlcGxhY2UoJ0VuZ2xpc2g6ICcsICcnKS50cmltKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYW5pbWVJbmZvLnN5bm9ueW1zID0gJCgnLmpzLWFsdGVybmF0aXZlLXRpdGxlcy5oaWRlJylcbiAgICAgICAgICAgICAgICAucGFyZW50KClcbiAgICAgICAgICAgICAgICAuY2hpbGRyZW4oKVxuICAgICAgICAgICAgICAgIC5lcSg4KVxuICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgnU3lub255bXM6JywgJycpXG4gICAgICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgICAgIC5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgYW5pbWVJbmZvLnN0dWRpb3MgPSBbXTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5wb3B1bGFyaXR5ID0gcGFyc2VJbnQoJCgnLm51bWJlcnMucG9wdWxhcml0eScpLnRleHQoKS50cmltKCkucmVwbGFjZSgnUG9wdWxhcml0eSAjJywgJycpLnRyaW0oKSk7XG4gICAgICAgICAgICBjb25zdCBwcm9kdWNlcnMgPSBbXTtcbiAgICAgICAgICAgICQoJ2EnKS5lYWNoKGZ1bmN0aW9uIChpLCBsaW5rKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlmICgoKF9hID0gJChsaW5rKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcygncHJvZHVjZXInKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgJChsaW5rKS5wYXJlbnQoKS5jaGlsZHJlbigpLmVxKDApLnRleHQoKSA9PSAnUHJvZHVjZXJzOicpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjZXJzLnB1c2goJChsaW5rKS50ZXh0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYW5pbWVJbmZvLnByb2R1Y2VycyA9IHByb2R1Y2VycztcbiAgICAgICAgICAgIC8vIGFuaW1lSW5mby5lcGlzb2RlcyA9IGVwaXNvZGVzO1xuICAgICAgICAgICAgY29uc3QgdGVhc2VyRE9NID0gJCgnLnZpZGVvLXByb21vdGlvbiA+IGEnKTtcbiAgICAgICAgICAgIGlmICh0ZWFzZXJET00ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlYXNlclVSTCA9ICQodGVhc2VyRE9NKS5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSAkKHRlYXNlckRPTSkuYXR0cignc3R5bGUnKTtcbiAgICAgICAgICAgICAgICBpZiAodGVhc2VyVVJMKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby50cmFpbGVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICgwLCB1dGlsc18xLnN1YnN0cmluZ0FmdGVyKSh0ZWFzZXJVUkwsICdlbWJlZC8nKS5zcGxpdCgnPycpWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZTogJ2h0dHBzOi8veW91dHViZS5jb20vd2F0Y2g/dj0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsOiBzdHlsZSA/ICgwLCB1dGlsc18xLnN1YnN0cmluZ0JlZm9yZSkoKDAsIHV0aWxzXzEuc3Vic3RyaW5nQWZ0ZXIpKHN0eWxlLCBcInVybCgnXCIpLCBcIidcIikgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcHMgPSAkKCcudGhlbWUtc29uZ3MuanMtdGhlbWUtc29uZ3Mub3BuZW5pbmcnKS5maW5kKCd0cicpLmdldCgpO1xuICAgICAgICAgICAgY29uc3QgaWdub3JlTGlzdCA9IFsnQXBwbGUgTXVzaWMnLCAnWW91dHViZSBNdXNpYycsICdBbWF6b24gTXVzaWMnLCAnU3BvdGlmeSddO1xuICAgICAgICAgICAgYW5pbWVJbmZvLm9wZW5pbmdzID0gb3BzLm1hcCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJChlbGVtZW50KS50ZXh0KCkudHJpbSgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gJChlbGVtZW50KS5jaGlsZHJlbigpLmVxKDEpLmNoaWxkcmVuKCkuZmlyc3QoKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgIGlmICghaWdub3JlTGlzdC5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJChlbGVtZW50KS5maW5kKCcudGhlbWUtc29uZy1pbmRleCcpLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9ICQoZWxlbWVudCkuZmluZCgnLnRoZW1lLXNvbmctaW5kZXgnKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFuZCA9ICQoZWxlbWVudCkuZmluZCgnLnRoZW1lLXNvbmctYXJ0aXN0JykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGVzID0gJChlbGVtZW50KS5maW5kKCcudGhlbWUtc29uZy1lcGlzb2RlJykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJChlbGVtZW50KS5jaGlsZHJlbigpLmVxKDEpLnRleHQoKS50cmltKCkuc3BsaXQoaW5kZXgpWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJChlbGVtZW50KS5jaGlsZHJlbigpLmVxKDEpLnRleHQoKS50cmltKCkuc3BsaXQoaW5kZXgpWzFdLnNwbGl0KGJhbmQpWzBdLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5kOiBiYW5kLnJlcGxhY2UoJ2J5ICcsICcnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlczogZXBpc29kZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFuZCA9ICQoZWxlbWVudCkuZmluZCgnLnRoZW1lLXNvbmctYXJ0aXN0JykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGVzID0gJChlbGVtZW50KS5maW5kKCcudGhlbWUtc29uZy1lcGlzb2RlJykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJChlbGVtZW50KS5jaGlsZHJlbigpLmVxKDEpLnRleHQoKS50cmltKCkuc3BsaXQoYmFuZClbMF0udHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmQ6IGJhbmQucmVwbGFjZSgnYnkgJywgJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVzOiBlcGlzb2RlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5vcGVuaW5ncyA9IGFuaW1lSW5mby5vcGVuaW5ncy5maWx0ZXIoZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBlZHMgPSAkKCcudGhlbWUtc29uZ3MuanMtdGhlbWUtc29uZ3MuZW5kaW5nJykuZmluZCgndHInKS5nZXQoKTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5lbmRpbmdzID0gZWRzLm1hcCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJChlbGVtZW50KS50ZXh0KCkudHJpbSgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gJChlbGVtZW50KS5jaGlsZHJlbigpLmVxKDEpLmNoaWxkcmVuKCkuZmlyc3QoKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgIGlmICghaWdub3JlTGlzdC5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJChlbGVtZW50KS5maW5kKCcudGhlbWUtc29uZy1pbmRleCcpLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9ICQoZWxlbWVudCkuZmluZCgnLnRoZW1lLXNvbmctaW5kZXgnKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFuZCA9ICQoZWxlbWVudCkuZmluZCgnLnRoZW1lLXNvbmctYXJ0aXN0JykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGVzID0gJChlbGVtZW50KS5maW5kKCcudGhlbWUtc29uZy1lcGlzb2RlJykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJChlbGVtZW50KS5jaGlsZHJlbigpLmVxKDEpLnRleHQoKS50cmltKCkuc3BsaXQoaW5kZXgpWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJChlbGVtZW50KS5jaGlsZHJlbigpLmVxKDEpLnRleHQoKS50cmltKCkuc3BsaXQoaW5kZXgpWzFdLnNwbGl0KGJhbmQpWzBdLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5kOiBiYW5kLnJlcGxhY2UoJ2J5ICcsICcnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlczogZXBpc29kZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFuZCA9ICQoZWxlbWVudCkuZmluZCgnLnRoZW1lLXNvbmctYXJ0aXN0JykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGVzID0gJChlbGVtZW50KS5maW5kKCcudGhlbWUtc29uZy1lcGlzb2RlJykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJChlbGVtZW50KS5jaGlsZHJlbigpLmVxKDEpLnRleHQoKS50cmltKCkuc3BsaXQoYmFuZClbMF0udHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmQ6IGJhbmQucmVwbGFjZSgnYnkgJywgJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGVzOiBlcGlzb2RlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFuaW1lSW5mby5lbmRpbmdzID0gYW5pbWVJbmZvLmVuZGluZ3MuZmlsdGVyKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSAkKCcuc3BhY2VpdF9wYWQnKS5nZXQoKTtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9ICQoZWxlbSkudGV4dCgpLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHRleHQuc3BsaXQoJzonKVswXTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9ICgwLCB1dGlsc18xLnN1YnN0cmluZ0FmdGVyKSh0ZXh0LCBgJHtrZXl9OmApLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdzdGF0dXMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnN0YXR1cyA9IHRoaXMubWFsU3RhdHVzVG9NZWRpYVN0YXR1cyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZXBpc29kZXMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnRvdGFsRXBpc29kZXMgPSBwYXJzZUludCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oYW5pbWVJbmZvLnRvdGFsRXBpc29kZXMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby50b3RhbEVwaXNvZGVzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdwcmVtaWVyZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWVJbmZvLnNlYXNvbiA9IHZhbHVlLnNwbGl0KCcgJylbMF0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdhaXJlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlcyA9IHZhbHVlLnNwbGl0KCd0bycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGVzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBkYXRlc1swXS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kID0gZGF0ZXNbMV0udHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKHN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnREYXRlLnRvU3RyaW5nKCkgIT09ICdJbnZhbGlkIERhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5zdGFydERhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXk6IHN0YXJ0RGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aDogc3RhcnREYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiBzdGFydERhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZERhdGUudG9TdHJpbmcoKSAhPSAnSW52YWxpZCBEYXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8uZW5kRGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheTogZW5kRGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aDogZW5kRGF0ZS5nZXRNb250aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWVhcjogZW5kRGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdzY29yZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltZUluZm8ucmF0aW5nID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3R1ZGlvcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHN0dWRpbyBvZiAkKGVsZW0pLmZpbmQoJ2EnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBhbmltZUluZm8uc3R1ZGlvcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnB1c2goJChzdHVkaW8pLnRleHQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmF0aW5nJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1lSW5mby5hZ2VSYXRpbmcgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIE9ubHkgd29ya3Mgb24gY2VydGFpbiBhbmltZXMsIHNvIGl0IGlzIHVucmVsaWFibGVcbiAgICAgICAgICAgIC8vIGxldCB2aWRlb0xpbmsgPSAkKCcubXQ0LmFyIGEnKS5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICAvLyBpZiAodmlkZW9MaW5rKSB7XG4gICAgICAgICAgICAvLyAgIGF3YWl0IHRoaXMucG9wdWxhdGVFcGlzb2RlTGlzdChlcGlzb2RlcywgdmlkZW9MaW5rKTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIHJldHVybiBhbmltZUluZm87XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucHJvdmlkZXIgPSBwcm92aWRlciB8fCBuZXcgZ29nb2FuaW1lXzEuZGVmYXVsdCgpO1xuICAgIH1cbiAgICBtYWxTdGF0dXNUb01lZGlhU3RhdHVzKHN0YXR1cykge1xuICAgICAgICBpZiAoc3RhdHVzID09ICdjdXJyZW50bHkgYWlyaW5nJylcbiAgICAgICAgICAgIHJldHVybiBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HO1xuICAgICAgICBlbHNlIGlmIChzdGF0dXMgPT0gJ2ZpbmlzaGVkIGFpcmluZycpXG4gICAgICAgICAgICByZXR1cm4gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEO1xuICAgICAgICBlbHNlIGlmIChzdGF0dXMgPT0gJ25vdCB5ZXQgYWlyZWQnKVxuICAgICAgICAgICAgcmV0dXJuIG1vZGVsc18xLk1lZGlhU3RhdHVzLk5PVF9ZRVRfQUlSRUQ7XG4gICAgICAgIHJldHVybiBtb2RlbHNfMS5NZWRpYVN0YXR1cy5VTktOT1dOO1xuICAgIH1cbiAgICBhc3luYyBwb3B1bGF0ZUVwaXNvZGVMaXN0KGVwaXNvZGVzLCB1cmwsIGNvdW50ID0gMSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnLFxuICAgICAgICAgICAgICAgIHVybDogYCR7dXJsfT9wPSR7Y291bnR9YCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogJ01vemlsbGEvNS4wIChYMTE7IExpbnV4IHg4Nl82NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEwNy4wLjAuMCBTYWZhcmkvNTM3LjM2IEVkZy8xMDcuMC4xNDE4LjM1JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZXQgaGFzRXBpc29kZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtIG9mICQoJy52aWRlby1saXN0JykudG9BcnJheSgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaHJlZiA9ICQoZWxlbSkuYXR0cignaHJlZicpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlID0gJChlbGVtKS5maW5kKCdpbWcnKS5hdHRyKCdkYXRhLXNyYycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlRE9NID0gJChlbGVtKS5maW5kKCcuZXBpc29kZS10aXRsZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gdGl0bGVET00gPT09IG51bGwgfHwgdGl0bGVET00gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRpdGxlRE9NLnRleHQoKTtcbiAgICAgICAgICAgICAgICB0aXRsZURPTS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBudW1iZXJET00gPSAkKGVsZW0pLmZpbmQoJy50aXRsZScpLnRleHQoKS5zcGxpdCgnICcpO1xuICAgICAgICAgICAgICAgIGxldCBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChudW1iZXJET00ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBudW1iZXIgPSBOdW1iZXIobnVtYmVyRE9NWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhyZWYgJiYgaHJlZi5pbmRleE9mKCdteWFuaW1lbGlzdC5uZXQvYW5pbWUnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc0VwaXNvZGVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZXBpc29kZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzRXBpc29kZXMpXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wb3B1bGF0ZUVwaXNvZGVMaXN0KGVwaXNvZGVzLCB1cmwsICsrY291bnQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmZXRjaEVwaXNvZGVTZXJ2ZXJzKGVwaXNvZGVJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlci5mZXRjaEVwaXNvZGVTZXJ2ZXJzKGVwaXNvZGVJZCk7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gTXlhbmltZWxpc3Q7XG4vLyAoYXN5bmMgKCkgPT4ge1xuLy8gICBjb25zdCBtYWwgPSBuZXcgTXlhbmltZWxpc3QoKTtcbi8vICAgLy8gY29uc3Qgc2VhcmNoID0gYXdhaXQgbWFsLnNlYXJjaCgnb25lIHBpZWNlJyk7XG4vLyAgIGNvbnN0IGluZm8gPSBhd2FpdCBtYWwuZmV0Y2hBbmltZUluZm8oJzIxJywgdHJ1ZSk7XG4vLyAgIC8vY29uc29sZS5sb2coaW5mbyk7XG4vLyB9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/meta/mal.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/meta/tmdb.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/meta/tmdb.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\");\nconst flixhq_1 = __importDefault(__webpack_require__(/*! ../movies/flixhq */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/flixhq.js\"));\nclass TMDB extends models_1.MovieParser {\n    constructor(apiKey = '5201b54eb0968700e693a30576d7d4dc', provider, proxyConfig, adapter) {\n        super(proxyConfig, adapter);\n        this.apiKey = apiKey;\n        this.name = 'TMDB';\n        this.baseUrl = 'https://www.themoviedb.org';\n        this.apiUrl = 'https://api.themoviedb.org/3';\n        this.logo = 'https://pbs.twimg.com/profile_images/1243623122089041920/gVZIvphd_400x400.jpg';\n        this.classPath = 'META.TMDB';\n        this.supportedTypes = new Set([models_1.TvType.MOVIE, models_1.TvType.TVSERIES, models_1.TvType.ANIME]);\n        /**\n         * @param type trending type: tv series, movie, people or all\n         * @param timePeriod trending time period day or week\n         * @param page page number\n         */\n        this.fetchTrending = async (type, timePeriod = 'day', page = 1) => {\n            const trendingUrl = `${this.apiUrl}/trending/${type.toLowerCase() === models_1.TvType.MOVIE.toLowerCase()\n                ? 'movie'\n                : type.toLowerCase() === models_1.TvType.TVSERIES.toLowerCase()\n                    ? 'tv'\n                    : type.toLowerCase() === models_1.TvType.PEOPLE.toLowerCase()\n                        ? 'person'\n                        : 'all'}/${timePeriod}?page=${page}&api_key=${this.apiKey}&language=en-US`;\n            const result = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(trendingUrl);\n                if (data.results.length < 1)\n                    return result;\n                result.hasNextPage = page + 1 <= data.total_pages;\n                result.currentPage = page;\n                result.totalResults = data.total_results;\n                result.totalPages = data.total_pages;\n                result.results = data.results.map((result) => {\n                    if (result.media_type !== 'person') {\n                        const date = new Date((result === null || result === void 0 ? void 0 : result.release_date) || (result === null || result === void 0 ? void 0 : result.first_air_date));\n                        const movie = {\n                            id: result.id,\n                            title: (result === null || result === void 0 ? void 0 : result.title) || (result === null || result === void 0 ? void 0 : result.name),\n                            image: `https://image.tmdb.org/t/p/original${result === null || result === void 0 ? void 0 : result.poster_path}`,\n                            type: result.media_type === 'movie' ? models_1.TvType.MOVIE : models_1.TvType.TVSERIES,\n                            rating: (result === null || result === void 0 ? void 0 : result.vote_average) || 0,\n                            releaseDate: `${date.getFullYear()}` || '0',\n                        };\n                        return movie;\n                    }\n                    else {\n                        const user = {\n                            id: result.id,\n                            name: result.name,\n                            rating: result.popularity,\n                            image: `https://image.tmdb.org/t/p/original${result === null || result === void 0 ? void 0 : result.profile_path}`,\n                            movies: [],\n                        };\n                        user.movies = result['known_for'].map((movie) => {\n                            const date = new Date((movie === null || movie === void 0 ? void 0 : movie.release_date) || (movie === null || movie === void 0 ? void 0 : movie.first_air_date));\n                            const xmovie = {\n                                id: movie.id,\n                                title: (movie === null || movie === void 0 ? void 0 : movie.title) || (movie === null || movie === void 0 ? void 0 : movie.name),\n                                image: `https://image.tmdb.org/t/p/original${movie === null || movie === void 0 ? void 0 : movie.poster_path}`,\n                                type: movie.media_type === 'movie' ? models_1.TvType.MOVIE : models_1.TvType.TVSERIES,\n                                rating: (movie === null || movie === void 0 ? void 0 : movie.vote_average) || 0,\n                                releaseDate: `${date.getFullYear()}` || '0',\n                            };\n                            return xmovie;\n                        });\n                        return user;\n                    }\n                });\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         * @param query search query\n         * @param page page number\n         */\n        this.search = async (query, page = 1) => {\n            const searchUrl = `${this.apiUrl}/search/multi?api_key=${this.apiKey}&language=en-US&page=${page}&include_adult=false&query=${query}`;\n            const search = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(searchUrl);\n                if (data.results.length < 1)\n                    return search;\n                search.hasNextPage = page + 1 <= data.total_pages;\n                search.currentPage = page;\n                search.totalResults = data.total_results;\n                search.totalPages = data.total_pages;\n                data.results.forEach((result) => {\n                    const date = new Date((result === null || result === void 0 ? void 0 : result.release_date) || (result === null || result === void 0 ? void 0 : result.first_air_date));\n                    const movie = {\n                        id: result.id,\n                        title: (result === null || result === void 0 ? void 0 : result.title) || (result === null || result === void 0 ? void 0 : result.name),\n                        image: `https://image.tmdb.org/t/p/original${result === null || result === void 0 ? void 0 : result.poster_path}`,\n                        type: result.media_type === 'movie' ? models_1.TvType.MOVIE : models_1.TvType.TVSERIES,\n                        rating: (result === null || result === void 0 ? void 0 : result.vote_average) || 0,\n                        releaseDate: `${date.getFullYear()}` || '0',\n                    };\n                    return search.results.push(movie);\n                });\n                return search;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         * @param id media id (anime or movie/tv)\n         * @param type movie or tv\n         */\n        this.fetchMediaInfo = async (mediaId, type) => {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3;\n            type = type.toLowerCase() === 'movie' ? 'movie' : 'tv';\n            const infoUrl = `${this.apiUrl}/${type}/${mediaId}?api_key=${this.apiKey}&language=en-US&append_to_response=release_dates,watch/providers,alternative_titles,credits,external_ids,images,keywords,recommendations,reviews,similar,translations,videos&include_image_language=en`;\n            const info = {\n                id: mediaId,\n                title: '',\n            };\n            try {\n                //request api to get media info from tmdb\n                const { data } = await this.client.get(infoUrl);\n                //get provider id from title and year (if available) to get the correct provider id for the movie/tv series (e.g. flixhq)\n                const providerId = await this.findIdFromTitle((data === null || data === void 0 ? void 0 : data.title) || (data === null || data === void 0 ? void 0 : data.name), {\n                    type: type === 'movie' ? models_1.TvType.MOVIE : models_1.TvType.TVSERIES,\n                    totalSeasons: data === null || data === void 0 ? void 0 : data.number_of_seasons,\n                    totalEpisodes: data === null || data === void 0 ? void 0 : data.number_of_episodes,\n                    year: new Date((data === null || data === void 0 ? void 0 : data.release_year) || (data === null || data === void 0 ? void 0 : data.first_air_date)).getFullYear(),\n                });\n                //fetch media info from provider\n                const InfoFromProvider = await this.provider.fetchMediaInfo(providerId);\n                info.id = providerId;\n                //check if the movie so episode id does not show on tv shows\n                if (type === 'movie')\n                    info.episodeId = (_a = InfoFromProvider === null || InfoFromProvider === void 0 ? void 0 : InfoFromProvider.episodes[0]) === null || _a === void 0 ? void 0 : _a.id;\n                info.title = (data === null || data === void 0 ? void 0 : data.title) || (data === null || data === void 0 ? void 0 : data.name);\n                info.translations = (_b = data === null || data === void 0 ? void 0 : data.translations) === null || _b === void 0 ? void 0 : _b.translations.map((translation) => {\n                    var _a, _b;\n                    return ({\n                        title: ((_a = translation.data) === null || _a === void 0 ? void 0 : _a.title) || (data === null || data === void 0 ? void 0 : data.name) || undefined,\n                        description: ((_b = translation.data) === null || _b === void 0 ? void 0 : _b.overview) || undefined,\n                        language: (translation === null || translation === void 0 ? void 0 : translation.english_name) || undefined,\n                    });\n                });\n                //images\n                info.image = `https://image.tmdb.org/t/p/original${data === null || data === void 0 ? void 0 : data.poster_path}`;\n                info.cover = `https://image.tmdb.org/t/p/original${data === null || data === void 0 ? void 0 : data.backdrop_path}`;\n                info.logos = (_c = data === null || data === void 0 ? void 0 : data.images) === null || _c === void 0 ? void 0 : _c.logos.map((logo) => ({\n                    url: `https://image.tmdb.org/t/p/original${logo.file_path}`,\n                    aspectRatio: logo === null || logo === void 0 ? void 0 : logo.aspect_ratio,\n                    width: logo === null || logo === void 0 ? void 0 : logo.width,\n                }));\n                info.type = type === 'movie' ? models_1.TvType.MOVIE : models_1.TvType.TVSERIES;\n                info.rating = (data === null || data === void 0 ? void 0 : data.vote_average) || 0;\n                info.releaseDate = (data === null || data === void 0 ? void 0 : data.release_date) || (data === null || data === void 0 ? void 0 : data.first_air_date);\n                info.description = data === null || data === void 0 ? void 0 : data.overview;\n                info.genres = data === null || data === void 0 ? void 0 : data.genres.map((genre) => genre.name);\n                info.duration = (data === null || data === void 0 ? void 0 : data.runtime) || (data === null || data === void 0 ? void 0 : data.episode_run_time[0]);\n                info.totalEpisodes = data === null || data === void 0 ? void 0 : data.number_of_episodes;\n                info.totalSeasons = data === null || data === void 0 ? void 0 : data.number_of_seasons;\n                info.directors = (_d = data === null || data === void 0 ? void 0 : data.credits) === null || _d === void 0 ? void 0 : _d.crew.filter((crew) => crew.job === 'Director').map((crew) => crew.name);\n                info.writers = (_e = data === null || data === void 0 ? void 0 : data.credits) === null || _e === void 0 ? void 0 : _e.crew.filter((crew) => crew.job === 'Screenplay').map((crew) => crew.name);\n                info.actors = (_f = data === null || data === void 0 ? void 0 : data.credits) === null || _f === void 0 ? void 0 : _f.cast.map((cast) => cast.name);\n                info.characters = (_g = data === null || data === void 0 ? void 0 : data.credits) === null || _g === void 0 ? void 0 : _g.cast.map((cast) => ({\n                    id: cast.id,\n                    name: cast.name,\n                    url: `https://www.themoviedb.org/person/${cast.id}`,\n                    character: cast.character,\n                    image: `https://image.tmdb.org/t/p/original${cast.profile_path}`,\n                }));\n                info.trailer = {\n                    id: (_j = (_h = data === null || data === void 0 ? void 0 : data.videos) === null || _h === void 0 ? void 0 : _h.results[0]) === null || _j === void 0 ? void 0 : _j.key,\n                    site: (_l = (_k = data === null || data === void 0 ? void 0 : data.videos) === null || _k === void 0 ? void 0 : _k.results[0]) === null || _l === void 0 ? void 0 : _l.site,\n                    url: `https://www.youtube.com/watch?v=${(_o = (_m = data === null || data === void 0 ? void 0 : data.videos) === null || _m === void 0 ? void 0 : _m.results[0]) === null || _o === void 0 ? void 0 : _o.key}`,\n                };\n                info.mappings = {\n                    imdb: ((_p = data === null || data === void 0 ? void 0 : data.external_ids) === null || _p === void 0 ? void 0 : _p.imdb_id) || undefined,\n                    tmdb: (data === null || data === void 0 ? void 0 : data.id) || undefined,\n                };\n                info.similar =\n                    ((_r = (_q = data === null || data === void 0 ? void 0 : data.similar) === null || _q === void 0 ? void 0 : _q.results) === null || _r === void 0 ? void 0 : _r.length) <= 0\n                        ? undefined\n                        : (_s = data === null || data === void 0 ? void 0 : data.similar) === null || _s === void 0 ? void 0 : _s.results.map((result) => {\n                            return {\n                                id: result.id,\n                                title: result.title || result.name,\n                                image: `https://image.tmdb.org/t/p/original${result.poster_path}`,\n                                type: type === 'movie' ? models_1.TvType.MOVIE : models_1.TvType.TVSERIES,\n                                rating: result.vote_average || 0,\n                                releaseDate: result.release_date || result.first_air_date,\n                            };\n                        });\n                info.recommendations =\n                    ((_u = (_t = data === null || data === void 0 ? void 0 : data.recommendations) === null || _t === void 0 ? void 0 : _t.results) === null || _u === void 0 ? void 0 : _u.length) <= 0\n                        ? undefined\n                        : (_v = data === null || data === void 0 ? void 0 : data.recommendations) === null || _v === void 0 ? void 0 : _v.results.map((result) => {\n                            return {\n                                id: result.id,\n                                title: result.title || result.name,\n                                image: `https://image.tmdb.org/t/p/original${result.poster_path}`,\n                                type: type === 'movie' ? models_1.TvType.MOVIE : models_1.TvType.TVSERIES,\n                                rating: result.vote_average || 0,\n                                releaseDate: result.release_date || result.first_air_date,\n                            };\n                        });\n                const totalSeasons = (info === null || info === void 0 ? void 0 : info.totalSeasons) || 0;\n                if (type === 'tv' && totalSeasons > 0) {\n                    const seasonUrl = (season) => `${this.apiUrl}/tv/${mediaId}/season/${season}?api_key=${this.apiKey}`;\n                    info.seasons = [];\n                    const seasons = info.seasons;\n                    const providerEpisodes = InfoFromProvider === null || InfoFromProvider === void 0 ? void 0 : InfoFromProvider.episodes;\n                    if ((providerEpisodes === null || providerEpisodes === void 0 ? void 0 : providerEpisodes.length) < 1)\n                        return info;\n                    info.nextAiringEpisode = (data === null || data === void 0 ? void 0 : data.next_episode_to_air)\n                        ? {\n                            season: ((_w = data.next_episode_to_air) === null || _w === void 0 ? void 0 : _w.season_number) || undefined,\n                            episode: ((_x = data.next_episode_to_air) === null || _x === void 0 ? void 0 : _x.episode_number) || undefined,\n                            releaseDate: ((_y = data.next_episode_to_air) === null || _y === void 0 ? void 0 : _y.air_date) || undefined,\n                            title: ((_z = data.next_episode_to_air) === null || _z === void 0 ? void 0 : _z.name) || undefined,\n                            description: ((_0 = data.next_episode_to_air) === null || _0 === void 0 ? void 0 : _0.overview) || undefined,\n                            runtime: ((_1 = data.next_episode_to_air) === null || _1 === void 0 ? void 0 : _1.runtime) || undefined,\n                        }\n                        : undefined;\n                    for (let i = 1; i <= totalSeasons; i++) {\n                        const { data: seasonData } = await this.client.get(seasonUrl(i.toString()));\n                        //find season in each episode (providerEpisodes)\n                        const seasonEpisodes = providerEpisodes === null || providerEpisodes === void 0 ? void 0 : providerEpisodes.filter(episode => episode.season === i);\n                        const episodes = ((_2 = seasonData === null || seasonData === void 0 ? void 0 : seasonData.episodes) === null || _2 === void 0 ? void 0 : _2.length) <= 0\n                            ? undefined\n                            : seasonData === null || seasonData === void 0 ? void 0 : seasonData.episodes.map((episode) => {\n                                //find episode in each season (seasonEpisodes)\n                                const episodeFromProvider = seasonEpisodes === null || seasonEpisodes === void 0 ? void 0 : seasonEpisodes.find(ep => ep.number === episode.episode_number);\n                                return {\n                                    id: episodeFromProvider === null || episodeFromProvider === void 0 ? void 0 : episodeFromProvider.id,\n                                    title: episode.name,\n                                    episode: episode.episode_number,\n                                    season: episode.season_number,\n                                    releaseDate: episode.air_date,\n                                    description: episode.overview,\n                                    url: (episodeFromProvider === null || episodeFromProvider === void 0 ? void 0 : episodeFromProvider.url) || undefined,\n                                    img: !(episode === null || episode === void 0 ? void 0 : episode.still_path)\n                                        ? undefined\n                                        : {\n                                            mobile: `https://image.tmdb.org/t/p/w300${episode.still_path}`,\n                                            hd: `https://image.tmdb.org/t/p/w780${episode.still_path}`,\n                                        },\n                                };\n                            });\n                        seasons.push({\n                            season: i,\n                            image: !(seasonData === null || seasonData === void 0 ? void 0 : seasonData.poster_path)\n                                ? undefined\n                                : {\n                                    mobile: `https://image.tmdb.org/t/p/w300${seasonData.poster_path}`,\n                                    hd: `https://image.tmdb.org/t/p/w780${seasonData.poster_path}`,\n                                },\n                            episodes,\n                            isReleased: ((_3 = seasonData === null || seasonData === void 0 ? void 0 : seasonData.episodes[0]) === null || _3 === void 0 ? void 0 : _3.air_date) > new Date().toISOString() ? false : true,\n                        });\n                    }\n                }\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n            return info;\n        };\n        /**\n         * Find the id of a media from its title. and extra data. (year, totalSeasons, totalEpisodes)\n         * @param title\n         * @param extraData\n         * @returns id of the media\n         */\n        this.findIdFromTitle = async (title, extraData) => {\n            var _a;\n            //clean title\n            title = title.replace(/[^a-zA-Z0-9 ]/g, '').toLowerCase();\n            const findMedia = (await this.provider.search(title));\n            if (findMedia.results.length === 0)\n                return '';\n            // console.log(findMedia.results);\n            // console.log(extraData);\n            // Sort the retrieved info for more accurate results.\n            findMedia.results.sort((a, b) => {\n                var _a, _b;\n                const targetTitle = title;\n                let firstTitle;\n                let secondTitle;\n                if (typeof a.title == 'string')\n                    firstTitle = a === null || a === void 0 ? void 0 : a.title;\n                else\n                    firstTitle = (_a = a === null || a === void 0 ? void 0 : a.title) !== null && _a !== void 0 ? _a : '';\n                if (typeof b.title == 'string')\n                    secondTitle = b.title;\n                else\n                    secondTitle = (_b = b === null || b === void 0 ? void 0 : b.title) !== null && _b !== void 0 ? _b : '';\n                const firstRating = (0, utils_1.compareTwoStrings)(targetTitle, firstTitle.toLowerCase());\n                const secondRating = (0, utils_1.compareTwoStrings)(targetTitle, secondTitle.toLowerCase());\n                // Sort in descending order\n                return secondRating - firstRating;\n            });\n            //remove results that dont match the type\n            findMedia.results = findMedia.results.filter(result => {\n                if (extraData.type === models_1.TvType.MOVIE)\n                    return result.type === models_1.TvType.MOVIE;\n                else if (extraData.type === models_1.TvType.TVSERIES)\n                    return result.type === models_1.TvType.TVSERIES;\n                else\n                    return result;\n            });\n            // if extraData contains a year, filter out the results that don't match the year\n            if (extraData && extraData.year && extraData.type === models_1.TvType.MOVIE) {\n                findMedia.results = findMedia.results.filter(result => {\n                    return String(result.releaseDate).split('-')[0].trim() === String(extraData.year).trim();\n                });\n            }\n            // console.log({ test1: findMedia.results });\n            // Check if the result contains the total number of seasons and compare it to the extraData.\n            // Allow for a range of ±2 seasons and ensure that the seasons value is a number.\n            if (extraData && extraData.totalSeasons && extraData.type === models_1.TvType.TVSERIES) {\n                findMedia.results = findMedia.results.filter(result => {\n                    const totalSeasons = result.seasons || 0;\n                    const extraDataSeasons = extraData.totalSeasons || 0;\n                    return totalSeasons >= extraDataSeasons - 2 && totalSeasons <= extraDataSeasons + 2;\n                });\n            }\n            // console.log(findMedia.results);\n            return ((_a = findMedia === null || findMedia === void 0 ? void 0 : findMedia.results[0]) === null || _a === void 0 ? void 0 : _a.id) || undefined;\n        };\n        /**\n         * @param id media id (anime or movie/tv)\n         * @param args optional arguments\n         */\n        this.fetchEpisodeSources = async (id, ...args) => {\n            return this.provider.fetchEpisodeSources(id, ...args);\n        };\n        /**\n         * @param episodeId episode id\n         * @param args optional arguments\n         **/\n        this.fetchEpisodeServers = async (episodeId, ...args) => {\n            return this.provider.fetchEpisodeServers(episodeId, ...args);\n        };\n        this.provider = provider || new flixhq_1.default();\n    }\n}\n// (async () => {\n//   const tmdb = new TMDB();\n//   const search = await tmdb.search('the flash');\n//   const info = await tmdb.fetchMediaInfo(search.results[0].id, search.results![0].type as string);\n//   // console.log(info);\n// })();\nexports[\"default\"] = TMDB;\n//# sourceMappingURL=tmdb.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbWV0YS90bWRiLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkMsZ0JBQWdCLG1CQUFPLENBQUMsa0ZBQWE7QUFDckMsaUNBQWlDLG1CQUFPLENBQUMsbUdBQWtCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLFlBQVksWUFBWTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLEdBQUcsV0FBVyxRQUFRLEtBQUssV0FBVyxZQUFZO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxtRUFBbUU7QUFDNUk7QUFDQTtBQUNBLDRDQUE0QyxtQkFBbUI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxvRUFBb0U7QUFDN0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsZ0VBQWdFO0FBQzdJO0FBQ0E7QUFDQSxnREFBZ0QsbUJBQW1CO0FBQ25FO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLFlBQVksd0JBQXdCLFlBQVksdUJBQXVCLEtBQUssNkJBQTZCLE1BQU07QUFDaEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxtRUFBbUU7QUFDeEk7QUFDQTtBQUNBLHdDQUF3QyxtQkFBbUI7QUFDM0Q7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixZQUFZLEdBQUcsS0FBSyxHQUFHLFFBQVEsV0FBVyxZQUFZO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQSxtRUFBbUUsNkRBQTZEO0FBQ2hJLG1FQUFtRSwrREFBK0Q7QUFDbEk7QUFDQSwrREFBK0QsZUFBZTtBQUM5RTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsUUFBUTtBQUN0RTtBQUNBLGlFQUFpRSxrQkFBa0I7QUFDbkYsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxxS0FBcUs7QUFDak87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLG1CQUFtQjtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSxtQkFBbUI7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLHFEQUFxRCxZQUFZLE1BQU0sUUFBUSxVQUFVLE9BQU8sV0FBVyxZQUFZO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxtQkFBbUI7QUFDdkQsZ0NBQWdDLG1CQUFtQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsbUJBQW1CO0FBQ3pHLGtGQUFrRixtQkFBbUI7QUFDckcseUNBQXlDO0FBQ3pDO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsdUJBQXVCO0FBQ3JHLDBFQUEwRSx1QkFBdUI7QUFDakcsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNkJBQTZCLDBCQUEwQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcbWV0YVxcdG1kYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHNcIik7XG5jb25zdCBmbGl4aHFfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vbW92aWVzL2ZsaXhocVwiKSk7XG5jbGFzcyBUTURCIGV4dGVuZHMgbW9kZWxzXzEuTW92aWVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKGFwaUtleSA9ICc1MjAxYjU0ZWIwOTY4NzAwZTY5M2EzMDU3NmQ3ZDRkYycsIHByb3ZpZGVyLCBwcm94eUNvbmZpZywgYWRhcHRlcikge1xuICAgICAgICBzdXBlcihwcm94eUNvbmZpZywgYWRhcHRlcik7XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICAgICAgICB0aGlzLm5hbWUgPSAnVE1EQic7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL3d3dy50aGVtb3ZpZWRiLm9yZyc7XG4gICAgICAgIHRoaXMuYXBpVXJsID0gJ2h0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMnO1xuICAgICAgICB0aGlzLmxvZ28gPSAnaHR0cHM6Ly9wYnMudHdpbWcuY29tL3Byb2ZpbGVfaW1hZ2VzLzEyNDM2MjMxMjIwODkwNDE5MjAvZ1ZaSXZwaGRfNDAweDQwMC5qcGcnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdNRVRBLlRNREInO1xuICAgICAgICB0aGlzLnN1cHBvcnRlZFR5cGVzID0gbmV3IFNldChbbW9kZWxzXzEuVHZUeXBlLk1PVklFLCBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMsIG1vZGVsc18xLlR2VHlwZS5BTklNRV0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHR5cGUgdHJlbmRpbmcgdHlwZTogdHYgc2VyaWVzLCBtb3ZpZSwgcGVvcGxlIG9yIGFsbFxuICAgICAgICAgKiBAcGFyYW0gdGltZVBlcmlvZCB0cmVuZGluZyB0aW1lIHBlcmlvZCBkYXkgb3Igd2Vla1xuICAgICAgICAgKiBAcGFyYW0gcGFnZSBwYWdlIG51bWJlclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaFRyZW5kaW5nID0gYXN5bmMgKHR5cGUsIHRpbWVQZXJpb2QgPSAnZGF5JywgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRyZW5kaW5nVXJsID0gYCR7dGhpcy5hcGlVcmx9L3RyZW5kaW5nLyR7dHlwZS50b0xvd2VyQ2FzZSgpID09PSBtb2RlbHNfMS5UdlR5cGUuTU9WSUUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgID8gJ21vdmllJ1xuICAgICAgICAgICAgICAgIDogdHlwZS50b0xvd2VyQ2FzZSgpID09PSBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICA/ICd0didcbiAgICAgICAgICAgICAgICAgICAgOiB0eXBlLnRvTG93ZXJDYXNlKCkgPT09IG1vZGVsc18xLlR2VHlwZS5QRU9QTEUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAncGVyc29uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAnYWxsJ30vJHt0aW1lUGVyaW9kfT9wYWdlPSR7cGFnZX0mYXBpX2tleT0ke3RoaXMuYXBpS2V5fSZsYW5ndWFnZT1lbi1VU2A7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQodHJlbmRpbmdVcmwpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJlc3VsdHMubGVuZ3RoIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICByZXN1bHQuaGFzTmV4dFBhZ2UgPSBwYWdlICsgMSA8PSBkYXRhLnRvdGFsX3BhZ2VzO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5jdXJyZW50UGFnZSA9IHBhZ2U7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnRvdGFsUmVzdWx0cyA9IGRhdGEudG90YWxfcmVzdWx0cztcbiAgICAgICAgICAgICAgICByZXN1bHQudG90YWxQYWdlcyA9IGRhdGEudG90YWxfcGFnZXM7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnJlc3VsdHMgPSBkYXRhLnJlc3VsdHMubWFwKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5tZWRpYV90eXBlICE9PSAncGVyc29uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKChyZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN1bHQucmVsZWFzZV9kYXRlKSB8fCAocmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdWx0LmZpcnN0X2Fpcl9kYXRlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3ZpZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcmVzdWx0LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAocmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdWx0LnRpdGxlKSB8fCAocmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdWx0Lm5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3Avb3JpZ2luYWwke3Jlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5wb3N0ZXJfcGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHJlc3VsdC5tZWRpYV90eXBlID09PSAnbW92aWUnID8gbW9kZWxzXzEuVHZUeXBlLk1PVklFIDogbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZzogKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC52b3RlX2F2ZXJhZ2UpIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IGAke2RhdGUuZ2V0RnVsbFllYXIoKX1gIHx8ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW92aWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiByZXN1bHQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcmVzdWx0Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiByZXN1bHQucG9wdWxhcml0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogYGh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wL29yaWdpbmFsJHtyZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN1bHQucHJvZmlsZV9wYXRofWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92aWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyLm1vdmllcyA9IHJlc3VsdFsna25vd25fZm9yJ10ubWFwKChtb3ZpZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgobW92aWUgPT09IG51bGwgfHwgbW92aWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1vdmllLnJlbGVhc2VfZGF0ZSkgfHwgKG1vdmllID09PSBudWxsIHx8IG1vdmllID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtb3ZpZS5maXJzdF9haXJfZGF0ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHhtb3ZpZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG1vdmllLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogKG1vdmllID09PSBudWxsIHx8IG1vdmllID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtb3ZpZS50aXRsZSkgfHwgKG1vdmllID09PSBudWxsIHx8IG1vdmllID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtb3ZpZS5uYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGBodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC9vcmlnaW5hbCR7bW92aWUgPT09IG51bGwgfHwgbW92aWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1vdmllLnBvc3Rlcl9wYXRofWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG1vdmllLm1lZGlhX3R5cGUgPT09ICdtb3ZpZScgPyBtb2RlbHNfMS5UdlR5cGUuTU9WSUUgOiBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZzogKG1vdmllID09PSBudWxsIHx8IG1vdmllID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtb3ZpZS52b3RlX2F2ZXJhZ2UpIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBgJHtkYXRlLmdldEZ1bGxZZWFyKCl9YCB8fCAnMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geG1vdmllO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSBzZWFyY2ggcXVlcnlcbiAgICAgICAgICogQHBhcmFtIHBhZ2UgcGFnZSBudW1iZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5LCBwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoVXJsID0gYCR7dGhpcy5hcGlVcmx9L3NlYXJjaC9tdWx0aT9hcGlfa2V5PSR7dGhpcy5hcGlLZXl9Jmxhbmd1YWdlPWVuLVVTJnBhZ2U9JHtwYWdlfSZpbmNsdWRlX2FkdWx0PWZhbHNlJnF1ZXJ5PSR7cXVlcnl9YDtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaCA9IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChzZWFyY2hVcmwpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJlc3VsdHMubGVuZ3RoIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlYXJjaDtcbiAgICAgICAgICAgICAgICBzZWFyY2guaGFzTmV4dFBhZ2UgPSBwYWdlICsgMSA8PSBkYXRhLnRvdGFsX3BhZ2VzO1xuICAgICAgICAgICAgICAgIHNlYXJjaC5jdXJyZW50UGFnZSA9IHBhZ2U7XG4gICAgICAgICAgICAgICAgc2VhcmNoLnRvdGFsUmVzdWx0cyA9IGRhdGEudG90YWxfcmVzdWx0cztcbiAgICAgICAgICAgICAgICBzZWFyY2gudG90YWxQYWdlcyA9IGRhdGEudG90YWxfcGFnZXM7XG4gICAgICAgICAgICAgICAgZGF0YS5yZXN1bHRzLmZvckVhY2goKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5yZWxlYXNlX2RhdGUpIHx8IChyZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN1bHQuZmlyc3RfYWlyX2RhdGUpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW92aWUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogcmVzdWx0LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChyZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN1bHQudGl0bGUpIHx8IChyZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN1bHQubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogYGh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wL29yaWdpbmFsJHtyZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN1bHQucG9zdGVyX3BhdGh9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHJlc3VsdC5tZWRpYV90eXBlID09PSAnbW92aWUnID8gbW9kZWxzXzEuVHZUeXBlLk1PVklFIDogbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAocmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdWx0LnZvdGVfYXZlcmFnZSkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBgJHtkYXRlLmdldEZ1bGxZZWFyKCl9YCB8fCAnMCcsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWFyY2gucmVzdWx0cy5wdXNoKG1vdmllKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gaWQgbWVkaWEgaWQgKGFuaW1lIG9yIG1vdmllL3R2KVxuICAgICAgICAgKiBAcGFyYW0gdHlwZSBtb3ZpZSBvciB0dlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaE1lZGlhSW5mbyA9IGFzeW5jIChtZWRpYUlkLCB0eXBlKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbSwgX28sIF9wLCBfcSwgX3IsIF9zLCBfdCwgX3UsIF92LCBfdywgX3gsIF95LCBfeiwgXzAsIF8xLCBfMiwgXzM7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbW92aWUnID8gJ21vdmllJyA6ICd0dic7XG4gICAgICAgICAgICBjb25zdCBpbmZvVXJsID0gYCR7dGhpcy5hcGlVcmx9LyR7dHlwZX0vJHttZWRpYUlkfT9hcGlfa2V5PSR7dGhpcy5hcGlLZXl9Jmxhbmd1YWdlPWVuLVVTJmFwcGVuZF90b19yZXNwb25zZT1yZWxlYXNlX2RhdGVzLHdhdGNoL3Byb3ZpZGVycyxhbHRlcm5hdGl2ZV90aXRsZXMsY3JlZGl0cyxleHRlcm5hbF9pZHMsaW1hZ2VzLGtleXdvcmRzLHJlY29tbWVuZGF0aW9ucyxyZXZpZXdzLHNpbWlsYXIsdHJhbnNsYXRpb25zLHZpZGVvcyZpbmNsdWRlX2ltYWdlX2xhbmd1YWdlPWVuYDtcbiAgICAgICAgICAgIGNvbnN0IGluZm8gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lZGlhSWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy9yZXF1ZXN0IGFwaSB0byBnZXQgbWVkaWEgaW5mbyBmcm9tIHRtZGJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChpbmZvVXJsKTtcbiAgICAgICAgICAgICAgICAvL2dldCBwcm92aWRlciBpZCBmcm9tIHRpdGxlIGFuZCB5ZWFyIChpZiBhdmFpbGFibGUpIHRvIGdldCB0aGUgY29ycmVjdCBwcm92aWRlciBpZCBmb3IgdGhlIG1vdmllL3R2IHNlcmllcyAoZS5nLiBmbGl4aHEpXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJJZCA9IGF3YWl0IHRoaXMuZmluZElkRnJvbVRpdGxlKChkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEudGl0bGUpIHx8IChkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEubmFtZSksIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSA9PT0gJ21vdmllJyA/IG1vZGVsc18xLlR2VHlwZS5NT1ZJRSA6IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUyxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxTZWFzb25zOiBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEubnVtYmVyX29mX3NlYXNvbnMsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsRXBpc29kZXM6IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5udW1iZXJfb2ZfZXBpc29kZXMsXG4gICAgICAgICAgICAgICAgICAgIHllYXI6IG5ldyBEYXRlKChkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEucmVsZWFzZV95ZWFyKSB8fCAoZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLmZpcnN0X2Fpcl9kYXRlKSkuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvL2ZldGNoIG1lZGlhIGluZm8gZnJvbSBwcm92aWRlclxuICAgICAgICAgICAgICAgIGNvbnN0IEluZm9Gcm9tUHJvdmlkZXIgPSBhd2FpdCB0aGlzLnByb3ZpZGVyLmZldGNoTWVkaWFJbmZvKHByb3ZpZGVySWQpO1xuICAgICAgICAgICAgICAgIGluZm8uaWQgPSBwcm92aWRlcklkO1xuICAgICAgICAgICAgICAgIC8vY2hlY2sgaWYgdGhlIG1vdmllIHNvIGVwaXNvZGUgaWQgZG9lcyBub3Qgc2hvdyBvbiB0diBzaG93c1xuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnbW92aWUnKVxuICAgICAgICAgICAgICAgICAgICBpbmZvLmVwaXNvZGVJZCA9IChfYSA9IEluZm9Gcm9tUHJvdmlkZXIgPT09IG51bGwgfHwgSW5mb0Zyb21Qcm92aWRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogSW5mb0Zyb21Qcm92aWRlci5lcGlzb2Rlc1swXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkO1xuICAgICAgICAgICAgICAgIGluZm8udGl0bGUgPSAoZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnRpdGxlKSB8fCAoZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLm5hbWUpO1xuICAgICAgICAgICAgICAgIGluZm8udHJhbnNsYXRpb25zID0gKF9iID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnRyYW5zbGF0aW9ucykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnRyYW5zbGF0aW9ucy5tYXAoKHRyYW5zbGF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICgoX2EgPSB0cmFuc2xhdGlvbi5kYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGl0bGUpIHx8IChkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEubmFtZSkgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICgoX2IgPSB0cmFuc2xhdGlvbi5kYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iub3ZlcnZpZXcpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiAodHJhbnNsYXRpb24gPT09IG51bGwgfHwgdHJhbnNsYXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRyYW5zbGF0aW9uLmVuZ2xpc2hfbmFtZSkgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvL2ltYWdlc1xuICAgICAgICAgICAgICAgIGluZm8uaW1hZ2UgPSBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3Avb3JpZ2luYWwke2RhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5wb3N0ZXJfcGF0aH1gO1xuICAgICAgICAgICAgICAgIGluZm8uY292ZXIgPSBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3Avb3JpZ2luYWwke2RhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5iYWNrZHJvcF9wYXRofWA7XG4gICAgICAgICAgICAgICAgaW5mby5sb2dvcyA9IChfYyA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5pbWFnZXMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5sb2dvcy5tYXAoKGxvZ28pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogYGh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wL29yaWdpbmFsJHtsb2dvLmZpbGVfcGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICBhc3BlY3RSYXRpbzogbG9nbyA9PT0gbnVsbCB8fCBsb2dvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsb2dvLmFzcGVjdF9yYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGxvZ28gPT09IG51bGwgfHwgbG9nbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbG9nby53aWR0aCxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgaW5mby50eXBlID0gdHlwZSA9PT0gJ21vdmllJyA/IG1vZGVsc18xLlR2VHlwZS5NT1ZJRSA6IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUztcbiAgICAgICAgICAgICAgICBpbmZvLnJhdGluZyA9IChkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEudm90ZV9hdmVyYWdlKSB8fCAwO1xuICAgICAgICAgICAgICAgIGluZm8ucmVsZWFzZURhdGUgPSAoZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnJlbGVhc2VfZGF0ZSkgfHwgKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5maXJzdF9haXJfZGF0ZSk7XG4gICAgICAgICAgICAgICAgaW5mby5kZXNjcmlwdGlvbiA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5vdmVydmlldztcbiAgICAgICAgICAgICAgICBpbmZvLmdlbnJlcyA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5nZW5yZXMubWFwKChnZW5yZSkgPT4gZ2VucmUubmFtZSk7XG4gICAgICAgICAgICAgICAgaW5mby5kdXJhdGlvbiA9IChkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEucnVudGltZSkgfHwgKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5lcGlzb2RlX3J1bl90aW1lWzBdKTtcbiAgICAgICAgICAgICAgICBpbmZvLnRvdGFsRXBpc29kZXMgPSBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEubnVtYmVyX29mX2VwaXNvZGVzO1xuICAgICAgICAgICAgICAgIGluZm8udG90YWxTZWFzb25zID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLm51bWJlcl9vZl9zZWFzb25zO1xuICAgICAgICAgICAgICAgIGluZm8uZGlyZWN0b3JzID0gKF9kID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLmNyZWRpdHMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jcmV3LmZpbHRlcigoY3JldykgPT4gY3Jldy5qb2IgPT09ICdEaXJlY3RvcicpLm1hcCgoY3JldykgPT4gY3Jldy5uYW1lKTtcbiAgICAgICAgICAgICAgICBpbmZvLndyaXRlcnMgPSAoX2UgPSBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEuY3JlZGl0cykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmNyZXcuZmlsdGVyKChjcmV3KSA9PiBjcmV3LmpvYiA9PT0gJ1NjcmVlbnBsYXknKS5tYXAoKGNyZXcpID0+IGNyZXcubmFtZSk7XG4gICAgICAgICAgICAgICAgaW5mby5hY3RvcnMgPSAoX2YgPSBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEuY3JlZGl0cykgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmNhc3QubWFwKChjYXN0KSA9PiBjYXN0Lm5hbWUpO1xuICAgICAgICAgICAgICAgIGluZm8uY2hhcmFjdGVycyA9IChfZyA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5jcmVkaXRzKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuY2FzdC5tYXAoKGNhc3QpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBjYXN0LmlkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBjYXN0Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHVybDogYGh0dHBzOi8vd3d3LnRoZW1vdmllZGIub3JnL3BlcnNvbi8ke2Nhc3QuaWR9YCxcbiAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyOiBjYXN0LmNoYXJhY3RlcixcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGBodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC9vcmlnaW5hbCR7Y2FzdC5wcm9maWxlX3BhdGh9YCxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgaW5mby50cmFpbGVyID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogKF9qID0gKF9oID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnZpZGVvcykgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLnJlc3VsdHNbMF0pID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5rZXksXG4gICAgICAgICAgICAgICAgICAgIHNpdGU6IChfbCA9IChfayA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS52aWRlb3MpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay5yZXN1bHRzWzBdKSA9PT0gbnVsbCB8fCBfbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2wuc2l0ZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBgaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0keyhfbyA9IChfbSA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS52aWRlb3MpID09PSBudWxsIHx8IF9tID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbS5yZXN1bHRzWzBdKSA9PT0gbnVsbCB8fCBfbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX28ua2V5fWAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbmZvLm1hcHBpbmdzID0ge1xuICAgICAgICAgICAgICAgICAgICBpbWRiOiAoKF9wID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLmV4dGVybmFsX2lkcykgPT09IG51bGwgfHwgX3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wLmltZGJfaWQpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgdG1kYjogKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5pZCkgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaW5mby5zaW1pbGFyID1cbiAgICAgICAgICAgICAgICAgICAgKChfciA9IChfcSA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5zaW1pbGFyKSA9PT0gbnVsbCB8fCBfcSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3EucmVzdWx0cykgPT09IG51bGwgfHwgX3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yLmxlbmd0aCkgPD0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogKF9zID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnNpbWlsYXIpID09PSBudWxsIHx8IF9zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcy5yZXN1bHRzLm1hcCgocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJlc3VsdC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3VsdC50aXRsZSB8fCByZXN1bHQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGBodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC9vcmlnaW5hbCR7cmVzdWx0LnBvc3Rlcl9wYXRofWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUgPT09ICdtb3ZpZScgPyBtb2RlbHNfMS5UdlR5cGUuTU9WSUUgOiBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZzogcmVzdWx0LnZvdGVfYXZlcmFnZSB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogcmVzdWx0LnJlbGVhc2VfZGF0ZSB8fCByZXN1bHQuZmlyc3RfYWlyX2RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGluZm8ucmVjb21tZW5kYXRpb25zID1cbiAgICAgICAgICAgICAgICAgICAgKChfdSA9IChfdCA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5yZWNvbW1lbmRhdGlvbnMpID09PSBudWxsIHx8IF90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdC5yZXN1bHRzKSA9PT0gbnVsbCB8fCBfdSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3UubGVuZ3RoKSA8PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgOiAoX3YgPSBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEucmVjb21tZW5kYXRpb25zKSA9PT0gbnVsbCB8fCBfdiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3YucmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiByZXN1bHQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiByZXN1bHQudGl0bGUgfHwgcmVzdWx0Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3Avb3JpZ2luYWwke3Jlc3VsdC5wb3N0ZXJfcGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlID09PSAnbW92aWUnID8gbW9kZWxzXzEuVHZUeXBlLk1PVklFIDogbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmc6IHJlc3VsdC52b3RlX2F2ZXJhZ2UgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IHJlc3VsdC5yZWxlYXNlX2RhdGUgfHwgcmVzdWx0LmZpcnN0X2Fpcl9kYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFNlYXNvbnMgPSAoaW5mbyA9PT0gbnVsbCB8fCBpbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvLnRvdGFsU2Vhc29ucykgfHwgMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3R2JyAmJiB0b3RhbFNlYXNvbnMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYXNvblVybCA9IChzZWFzb24pID0+IGAke3RoaXMuYXBpVXJsfS90di8ke21lZGlhSWR9L3NlYXNvbi8ke3NlYXNvbn0/YXBpX2tleT0ke3RoaXMuYXBpS2V5fWA7XG4gICAgICAgICAgICAgICAgICAgIGluZm8uc2Vhc29ucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWFzb25zID0gaW5mby5zZWFzb25zO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm92aWRlckVwaXNvZGVzID0gSW5mb0Zyb21Qcm92aWRlciA9PT0gbnVsbCB8fCBJbmZvRnJvbVByb3ZpZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBJbmZvRnJvbVByb3ZpZGVyLmVwaXNvZGVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb3ZpZGVyRXBpc29kZXMgPT09IG51bGwgfHwgcHJvdmlkZXJFcGlzb2RlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvdmlkZXJFcGlzb2Rlcy5sZW5ndGgpIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgICAgICAgICAgICBpbmZvLm5leHRBaXJpbmdFcGlzb2RlID0gKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5uZXh0X2VwaXNvZGVfdG9fYWlyKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uOiAoKF93ID0gZGF0YS5uZXh0X2VwaXNvZGVfdG9fYWlyKSA9PT0gbnVsbCB8fCBfdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3cuc2Vhc29uX251bWJlcikgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVwaXNvZGU6ICgoX3ggPSBkYXRhLm5leHRfZXBpc29kZV90b19haXIpID09PSBudWxsIHx8IF94ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfeC5lcGlzb2RlX251bWJlcikgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiAoKF95ID0gZGF0YS5uZXh0X2VwaXNvZGVfdG9fYWlyKSA9PT0gbnVsbCB8fCBfeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3kuYWlyX2RhdGUpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogKChfeiA9IGRhdGEubmV4dF9lcGlzb2RlX3RvX2FpcikgPT09IG51bGwgfHwgX3ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF96Lm5hbWUpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogKChfMCA9IGRhdGEubmV4dF9lcGlzb2RlX3RvX2FpcikgPT09IG51bGwgfHwgXzAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8wLm92ZXJ2aWV3KSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVudGltZTogKChfMSA9IGRhdGEubmV4dF9lcGlzb2RlX3RvX2FpcikgPT09IG51bGwgfHwgXzEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xLnJ1bnRpbWUpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0b3RhbFNlYXNvbnM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBzZWFzb25EYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoc2Vhc29uVXJsKGkudG9TdHJpbmcoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9maW5kIHNlYXNvbiBpbiBlYWNoIGVwaXNvZGUgKHByb3ZpZGVyRXBpc29kZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWFzb25FcGlzb2RlcyA9IHByb3ZpZGVyRXBpc29kZXMgPT09IG51bGwgfHwgcHJvdmlkZXJFcGlzb2RlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvdmlkZXJFcGlzb2Rlcy5maWx0ZXIoZXBpc29kZSA9PiBlcGlzb2RlLnNlYXNvbiA9PT0gaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcGlzb2RlcyA9ICgoXzIgPSBzZWFzb25EYXRhID09PSBudWxsIHx8IHNlYXNvbkRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlYXNvbkRhdGEuZXBpc29kZXMpID09PSBudWxsIHx8IF8yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMi5sZW5ndGgpIDw9IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc2Vhc29uRGF0YSA9PT0gbnVsbCB8fCBzZWFzb25EYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWFzb25EYXRhLmVwaXNvZGVzLm1hcCgoZXBpc29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2ZpbmQgZXBpc29kZSBpbiBlYWNoIHNlYXNvbiAoc2Vhc29uRXBpc29kZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGVGcm9tUHJvdmlkZXIgPSBzZWFzb25FcGlzb2RlcyA9PT0gbnVsbCB8fCBzZWFzb25FcGlzb2RlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2Vhc29uRXBpc29kZXMuZmluZChlcCA9PiBlcC5udW1iZXIgPT09IGVwaXNvZGUuZXBpc29kZV9udW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVwaXNvZGVGcm9tUHJvdmlkZXIgPT09IG51bGwgfHwgZXBpc29kZUZyb21Qcm92aWRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXBpc29kZUZyb21Qcm92aWRlci5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBlcGlzb2RlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlOiBlcGlzb2RlLmVwaXNvZGVfbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uOiBlcGlzb2RlLnNlYXNvbl9udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogZXBpc29kZS5haXJfZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBlcGlzb2RlLm92ZXJ2aWV3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAoZXBpc29kZUZyb21Qcm92aWRlciA9PT0gbnVsbCB8fCBlcGlzb2RlRnJvbVByb3ZpZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcGlzb2RlRnJvbVByb3ZpZGVyLnVybCkgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nOiAhKGVwaXNvZGUgPT09IG51bGwgfHwgZXBpc29kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXBpc29kZS5zdGlsbF9wYXRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vYmlsZTogYGh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wL3czMDAke2VwaXNvZGUuc3RpbGxfcGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZDogYGh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wL3c3ODAke2VwaXNvZGUuc3RpbGxfcGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFzb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXNvbjogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogIShzZWFzb25EYXRhID09PSBudWxsIHx8IHNlYXNvbkRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlYXNvbkRhdGEucG9zdGVyX3BhdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9iaWxlOiBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzMwMCR7c2Vhc29uRGF0YS5wb3N0ZXJfcGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGQ6IGBodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93NzgwJHtzZWFzb25EYXRhLnBvc3Rlcl9wYXRofWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZWxlYXNlZDogKChfMyA9IHNlYXNvbkRhdGEgPT09IG51bGwgfHwgc2Vhc29uRGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2Vhc29uRGF0YS5lcGlzb2Rlc1swXSkgPT09IG51bGwgfHwgXzMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zLmFpcl9kYXRlKSA+IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSA/IGZhbHNlIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbmQgdGhlIGlkIG9mIGEgbWVkaWEgZnJvbSBpdHMgdGl0bGUuIGFuZCBleHRyYSBkYXRhLiAoeWVhciwgdG90YWxTZWFzb25zLCB0b3RhbEVwaXNvZGVzKVxuICAgICAgICAgKiBAcGFyYW0gdGl0bGVcbiAgICAgICAgICogQHBhcmFtIGV4dHJhRGF0YVxuICAgICAgICAgKiBAcmV0dXJucyBpZCBvZiB0aGUgbWVkaWFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmluZElkRnJvbVRpdGxlID0gYXN5bmMgKHRpdGxlLCBleHRyYURhdGEpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIC8vY2xlYW4gdGl0bGVcbiAgICAgICAgICAgIHRpdGxlID0gdGl0bGUucmVwbGFjZSgvW15hLXpBLVowLTkgXS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbmRNZWRpYSA9IChhd2FpdCB0aGlzLnByb3ZpZGVyLnNlYXJjaCh0aXRsZSkpO1xuICAgICAgICAgICAgaWYgKGZpbmRNZWRpYS5yZXN1bHRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmaW5kTWVkaWEucmVzdWx0cyk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhleHRyYURhdGEpO1xuICAgICAgICAgICAgLy8gU29ydCB0aGUgcmV0cmlldmVkIGluZm8gZm9yIG1vcmUgYWNjdXJhdGUgcmVzdWx0cy5cbiAgICAgICAgICAgIGZpbmRNZWRpYS5yZXN1bHRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFRpdGxlID0gdGl0bGU7XG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0VGl0bGU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZFRpdGxlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYS50aXRsZSA9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RUaXRsZSA9IGEgPT09IG51bGwgfHwgYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYS50aXRsZTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0VGl0bGUgPSAoX2EgPSBhID09PSBudWxsIHx8IGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGEudGl0bGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYi50aXRsZSA9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kVGl0bGUgPSBiLnRpdGxlO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kVGl0bGUgPSAoX2IgPSBiID09PSBudWxsIHx8IGIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGIudGl0bGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0UmF0aW5nID0gKDAsIHV0aWxzXzEuY29tcGFyZVR3b1N0cmluZ3MpKHRhcmdldFRpdGxlLCBmaXJzdFRpdGxlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZFJhdGluZyA9ICgwLCB1dGlsc18xLmNvbXBhcmVUd29TdHJpbmdzKSh0YXJnZXRUaXRsZSwgc2Vjb25kVGl0bGUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgLy8gU29ydCBpbiBkZXNjZW5kaW5nIG9yZGVyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlY29uZFJhdGluZyAtIGZpcnN0UmF0aW5nO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvL3JlbW92ZSByZXN1bHRzIHRoYXQgZG9udCBtYXRjaCB0aGUgdHlwZVxuICAgICAgICAgICAgZmluZE1lZGlhLnJlc3VsdHMgPSBmaW5kTWVkaWEucmVzdWx0cy5maWx0ZXIocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXh0cmFEYXRhLnR5cGUgPT09IG1vZGVsc18xLlR2VHlwZS5NT1ZJRSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50eXBlID09PSBtb2RlbHNfMS5UdlR5cGUuTU9WSUU7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXh0cmFEYXRhLnR5cGUgPT09IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50eXBlID09PSBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVM7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBpZiBleHRyYURhdGEgY29udGFpbnMgYSB5ZWFyLCBmaWx0ZXIgb3V0IHRoZSByZXN1bHRzIHRoYXQgZG9uJ3QgbWF0Y2ggdGhlIHllYXJcbiAgICAgICAgICAgIGlmIChleHRyYURhdGEgJiYgZXh0cmFEYXRhLnllYXIgJiYgZXh0cmFEYXRhLnR5cGUgPT09IG1vZGVsc18xLlR2VHlwZS5NT1ZJRSkge1xuICAgICAgICAgICAgICAgIGZpbmRNZWRpYS5yZXN1bHRzID0gZmluZE1lZGlhLnJlc3VsdHMuZmlsdGVyKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcocmVzdWx0LnJlbGVhc2VEYXRlKS5zcGxpdCgnLScpWzBdLnRyaW0oKSA9PT0gU3RyaW5nKGV4dHJhRGF0YS55ZWFyKS50cmltKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh7IHRlc3QxOiBmaW5kTWVkaWEucmVzdWx0cyB9KTtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSByZXN1bHQgY29udGFpbnMgdGhlIHRvdGFsIG51bWJlciBvZiBzZWFzb25zIGFuZCBjb21wYXJlIGl0IHRvIHRoZSBleHRyYURhdGEuXG4gICAgICAgICAgICAvLyBBbGxvdyBmb3IgYSByYW5nZSBvZiDCsTIgc2Vhc29ucyBhbmQgZW5zdXJlIHRoYXQgdGhlIHNlYXNvbnMgdmFsdWUgaXMgYSBudW1iZXIuXG4gICAgICAgICAgICBpZiAoZXh0cmFEYXRhICYmIGV4dHJhRGF0YS50b3RhbFNlYXNvbnMgJiYgZXh0cmFEYXRhLnR5cGUgPT09IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUykge1xuICAgICAgICAgICAgICAgIGZpbmRNZWRpYS5yZXN1bHRzID0gZmluZE1lZGlhLnJlc3VsdHMuZmlsdGVyKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsU2Vhc29ucyA9IHJlc3VsdC5zZWFzb25zIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhRGF0YVNlYXNvbnMgPSBleHRyYURhdGEudG90YWxTZWFzb25zIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbFNlYXNvbnMgPj0gZXh0cmFEYXRhU2Vhc29ucyAtIDIgJiYgdG90YWxTZWFzb25zIDw9IGV4dHJhRGF0YVNlYXNvbnMgKyAyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZmluZE1lZGlhLnJlc3VsdHMpO1xuICAgICAgICAgICAgcmV0dXJuICgoX2EgPSBmaW5kTWVkaWEgPT09IG51bGwgfHwgZmluZE1lZGlhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaW5kTWVkaWEucmVzdWx0c1swXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkKSB8fCB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gaWQgbWVkaWEgaWQgKGFuaW1lIG9yIG1vdmllL3R2KVxuICAgICAgICAgKiBAcGFyYW0gYXJncyBvcHRpb25hbCBhcmd1bWVudHNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU291cmNlcyA9IGFzeW5jIChpZCwgLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXIuZmV0Y2hFcGlzb2RlU291cmNlcyhpZCwgLi4uYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gZXBpc29kZUlkIGVwaXNvZGUgaWRcbiAgICAgICAgICogQHBhcmFtIGFyZ3Mgb3B0aW9uYWwgYXJndW1lbnRzXG4gICAgICAgICAqKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTZXJ2ZXJzID0gYXN5bmMgKGVwaXNvZGVJZCwgLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXIuZmV0Y2hFcGlzb2RlU2VydmVycyhlcGlzb2RlSWQsIC4uLmFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnByb3ZpZGVyID0gcHJvdmlkZXIgfHwgbmV3IGZsaXhocV8xLmRlZmF1bHQoKTtcbiAgICB9XG59XG4vLyAoYXN5bmMgKCkgPT4ge1xuLy8gICBjb25zdCB0bWRiID0gbmV3IFRNREIoKTtcbi8vICAgY29uc3Qgc2VhcmNoID0gYXdhaXQgdG1kYi5zZWFyY2goJ3RoZSBmbGFzaCcpO1xuLy8gICBjb25zdCBpbmZvID0gYXdhaXQgdG1kYi5mZXRjaE1lZGlhSW5mbyhzZWFyY2gucmVzdWx0c1swXS5pZCwgc2VhcmNoLnJlc3VsdHMhWzBdLnR5cGUgYXMgc3RyaW5nKTtcbi8vICAgLy8gY29uc29sZS5sb2coaW5mbyk7XG4vLyB9KSgpO1xuZXhwb3J0cy5kZWZhdWx0ID0gVE1EQjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRtZGIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/meta/tmdb.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/dramacool.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/movies/dramacool.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass DramaCool extends models_1.MovieParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'DramaCool';\n        this.baseUrl = 'https://dramacool.bg';\n        this.logo = 'https://play-lh.googleusercontent.com/IaCb2JXII0OV611MQ-wSA8v_SAs9XF6E3TMDiuxGGXo4wp9bI60GtDASIqdERSTO5XU';\n        this.classPath = 'MOVIES.DramaCool';\n        this.supportedTypes = new Set([models_1.TvType.MOVIE, models_1.TvType.TVSERIES]);\n        this.search = async (query, page = 1) => {\n            try {\n                const searchResult = {\n                    currentPage: page,\n                    totalPages: page,\n                    hasNextPage: false,\n                    results: [],\n                };\n                const { data } = await this.client.get(`${this.baseUrl}/search?type=drama&keyword=${query.replace(/[\\W_]+/g, '+')}&page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                const navSelector = 'ul.pagination';\n                searchResult.hasNextPage =\n                    $(navSelector).length > 0 ? !$(navSelector).children().last().hasClass('selected') : false;\n                const lastPage = $(navSelector).children().last().find('a').attr('href');\n                if (lastPage != undefined && lastPage != '' && lastPage.includes('page=')) {\n                    const maxPage = new URLSearchParams(lastPage).get('page');\n                    if (maxPage != null && !isNaN(parseInt(maxPage)))\n                        searchResult.totalPages = parseInt(maxPage);\n                    else if (searchResult.hasNextPage)\n                        searchResult.totalPages = page + 1;\n                }\n                else if (searchResult.hasNextPage)\n                    searchResult.totalPages = page + 1;\n                $('div.block > div.tab-content > ul.list-episode-item > li').each((i, el) => {\n                    var _a;\n                    searchResult.results.push({\n                        id: (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.split(`${this.baseUrl}/`)[1],\n                        title: $(el).find('a > h3').text(),\n                        url: `${$(el).find('a').attr('href')}`,\n                        image: $(el).find('a > img').attr('data-original'),\n                    });\n                });\n                return searchResult;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchMediaInfo = async (mediaId) => {\n            var _a;\n            try {\n                const realMediaId = mediaId;\n                if (!mediaId.startsWith(this.baseUrl))\n                    mediaId = `${this.baseUrl}/${mediaId}`;\n                const mediaInfo = {\n                    id: '',\n                    title: '',\n                };\n                const { data } = await this.client.get(mediaId);\n                const $ = (0, cheerio_1.load)(data);\n                mediaInfo.id = realMediaId;\n                const duration = $('div.details div.info p:contains(\"Duration:\")').first().text().trim();\n                if (duration != '')\n                    mediaInfo.duration = duration.replace('Duration:', '').trim();\n                const status = $('div.details div.info p:contains(\"Status:\")').find('a').first().text().trim();\n                switch (status) {\n                    case 'Ongoing':\n                        mediaInfo.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    case 'Completed':\n                        mediaInfo.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                    default:\n                        mediaInfo.status = models_1.MediaStatus.UNKNOWN;\n                        break;\n                }\n                mediaInfo.genres = [];\n                const genres = $('div.details div.info p:contains(\"Genre:\")');\n                genres.each((_index, element) => {\n                    $(element)\n                        .find('a')\n                        .each((_, anchorElement) => {\n                        var _a;\n                        (_a = mediaInfo.genres) === null || _a === void 0 ? void 0 : _a.push($(anchorElement).text());\n                    });\n                });\n                mediaInfo.title = $('.info > h1:nth-child(1)').text();\n                mediaInfo.otherNames = $('.other_name > a')\n                    .map((i, el) => $(el).text().trim())\n                    .get();\n                mediaInfo.image = $('div.details > div.img > img').attr('src');\n                mediaInfo.description = $('div.details div.info p:not(:has(*))')\n                    .map((i, el) => $(el).text().trim())\n                    .get()\n                    .join('\\n\\n')\n                    .trim();\n                mediaInfo.releaseDate = this.removeContainsFromString($('div.details div.info p:contains(\"Released:\")').text(), 'Released');\n                mediaInfo.contentRating = this.removeContainsFromString($('div.details div.info p:contains(\"Content Rating:\")').text(), 'Content Rating');\n                mediaInfo.airsOn = this.removeContainsFromString($('div.details div.info p:contains(\"Airs On:\")').text(), 'Airs On');\n                mediaInfo.director = this.removeContainsFromString($('div.details div.info p:contains(\"Director:\")').text(), 'Director');\n                mediaInfo.originalNetwork = this.cleanUpText(this.removeContainsFromString($('div.details div.info p:contains(\"Original Network:\")').text().trim(), 'Original Network'));\n                const trailerIframe = $('div.trailer').find('iframe').attr('src');\n                mediaInfo.trailer = {\n                    id: (_a = trailerIframe === null || trailerIframe === void 0 ? void 0 : trailerIframe.split('embed/')[1]) === null || _a === void 0 ? void 0 : _a.split('?')[0],\n                    url: trailerIframe,\n                };\n                mediaInfo.characters = [];\n                $('div.slider-star > div.item').each((i, el) => {\n                    const url = `${this.baseUrl}${$(el).find('a.img').attr('href')}`;\n                    const image = $(el).find('img').attr('src');\n                    const name = $(el).find('h3.title').text().trim();\n                    mediaInfo.characters.push({\n                        url,\n                        image,\n                        name,\n                    });\n                });\n                mediaInfo.episodes = [];\n                $('div.content-left > div.block-tab > div > div > ul > li').each((i, el) => {\n                    var _a, _b, _c;\n                    (_a = mediaInfo.episodes) === null || _a === void 0 ? void 0 : _a.push({\n                        id: (_b = $(el).find('a').attr('href')) === null || _b === void 0 ? void 0 : _b.split(`${this.baseUrl}/`)[1],\n                        title: $(el).find('h3').text().replace(mediaInfo.title.toString(), '').trim(),\n                        episode: parseFloat((_c = $(el).find('a').attr('href')) === null || _c === void 0 ? void 0 : _c.split('-episode-')[1]),\n                        subType: $(el).find('span.type').text(),\n                        releaseDate: $(el).find('span.time').text(),\n                        url: `${$(el).find('a').attr('href')}`,\n                    });\n                });\n                mediaInfo.episodes.reverse();\n                return mediaInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchEpisodeSources = async (episodeId, server = models_1.StreamingServers.AsianLoad) => {\n            if (episodeId.startsWith('http')) {\n                const serverUrl = new URL(episodeId);\n                switch (server) {\n                    case models_1.StreamingServers.AsianLoad:\n                        return {\n                            headers: { Referer: serverUrl.origin },\n                            ...(await new extractors_1.AsianLoad(this.proxyConfig, this.adapter).extract(serverUrl)),\n                            download: this.downloadLink(episodeId),\n                        };\n                    case models_1.StreamingServers.MixDrop:\n                        return {\n                            headers: { Referer: serverUrl.origin },\n                            sources: await new extractors_1.MixDrop(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                    case models_1.StreamingServers.StreamTape:\n                        return {\n                            headers: { Referer: serverUrl.origin },\n                            sources: await new extractors_1.StreamTape(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                    case models_1.StreamingServers.StreamSB:\n                        return {\n                            headers: { Referer: serverUrl.origin },\n                            sources: await new extractors_1.StreamSB(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                    case models_1.StreamingServers.StreamWish:\n                        return {\n                            headers: { Referer: serverUrl.origin },\n                            ...(await new extractors_1.StreamWish(this.proxyConfig, this.adapter).extract(serverUrl)),\n                        };\n                    case models_1.StreamingServers.VidHide:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            sources: await new extractors_1.VidHide(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                    default:\n                        throw new Error('Server not supported');\n                }\n            }\n            try {\n                // episodeId = `${this.baseUrl}/${episodeId}`;\n                const servers = await this.fetchEpisodeServers(episodeId);\n                const i = servers.findIndex(s => s.name.toLowerCase() === server.toLowerCase());\n                if (i === -1) {\n                    throw new Error(`Server ${server} not found`);\n                }\n                const serverUrl = new URL(servers.filter(s => s.name.toLowerCase() === server.toLowerCase())[0].url);\n                return await this.fetchEpisodeSources(serverUrl.href, server);\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchPopular = async (page = 1) => {\n            return this.fetchData(`${this.baseUrl}/all-most-popular-drama?page=${page}`, page);\n        };\n        this.fetchRecentTvShows = async (page = 1) => {\n            return this.fetchData(`${this.baseUrl}/all-recently-added/drama?page=${page}`, page, true);\n        };\n        this.fetchRecentMovies = async (page = 1) => {\n            return this.fetchData(`${this.baseUrl}/all-recently-added/movie?page=${page}`, page, false, true);\n        };\n        this.fetchSpotlight = async () => {\n            try {\n                const results = { results: [] };\n                const { data } = await this.client.get(`${this.baseUrl}`);\n                const $ = (0, cheerio_1.load)(data);\n                $('div.ls-slide').each((i, el) => {\n                    var _a;\n                    results.results.push({\n                        id: (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('img').attr('title'),\n                        url: `${this.baseUrl}${$(el).find('a').attr('href')}`,\n                        cover: $(el).find('img').attr('src'),\n                    });\n                });\n                return results;\n            }\n            catch (err) {\n                console.error(err);\n                throw new Error(err.message);\n            }\n        };\n        this.downloadLink = (url) => {\n            return url.replace(/^(https:\\/\\/[^\\/]+)\\/[^?]+(\\?.+)$/, '$1/download$2');\n        };\n        this.removeContainsFromString = (str, contains) => {\n            contains = contains.toLowerCase();\n            return str.toLowerCase().replace(/\\n/g, '').replace(`${contains}:`, '').trim();\n        };\n        this.cleanUpText = (str) => {\n            return str\n                .split(';')\n                .map(part => part.trim())\n                .filter(part => part.length > 0)\n                .join('; ');\n        };\n    }\n    async fetchEpisodeServers(episodeId, ...args) {\n        try {\n            const episodeServers = [];\n            episodeId = `${this.baseUrl}/${episodeId}`;\n            const { data } = await this.client.get(episodeId);\n            const $ = (0, cheerio_1.load)(data);\n            // keeping the old code future reference\n            // $('div.anime_muti_link > ul > li').map(async (i, ele) => {\n            //   const url = $(ele).attr('data-video')!;\n            //   let name = $(ele).attr('class')!.replace('selected', '').trim();\n            //   if (name.includes('standard')) {\n            //     name = StreamingServers.AsianLoad;\n            //   }\n            //   episodeServers.push({\n            //     name: name,\n            //     url: url.startsWith('//') ? url?.replace('//', 'https://') : url,\n            //   });\n            // });\n            const standardServer = $('div.anime_muti_link > ul > li.standard').attr('data-video');\n            const url = standardServer.startsWith('//')\n                ? standardServer === null || standardServer === void 0 ? void 0 : standardServer.replace('//', 'https://')\n                : standardServer;\n            const { data: servers } = await this.client.get(url);\n            const $$ = (0, cheerio_1.load)(servers);\n            $$('div#list-server-more > ul > li').each((i, el) => {\n                let name = $$(el).attr('data-provider');\n                const server = $$(el).attr('data-video');\n                if (name.includes('serverwithtoken')) {\n                    name = models_1.StreamingServers.AsianLoad;\n                }\n                if (server) {\n                    episodeServers.push({\n                        name: name,\n                        url: server.startsWith('//') ? server === null || server === void 0 ? void 0 : server.replace('//', 'https://') : server,\n                    });\n                }\n            });\n            return episodeServers;\n        }\n        catch (err) {\n            throw new Error(err.message);\n        }\n    }\n    async fetchData(url, page, isTvShow = false, isMovies = false) {\n        try {\n            const { data } = await this.client.get(url);\n            const $ = (0, cheerio_1.load)(data);\n            const results = {\n                currentPage: page,\n                totalPages: page,\n                hasNextPage: false,\n                results: [],\n            };\n            $('ul.switch-block.list-episode-item')\n                .find('li')\n                .each((i, el) => {\n                var _a;\n                const result = {\n                    id: (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.split(`${this.baseUrl}/`)[1],\n                    title: $(el).find('h3.title').text().trim(),\n                    url: `${$(el).find('a').attr('href')}`,\n                    image: $(el).find('img').attr('data-original'),\n                };\n                // keeping the old code for future reference\n                // if (isTvShow || isMovies) {\n                //   result.id = result.image\n                //     ? result.image.replace(/^https:\\/\\/[^\\/]+\\/[^\\/]+\\/(.+?)-\\d+\\.\\w+$/, 'drama-detail/$1')!\n                //     : '';\n                // }\n                if (isTvShow) {\n                    result.episodeNumber = parseFloat($(el).find('span.ep').text().trim().split(' ')[1]);\n                }\n                results.results.push(result);\n            });\n            const navSelector = 'ul.pagination';\n            results.hasNextPage =\n                $(navSelector).length > 0 ? !$(navSelector).children().last().hasClass('selected') : false;\n            const lastPage = $(navSelector).children().last().find('a').attr('href');\n            if (lastPage != undefined && lastPage != '' && lastPage.includes('page=')) {\n                const maxPage = new URLSearchParams(lastPage).get('page');\n                if (maxPage != null && !isNaN(parseInt(maxPage)))\n                    results.totalPages = parseInt(maxPage);\n                else if (results.hasNextPage)\n                    results.totalPages = page + 1;\n            }\n            else if (results.hasNextPage)\n                results.totalPages = page + 1;\n            return results;\n        }\n        catch (err) {\n            throw new Error(err.message);\n        }\n    }\n}\n// (async () => {\n//   const dramaCool = new DramaCool();\n//   // const l=await dramaCool.search('squid game');\n//   const m = await dramaCool.fetchEpisodeServers('video-watch/squid-games-2021-episode-9-as-jao');\n//   const l = await dramaCool.fetchEpisodeSources('video-watch/squid-games-2021-episode-9-as-jao');\n//   // const l = await dramaCool.fetchMediaInfo('drama-detail/squid-games-2021-hd');\n//   console.log(m,l);\n// })();\nexports[\"default\"] = DramaCool;\n//# sourceMappingURL=dramacool.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbW92aWVzL2RyYW1hY29vbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxxQkFBcUIsbUJBQU8sQ0FBQyw0RkFBa0I7QUFDL0MsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSw2QkFBNkIsOEJBQThCLFFBQVEsS0FBSztBQUMvSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUhBQWlILGFBQWE7QUFDOUg7QUFDQSxnQ0FBZ0MsNkJBQTZCO0FBQzdEO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGFBQWEsR0FBRyxRQUFRO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGFBQWEsRUFBRSxpQ0FBaUM7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlIQUFpSCxhQUFhO0FBQzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDZCQUE2QjtBQUM3RCxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDJCQUEyQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDJCQUEyQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywyQkFBMkI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsMkJBQTJCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDJCQUEyQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx5QkFBeUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsYUFBYSxHQUFHLFVBQVU7QUFDNUQ7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFFBQVE7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGFBQWEsK0JBQStCLEtBQUs7QUFDdEY7QUFDQTtBQUNBLHFDQUFxQyxhQUFhLGlDQUFpQyxLQUFLO0FBQ3hGO0FBQ0E7QUFDQSxxQ0FBcUMsYUFBYSxpQ0FBaUMsS0FBSztBQUN4RjtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEMsd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSw2QkFBNkI7QUFDNUU7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxTQUFTO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsYUFBYSxHQUFHLFVBQVU7QUFDckQsb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZHQUE2RyxhQUFhO0FBQzFIO0FBQ0EsNEJBQTRCLDZCQUE2QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcbW92aWVzXFxkcmFtYWNvb2wuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IGV4dHJhY3RvcnNfMSA9IHJlcXVpcmUoXCIuLi8uLi9leHRyYWN0b3JzXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY2xhc3MgRHJhbWFDb29sIGV4dGVuZHMgbW9kZWxzXzEuTW92aWVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnRHJhbWFDb29sJztcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJ2h0dHBzOi8vZHJhbWFjb29sLmJnJztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vcGxheS1saC5nb29nbGV1c2VyY29udGVudC5jb20vSWFDYjJKWElJME9WNjExTVEtd1NBOHZfU0FzOVhGNkUzVE1EaXV4R0dYbzR3cDliSTYwR3REQVNJcWRFUlNUTzVYVSc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ01PVklFUy5EcmFtYUNvb2wnO1xuICAgICAgICB0aGlzLnN1cHBvcnRlZFR5cGVzID0gbmV3IFNldChbbW9kZWxzXzEuVHZUeXBlLk1PVklFLCBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVNdKTtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocXVlcnksIHBhZ2UgPSAxKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUGFnZXM6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L3NlYXJjaD90eXBlPWRyYW1hJmtleXdvcmQ9JHtxdWVyeS5yZXBsYWNlKC9bXFxXX10rL2csICcrJyl9JnBhZ2U9JHtwYWdlfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hdlNlbGVjdG9yID0gJ3VsLnBhZ2luYXRpb24nO1xuICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdC5oYXNOZXh0UGFnZSA9XG4gICAgICAgICAgICAgICAgICAgICQobmF2U2VsZWN0b3IpLmxlbmd0aCA+IDAgPyAhJChuYXZTZWxlY3RvcikuY2hpbGRyZW4oKS5sYXN0KCkuaGFzQ2xhc3MoJ3NlbGVjdGVkJykgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0UGFnZSA9ICQobmF2U2VsZWN0b3IpLmNoaWxkcmVuKCkubGFzdCgpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RQYWdlICE9IHVuZGVmaW5lZCAmJiBsYXN0UGFnZSAhPSAnJyAmJiBsYXN0UGFnZS5pbmNsdWRlcygncGFnZT0nKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhQYWdlID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsYXN0UGFnZSkuZ2V0KCdwYWdlJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXhQYWdlICE9IG51bGwgJiYgIWlzTmFOKHBhcnNlSW50KG1heFBhZ2UpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdC50b3RhbFBhZ2VzID0gcGFyc2VJbnQobWF4UGFnZSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlYXJjaFJlc3VsdC5oYXNOZXh0UGFnZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdC50b3RhbFBhZ2VzID0gcGFnZSArIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlYXJjaFJlc3VsdC5oYXNOZXh0UGFnZSlcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0LnRvdGFsUGFnZXMgPSBwYWdlICsgMTtcbiAgICAgICAgICAgICAgICAkKCdkaXYuYmxvY2sgPiBkaXYudGFiLWNvbnRlbnQgPiB1bC5saXN0LWVwaXNvZGUtaXRlbSA+IGxpJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHQucmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3BsaXQoYCR7dGhpcy5iYXNlVXJsfS9gKVsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdhID4gaDMnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAkeyQoZWwpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdhID4gaW1nJykuYXR0cignZGF0YS1vcmlnaW5hbCcpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hNZWRpYUluZm8gPSBhc3luYyAobWVkaWFJZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFsTWVkaWFJZCA9IG1lZGlhSWQ7XG4gICAgICAgICAgICAgICAgaWYgKCFtZWRpYUlkLnN0YXJ0c1dpdGgodGhpcy5iYXNlVXJsKSlcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFJZCA9IGAke3RoaXMuYmFzZVVybH0vJHttZWRpYUlkfWA7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVkaWFJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogJycsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KG1lZGlhSWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5pZCA9IHJlYWxNZWRpYUlkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gJCgnZGl2LmRldGFpbHMgZGl2LmluZm8gcDpjb250YWlucyhcIkR1cmF0aW9uOlwiKScpLmZpcnN0KCkudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoZHVyYXRpb24gIT0gJycpXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhSW5mby5kdXJhdGlvbiA9IGR1cmF0aW9uLnJlcGxhY2UoJ0R1cmF0aW9uOicsICcnKS50cmltKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gJCgnZGl2LmRldGFpbHMgZGl2LmluZm8gcDpjb250YWlucyhcIlN0YXR1czpcIiknKS5maW5kKCdhJykuZmlyc3QoKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ09uZ29pbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLk9OR09JTkc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnQ29tcGxldGVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5DT01QTEVURUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5VTktOT1dOO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5nZW5yZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBnZW5yZXMgPSAkKCdkaXYuZGV0YWlscyBkaXYuaW5mbyBwOmNvbnRhaW5zKFwiR2VucmU6XCIpJyk7XG4gICAgICAgICAgICAgICAgZ2VucmVzLmVhY2goKF9pbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAkKGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnYScpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZWFjaCgoXywgYW5jaG9yRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gbWVkaWFJbmZvLmdlbnJlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnB1c2goJChhbmNob3JFbGVtZW50KS50ZXh0KCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtZWRpYUluZm8udGl0bGUgPSAkKCcuaW5mbyA+IGgxOm50aC1jaGlsZCgxKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBtZWRpYUluZm8ub3RoZXJOYW1lcyA9ICQoJy5vdGhlcl9uYW1lID4gYScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiAkKGVsKS50ZXh0KCkudHJpbSgpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmltYWdlID0gJCgnZGl2LmRldGFpbHMgPiBkaXYuaW1nID4gaW1nJykuYXR0cignc3JjJyk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmRlc2NyaXB0aW9uID0gJCgnZGl2LmRldGFpbHMgZGl2LmluZm8gcDpub3QoOmhhcygqKSknKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpLnRyaW0oKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCdcXG5cXG4nKVxuICAgICAgICAgICAgICAgICAgICAudHJpbSgpO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5yZWxlYXNlRGF0ZSA9IHRoaXMucmVtb3ZlQ29udGFpbnNGcm9tU3RyaW5nKCQoJ2Rpdi5kZXRhaWxzIGRpdi5pbmZvIHA6Y29udGFpbnMoXCJSZWxlYXNlZDpcIiknKS50ZXh0KCksICdSZWxlYXNlZCcpO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5jb250ZW50UmF0aW5nID0gdGhpcy5yZW1vdmVDb250YWluc0Zyb21TdHJpbmcoJCgnZGl2LmRldGFpbHMgZGl2LmluZm8gcDpjb250YWlucyhcIkNvbnRlbnQgUmF0aW5nOlwiKScpLnRleHQoKSwgJ0NvbnRlbnQgUmF0aW5nJyk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmFpcnNPbiA9IHRoaXMucmVtb3ZlQ29udGFpbnNGcm9tU3RyaW5nKCQoJ2Rpdi5kZXRhaWxzIGRpdi5pbmZvIHA6Y29udGFpbnMoXCJBaXJzIE9uOlwiKScpLnRleHQoKSwgJ0FpcnMgT24nKTtcbiAgICAgICAgICAgICAgICBtZWRpYUluZm8uZGlyZWN0b3IgPSB0aGlzLnJlbW92ZUNvbnRhaW5zRnJvbVN0cmluZygkKCdkaXYuZGV0YWlscyBkaXYuaW5mbyBwOmNvbnRhaW5zKFwiRGlyZWN0b3I6XCIpJykudGV4dCgpLCAnRGlyZWN0b3InKTtcbiAgICAgICAgICAgICAgICBtZWRpYUluZm8ub3JpZ2luYWxOZXR3b3JrID0gdGhpcy5jbGVhblVwVGV4dCh0aGlzLnJlbW92ZUNvbnRhaW5zRnJvbVN0cmluZygkKCdkaXYuZGV0YWlscyBkaXYuaW5mbyBwOmNvbnRhaW5zKFwiT3JpZ2luYWwgTmV0d29yazpcIiknKS50ZXh0KCkudHJpbSgpLCAnT3JpZ2luYWwgTmV0d29yaycpKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFpbGVySWZyYW1lID0gJCgnZGl2LnRyYWlsZXInKS5maW5kKCdpZnJhbWUnKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgICAgICBtZWRpYUluZm8udHJhaWxlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9IHRyYWlsZXJJZnJhbWUgPT09IG51bGwgfHwgdHJhaWxlcklmcmFtZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdHJhaWxlcklmcmFtZS5zcGxpdCgnZW1iZWQvJylbMV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnPycpWzBdLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHRyYWlsZXJJZnJhbWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBtZWRpYUluZm8uY2hhcmFjdGVycyA9IFtdO1xuICAgICAgICAgICAgICAgICQoJ2Rpdi5zbGlkZXItc3RhciA+IGRpdi5pdGVtJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnYS5pbWcnKS5hdHRyKCdocmVmJyl9YDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSAkKGVsKS5maW5kKCdpbWcnKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9ICQoZWwpLmZpbmQoJ2gzLnRpdGxlJykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFJbmZvLmNoYXJhY3RlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5lcGlzb2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgICQoJ2Rpdi5jb250ZW50LWxlZnQgPiBkaXYuYmxvY2stdGFiID4gZGl2ID4gZGl2ID4gdWwgPiBsaScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBtZWRpYUluZm8uZXBpc29kZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2IgPSAkKGVsKS5maW5kKCdhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc3BsaXQoYCR7dGhpcy5iYXNlVXJsfS9gKVsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdoMycpLnRleHQoKS5yZXBsYWNlKG1lZGlhSW5mby50aXRsZS50b1N0cmluZygpLCAnJykudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZTogcGFyc2VGbG9hdCgoX2MgPSAkKGVsKS5maW5kKCdhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc3BsaXQoJy1lcGlzb2RlLScpWzFdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YlR5cGU6ICQoZWwpLmZpbmQoJ3NwYW4udHlwZScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiAkKGVsKS5maW5kKCdzcGFuLnRpbWUnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAkeyQoZWwpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmVwaXNvZGVzLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVkaWFJbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU291cmNlcyA9IGFzeW5jIChlcGlzb2RlSWQsIHNlcnZlciA9IG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuQXNpYW5Mb2FkKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXBpc29kZUlkLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlclVybCA9IG5ldyBVUkwoZXBpc29kZUlkKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuQXNpYW5Mb2FkOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IHNlcnZlclVybC5vcmlnaW4gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5Bc2lhbkxvYWQodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkOiB0aGlzLmRvd25sb2FkTGluayhlcGlzb2RlSWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLk1peERyb3A6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLm9yaWdpbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuTWl4RHJvcCh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc2VydmVyVXJsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5TdHJlYW1UYXBlOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IHNlcnZlclVybC5vcmlnaW4gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBhd2FpdCBuZXcgZXh0cmFjdG9yc18xLlN0cmVhbVRhcGUodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuU3RyZWFtU0I6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLm9yaWdpbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuU3RyZWFtU0IodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuU3RyZWFtV2lzaDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwub3JpZ2luIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuU3RyZWFtV2lzaCh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc2VydmVyVXJsKSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVmlkSGlkZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwuaHJlZiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuVmlkSGlkZSh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc2VydmVyVXJsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlcnZlciBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBlcGlzb2RlSWQgPSBgJHt0aGlzLmJhc2VVcmx9LyR7ZXBpc29kZUlkfWA7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVycyA9IGF3YWl0IHRoaXMuZmV0Y2hFcGlzb2RlU2VydmVycyhlcGlzb2RlSWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBzZXJ2ZXJzLmZpbmRJbmRleChzID0+IHMubmFtZS50b0xvd2VyQ2FzZSgpID09PSBzZXJ2ZXIudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyICR7c2VydmVyfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyVXJsID0gbmV3IFVSTChzZXJ2ZXJzLmZpbHRlcihzID0+IHMubmFtZS50b0xvd2VyQ2FzZSgpID09PSBzZXJ2ZXIudG9Mb3dlckNhc2UoKSlbMF0udXJsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzKHNlcnZlclVybC5ocmVmLCBzZXJ2ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hQb3B1bGFyID0gYXN5bmMgKHBhZ2UgPSAxKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaERhdGEoYCR7dGhpcy5iYXNlVXJsfS9hbGwtbW9zdC1wb3B1bGFyLWRyYW1hP3BhZ2U9JHtwYWdlfWAsIHBhZ2UpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoUmVjZW50VHZTaG93cyA9IGFzeW5jIChwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hEYXRhKGAke3RoaXMuYmFzZVVybH0vYWxsLXJlY2VudGx5LWFkZGVkL2RyYW1hP3BhZ2U9JHtwYWdlfWAsIHBhZ2UsIHRydWUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoUmVjZW50TW92aWVzID0gYXN5bmMgKHBhZ2UgPSAxKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaERhdGEoYCR7dGhpcy5iYXNlVXJsfS9hbGwtcmVjZW50bHktYWRkZWQvbW92aWU/cGFnZT0ke3BhZ2V9YCwgcGFnZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoU3BvdGxpZ2h0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0geyByZXN1bHRzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICAkKCdkaXYubHMtc2xpZGUnKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbCkuZmluZCgnaW1nJykuYXR0cigndGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXI6ICQoZWwpLmZpbmQoJ2ltZycpLmF0dHIoJ3NyYycpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kb3dubG9hZExpbmsgPSAodXJsKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdXJsLnJlcGxhY2UoL14oaHR0cHM6XFwvXFwvW15cXC9dKylcXC9bXj9dKyhcXD8uKykkLywgJyQxL2Rvd25sb2FkJDInKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZW1vdmVDb250YWluc0Zyb21TdHJpbmcgPSAoc3RyLCBjb250YWlucykgPT4ge1xuICAgICAgICAgICAgY29udGFpbnMgPSBjb250YWlucy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcbi9nLCAnJykucmVwbGFjZShgJHtjb250YWluc306YCwgJycpLnRyaW0oKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jbGVhblVwVGV4dCA9IChzdHIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBzdHJcbiAgICAgICAgICAgICAgICAuc3BsaXQoJzsnKVxuICAgICAgICAgICAgICAgIC5tYXAocGFydCA9PiBwYXJ0LnRyaW0oKSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKHBhcnQgPT4gcGFydC5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIC5qb2luKCc7ICcpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBmZXRjaEVwaXNvZGVTZXJ2ZXJzKGVwaXNvZGVJZCwgLi4uYXJncykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZXBpc29kZVNlcnZlcnMgPSBbXTtcbiAgICAgICAgICAgIGVwaXNvZGVJZCA9IGAke3RoaXMuYmFzZVVybH0vJHtlcGlzb2RlSWR9YDtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGVwaXNvZGVJZCk7XG4gICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgIC8vIGtlZXBpbmcgdGhlIG9sZCBjb2RlIGZ1dHVyZSByZWZlcmVuY2VcbiAgICAgICAgICAgIC8vICQoJ2Rpdi5hbmltZV9tdXRpX2xpbmsgPiB1bCA+IGxpJykubWFwKGFzeW5jIChpLCBlbGUpID0+IHtcbiAgICAgICAgICAgIC8vICAgY29uc3QgdXJsID0gJChlbGUpLmF0dHIoJ2RhdGEtdmlkZW8nKSE7XG4gICAgICAgICAgICAvLyAgIGxldCBuYW1lID0gJChlbGUpLmF0dHIoJ2NsYXNzJykhLnJlcGxhY2UoJ3NlbGVjdGVkJywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgIC8vICAgaWYgKG5hbWUuaW5jbHVkZXMoJ3N0YW5kYXJkJykpIHtcbiAgICAgICAgICAgIC8vICAgICBuYW1lID0gU3RyZWFtaW5nU2VydmVycy5Bc2lhbkxvYWQ7XG4gICAgICAgICAgICAvLyAgIH1cbiAgICAgICAgICAgIC8vICAgZXBpc29kZVNlcnZlcnMucHVzaCh7XG4gICAgICAgICAgICAvLyAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIC8vICAgICB1cmw6IHVybC5zdGFydHNXaXRoKCcvLycpID8gdXJsPy5yZXBsYWNlKCcvLycsICdodHRwczovLycpIDogdXJsLFxuICAgICAgICAgICAgLy8gICB9KTtcbiAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgY29uc3Qgc3RhbmRhcmRTZXJ2ZXIgPSAkKCdkaXYuYW5pbWVfbXV0aV9saW5rID4gdWwgPiBsaS5zdGFuZGFyZCcpLmF0dHIoJ2RhdGEtdmlkZW8nKTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHN0YW5kYXJkU2VydmVyLnN0YXJ0c1dpdGgoJy8vJylcbiAgICAgICAgICAgICAgICA/IHN0YW5kYXJkU2VydmVyID09PSBudWxsIHx8IHN0YW5kYXJkU2VydmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGFuZGFyZFNlcnZlci5yZXBsYWNlKCcvLycsICdodHRwczovLycpXG4gICAgICAgICAgICAgICAgOiBzdGFuZGFyZFNlcnZlcjtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogc2VydmVycyB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHVybCk7XG4gICAgICAgICAgICBjb25zdCAkJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoc2VydmVycyk7XG4gICAgICAgICAgICAkJCgnZGl2I2xpc3Qtc2VydmVyLW1vcmUgPiB1bCA+IGxpJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbmFtZSA9ICQkKGVsKS5hdHRyKCdkYXRhLXByb3ZpZGVyJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyID0gJCQoZWwpLmF0dHIoJ2RhdGEtdmlkZW8nKTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZS5pbmNsdWRlcygnc2VydmVyd2l0aHRva2VuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuQXNpYW5Mb2FkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGVwaXNvZGVTZXJ2ZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc2VydmVyLnN0YXJ0c1dpdGgoJy8vJykgPyBzZXJ2ZXIgPT09IG51bGwgfHwgc2VydmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZXJ2ZXIucmVwbGFjZSgnLy8nLCAnaHR0cHM6Ly8nKSA6IHNlcnZlcixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZXBpc29kZVNlcnZlcnM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmZXRjaERhdGEodXJsLCBwYWdlLCBpc1R2U2hvdyA9IGZhbHNlLCBpc01vdmllcyA9IGZhbHNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwpO1xuICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgIHRvdGFsUGFnZXM6IHBhZ2UsXG4gICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICQoJ3VsLnN3aXRjaC1ibG9jay5saXN0LWVwaXNvZGUtaXRlbScpXG4gICAgICAgICAgICAgICAgLmZpbmQoJ2xpJylcbiAgICAgICAgICAgICAgICAuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogKF9hID0gJChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KGAke3RoaXMuYmFzZVVybH0vYClbMV0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdoMy50aXRsZScpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIHVybDogYCR7JChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnaW1nJykuYXR0cignZGF0YS1vcmlnaW5hbCcpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8ga2VlcGluZyB0aGUgb2xkIGNvZGUgZm9yIGZ1dHVyZSByZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAvLyBpZiAoaXNUdlNob3cgfHwgaXNNb3ZpZXMpIHtcbiAgICAgICAgICAgICAgICAvLyAgIHJlc3VsdC5pZCA9IHJlc3VsdC5pbWFnZVxuICAgICAgICAgICAgICAgIC8vICAgICA/IHJlc3VsdC5pbWFnZS5yZXBsYWNlKC9eaHR0cHM6XFwvXFwvW15cXC9dK1xcL1teXFwvXStcXC8oLis/KS1cXGQrXFwuXFx3KyQvLCAnZHJhbWEtZGV0YWlsLyQxJykhXG4gICAgICAgICAgICAgICAgLy8gICAgIDogJyc7XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmIChpc1R2U2hvdykge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZXBpc29kZU51bWJlciA9IHBhcnNlRmxvYXQoJChlbCkuZmluZCgnc3Bhbi5lcCcpLnRleHQoKS50cmltKCkuc3BsaXQoJyAnKVsxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdHMucmVzdWx0cy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG5hdlNlbGVjdG9yID0gJ3VsLnBhZ2luYXRpb24nO1xuICAgICAgICAgICAgcmVzdWx0cy5oYXNOZXh0UGFnZSA9XG4gICAgICAgICAgICAgICAgJChuYXZTZWxlY3RvcikubGVuZ3RoID4gMCA/ICEkKG5hdlNlbGVjdG9yKS5jaGlsZHJlbigpLmxhc3QoKS5oYXNDbGFzcygnc2VsZWN0ZWQnKSA6IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgbGFzdFBhZ2UgPSAkKG5hdlNlbGVjdG9yKS5jaGlsZHJlbigpLmxhc3QoKS5maW5kKCdhJykuYXR0cignaHJlZicpO1xuICAgICAgICAgICAgaWYgKGxhc3RQYWdlICE9IHVuZGVmaW5lZCAmJiBsYXN0UGFnZSAhPSAnJyAmJiBsYXN0UGFnZS5pbmNsdWRlcygncGFnZT0nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heFBhZ2UgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxhc3RQYWdlKS5nZXQoJ3BhZ2UnKTtcbiAgICAgICAgICAgICAgICBpZiAobWF4UGFnZSAhPSBudWxsICYmICFpc05hTihwYXJzZUludChtYXhQYWdlKSkpXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMudG90YWxQYWdlcyA9IHBhcnNlSW50KG1heFBhZ2UpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdHMuaGFzTmV4dFBhZ2UpXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMudG90YWxQYWdlcyA9IHBhZ2UgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0cy5oYXNOZXh0UGFnZSlcbiAgICAgICAgICAgICAgICByZXN1bHRzLnRvdGFsUGFnZXMgPSBwYWdlICsgMTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyAoYXN5bmMgKCkgPT4ge1xuLy8gICBjb25zdCBkcmFtYUNvb2wgPSBuZXcgRHJhbWFDb29sKCk7XG4vLyAgIC8vIGNvbnN0IGw9YXdhaXQgZHJhbWFDb29sLnNlYXJjaCgnc3F1aWQgZ2FtZScpO1xuLy8gICBjb25zdCBtID0gYXdhaXQgZHJhbWFDb29sLmZldGNoRXBpc29kZVNlcnZlcnMoJ3ZpZGVvLXdhdGNoL3NxdWlkLWdhbWVzLTIwMjEtZXBpc29kZS05LWFzLWphbycpO1xuLy8gICBjb25zdCBsID0gYXdhaXQgZHJhbWFDb29sLmZldGNoRXBpc29kZVNvdXJjZXMoJ3ZpZGVvLXdhdGNoL3NxdWlkLWdhbWVzLTIwMjEtZXBpc29kZS05LWFzLWphbycpO1xuLy8gICAvLyBjb25zdCBsID0gYXdhaXQgZHJhbWFDb29sLmZldGNoTWVkaWFJbmZvKCdkcmFtYS1kZXRhaWwvc3F1aWQtZ2FtZXMtMjAyMS1oZCcpO1xuLy8gICBjb25zb2xlLmxvZyhtLGwpO1xuLy8gfSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IERyYW1hQ29vbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRyYW1hY29vbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/dramacool.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/flixhq.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/movies/flixhq.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nclass FlixHQ extends models_1.MovieParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'FlixHQ';\n        this.baseUrl = 'https://flixhq.to';\n        this.logo = 'https://upload.wikimedia.org/wikipedia/commons/7/7a/MyAnimeList_Logo.png';\n        this.classPath = 'MOVIES.FlixHQ';\n        this.supportedTypes = new Set([models_1.TvType.MOVIE, models_1.TvType.TVSERIES]);\n        /**\n         *\n         * @param query search query string\n         * @param page page number (default 1) (optional)\n         */\n        this.search = async (query, page = 1) => {\n            const searchResult = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/search/${query.replace(/[\\W_]+/g, '-')}?page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                const navSelector = 'div.pre-pagination:nth-child(3) > nav:nth-child(1) > ul:nth-child(1)';\n                searchResult.hasNextPage =\n                    $(navSelector).length > 0 ? !$(navSelector).children().last().hasClass('active') : false;\n                $('.film_list-wrap > div.flw-item').each((i, el) => {\n                    var _a;\n                    const releaseDate = $(el).find('div.film-detail > div.fd-infor > span:nth-child(1)').text();\n                    searchResult.results.push({\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('div.film-detail > h2 > a').attr('title'),\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                        seasons: releaseDate.includes('SS') ? parseInt(releaseDate.split('SS')[1]) : undefined,\n                        type: $(el).find('div.film-detail > div.fd-infor > span.float-right').text() === 'Movie'\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    });\n                });\n                return searchResult;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param mediaId media link or id\n         */\n        this.fetchMediaInfo = async (mediaId) => {\n            var _a;\n            if (!mediaId.startsWith(this.baseUrl)) {\n                mediaId = `${this.baseUrl}/${mediaId}`;\n            }\n            const movieInfo = {\n                id: mediaId.split('to/').pop(),\n                title: '',\n                url: mediaId,\n            };\n            try {\n                const { data } = await this.client.get(mediaId);\n                const $ = (0, cheerio_1.load)(data);\n                const recommendationsArray = [];\n                $('div.movie_information > div.container > div.m_i-related > div.film-related > section.block_area > div.block_area-content > div.film_list-wrap > div.flw-item').each((i, el) => {\n                    var _a, _b, _c;\n                    recommendationsArray.push({\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('div.film-detail > h3.film-name > a').text(),\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        duration: (_b = $(el).find('div.film-detail > div.fd-infor > span.fdi-duration').text().replace('m', '')) !== null && _b !== void 0 ? _b : null,\n                        type: $(el).find('div.film-detail > div.fd-infor > span.fdi-type').text().toLowerCase() === 'tv'\n                            ? models_1.TvType.TVSERIES\n                            : (_c = models_1.TvType.MOVIE) !== null && _c !== void 0 ? _c : null,\n                    });\n                });\n                const uid = $('.watch_block').attr('data-id');\n                movieInfo.cover = (_a = $('div.w_b-cover').attr('style')) === null || _a === void 0 ? void 0 : _a.slice(22).replace(')', '').replace(';', '');\n                movieInfo.title = $('.heading-name > a:nth-child(1)').text();\n                movieInfo.image = $('.m_i-d-poster > div:nth-child(1) > img:nth-child(1)').attr('src');\n                movieInfo.description = $('.description').text();\n                movieInfo.type = movieInfo.id.split('/')[0] === 'tv' ? models_1.TvType.TVSERIES : models_1.TvType.MOVIE;\n                movieInfo.releaseDate = $('div.row-line:nth-child(3)').text().replace('Released: ', '').trim();\n                movieInfo.genres = $('div.row-line:nth-child(2) > a')\n                    .map((i, el) => $(el).text().split('&'))\n                    .get()\n                    .map(v => v.trim());\n                movieInfo.casts = $('div.row-line:nth-child(5) > a')\n                    .map((i, el) => $(el).text())\n                    .get();\n                movieInfo.tags = $('div.row-line:nth-child(6) > h2')\n                    .map((i, el) => $(el).text())\n                    .get();\n                movieInfo.production = $('div.row-line:nth-child(4) > a:nth-child(2)').text();\n                movieInfo.country = $('div.row-line:nth-child(1) > a:nth-child(2)').text();\n                movieInfo.duration = $('span.item:nth-child(3)').text();\n                movieInfo.rating = parseFloat($('span.item:nth-child(2)').text());\n                movieInfo.recommendations = recommendationsArray;\n                const ajaxReqUrl = (id, type, isSeasons = false) => `${this.baseUrl}/ajax/${type === 'movie' ? type : `v2/${type}`}/${isSeasons ? 'seasons' : 'episodes'}/${id}`;\n                if (movieInfo.type === models_1.TvType.TVSERIES) {\n                    const { data } = await this.client.get(ajaxReqUrl(uid, 'tv', true));\n                    const $$ = (0, cheerio_1.load)(data);\n                    const seasonsIds = $$('.dropdown-menu > a')\n                        .map((i, el) => $(el).attr('data-id'))\n                        .get();\n                    movieInfo.episodes = [];\n                    let season = 1;\n                    for (const id of seasonsIds) {\n                        const { data } = await this.client.get(ajaxReqUrl(id, 'season'));\n                        const $$$ = (0, cheerio_1.load)(data);\n                        $$$('.nav > li')\n                            .map((i, el) => {\n                            var _a;\n                            const episode = {\n                                id: $$$(el).find('a').attr('id').split('-')[1],\n                                title: $$$(el).find('a').attr('title'),\n                                number: parseInt($$$(el).find('a').attr('title').split(':')[0].slice(3).trim()),\n                                season: season,\n                                url: `${this.baseUrl}/ajax/v2/episode/servers/${$$$(el).find('a').attr('id').split('-')[1]}`,\n                            };\n                            (_a = movieInfo.episodes) === null || _a === void 0 ? void 0 : _a.push(episode);\n                        })\n                            .get();\n                        season++;\n                    }\n                }\n                else {\n                    movieInfo.episodes = [\n                        {\n                            id: uid,\n                            title: movieInfo.title,\n                            url: `${this.baseUrl}/ajax/movie/episodes/${uid}`,\n                        },\n                    ];\n                }\n                return movieInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId episode id\n         * @param mediaId media id\n         * @param server server type (default `VidCloud`) (optional)\n         */\n        this.fetchEpisodeSources = async (episodeId, mediaId, server = models_1.StreamingServers.UpCloud) => {\n            if (episodeId.startsWith('http')) {\n                const serverUrl = new URL(episodeId);\n                switch (server) {\n                    case models_1.StreamingServers.MixDrop:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            sources: await new extractors_1.MixDrop(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                    case models_1.StreamingServers.VidCloud:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new extractors_1.VidCloud(this.proxyConfig, this.adapter).extract(serverUrl, true, this.baseUrl)),\n                        };\n                    case models_1.StreamingServers.UpCloud:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new extractors_1.VidCloud(this.proxyConfig, this.adapter).extract(serverUrl, undefined, this.baseUrl)),\n                        };\n                    default:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            sources: await new extractors_1.MixDrop(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                }\n            }\n            try {\n                const servers = await this.fetchEpisodeServers(episodeId, mediaId);\n                const i = servers.findIndex(s => s.name === server);\n                if (i === -1) {\n                    throw new Error(`Server ${server} not found`);\n                }\n                const { data } = await this.client.get(`${this.baseUrl}/ajax/episode/sources/${servers[i].url.split('.').slice(-1).shift()}`);\n                const serverUrl = new URL(data.link);\n                return await this.fetchEpisodeSources(serverUrl.href, mediaId, server);\n            }\n            catch (err) {\n                console.log(err, 'err');\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId takes episode link or movie id\n         * @param mediaId takes movie link or id (found on movie info object)\n         */\n        this.fetchEpisodeServers = async (episodeId, mediaId) => {\n            if (!episodeId.startsWith(this.baseUrl + '/ajax') && !mediaId.includes('movie'))\n                episodeId = `${this.baseUrl}/ajax/v2/episode/servers/${episodeId}`;\n            else\n                episodeId = `${this.baseUrl}/ajax/movie/episodes/${episodeId}`;\n            try {\n                const { data } = await this.client.get(episodeId);\n                const $ = (0, cheerio_1.load)(data);\n                const servers = $('.nav > li')\n                    .map((i, el) => {\n                    const server = {\n                        name: mediaId.includes('movie')\n                            ? $(el).find('a').attr('title').toLowerCase()\n                            : $(el).find('a').attr('title').slice(6).trim().toLowerCase(),\n                        url: `${this.baseUrl}/${mediaId}.${!mediaId.includes('movie')\n                            ? $(el).find('a').attr('data-id')\n                            : $(el).find('a').attr('data-linkid')}`.replace(!mediaId.includes('movie') ? /\\/tv\\// : /\\/movie\\//, !mediaId.includes('movie') ? '/watch-tv/' : '/watch-movie/'),\n                    };\n                    return server;\n                })\n                    .get();\n                return servers;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchRecentMovies = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const movies = $('section.block_area:contains(\"Latest Movies\") > div:nth-child(2) > div:nth-child(1) > div.flw-item')\n                    .map((i, el) => {\n                    var _a;\n                    const releaseDate = $(el).find('div.film-detail > div.fd-infor > span:nth-child(1)').text();\n                    const movie = {\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('div.film-detail > h3.film-name > a').attr('title'),\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                        duration: $(el).find('div.film-detail > div.fd-infor > span.fdi-duration').text() || null,\n                        type: $(el).find('div.film-detail > div.fd-infor > span.float-right').text() === 'Movie'\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    return movie;\n                })\n                    .get();\n                return movies;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchRecentTvShows = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const tvshows = $('section.block_area:contains(\"Latest TV Shows\") > div:nth-child(2) > div:nth-child(1) > div.flw-item')\n                    .map((i, el) => {\n                    var _a;\n                    const tvshow = {\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('div.film-detail > h3.film-name > a').attr('title'),\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        season: $(el).find('div.film-detail > div.fd-infor > span:nth-child(1)').text(),\n                        latestEpisode: $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text() || null,\n                        type: $(el).find('div.film-detail > div.fd-infor > span.float-right').text() === 'Movie'\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    return tvshow;\n                })\n                    .get();\n                return tvshows;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchTrendingMovies = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const movies = $('div#trending-movies div.film_list-wrap div.flw-item')\n                    .map((i, el) => {\n                    var _a;\n                    const releaseDate = $(el).find('div.film-detail > div.fd-infor > span:nth-child(1)').text();\n                    const movie = {\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('div.film-detail > h3.film-name > a').attr('title'),\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                        duration: $(el).find('div.film-detail > div.fd-infor > span.fdi-duration').text() || null,\n                        type: $(el).find('div.film-detail > div.fd-infor > span.float-right').text() === 'Movie'\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    return movie;\n                })\n                    .get();\n                return movies;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchTrendingTvShows = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const tvshows = $('div#trending-tv div.film_list-wrap div.flw-item')\n                    .map((i, el) => {\n                    var _a;\n                    const tvshow = {\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('div.film-detail > h3.film-name > a').attr('title'),\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        season: $(el).find('div.film-detail > div.fd-infor > span:nth-child(1)').text(),\n                        latestEpisode: $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text() || null,\n                        type: $(el).find('div.film-detail > div.fd-infor > span.float-right').text() === 'Movie'\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    return tvshow;\n                })\n                    .get();\n                return tvshows;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchByCountry = async (country, page = 1) => {\n            const result = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            const navSelector = 'div.pre-pagination:nth-child(3) > nav:nth-child(1) > ul:nth-child(1)';\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/country/${country}/?page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                result.hasNextPage =\n                    $(navSelector).length > 0 ? !$(navSelector).children().last().hasClass('active') : false;\n                $('div.container > section.block_area > div.block_area-content > div.film_list-wrap > div.flw-item')\n                    .each((i, el) => {\n                    var _a, _b, _c, _d;\n                    const resultItem = {\n                        id: (_b = (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1)) !== null && _b !== void 0 ? _b : '',\n                        title: (_c = $(el).find('div.film-detail > h2.film-name > a').attr('title')) !== null && _c !== void 0 ? _c : '',\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        type: $(el).find('div.film-detail > div.fd-infor > span.float-right').text() === 'Movie'\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    const season = $(el).find('div.film-detail > div.fd-infor > span:nth-child(1)').text();\n                    const latestEpisode = (_d = $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text()) !== null && _d !== void 0 ? _d : null;\n                    if (resultItem.type === models_1.TvType.TVSERIES) {\n                        resultItem.season = season;\n                        resultItem.latestEpisode = latestEpisode;\n                    }\n                    else {\n                        resultItem.releaseDate = season;\n                        resultItem.duration = latestEpisode;\n                    }\n                    result.results.push(resultItem);\n                })\n                    .get();\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchByGenre = async (genre, page = 1) => {\n            const result = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/genre/${genre}?page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                const navSelector = 'div.pre-pagination:nth-child(3) > nav:nth-child(1) > ul:nth-child(1)';\n                result.hasNextPage =\n                    $(navSelector).length > 0 ? !$(navSelector).children().last().hasClass('active') : false;\n                $('.film_list-wrap > div.flw-item')\n                    .each((i, el) => {\n                    var _a, _b, _c, _d;\n                    const resultItem = {\n                        id: (_b = (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1)) !== null && _b !== void 0 ? _b : '',\n                        title: (_c = $(el).find('div.film-detail > h2 > a').attr('title')) !== null && _c !== void 0 ? _c : '',\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        type: $(el).find('div.film-detail > div.fd-infor > span.float-right').text() === 'Movie'\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    const season = $(el).find('div.film-detail > div.fd-infor > span:nth-child(1)').text();\n                    const latestEpisode = (_d = $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text()) !== null && _d !== void 0 ? _d : null;\n                    if (resultItem.type === models_1.TvType.TVSERIES) {\n                        resultItem.season = season;\n                        resultItem.latestEpisode = latestEpisode;\n                    }\n                    else {\n                        resultItem.releaseDate = season;\n                        resultItem.duration = latestEpisode;\n                    }\n                    result.results.push(resultItem);\n                })\n                    .get();\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchSpotlight = async () => {\n            try {\n                const results = { results: [] };\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                $('div.swiper-slide').each((i, el) => {\n                    var _a, _b, _c, _d;\n                    results.results.push({\n                        id: (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('a').attr('title'),\n                        url: `${this.baseUrl}${$(el).find('a').attr('href')}`,\n                        cover: (_c = (_b = $(el)) === null || _b === void 0 ? void 0 : _b.css('background-image')) === null || _c === void 0 ? void 0 : _c.replace(/url\\([\"']?(.+?)[\"']?\\)/, '$1').trim(),\n                        duration: $(el).find('.scd-item:contains(\"Duration\") strong').text().trim(),\n                        rating: $(el).find('.scd-item:contains(\"IMDB\") strong').text().trim(),\n                        genres: $(el)\n                            .find('.scd-item:contains(\"Genre\") .slide-genre-item')\n                            .map((i, el) => $(el).text().trim())\n                            .get(),\n                        description: $(el).find('.sc-desc').text().trim(),\n                        type: ((_d = $(el).find('a').attr('href')) === null || _d === void 0 ? void 0 : _d.split('/')[1]) === 'movie' ? models_1.TvType.MOVIE : models_1.TvType.TVSERIES,\n                    });\n                });\n                return results;\n            }\n            catch (err) {\n                console.error(err);\n                throw new Error(err.message);\n            }\n        };\n    }\n}\n// (async () => {\n//    const movie = new FlixHQ();\n//   // const search = await movie.search('the flash');\n//   // const movieInfo = await movie.fetchEpisodeSources('1168337', 'tv/watch-vincenzo-67955');\n//   // const recentTv = await movie.fetchTrendingTvShows();\n//    const genre = await movie.fetchSpotlight()\n//    console.log(genre)\n// })();\nexports[\"default\"] = FlixHQ;\n//# sourceMappingURL=flixhq.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbW92aWVzL2ZsaXhocS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QyxxQkFBcUIsbUJBQU8sQ0FBQyw0RkFBa0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLFVBQVUsOEJBQThCLFFBQVEsS0FBSztBQUM1SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsK0NBQStDO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsYUFBYSxHQUFHLFFBQVE7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0EsdUpBQXVKO0FBQ3ZKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsYUFBYSxRQUFRLGdDQUFnQyxLQUFLLEVBQUUsR0FBRyxtQ0FBbUMsR0FBRyxHQUFHO0FBQy9LO0FBQ0EsNEJBQTRCLE9BQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsT0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsYUFBYSwyQkFBMkIsMkNBQTJDO0FBQzNIO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGFBQWEsdUJBQXVCLElBQUk7QUFDNUUseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMseUJBQXlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHlCQUF5QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx5QkFBeUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMseUJBQXlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLHdCQUF3Qiw0Q0FBNEM7QUFDM0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGFBQWEsMkJBQTJCLFVBQVU7QUFDakY7QUFDQSwrQkFBK0IsYUFBYSx1QkFBdUIsVUFBVTtBQUM3RTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsR0FBRyxRQUFRLEdBQUc7QUFDM0Q7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSwrQ0FBK0M7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsK0NBQStDO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsK0NBQStDO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLCtDQUErQztBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLFdBQVcsUUFBUSxTQUFTLEtBQUs7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSwrQ0FBK0M7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLFNBQVMsTUFBTSxRQUFRLEtBQUs7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLCtDQUErQztBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEMsd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSw2QkFBNkI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXG1vdmllc1xcZmxpeGhxLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2hlZXJpb18xID0gcmVxdWlyZShcImNoZWVyaW9cIik7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHNcIik7XG5jb25zdCBleHRyYWN0b3JzXzEgPSByZXF1aXJlKFwiLi4vLi4vZXh0cmFjdG9yc1wiKTtcbmNsYXNzIEZsaXhIUSBleHRlbmRzIG1vZGVsc18xLk1vdmllUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0ZsaXhIUSc7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL2ZsaXhocS50byc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL3VwbG9hZC53aWtpbWVkaWEub3JnL3dpa2lwZWRpYS9jb21tb25zLzcvN2EvTXlBbmltZUxpc3RfTG9nby5wbmcnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdNT1ZJRVMuRmxpeEhRJztcbiAgICAgICAgdGhpcy5zdXBwb3J0ZWRUeXBlcyA9IG5ldyBTZXQoW21vZGVsc18xLlR2VHlwZS5NT1ZJRSwgbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTXSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgc2VhcmNoIHF1ZXJ5IHN0cmluZ1xuICAgICAgICAgKiBAcGFyYW0gcGFnZSBwYWdlIG51bWJlciAoZGVmYXVsdCAxKSAob3B0aW9uYWwpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGFzeW5jIChxdWVyeSwgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L3NlYXJjaC8ke3F1ZXJ5LnJlcGxhY2UoL1tcXFdfXSsvZywgJy0nKX0/cGFnZT0ke3BhZ2V9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmF2U2VsZWN0b3IgPSAnZGl2LnByZS1wYWdpbmF0aW9uOm50aC1jaGlsZCgzKSA+IG5hdjpudGgtY2hpbGQoMSkgPiB1bDpudGgtY2hpbGQoMSknO1xuICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdC5oYXNOZXh0UGFnZSA9XG4gICAgICAgICAgICAgICAgICAgICQobmF2U2VsZWN0b3IpLmxlbmd0aCA+IDAgPyAhJChuYXZTZWxlY3RvcikuY2hpbGRyZW4oKS5sYXN0KCkuaGFzQ2xhc3MoJ2FjdGl2ZScpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgJCgnLmZpbG1fbGlzdC13cmFwID4gZGl2LmZsdy1pdGVtJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxlYXNlRGF0ZSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDEpJykudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHQucmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gaDIgPiBhJykuYXR0cigndGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGltZycpLmF0dHIoJ2RhdGEtc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogaXNOYU4ocGFyc2VJbnQocmVsZWFzZURhdGUpKSA/IHVuZGVmaW5lZCA6IHJlbGVhc2VEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uczogcmVsZWFzZURhdGUuaW5jbHVkZXMoJ1NTJykgPyBwYXJzZUludChyZWxlYXNlRGF0ZS5zcGxpdCgnU1MnKVsxXSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuLmZsb2F0LXJpZ2h0JykudGV4dCgpID09PSAnTW92aWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5UdlR5cGUuTU9WSUVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlYXJjaFJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIG1lZGlhSWQgbWVkaWEgbGluayBvciBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaE1lZGlhSW5mbyA9IGFzeW5jIChtZWRpYUlkKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoIW1lZGlhSWQuc3RhcnRzV2l0aCh0aGlzLmJhc2VVcmwpKSB7XG4gICAgICAgICAgICAgICAgbWVkaWFJZCA9IGAke3RoaXMuYmFzZVVybH0vJHttZWRpYUlkfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtb3ZpZUluZm8gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lZGlhSWQuc3BsaXQoJ3RvLycpLnBvcCgpLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICB1cmw6IG1lZGlhSWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChtZWRpYUlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWNvbW1lbmRhdGlvbnNBcnJheSA9IFtdO1xuICAgICAgICAgICAgICAgICQoJ2Rpdi5tb3ZpZV9pbmZvcm1hdGlvbiA+IGRpdi5jb250YWluZXIgPiBkaXYubV9pLXJlbGF0ZWQgPiBkaXYuZmlsbS1yZWxhdGVkID4gc2VjdGlvbi5ibG9ja19hcmVhID4gZGl2LmJsb2NrX2FyZWEtY29udGVudCA+IGRpdi5maWxtX2xpc3Qtd3JhcCA+IGRpdi5mbHctaXRlbScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbnNBcnJheS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gaDMuZmlsbS1uYW1lID4gYScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBpbWcnKS5hdHRyKCdkYXRhLXNyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IChfYiA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW4uZmRpLWR1cmF0aW9uJykudGV4dCgpLnJlcGxhY2UoJ20nLCAnJykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuLmZkaS10eXBlJykudGV4dCgpLnRvTG93ZXJDYXNlKCkgPT09ICd0didcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFU1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKF9jID0gbW9kZWxzXzEuVHZUeXBlLk1PVklFKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB1aWQgPSAkKCcud2F0Y2hfYmxvY2snKS5hdHRyKCdkYXRhLWlkJyk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmNvdmVyID0gKF9hID0gJCgnZGl2LndfYi1jb3ZlcicpLmF0dHIoJ3N0eWxlJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgyMikucmVwbGFjZSgnKScsICcnKS5yZXBsYWNlKCc7JywgJycpO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby50aXRsZSA9ICQoJy5oZWFkaW5nLW5hbWUgPiBhOm50aC1jaGlsZCgxKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8uaW1hZ2UgPSAkKCcubV9pLWQtcG9zdGVyID4gZGl2Om50aC1jaGlsZCgxKSA+IGltZzpudGgtY2hpbGQoMSknKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8uZGVzY3JpcHRpb24gPSAkKCcuZGVzY3JpcHRpb24nKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLnR5cGUgPSBtb3ZpZUluZm8uaWQuc3BsaXQoJy8nKVswXSA9PT0gJ3R2JyA/IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUyA6IG1vZGVsc18xLlR2VHlwZS5NT1ZJRTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8ucmVsZWFzZURhdGUgPSAkKCdkaXYucm93LWxpbmU6bnRoLWNoaWxkKDMpJykudGV4dCgpLnJlcGxhY2UoJ1JlbGVhc2VkOiAnLCAnJykudHJpbSgpO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby5nZW5yZXMgPSAkKCdkaXYucm93LWxpbmU6bnRoLWNoaWxkKDIpID4gYScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiAkKGVsKS50ZXh0KCkuc3BsaXQoJyYnKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAodiA9PiB2LnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmNhc3RzID0gJCgnZGl2LnJvdy1saW5lOm50aC1jaGlsZCg1KSA+IGEnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLnRhZ3MgPSAkKCdkaXYucm93LWxpbmU6bnRoLWNoaWxkKDYpID4gaDInKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLnByb2R1Y3Rpb24gPSAkKCdkaXYucm93LWxpbmU6bnRoLWNoaWxkKDQpID4gYTpudGgtY2hpbGQoMiknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmNvdW50cnkgPSAkKCdkaXYucm93LWxpbmU6bnRoLWNoaWxkKDEpID4gYTpudGgtY2hpbGQoMiknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmR1cmF0aW9uID0gJCgnc3Bhbi5pdGVtOm50aC1jaGlsZCgzKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8ucmF0aW5nID0gcGFyc2VGbG9hdCgkKCdzcGFuLml0ZW06bnRoLWNoaWxkKDIpJykudGV4dCgpKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8ucmVjb21tZW5kYXRpb25zID0gcmVjb21tZW5kYXRpb25zQXJyYXk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWpheFJlcVVybCA9IChpZCwgdHlwZSwgaXNTZWFzb25zID0gZmFsc2UpID0+IGAke3RoaXMuYmFzZVVybH0vYWpheC8ke3R5cGUgPT09ICdtb3ZpZScgPyB0eXBlIDogYHYyLyR7dHlwZX1gfS8ke2lzU2Vhc29ucyA/ICdzZWFzb25zJyA6ICdlcGlzb2Rlcyd9LyR7aWR9YDtcbiAgICAgICAgICAgICAgICBpZiAobW92aWVJbmZvLnR5cGUgPT09IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChhamF4UmVxVXJsKHVpZCwgJ3R2JywgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCAkJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYXNvbnNJZHMgPSAkJCgnLmRyb3Bkb3duLW1lbnUgPiBhJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiAkKGVsKS5hdHRyKCdkYXRhLWlkJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIG1vdmllSW5mby5lcGlzb2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2Vhc29uID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBzZWFzb25zSWRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChhamF4UmVxVXJsKGlkLCAnc2Vhc29uJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgJCQkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJCgnLm5hdiA+IGxpJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcGlzb2RlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJCQkKGVsKS5maW5kKCdhJykuYXR0cignaWQnKS5zcGxpdCgnLScpWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJCQkKGVsKS5maW5kKCdhJykuYXR0cigndGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBwYXJzZUludCgkJCQoZWwpLmZpbmQoJ2EnKS5hdHRyKCd0aXRsZScpLnNwbGl0KCc6JylbMF0uc2xpY2UoMykudHJpbSgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uOiBzZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfS9hamF4L3YyL2VwaXNvZGUvc2VydmVycy8keyQkJChlbCkuZmluZCgnYScpLmF0dHIoJ2lkJykuc3BsaXQoJy0nKVsxXX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gbW92aWVJbmZvLmVwaXNvZGVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHVzaChlcGlzb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmllSW5mby5lcGlzb2RlcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBtb3ZpZUluZm8udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9L2FqYXgvbW92aWUvZXBpc29kZXMvJHt1aWR9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtb3ZpZUluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgZXBpc29kZSBpZFxuICAgICAgICAgKiBAcGFyYW0gbWVkaWFJZCBtZWRpYSBpZFxuICAgICAgICAgKiBAcGFyYW0gc2VydmVyIHNlcnZlciB0eXBlIChkZWZhdWx0IGBWaWRDbG91ZGApIChvcHRpb25hbClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU291cmNlcyA9IGFzeW5jIChlcGlzb2RlSWQsIG1lZGlhSWQsIHNlcnZlciA9IG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVXBDbG91ZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGVwaXNvZGVJZC5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJVcmwgPSBuZXcgVVJMKGVwaXNvZGVJZCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLk1peERyb3A6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLmhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBhd2FpdCBuZXcgZXh0cmFjdG9yc18xLk1peERyb3AodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVmlkQ2xvdWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLmhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5WaWRDbG91ZCh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc2VydmVyVXJsLCB0cnVlLCB0aGlzLmJhc2VVcmwpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5VcENsb3VkOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IHNlcnZlclVybC5ocmVmIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuVmlkQ2xvdWQodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCwgdW5kZWZpbmVkLCB0aGlzLmJhc2VVcmwpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLmhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBhd2FpdCBuZXcgZXh0cmFjdG9yc18xLk1peERyb3AodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVycyA9IGF3YWl0IHRoaXMuZmV0Y2hFcGlzb2RlU2VydmVycyhlcGlzb2RlSWQsIG1lZGlhSWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBzZXJ2ZXJzLmZpbmRJbmRleChzID0+IHMubmFtZSA9PT0gc2VydmVyKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgJHtzZXJ2ZXJ9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2FqYXgvZXBpc29kZS9zb3VyY2VzLyR7c2VydmVyc1tpXS51cmwuc3BsaXQoJy4nKS5zbGljZSgtMSkuc2hpZnQoKX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJVcmwgPSBuZXcgVVJMKGRhdGEubGluayk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hFcGlzb2RlU291cmNlcyhzZXJ2ZXJVcmwuaHJlZiwgbWVkaWFJZCwgc2VydmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIsICdlcnInKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGVwaXNvZGVJZCB0YWtlcyBlcGlzb2RlIGxpbmsgb3IgbW92aWUgaWRcbiAgICAgICAgICogQHBhcmFtIG1lZGlhSWQgdGFrZXMgbW92aWUgbGluayBvciBpZCAoZm91bmQgb24gbW92aWUgaW5mbyBvYmplY3QpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNlcnZlcnMgPSBhc3luYyAoZXBpc29kZUlkLCBtZWRpYUlkKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVwaXNvZGVJZC5zdGFydHNXaXRoKHRoaXMuYmFzZVVybCArICcvYWpheCcpICYmICFtZWRpYUlkLmluY2x1ZGVzKCdtb3ZpZScpKVxuICAgICAgICAgICAgICAgIGVwaXNvZGVJZCA9IGAke3RoaXMuYmFzZVVybH0vYWpheC92Mi9lcGlzb2RlL3NlcnZlcnMvJHtlcGlzb2RlSWR9YDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBlcGlzb2RlSWQgPSBgJHt0aGlzLmJhc2VVcmx9L2FqYXgvbW92aWUvZXBpc29kZXMvJHtlcGlzb2RlSWR9YDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoZXBpc29kZUlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJzID0gJCgnLm5hdiA+IGxpJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbWVkaWFJZC5pbmNsdWRlcygnbW92aWUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJChlbCkuZmluZCgnYScpLmF0dHIoJ3RpdGxlJykudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJChlbCkuZmluZCgnYScpLmF0dHIoJ3RpdGxlJykuc2xpY2UoNikudHJpbSgpLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0vJHttZWRpYUlkfS4keyFtZWRpYUlkLmluY2x1ZGVzKCdtb3ZpZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAkKGVsKS5maW5kKCdhJykuYXR0cignZGF0YS1pZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAkKGVsKS5maW5kKCdhJykuYXR0cignZGF0YS1saW5raWQnKX1gLnJlcGxhY2UoIW1lZGlhSWQuaW5jbHVkZXMoJ21vdmllJykgPyAvXFwvdHZcXC8vIDogL1xcL21vdmllXFwvLywgIW1lZGlhSWQuaW5jbHVkZXMoJ21vdmllJykgPyAnL3dhdGNoLXR2LycgOiAnL3dhdGNoLW1vdmllLycpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VydmVyO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VydmVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoUmVjZW50TW92aWVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2hvbWVgKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3ZpZXMgPSAkKCdzZWN0aW9uLmJsb2NrX2FyZWE6Y29udGFpbnMoXCJMYXRlc3QgTW92aWVzXCIpID4gZGl2Om50aC1jaGlsZCgyKSA+IGRpdjpudGgtY2hpbGQoMSkgPiBkaXYuZmx3LWl0ZW0nKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2VEYXRlID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZkLWluZm9yID4gc3BhbjpudGgtY2hpbGQoMSknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdmllID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBoMy5maWxtLW5hbWUgPiBhJykuYXR0cigndGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGltZycpLmF0dHIoJ2RhdGEtc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogaXNOYU4ocGFyc2VJbnQocmVsZWFzZURhdGUpKSA/IHVuZGVmaW5lZCA6IHJlbGVhc2VEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW4uZmRpLWR1cmF0aW9uJykudGV4dCgpIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuLmZsb2F0LXJpZ2h0JykudGV4dCgpID09PSAnTW92aWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5UdlR5cGUuTU9WSUVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vdmllO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW92aWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hSZWNlbnRUdlNob3dzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2hvbWVgKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0dnNob3dzID0gJCgnc2VjdGlvbi5ibG9ja19hcmVhOmNvbnRhaW5zKFwiTGF0ZXN0IFRWIFNob3dzXCIpID4gZGl2Om50aC1jaGlsZCgyKSA+IGRpdjpudGgtY2hpbGQoMSkgPiBkaXYuZmx3LWl0ZW0nKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR2c2hvdyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gaDMuZmlsbS1uYW1lID4gYScpLmF0dHIoJ3RpdGxlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0keyQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBpbWcnKS5hdHRyKCdkYXRhLXNyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuOm50aC1jaGlsZCgxKScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdEVwaXNvZGU6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDMpJykudGV4dCgpIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuLmZsb2F0LXJpZ2h0JykudGV4dCgpID09PSAnTW92aWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5UdlR5cGUuTU9WSUVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR2c2hvdztcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR2c2hvd3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaFRyZW5kaW5nTW92aWVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2hvbWVgKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3ZpZXMgPSAkKCdkaXYjdHJlbmRpbmctbW92aWVzIGRpdi5maWxtX2xpc3Qtd3JhcCBkaXYuZmx3LWl0ZW0nKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2VEYXRlID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZkLWluZm9yID4gc3BhbjpudGgtY2hpbGQoMSknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdmllID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBoMy5maWxtLW5hbWUgPiBhJykuYXR0cigndGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGltZycpLmF0dHIoJ2RhdGEtc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogaXNOYU4ocGFyc2VJbnQocmVsZWFzZURhdGUpKSA/IHVuZGVmaW5lZCA6IHJlbGVhc2VEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW4uZmRpLWR1cmF0aW9uJykudGV4dCgpIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuLmZsb2F0LXJpZ2h0JykudGV4dCgpID09PSAnTW92aWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5UdlR5cGUuTU9WSUVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vdmllO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW92aWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hUcmVuZGluZ1R2U2hvd3MgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vaG9tZWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHR2c2hvd3MgPSAkKCdkaXYjdHJlbmRpbmctdHYgZGl2LmZpbG1fbGlzdC13cmFwIGRpdi5mbHctaXRlbScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHZzaG93ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBoMy5maWxtLW5hbWUgPiBhJykuYXR0cigndGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGltZycpLmF0dHIoJ2RhdGEtc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFzb246ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDEpJykudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0RXBpc29kZTogJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZkLWluZm9yID4gc3BhbjpudGgtY2hpbGQoMyknKS50ZXh0KCkgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW4uZmxvYXQtcmlnaHQnKS50ZXh0KCkgPT09ICdNb3ZpZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLlR2VHlwZS5NT1ZJRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHZzaG93O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHZzaG93cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQnlDb3VudHJ5ID0gYXN5bmMgKGNvdW50cnksIHBhZ2UgPSAxKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdlNlbGVjdG9yID0gJ2Rpdi5wcmUtcGFnaW5hdGlvbjpudGgtY2hpbGQoMykgPiBuYXY6bnRoLWNoaWxkKDEpID4gdWw6bnRoLWNoaWxkKDEpJztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9jb3VudHJ5LyR7Y291bnRyeX0vP3BhZ2U9JHtwYWdlfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5oYXNOZXh0UGFnZSA9XG4gICAgICAgICAgICAgICAgICAgICQobmF2U2VsZWN0b3IpLmxlbmd0aCA+IDAgPyAhJChuYXZTZWxlY3RvcikuY2hpbGRyZW4oKS5sYXN0KCkuaGFzQ2xhc3MoJ2FjdGl2ZScpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgJCgnZGl2LmNvbnRhaW5lciA+IHNlY3Rpb24uYmxvY2tfYXJlYSA+IGRpdi5ibG9ja19hcmVhLWNvbnRlbnQgPiBkaXYuZmlsbV9saXN0LXdyYXAgPiBkaXYuZmx3LWl0ZW0nKVxuICAgICAgICAgICAgICAgICAgICAuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYiA9IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgxKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogKF9jID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gaDIuZmlsbS1uYW1lID4gYScpLmF0dHIoJ3RpdGxlJykpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHskKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gaW1nJykuYXR0cignZGF0YS1zcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW4uZmxvYXQtcmlnaHQnKS50ZXh0KCkgPT09ICdNb3ZpZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLlR2VHlwZS5NT1ZJRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWFzb24gPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuOm50aC1jaGlsZCgxKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGF0ZXN0RXBpc29kZSA9IChfZCA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDMpJykudGV4dCgpKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0SXRlbS50eXBlID09PSBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEl0ZW0uc2Vhc29uID0gc2Vhc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0SXRlbS5sYXRlc3RFcGlzb2RlID0gbGF0ZXN0RXBpc29kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEl0ZW0ucmVsZWFzZURhdGUgPSBzZWFzb247XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRJdGVtLmR1cmF0aW9uID0gbGF0ZXN0RXBpc29kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVzdWx0cy5wdXNoKHJlc3VsdEl0ZW0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hCeUdlbnJlID0gYXN5bmMgKGdlbnJlLCBwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vZ2VucmUvJHtnZW5yZX0/cGFnZT0ke3BhZ2V9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmF2U2VsZWN0b3IgPSAnZGl2LnByZS1wYWdpbmF0aW9uOm50aC1jaGlsZCgzKSA+IG5hdjpudGgtY2hpbGQoMSkgPiB1bDpudGgtY2hpbGQoMSknO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5oYXNOZXh0UGFnZSA9XG4gICAgICAgICAgICAgICAgICAgICQobmF2U2VsZWN0b3IpLmxlbmd0aCA+IDAgPyAhJChuYXZTZWxlY3RvcikuY2hpbGRyZW4oKS5sYXN0KCkuaGFzQ2xhc3MoJ2FjdGl2ZScpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgJCgnLmZpbG1fbGlzdC13cmFwID4gZGl2LmZsdy1pdGVtJylcbiAgICAgICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0SXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2IgPSAoX2EgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYyA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGgyID4gYScpLmF0dHIoJ3RpdGxlJykpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHskKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gaW1nJykuYXR0cignZGF0YS1zcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW4uZmxvYXQtcmlnaHQnKS50ZXh0KCkgPT09ICdNb3ZpZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLlR2VHlwZS5NT1ZJRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWFzb24gPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuOm50aC1jaGlsZCgxKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGF0ZXN0RXBpc29kZSA9IChfZCA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDMpJykudGV4dCgpKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0SXRlbS50eXBlID09PSBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEl0ZW0uc2Vhc29uID0gc2Vhc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0SXRlbS5sYXRlc3RFcGlzb2RlID0gbGF0ZXN0RXBpc29kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEl0ZW0ucmVsZWFzZURhdGUgPSBzZWFzb247XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRJdGVtLmR1cmF0aW9uID0gbGF0ZXN0RXBpc29kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVzdWx0cy5wdXNoKHJlc3VsdEl0ZW0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hTcG90bGlnaHQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSB7IHJlc3VsdHM6IFtdIH07XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9ob21lYCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgJCgnZGl2LnN3aXBlci1zbGlkZScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5yZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWwpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdhJykuYXR0cigndGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXI6IChfYyA9IChfYiA9ICQoZWwpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJykpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5yZXBsYWNlKC91cmxcXChbXCInXT8oLis/KVtcIiddP1xcKS8sICckMScpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAkKGVsKS5maW5kKCcuc2NkLWl0ZW06Y29udGFpbnMoXCJEdXJhdGlvblwiKSBzdHJvbmcnKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAkKGVsKS5maW5kKCcuc2NkLWl0ZW06Y29udGFpbnMoXCJJTURCXCIpIHN0cm9uZycpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5yZXM6ICQoZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5zY2QtaXRlbTpjb250YWlucyhcIkdlbnJlXCIpIC5zbGlkZS1nZW5yZS1pdGVtJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpLnRyaW0oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJChlbCkuZmluZCgnLnNjLWRlc2MnKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogKChfZCA9ICQoZWwpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5zcGxpdCgnLycpWzFdKSA9PT0gJ21vdmllJyA/IG1vZGVsc18xLlR2VHlwZS5NT1ZJRSA6IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuLy8gKGFzeW5jICgpID0+IHtcbi8vICAgIGNvbnN0IG1vdmllID0gbmV3IEZsaXhIUSgpO1xuLy8gICAvLyBjb25zdCBzZWFyY2ggPSBhd2FpdCBtb3ZpZS5zZWFyY2goJ3RoZSBmbGFzaCcpO1xuLy8gICAvLyBjb25zdCBtb3ZpZUluZm8gPSBhd2FpdCBtb3ZpZS5mZXRjaEVwaXNvZGVTb3VyY2VzKCcxMTY4MzM3JywgJ3R2L3dhdGNoLXZpbmNlbnpvLTY3OTU1Jyk7XG4vLyAgIC8vIGNvbnN0IHJlY2VudFR2ID0gYXdhaXQgbW92aWUuZmV0Y2hUcmVuZGluZ1R2U2hvd3MoKTtcbi8vICAgIGNvbnN0IGdlbnJlID0gYXdhaXQgbW92aWUuZmV0Y2hTcG90bGlnaHQoKVxuLy8gICAgY29uc29sZS5sb2coZ2VucmUpXG4vLyB9KSgpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRmxpeEhRO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmxpeGhxLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/flixhq.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/fmovies.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/movies/fmovies.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst utils_1 = __webpack_require__(/*! ../../utils/utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/utils.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nclass Fmovies extends models_1.MovieParser {\n    constructor(fmoviesResolver, proxyConfig, apiKey, adapter) {\n        super(proxyConfig && proxyConfig.url ? proxyConfig : undefined, adapter);\n        this.name = 'Fmovies';\n        this.baseUrl = 'https://ww4.fmovies.co';\n        this.logo = 'https://s1.bunnycdn.ru/assets/sites/fmovies/logo2.png';\n        this.classPath = 'MOVIES.Fmovies';\n        this.supportedTypes = new Set([models_1.TvType.MOVIE, models_1.TvType.TVSERIES]);\n        this.fmoviesResolver = '';\n        this.apiKey = '';\n        /**\n         *\n         * @param query search query string\n         * @param page page number (default 1) (optional)\n         */\n        this.search = async (query, page = 1) => {\n            var _a;\n            const searchResult = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                query = query.replace(/[\\W_]+/g, '+');\n                const vrf = await this.ev(query);\n                const { data } = await this.client.get(`${this.baseUrl}/search?keyword=${query}&vrf=${vrf}&page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                searchResult.hasNextPage = (_a = $('.pagination')) === null || _a === void 0 ? void 0 : _a.find('.active').next().hasClass('disabled');\n                $('.filmlist > div.item').each((i, el) => {\n                    const releaseDate = $(el).find('.meta').text();\n                    searchResult.results.push({\n                        id: $(el).find('a.title').attr('href').slice(1),\n                        title: $(el).find('a.title').text(),\n                        url: `${this.baseUrl}/${$(el).find('a.title').attr('href').slice(1)}`,\n                        image: $(el).find('img').attr('src'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : parseInt(releaseDate).toString(),\n                        seasons: releaseDate.includes('SS') ? parseInt(releaseDate.split('SS')[1]) : undefined,\n                        type: $(el).find('i.type').text() === 'Movie' ? models_1.TvType.MOVIE : models_1.TvType.TVSERIES,\n                    });\n                });\n                return searchResult;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param mediaId media link or id\n         */\n        this.fetchMediaInfo = async (mediaId) => {\n            var _a, _b, _c, _d, _e, _f;\n            if (!mediaId.startsWith(this.baseUrl)) {\n                mediaId = `${this.baseUrl}/${mediaId}`;\n            }\n            const movieInfo = {\n                id: mediaId.split('to/').pop(),\n                title: '',\n                url: mediaId,\n            };\n            try {\n                const { data } = await this.client.get(mediaId);\n                const $ = (0, cheerio_1.load)(data);\n                const uid = $('#watch').attr('data-id');\n                // TODO\n                // const recommendationsArray: IMovieResult[] = [];\n                // $(\n                //     'div.movie_information > div.container > div.m_i-related > div.film-related > section.block_area > div.block_area-content > div.film_list-wrap > div.flw-item'\n                // ).each((i, el) => {\n                //     recommendationsArray.push({\n                //         id: $(el).find('div.film-poster > a').attr('href')?.slice(1)!,\n                //         title: $(el).find('div.film-detail > h3.film-name > a').text(),\n                //         image: $(el).find('div.film-poster > img').attr('data-src'),\n                //         duration:\n                //             $(el).find('div.film-detail > div.fd-infor > span.fdi-duration').text().replace('m', '') ?? null,\n                //         type:\n                //             $(el).find('div.film-detail > div.fd-infor > span.fdi-type').text().toLowerCase() === 'tv'\n                //                 ? TvType.TVSERIES\n                //                 : TvType.MOVIE ?? null,\n                //     });\n                // });\n                const container = $('.watch-extra');\n                movieInfo.cover = (0, utils_1.substringBeforeLast)((0, utils_1.substringAfter)((_b = (_a = $('#watch').find('.play')) === null || _a === void 0 ? void 0 : _a.attr('style')) !== null && _b !== void 0 ? _b : '', 'url('), ')');\n                movieInfo.title = container.find(`h1[itemprop=\"name\"]`).text();\n                movieInfo.image = container.find(`img[itemprop=\"image\"]`).attr('src');\n                movieInfo.description = (_d = (_c = container.find('div[itemprop=\"description\"]')) === null || _c === void 0 ? void 0 : _c.text()) === null || _d === void 0 ? void 0 : _d.trim();\n                movieInfo.type = movieInfo.id.split('/')[0] === 'series' ? models_1.TvType.TVSERIES : models_1.TvType.MOVIE;\n                movieInfo.releaseDate = (_f = (_e = container.find('span[itemprop=\"dateCreated\"]')) === null || _e === void 0 ? void 0 : _e.text()) === null || _f === void 0 ? void 0 : _f.trim();\n                // TODO\n                // movieInfo.genres = $('div.row-line:nth-child(2) > a')\n                //     .map((i, el) => $(el).text().split('&'))\n                //     .get()\n                //     .map(v => v.trim());\n                // movieInfo.casts = $('div.row-line:nth-child(5) > a')\n                //     .map((i, el) => $(el).text())\n                //     .get();\n                // movieInfo.tags = $('div.row-line:nth-child(6) > h2')\n                //     .map((i, el) => $(el).text())\n                //     .get();\n                // movieInfo.production = $('div.row-line:nth-child(4) > a:nth-child(2)').text();\n                // movieInfo.country = $('div.row-line:nth-child(1) > a:nth-child(2)').text();\n                // movieInfo.duration = $('span.item:nth-child(3)').text();\n                // movieInfo.rating = parseFloat($('span.item:nth-child(2)').text());\n                // movieInfo.recommendations = recommendationsArray as any;\n                const ajaxData = (await this.client.get(await this.ajaxReqUrl(uid))).data;\n                const $$ = (0, cheerio_1.load)(ajaxData.html);\n                movieInfo.episodes = [];\n                $$('.episode').each((i, el) => {\n                    var _a, _b, _c, _d, _e;\n                    const episode = {\n                        id: $(el).find('a').attr('data-kname'),\n                        title: (_b = (_a = $(el).find('a')) === null || _a === void 0 ? void 0 : _a.attr('title')) !== null && _b !== void 0 ? _b : '',\n                    };\n                    if (movieInfo.type === models_1.TvType.TVSERIES) {\n                        episode.number = parseInt((_c = $(el).find('a')) === null || _c === void 0 ? void 0 : _c.attr('data-kname').split('-')[1]);\n                        episode.season = parseInt((_d = $(el).find('a')) === null || _d === void 0 ? void 0 : _d.attr('data-kname').split('-')[0]);\n                    }\n                    (_e = movieInfo.episodes) === null || _e === void 0 ? void 0 : _e.push(episode);\n                });\n                return movieInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId episode id\n         * @param mediaId media id\n         * @param server server type (default `Vizcloud`) (optional)\n         */\n        this.fetchEpisodeSources = async (episodeId, mediaId, server = models_1.StreamingServers.VizCloud) => {\n            if (episodeId.startsWith('http')) {\n                const serverUrl = new URL(episodeId);\n                switch (server) {\n                    case models_1.StreamingServers.StreamTape:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            sources: await new extractors_1.StreamTape().extract(serverUrl),\n                        };\n                    default:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            sources: await new extractors_1.VizCloud().extract(serverUrl, this.fmoviesResolver, this.apiKey),\n                        };\n                }\n            }\n            try {\n                const servers = await this.fetchEpisodeServers(episodeId, mediaId);\n                const selectedServer = servers.find(s => s.name === server);\n                if (!selectedServer) {\n                    throw new Error(`Server ${server} not found`);\n                }\n                const { data } = await this.client.get(`${this.baseUrl}/ajax/episode/info?id=${selectedServer.url}`);\n                const serverUrl = new URL(await this.decrypt(data.url));\n                return await this.fetchEpisodeSources(serverUrl.href, mediaId, server);\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId takes episode link or movie id\n         * @param mediaId takes movie link or id (found on movie info object)\n         */\n        this.fetchEpisodeServers = async (episodeId, mediaId) => {\n            if (!mediaId.startsWith(this.baseUrl)) {\n                mediaId = `${this.baseUrl}/${mediaId}`;\n            }\n            try {\n                const { data } = await this.client.get(mediaId);\n                const $ = (0, cheerio_1.load)(data);\n                const uid = $('#watch').attr('data-id');\n                const epsiodeServers = [];\n                const ajaxData = (await this.client.get(await this.ajaxReqUrl(uid))).data;\n                const $$ = (0, cheerio_1.load)(ajaxData.html);\n                const servers = {};\n                $$('.server').each((i, el) => {\n                    const serverId = $(el).attr('data-id');\n                    let serverName = $(el).text().toLowerCase().split('server')[1].trim();\n                    if (serverName == 'vidstream') {\n                        serverName = 'vizcloud';\n                    }\n                    servers[serverId] = serverName;\n                });\n                const el = $$(`a[data-kname=\"${episodeId}\"]`);\n                try {\n                    const serverString = JSON.parse(el.attr('data-ep'));\n                    for (const serverId in serverString) {\n                        epsiodeServers.push({\n                            name: servers[serverId],\n                            url: serverString[serverId],\n                        });\n                    }\n                    return epsiodeServers;\n                }\n                catch (err) {\n                    console.log(err);\n                    throw new Error('Episode not found');\n                }\n            }\n            catch (err) {\n                throw new Error('Episode not found');\n            }\n        };\n        this.fmoviesResolver = fmoviesResolver !== null && fmoviesResolver !== void 0 ? fmoviesResolver : this.fmoviesResolver;\n        this.apiKey = apiKey !== null && apiKey !== void 0 ? apiKey : this.apiKey;\n    }\n    async ev(query) {\n        const { data } = await this.client.get(`${this.fmoviesResolver}/fmovies-vrf?query=${encodeURIComponent(query)}&apikey=${this.apiKey}`);\n        return encodeURIComponent(data.url);\n    }\n    async decrypt(query) {\n        const { data } = await this.client.get(`${this.fmoviesResolver}/fmovies-decrypt?query=${encodeURIComponent(query)}&apikey=${this.apiKey}`);\n        return data.url;\n    }\n    async ajaxReqUrl(id) {\n        const vrf = await this.ev(id);\n        return `${this.baseUrl}/ajax/film/servers?id=${id}&vrf=${vrf}&token=`;\n    }\n}\n// (async () => {\n//     const movie = new Fmovies(\"https://9anime.enimax.xyz\", {url: \"https://proxy.vnxservers.com/\"}, \"848624aaffec43808c86f5e47e3fa5b0\");\n//     const search = await movie.search('friends');\n//     // const search = await movie.fetchMediaInfo('series/friends-3rvj9');\n//     // const search = await movie.fetchMediaInfo('movie/chimes-at-midnight-1qvnw');\n//     // const search = await movie.fetchEpisodeSources('1-full','movie/chimes-at-midnight-1qvnw');\n//     // const search = await movie.fetchMediaInfo('series/friends-3rvj9');\n//     // console.log(JSON.stringify(movieInfo));\n//     console.log(\n//         search\n//     );\n//     // const recentTv = await movie.fetchTrendingTvShows();\n//     // console.log(search);\n// })();\nexports[\"default\"] = Fmovies;\n//# sourceMappingURL=fmovies.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbW92aWVzL2Ztb3ZpZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLG1CQUFPLENBQUMsb0VBQVM7QUFDbkMsZ0JBQWdCLG1CQUFPLENBQUMsd0ZBQW1CO0FBQzNDLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLDRGQUFrQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLGtCQUFrQixNQUFNLE9BQU8sSUFBSSxRQUFRLEtBQUs7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxHQUFHLDRDQUE0QztBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsYUFBYSxHQUFHLFFBQVE7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMseUJBQXlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHlCQUF5QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFFBQVE7QUFDdEQ7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSx3QkFBd0IsbUJBQW1CO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsYUFBYSxHQUFHLFFBQVE7QUFDckQ7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLCtDQUErQyxVQUFVO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPLDJCQUEyQixxQkFBcUIscUJBQXFCLDBCQUEwQixVQUFVLFlBQVk7QUFDNUk7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU8sMkJBQTJCLHFCQUFxQix5QkFBeUIsMEJBQTBCLFVBQVUsWUFBWTtBQUNoSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixhQUFhLHdCQUF3QixHQUFHLE9BQU8sSUFBSTtBQUNyRTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QscUNBQXFDO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxtb3ZpZXNcXGZtb3ZpZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbHNcIik7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHNcIik7XG5jb25zdCBleHRyYWN0b3JzXzEgPSByZXF1aXJlKFwiLi4vLi4vZXh0cmFjdG9yc1wiKTtcbmNsYXNzIEZtb3ZpZXMgZXh0ZW5kcyBtb2RlbHNfMS5Nb3ZpZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoZm1vdmllc1Jlc29sdmVyLCBwcm94eUNvbmZpZywgYXBpS2V5LCBhZGFwdGVyKSB7XG4gICAgICAgIHN1cGVyKHByb3h5Q29uZmlnICYmIHByb3h5Q29uZmlnLnVybCA/IHByb3h5Q29uZmlnIDogdW5kZWZpbmVkLCBhZGFwdGVyKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0Ztb3ZpZXMnO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly93dzQuZm1vdmllcy5jbyc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL3MxLmJ1bm55Y2RuLnJ1L2Fzc2V0cy9zaXRlcy9mbW92aWVzL2xvZ28yLnBuZyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ01PVklFUy5GbW92aWVzJztcbiAgICAgICAgdGhpcy5zdXBwb3J0ZWRUeXBlcyA9IG5ldyBTZXQoW21vZGVsc18xLlR2VHlwZS5NT1ZJRSwgbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTXSk7XG4gICAgICAgIHRoaXMuZm1vdmllc1Jlc29sdmVyID0gJyc7XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgc2VhcmNoIHF1ZXJ5IHN0cmluZ1xuICAgICAgICAgKiBAcGFyYW0gcGFnZSBwYWdlIG51bWJlciAoZGVmYXVsdCAxKSAob3B0aW9uYWwpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGFzeW5jIChxdWVyeSwgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LnJlcGxhY2UoL1tcXFdfXSsvZywgJysnKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2cmYgPSBhd2FpdCB0aGlzLmV2KHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L3NlYXJjaD9rZXl3b3JkPSR7cXVlcnl9JnZyZj0ke3ZyZn0mcGFnZT0ke3BhZ2V9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0Lmhhc05leHRQYWdlID0gKF9hID0gJCgnLnBhZ2luYXRpb24nKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpbmQoJy5hY3RpdmUnKS5uZXh0KCkuaGFzQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgJCgnLmZpbG1saXN0ID4gZGl2Lml0ZW0nKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxlYXNlRGF0ZSA9ICQoZWwpLmZpbmQoJy5tZXRhJykudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHQucmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAkKGVsKS5maW5kKCdhLnRpdGxlJykuYXR0cignaHJlZicpLnNsaWNlKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJ2EudGl0bGUnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0vJHskKGVsKS5maW5kKCdhLnRpdGxlJykuYXR0cignaHJlZicpLnNsaWNlKDEpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogaXNOYU4ocGFyc2VJbnQocmVsZWFzZURhdGUpKSA/IHVuZGVmaW5lZCA6IHBhcnNlSW50KHJlbGVhc2VEYXRlKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uczogcmVsZWFzZURhdGUuaW5jbHVkZXMoJ1NTJykgPyBwYXJzZUludChyZWxlYXNlRGF0ZS5zcGxpdCgnU1MnKVsxXSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAkKGVsKS5maW5kKCdpLnR5cGUnKS50ZXh0KCkgPT09ICdNb3ZpZScgPyBtb2RlbHNfMS5UdlR5cGUuTU9WSUUgOiBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWFyY2hSZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBtZWRpYUlkIG1lZGlhIGxpbmsgb3IgaWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hNZWRpYUluZm8gPSBhc3luYyAobWVkaWFJZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgICAgICBpZiAoIW1lZGlhSWQuc3RhcnRzV2l0aCh0aGlzLmJhc2VVcmwpKSB7XG4gICAgICAgICAgICAgICAgbWVkaWFJZCA9IGAke3RoaXMuYmFzZVVybH0vJHttZWRpYUlkfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtb3ZpZUluZm8gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lZGlhSWQuc3BsaXQoJ3RvLycpLnBvcCgpLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICB1cmw6IG1lZGlhSWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChtZWRpYUlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1aWQgPSAkKCcjd2F0Y2gnKS5hdHRyKCdkYXRhLWlkJyk7XG4gICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgIC8vIGNvbnN0IHJlY29tbWVuZGF0aW9uc0FycmF5OiBJTW92aWVSZXN1bHRbXSA9IFtdO1xuICAgICAgICAgICAgICAgIC8vICQoXG4gICAgICAgICAgICAgICAgLy8gICAgICdkaXYubW92aWVfaW5mb3JtYXRpb24gPiBkaXYuY29udGFpbmVyID4gZGl2Lm1faS1yZWxhdGVkID4gZGl2LmZpbG0tcmVsYXRlZCA+IHNlY3Rpb24uYmxvY2tfYXJlYSA+IGRpdi5ibG9ja19hcmVhLWNvbnRlbnQgPiBkaXYuZmlsbV9saXN0LXdyYXAgPiBkaXYuZmx3LWl0ZW0nXG4gICAgICAgICAgICAgICAgLy8gKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vICAgICByZWNvbW1lbmRhdGlvbnNBcnJheS5wdXNoKHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlkOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpPy5zbGljZSgxKSEsXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB0aXRsZTogJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gaDMuZmlsbS1uYW1lID4gYScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBpbWcnKS5hdHRyKCdkYXRhLXNyYycpLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgZHVyYXRpb246XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZkLWluZm9yID4gc3Bhbi5mZGktZHVyYXRpb24nKS50ZXh0KCkucmVwbGFjZSgnbScsICcnKSA/PyBudWxsLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdHlwZTpcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuLmZkaS10eXBlJykudGV4dCgpLnRvTG93ZXJDYXNlKCkgPT09ICd0didcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgPyBUdlR5cGUuVFZTRVJJRVNcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgOiBUdlR5cGUuTU9WSUUgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gJCgnLndhdGNoLWV4dHJhJyk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmNvdmVyID0gKDAsIHV0aWxzXzEuc3Vic3RyaW5nQmVmb3JlTGFzdCkoKDAsIHV0aWxzXzEuc3Vic3RyaW5nQWZ0ZXIpKChfYiA9IChfYSA9ICQoJyN3YXRjaCcpLmZpbmQoJy5wbGF5JykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hdHRyKCdzdHlsZScpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJywgJ3VybCgnKSwgJyknKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8udGl0bGUgPSBjb250YWluZXIuZmluZChgaDFbaXRlbXByb3A9XCJuYW1lXCJdYCkudGV4dCgpO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby5pbWFnZSA9IGNvbnRhaW5lci5maW5kKGBpbWdbaXRlbXByb3A9XCJpbWFnZVwiXWApLmF0dHIoJ3NyYycpO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby5kZXNjcmlwdGlvbiA9IChfZCA9IChfYyA9IGNvbnRhaW5lci5maW5kKCdkaXZbaXRlbXByb3A9XCJkZXNjcmlwdGlvblwiXScpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudGV4dCgpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudHJpbSgpO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby50eXBlID0gbW92aWVJbmZvLmlkLnNwbGl0KCcvJylbMF0gPT09ICdzZXJpZXMnID8gbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTIDogbW9kZWxzXzEuVHZUeXBlLk1PVklFO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby5yZWxlYXNlRGF0ZSA9IChfZiA9IChfZSA9IGNvbnRhaW5lci5maW5kKCdzcGFuW2l0ZW1wcm9wPVwiZGF0ZUNyZWF0ZWRcIl0nKSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnRleHQoKSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPXG4gICAgICAgICAgICAgICAgLy8gbW92aWVJbmZvLmdlbnJlcyA9ICQoJ2Rpdi5yb3ctbGluZTpudGgtY2hpbGQoMikgPiBhJylcbiAgICAgICAgICAgICAgICAvLyAgICAgLm1hcCgoaSwgZWwpID0+ICQoZWwpLnRleHQoKS5zcGxpdCgnJicpKVxuICAgICAgICAgICAgICAgIC8vICAgICAuZ2V0KClcbiAgICAgICAgICAgICAgICAvLyAgICAgLm1hcCh2ID0+IHYudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAvLyBtb3ZpZUluZm8uY2FzdHMgPSAkKCdkaXYucm93LWxpbmU6bnRoLWNoaWxkKDUpID4gYScpXG4gICAgICAgICAgICAgICAgLy8gICAgIC5tYXAoKGksIGVsKSA9PiAkKGVsKS50ZXh0KCkpXG4gICAgICAgICAgICAgICAgLy8gICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICAvLyBtb3ZpZUluZm8udGFncyA9ICQoJ2Rpdi5yb3ctbGluZTpudGgtY2hpbGQoNikgPiBoMicpXG4gICAgICAgICAgICAgICAgLy8gICAgIC5tYXAoKGksIGVsKSA9PiAkKGVsKS50ZXh0KCkpXG4gICAgICAgICAgICAgICAgLy8gICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICAvLyBtb3ZpZUluZm8ucHJvZHVjdGlvbiA9ICQoJ2Rpdi5yb3ctbGluZTpudGgtY2hpbGQoNCkgPiBhOm50aC1jaGlsZCgyKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAvLyBtb3ZpZUluZm8uY291bnRyeSA9ICQoJ2Rpdi5yb3ctbGluZTpudGgtY2hpbGQoMSkgPiBhOm50aC1jaGlsZCgyKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAvLyBtb3ZpZUluZm8uZHVyYXRpb24gPSAkKCdzcGFuLml0ZW06bnRoLWNoaWxkKDMpJykudGV4dCgpO1xuICAgICAgICAgICAgICAgIC8vIG1vdmllSW5mby5yYXRpbmcgPSBwYXJzZUZsb2F0KCQoJ3NwYW4uaXRlbTpudGgtY2hpbGQoMiknKS50ZXh0KCkpO1xuICAgICAgICAgICAgICAgIC8vIG1vdmllSW5mby5yZWNvbW1lbmRhdGlvbnMgPSByZWNvbW1lbmRhdGlvbnNBcnJheSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWpheERhdGEgPSAoYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGF3YWl0IHRoaXMuYWpheFJlcVVybCh1aWQpKSkuZGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCAkJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoYWpheERhdGEuaHRtbCk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmVwaXNvZGVzID0gW107XG4gICAgICAgICAgICAgICAgJCQoJy5lcGlzb2RlJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXBpc29kZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAkKGVsKS5maW5kKCdhJykuYXR0cignZGF0YS1rbmFtZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYiA9IChfYSA9ICQoZWwpLmZpbmQoJ2EnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmF0dHIoJ3RpdGxlJykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAobW92aWVJbmZvLnR5cGUgPT09IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZS5udW1iZXIgPSBwYXJzZUludCgoX2MgPSAkKGVsKS5maW5kKCdhJykpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5hdHRyKCdkYXRhLWtuYW1lJykuc3BsaXQoJy0nKVsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcGlzb2RlLnNlYXNvbiA9IHBhcnNlSW50KChfZCA9ICQoZWwpLmZpbmQoJ2EnKSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmF0dHIoJ2RhdGEta25hbWUnKS5zcGxpdCgnLScpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAoX2UgPSBtb3ZpZUluZm8uZXBpc29kZXMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5wdXNoKGVwaXNvZGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBtb3ZpZUluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgZXBpc29kZSBpZFxuICAgICAgICAgKiBAcGFyYW0gbWVkaWFJZCBtZWRpYSBpZFxuICAgICAgICAgKiBAcGFyYW0gc2VydmVyIHNlcnZlciB0eXBlIChkZWZhdWx0IGBWaXpjbG91ZGApIChvcHRpb25hbClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU291cmNlcyA9IGFzeW5jIChlcGlzb2RlSWQsIG1lZGlhSWQsIHNlcnZlciA9IG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVml6Q2xvdWQpID0+IHtcbiAgICAgICAgICAgIGlmIChlcGlzb2RlSWQuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyVXJsID0gbmV3IFVSTChlcGlzb2RlSWQpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoc2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5TdHJlYW1UYXBlOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IHNlcnZlclVybC5ocmVmIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlczogYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5TdHJlYW1UYXBlKCkuZXh0cmFjdChzZXJ2ZXJVcmwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwuaHJlZiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuVml6Q2xvdWQoKS5leHRyYWN0KHNlcnZlclVybCwgdGhpcy5mbW92aWVzUmVzb2x2ZXIsIHRoaXMuYXBpS2V5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJzID0gYXdhaXQgdGhpcy5mZXRjaEVwaXNvZGVTZXJ2ZXJzKGVwaXNvZGVJZCwgbWVkaWFJZCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRTZXJ2ZXIgPSBzZXJ2ZXJzLmZpbmQocyA9PiBzLm5hbWUgPT09IHNlcnZlcik7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciAke3NlcnZlcn0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vYWpheC9lcGlzb2RlL2luZm8/aWQ9JHtzZWxlY3RlZFNlcnZlci51cmx9YCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyVXJsID0gbmV3IFVSTChhd2FpdCB0aGlzLmRlY3J5cHQoZGF0YS51cmwpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzKHNlcnZlclVybC5ocmVmLCBtZWRpYUlkLCBzZXJ2ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gZXBpc29kZUlkIHRha2VzIGVwaXNvZGUgbGluayBvciBtb3ZpZSBpZFxuICAgICAgICAgKiBAcGFyYW0gbWVkaWFJZCB0YWtlcyBtb3ZpZSBsaW5rIG9yIGlkIChmb3VuZCBvbiBtb3ZpZSBpbmZvIG9iamVjdClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU2VydmVycyA9IGFzeW5jIChlcGlzb2RlSWQsIG1lZGlhSWQpID0+IHtcbiAgICAgICAgICAgIGlmICghbWVkaWFJZC5zdGFydHNXaXRoKHRoaXMuYmFzZVVybCkpIHtcbiAgICAgICAgICAgICAgICBtZWRpYUlkID0gYCR7dGhpcy5iYXNlVXJsfS8ke21lZGlhSWR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQobWVkaWFJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdWlkID0gJCgnI3dhdGNoJykuYXR0cignZGF0YS1pZCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVwc2lvZGVTZXJ2ZXJzID0gW107XG4gICAgICAgICAgICAgICAgY29uc3QgYWpheERhdGEgPSAoYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGF3YWl0IHRoaXMuYWpheFJlcVVybCh1aWQpKSkuZGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCAkJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoYWpheERhdGEuaHRtbCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVycyA9IHt9O1xuICAgICAgICAgICAgICAgICQkKCcuc2VydmVyJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VydmVySWQgPSAkKGVsKS5hdHRyKCdkYXRhLWlkJyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzZXJ2ZXJOYW1lID0gJChlbCkudGV4dCgpLnRvTG93ZXJDYXNlKCkuc3BsaXQoJ3NlcnZlcicpWzFdLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZlck5hbWUgPT0gJ3ZpZHN0cmVhbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlck5hbWUgPSAndml6Y2xvdWQnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlcnNbc2VydmVySWRdID0gc2VydmVyTmFtZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbCA9ICQkKGBhW2RhdGEta25hbWU9XCIke2VwaXNvZGVJZH1cIl1gKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJTdHJpbmcgPSBKU09OLnBhcnNlKGVsLmF0dHIoJ2RhdGEtZXAnKSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2VydmVySWQgaW4gc2VydmVyU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcHNpb2RlU2VydmVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzZXJ2ZXJzW3NlcnZlcklkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNlcnZlclN0cmluZ1tzZXJ2ZXJJZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXBzaW9kZVNlcnZlcnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcGlzb2RlIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VwaXNvZGUgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZm1vdmllc1Jlc29sdmVyID0gZm1vdmllc1Jlc29sdmVyICE9PSBudWxsICYmIGZtb3ZpZXNSZXNvbHZlciAhPT0gdm9pZCAwID8gZm1vdmllc1Jlc29sdmVyIDogdGhpcy5mbW92aWVzUmVzb2x2ZXI7XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5ICE9PSBudWxsICYmIGFwaUtleSAhPT0gdm9pZCAwID8gYXBpS2V5IDogdGhpcy5hcGlLZXk7XG4gICAgfVxuICAgIGFzeW5jIGV2KHF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuZm1vdmllc1Jlc29sdmVyfS9mbW92aWVzLXZyZj9xdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9JmFwaWtleT0ke3RoaXMuYXBpS2V5fWApO1xuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEudXJsKTtcbiAgICB9XG4gICAgYXN5bmMgZGVjcnlwdChxdWVyeSkge1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmZtb3ZpZXNSZXNvbHZlcn0vZm1vdmllcy1kZWNyeXB0P3F1ZXJ5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX0mYXBpa2V5PSR7dGhpcy5hcGlLZXl9YCk7XG4gICAgICAgIHJldHVybiBkYXRhLnVybDtcbiAgICB9XG4gICAgYXN5bmMgYWpheFJlcVVybChpZCkge1xuICAgICAgICBjb25zdCB2cmYgPSBhd2FpdCB0aGlzLmV2KGlkKTtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuYmFzZVVybH0vYWpheC9maWxtL3NlcnZlcnM/aWQ9JHtpZH0mdnJmPSR7dnJmfSZ0b2tlbj1gO1xuICAgIH1cbn1cbi8vIChhc3luYyAoKSA9PiB7XG4vLyAgICAgY29uc3QgbW92aWUgPSBuZXcgRm1vdmllcyhcImh0dHBzOi8vOWFuaW1lLmVuaW1heC54eXpcIiwge3VybDogXCJodHRwczovL3Byb3h5LnZueHNlcnZlcnMuY29tL1wifSwgXCI4NDg2MjRhYWZmZWM0MzgwOGM4NmY1ZTQ3ZTNmYTViMFwiKTtcbi8vICAgICBjb25zdCBzZWFyY2ggPSBhd2FpdCBtb3ZpZS5zZWFyY2goJ2ZyaWVuZHMnKTtcbi8vICAgICAvLyBjb25zdCBzZWFyY2ggPSBhd2FpdCBtb3ZpZS5mZXRjaE1lZGlhSW5mbygnc2VyaWVzL2ZyaWVuZHMtM3J2ajknKTtcbi8vICAgICAvLyBjb25zdCBzZWFyY2ggPSBhd2FpdCBtb3ZpZS5mZXRjaE1lZGlhSW5mbygnbW92aWUvY2hpbWVzLWF0LW1pZG5pZ2h0LTFxdm53Jyk7XG4vLyAgICAgLy8gY29uc3Qgc2VhcmNoID0gYXdhaXQgbW92aWUuZmV0Y2hFcGlzb2RlU291cmNlcygnMS1mdWxsJywnbW92aWUvY2hpbWVzLWF0LW1pZG5pZ2h0LTFxdm53Jyk7XG4vLyAgICAgLy8gY29uc3Qgc2VhcmNoID0gYXdhaXQgbW92aWUuZmV0Y2hNZWRpYUluZm8oJ3Nlcmllcy9mcmllbmRzLTNydmo5Jyk7XG4vLyAgICAgLy8gY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkobW92aWVJbmZvKSk7XG4vLyAgICAgY29uc29sZS5sb2coXG4vLyAgICAgICAgIHNlYXJjaFxuLy8gICAgICk7XG4vLyAgICAgLy8gY29uc3QgcmVjZW50VHYgPSBhd2FpdCBtb3ZpZS5mZXRjaFRyZW5kaW5nVHZTaG93cygpO1xuLy8gICAgIC8vIGNvbnNvbGUubG9nKHNlYXJjaCk7XG4vLyB9KSgpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRm1vdmllcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZtb3ZpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/fmovies.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/goku.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/movies/goku.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nclass Goku extends models_1.MovieParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'Goku';\n        this.baseUrl = 'https://goku.sx';\n        this.logo = 'https://img.goku.sx/xxrz/400x400/100/9c/e7/9ce7510639c4204bfe43904fad8f361f/9ce7510639c4204bfe43904fad8f361f.png';\n        this.classPath = 'MOVIES.Goku';\n        this.supportedTypes = new Set([models_1.TvType.MOVIE, models_1.TvType.TVSERIES]);\n        /**\n         *\n         * @param query search query string\n         * @param page page number (default 1) (optional)\n         */\n        this.search = async (query, page = 1) => {\n            const searchResult = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/search?keyword=${query.replace(/[\\W_]+/g, '-')}&page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                searchResult.hasNextPage =\n                    $('.page-link').length > 0 ? $('.page-link').last().attr('title') === 'Last' : false;\n                $('div.section-items > div.item').each((i, el) => {\n                    var _a, _b, _c, _d;\n                    const releaseDate = $(el).find('div.movie-info div.info-split > div:nth-child(1)').text();\n                    const rating = $(el).find('div.movie-info div.info-split div.is-rated').text();\n                    searchResult.results.push({\n                        id: (_b = (_a = $(el).find('.is-watch > a').attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/', '')) !== null && _b !== void 0 ? _b : '',\n                        title: $(el).find('div.movie-info h3.movie-name').text(),\n                        url: `${this.baseUrl}${$(el).find('.is-watch > a').attr('href')}`,\n                        image: $(el).find('div.movie-thumbnail > a > img').attr('src'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                        rating: isNaN(parseInt(rating)) ? undefined : parseFloat(rating),\n                        type: ((_d = (_c = $(el).find('.is-watch > a').attr('href')) === null || _c === void 0 ? void 0 : _c.indexOf('watch-series')) !== null && _d !== void 0 ? _d : -1 > -1)\n                            ? models_1.TvType.TVSERIES\n                            : models_1.TvType.MOVIE,\n                    });\n                });\n                return searchResult;\n                // const { data } = await this.client.get(\n                //   `${this.baseUrl}/ajax/movie/search?keyword=${query.replace(/[\\W_]+/g, '-')}&page=${page}`\n                // );\n                // const $ = load(data);\n                // $('div.item').each((i, ele) => {\n                //   const url = $(ele).find('a')?.attr('href');\n                //   const releaseDate = $(ele).find('div.info-split > div:first-child').text();\n                //   const rating = $(ele).find('.is-rated').text();\n                //   searchResult.results.push({\n                //     id: url?.replace(this.baseUrl, '') ?? '',\n                //     title: $(ele).find('h3.movie-name').text(),\n                //     releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                //     image: $(ele).find('div.movie-thumbnail > a > img').attr('src'),\n                //     rating: isNaN(parseInt(rating)) ? undefined : parseFloat(rating),\n                //     type: releaseDate.toLocaleLowerCase() !== 'tv' ? TvType.MOVIE : TvType.TVSERIES,\n                //   });\n                // });\n                // return searchResult;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param mediaId media link or id\n         */\n        this.fetchMediaInfo = async (mediaId) => {\n            if (mediaId.startsWith(this.baseUrl)) {\n                mediaId = mediaId.replace(this.baseUrl + '/', '');\n            }\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/${mediaId}`);\n                const $ = (0, cheerio_1.load)(data);\n                const mediaInfo = {\n                    id: mediaId,\n                    title: '',\n                    url: `${this.baseUrl}/${mediaId}`,\n                };\n                mediaInfo.title = $('div.movie-detail > div.is-name > h3').text();\n                mediaInfo.image = $('.movie-thumbnail > img').attr('src');\n                mediaInfo.description = $('.is-description > .text-cut').text();\n                mediaInfo.type = mediaId.indexOf('watch-series') > -1 ? models_1.TvType.TVSERIES : models_1.TvType.MOVIE;\n                mediaInfo.genres = $(\"div.name:contains('Genres:')\")\n                    .siblings()\n                    .find('a')\n                    .map((i, el) => $(el).text())\n                    .get();\n                mediaInfo.casts = $(\"div.name:contains('Cast:')\")\n                    .siblings()\n                    .find('a')\n                    .map((i, el) => $(el).text())\n                    .get();\n                mediaInfo.production = $(\"div.name:contains('Production:')\")\n                    .siblings()\n                    .find('a')\n                    .map((i, el) => $(el).text())\n                    .get()\n                    .join();\n                mediaInfo.duration = $(\"div.name:contains('Duration:')\").siblings().text().split('\\n').join('').trim();\n                if (mediaInfo.type === models_1.TvType.TVSERIES) {\n                    const { data } = await this.client.get(`${this.baseUrl}/ajax/movie/seasons/${mediaInfo.id.split('-').pop()}`);\n                    const $$ = (0, cheerio_1.load)(data);\n                    const seasonsIds = $$('.dropdown-menu > a')\n                        .map((i, el) => {\n                        const seasonsId = $(el).text().replace('Season', '').trim();\n                        return {\n                            id: $(el).attr('data-id'),\n                            season: isNaN(parseInt(seasonsId)) ? undefined : parseInt(seasonsId),\n                        };\n                    })\n                        .get();\n                    mediaInfo.episodes = [];\n                    for (const season of seasonsIds) {\n                        const { data } = await this.client.get(`${this.baseUrl}/ajax/movie/season/episodes/${season.id}`);\n                        const $$$ = (0, cheerio_1.load)(data);\n                        $$$('.item')\n                            .map((i, el) => {\n                            var _a, _b, _c, _d, _e;\n                            const episode = {\n                                id: (_a = $$$(el).find('a').attr('data-id')) !== null && _a !== void 0 ? _a : '',\n                                title: (_b = $$$(el).find('a').attr('title')) !== null && _b !== void 0 ? _b : '',\n                                number: parseInt((_d = (_c = $$$(el).find('a').text()) === null || _c === void 0 ? void 0 : _c.split(':')[0].trim().substring(3)) !== null && _d !== void 0 ? _d : ''),\n                                season: season.season,\n                                url: $$$(el).find('a').attr('href'),\n                            };\n                            (_e = mediaInfo.episodes) === null || _e === void 0 ? void 0 : _e.push(episode);\n                        })\n                            .get();\n                    }\n                }\n                else {\n                    mediaInfo.episodes = [];\n                    $('meta').map((i, ele) => {\n                        var _a, _b, _c;\n                        if ($(ele).attr('property') === 'og:url') {\n                            const episode = {\n                                id: (_b = (_a = $(ele).attr('content')) === null || _a === void 0 ? void 0 : _a.split('/').pop()) !== null && _b !== void 0 ? _b : '',\n                                title: mediaInfo.title.toString(),\n                                url: $(ele).attr('content'),\n                            };\n                            (_c = mediaInfo.episodes) === null || _c === void 0 ? void 0 : _c.push(episode);\n                        }\n                    });\n                }\n                return mediaInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId episode id\n         * @param mediaId media id\n         * @param server server type (default `VidCloud`) (optional)\n         */\n        this.fetchEpisodeSources = async (episodeId, mediaId, server = models_1.StreamingServers.UpCloud) => {\n            if (episodeId.startsWith('http')) {\n                const serverUrl = new URL(episodeId);\n                switch (server) {\n                    case models_1.StreamingServers.MixDrop:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            sources: await new extractors_1.MixDrop(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                    case models_1.StreamingServers.VidCloud:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new extractors_1.VidCloud(this.proxyConfig, this.adapter).extract(serverUrl, true)),\n                        };\n                    case models_1.StreamingServers.UpCloud:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new extractors_1.VidCloud(this.proxyConfig, this.adapter).extract(serverUrl)),\n                        };\n                    default:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            sources: await new extractors_1.MixDrop(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                }\n            }\n            try {\n                const servers = await this.fetchEpisodeServers(episodeId, mediaId);\n                const i = servers.findIndex(s => s.name.toLowerCase() === server.toLowerCase());\n                if (i === -1) {\n                    throw new Error(`Server ${server} not found`);\n                }\n                const serverUrl = new URL(servers.filter(s => s.name.toLowerCase() === server.toLowerCase())[0].url);\n                return await this.fetchEpisodeSources(serverUrl.href, mediaId, server);\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId takes episode link or movie id\n         * @param mediaId takes movie link or id (found on movie info object)\n         */\n        this.fetchEpisodeServers = async (episodeId, mediaId) => {\n            try {\n                const epsiodeServers = [];\n                const { data } = await this.client.get(`${this.baseUrl}/ajax/movie/episode/servers/${episodeId}`);\n                const $ = (0, cheerio_1.load)(data);\n                const servers = $('.dropdown-menu > a')\n                    .map((i, ele) => {\n                    var _a;\n                    return ({\n                        name: $(ele).text(),\n                        id: (_a = $(ele).attr('data-id')) !== null && _a !== void 0 ? _a : '',\n                    });\n                })\n                    .get();\n                for (const server of servers) {\n                    const { data } = await this.client.get(`${this.baseUrl}/ajax/movie/episode/server/sources/${server.id}`);\n                    epsiodeServers.push({\n                        name: server.name,\n                        url: data.data.link,\n                    });\n                }\n                return epsiodeServers;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchRecentMovies = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const movies = $('.section-last')\n                    .first()\n                    .find('.item')\n                    .map((i, ele) => {\n                    var _a, _b, _c;\n                    const releaseDate = $(ele).find('.info-split').children().first().text();\n                    const movie = {\n                        id: (_a = $(ele).find('.is-watch > a').attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/', ''),\n                        title: $(ele).find('.movie-name').text(),\n                        url: `${this.baseUrl}${$(ele).find('.is-watch > a').attr('href')}`,\n                        image: $(ele).find('.movie-thumbnail > a > img').attr('src'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                        duration: $(ele).find('.info-split > div:nth-child(3)').text(),\n                        type: ((_c = (_b = $(ele).find('.is-watch > a').attr('href')) === null || _b === void 0 ? void 0 : _b.indexOf('watch-movie')) !== null && _c !== void 0 ? _c : -1 > -1)\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    return movie;\n                })\n                    .get();\n                return movies;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchRecentTvShows = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const tvshows = $('.section-last')\n                    .last()\n                    .find('.item')\n                    .map((i, ele) => {\n                    var _a, _b, _c;\n                    const tvshow = {\n                        id: (_a = $(ele).find('.is-watch > a').attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/', ''),\n                        title: $(ele).find('.movie-name').text(),\n                        url: `${this.baseUrl}${$(ele).find('.is-watch > a').attr('href')}`,\n                        image: $(ele).find('.movie-thumbnail > a > img').attr('src'),\n                        season: $(ele).find('.info-split > div:nth-child(2)').text().split('/')[0].trim(),\n                        latestEpisode: $(ele).find('.info-split > div:nth-child(2)').text().split('/')[1].trim(),\n                        type: ((_c = (_b = $(ele).find('.is-watch > a').attr('href')) === null || _b === void 0 ? void 0 : _b.indexOf('watch-series')) !== null && _c !== void 0 ? _c : -1 > -1)\n                            ? models_1.TvType.TVSERIES\n                            : models_1.TvType.MOVIE,\n                    };\n                    return tvshow;\n                })\n                    .get();\n                return tvshows;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchTrendingMovies = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const movies = $('#trending-movies')\n                    .find('.item')\n                    .map((i, ele) => {\n                    var _a, _b, _c;\n                    const releaseDate = $(ele).find('.info-split').children().first().text();\n                    const movie = {\n                        id: (_a = $(ele).find('.is-watch > a').attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/', ''),\n                        title: $(ele).find('.movie-name').text(),\n                        url: `${this.baseUrl}${$(ele).find('.is-watch > a').attr('href')}`,\n                        image: $(ele).find('.movie-thumbnail > a > img').attr('src'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                        duration: $(ele).find('.info-split > div:nth-child(3)').text(),\n                        type: ((_c = (_b = $(ele).find('.is-watch > a').attr('href')) === null || _b === void 0 ? void 0 : _b.indexOf('watch-movie')) !== null && _c !== void 0 ? _c : -1 > -1)\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    return movie;\n                })\n                    .get();\n                return movies;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchTrendingTvShows = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const tvshows = $('#trending-series')\n                    .find('.item')\n                    .map((i, ele) => {\n                    var _a, _b, _c;\n                    const tvshow = {\n                        id: (_a = $(ele).find('.is-watch > a').attr('href')) === null || _a === void 0 ? void 0 : _a.replace('/', ''),\n                        title: $(ele).find('.movie-name').text(),\n                        url: `${this.baseUrl}${$(ele).find('.is-watch > a').attr('href')}`,\n                        image: $(ele).find('.movie-thumbnail > a > img').attr('src'),\n                        season: $(ele).find('.info-split > div:nth-child(2)').text().split('/')[0].trim(),\n                        latestEpisode: $(ele).find('.info-split > div:nth-child(2)').text().split('/')[1].trim(),\n                        type: ((_c = (_b = $(ele).find('.is-watch > a').attr('href')) === null || _b === void 0 ? void 0 : _b.indexOf('watch-series')) !== null && _c !== void 0 ? _c : -1 > -1)\n                            ? models_1.TvType.TVSERIES\n                            : models_1.TvType.MOVIE,\n                    };\n                    return tvshow;\n                })\n                    .get();\n                return tvshows;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchByCountry = async (country, page = 1) => {\n            const result = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/country/${country}/?page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                result.hasNextPage =\n                    $('.page-link').length > 0 ? $('.page-link').last().attr('title') === 'Last' : false;\n                $('div.section-items.section-items-default > div.item')\n                    .each((i, el) => {\n                    var _a, _b, _c, _d;\n                    const resultItem = {\n                        id: (_b = (_a = $(el).find('div.movie-thumbnail > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1)) !== null && _b !== void 0 ? _b : '',\n                        title: (_c = $(el).find('div.movie-info > a > h3.movie-name').text().trim()) !== null && _c !== void 0 ? _c : '',\n                        url: `${this.baseUrl}${$(el).find('div.movie-info > a').attr('href')}`,\n                        image: $(el).find('div.movie-thumbnail > a > img').attr('src'),\n                        type: ((_d = $(el).find('div.movie-info > a').attr('href')) === null || _d === void 0 ? void 0 : _d.includes('movie/'))\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    if (resultItem.type === models_1.TvType.TVSERIES) {\n                        resultItem.season = $(el)\n                            .find('div.movie-info > div.info-split > div:nth-child(2)')\n                            .text()\n                            .split('/')[0]\n                            .trim();\n                        resultItem.latestEpisode = $(el)\n                            .find('div.movie-info > div.info-split > div:nth-child(2)')\n                            .text()\n                            .split('/')[1]\n                            .trim();\n                    }\n                    else {\n                        resultItem.releaseDate = $(el).find('div.movie-info > div.info-split > div:nth-child(1)').text();\n                        resultItem.duration = $(el).find('div.movie-info > div.info-split > div:nth-child(3)').text();\n                    }\n                    result.results.push(resultItem);\n                })\n                    .get();\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchByGenre = async (genre, page = 1) => {\n            const result = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/genre/${genre}?page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                result.hasNextPage =\n                    $('.page-link').length > 0 ? $('.page-link').last().attr('title') === 'Last' : false;\n                $('div.section-items.section-items-default > div.item')\n                    .each((i, el) => {\n                    var _a, _b, _c, _d;\n                    const resultItem = {\n                        id: (_b = (_a = $(el).find('div.movie-thumbnail > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1)) !== null && _b !== void 0 ? _b : '',\n                        title: (_c = $(el).find('div.movie-info > a > h3.movie-name').text().trim()) !== null && _c !== void 0 ? _c : '',\n                        url: `${this.baseUrl}${$(el).find('div.movie-info > a').attr('href')}`,\n                        image: $(el).find('div.movie-thumbnail > a > img').attr('src'),\n                        type: ((_d = $(el).find('div.movie-info > a').attr('href')) === null || _d === void 0 ? void 0 : _d.includes('movie/'))\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    if (resultItem.type === models_1.TvType.TVSERIES) {\n                        resultItem.season = $(el)\n                            .find('div.movie-info > div.info-split > div:nth-child(2)')\n                            .text()\n                            .split('/')[0]\n                            .trim();\n                        resultItem.latestEpisode = $(el)\n                            .find('div.movie-info > div.info-split > div:nth-child(2)')\n                            .text()\n                            .split('/')[1]\n                            .trim();\n                    }\n                    else {\n                        resultItem.releaseDate = $(el).find('div.movie-info > div.info-split > div:nth-child(1)').text();\n                        resultItem.duration = $(el).find('div.movie-info > div.info-split > div:nth-child(3)').text();\n                    }\n                    result.results.push(resultItem);\n                })\n                    .get();\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\n// (async () => {\n//   const movie = new Goku();\n//   const genre = await movie.fetchByGenre('drama-4');\n//   console.log(genre)\n// })();\nexports[\"default\"] = Goku;\n//# sourceMappingURL=goku.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbW92aWVzL2dva3UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLG1CQUFPLENBQUMsb0VBQVM7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkMscUJBQXFCLG1CQUFPLENBQUMsNEZBQWtCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxrQkFBa0IsOEJBQThCLFFBQVEsS0FBSztBQUNwSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUseUNBQXlDO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQSwyQkFBMkIsT0FBTztBQUNsQyx3QkFBd0IsYUFBYSw2QkFBNkIsOEJBQThCLFFBQVEsS0FBSztBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QixvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsR0FBRyxRQUFRO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGFBQWEsR0FBRyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsT0FBTywyQkFBMkIsYUFBYSxzQkFBc0IsOEJBQThCO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLE9BQU8sMkJBQTJCLGFBQWEsOEJBQThCLFVBQVU7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx5QkFBeUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMseUJBQXlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHlCQUF5QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx5QkFBeUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxRQUFRO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsOEJBQThCLFVBQVU7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSw0QkFBNEIsT0FBTywyQkFBMkIsYUFBYSxxQ0FBcUMsVUFBVTtBQUMxSDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLDBDQUEwQztBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsMENBQTBDO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSwwQ0FBMEM7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSwwQ0FBMEM7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsV0FBVyxRQUFRLFNBQVMsS0FBSztBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLDhDQUE4QztBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsU0FBUyxNQUFNLFFBQVEsS0FBSztBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLDhDQUE4QztBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXG1vdmllc1xcZ29rdS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY29uc3QgZXh0cmFjdG9yc18xID0gcmVxdWlyZShcIi4uLy4uL2V4dHJhY3RvcnNcIik7XG5jbGFzcyBHb2t1IGV4dGVuZHMgbW9kZWxzXzEuTW92aWVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnR29rdSc7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL2dva3Uuc3gnO1xuICAgICAgICB0aGlzLmxvZ28gPSAnaHR0cHM6Ly9pbWcuZ29rdS5zeC94eHJ6LzQwMHg0MDAvMTAwLzljL2U3LzljZTc1MTA2MzljNDIwNGJmZTQzOTA0ZmFkOGYzNjFmLzljZTc1MTA2MzljNDIwNGJmZTQzOTA0ZmFkOGYzNjFmLnBuZyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ01PVklFUy5Hb2t1JztcbiAgICAgICAgdGhpcy5zdXBwb3J0ZWRUeXBlcyA9IG5ldyBTZXQoW21vZGVsc18xLlR2VHlwZS5NT1ZJRSwgbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTXSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgc2VhcmNoIHF1ZXJ5IHN0cmluZ1xuICAgICAgICAgKiBAcGFyYW0gcGFnZSBwYWdlIG51bWJlciAoZGVmYXVsdCAxKSAob3B0aW9uYWwpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGFzeW5jIChxdWVyeSwgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L3NlYXJjaD9rZXl3b3JkPSR7cXVlcnkucmVwbGFjZSgvW1xcV19dKy9nLCAnLScpfSZwYWdlPSR7cGFnZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHQuaGFzTmV4dFBhZ2UgPVxuICAgICAgICAgICAgICAgICAgICAkKCcucGFnZS1saW5rJykubGVuZ3RoID4gMCA/ICQoJy5wYWdlLWxpbmsnKS5sYXN0KCkuYXR0cigndGl0bGUnKSA9PT0gJ0xhc3QnIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgJCgnZGl2LnNlY3Rpb24taXRlbXMgPiBkaXYuaXRlbScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsZWFzZURhdGUgPSAkKGVsKS5maW5kKCdkaXYubW92aWUtaW5mbyBkaXYuaW5mby1zcGxpdCA+IGRpdjpudGgtY2hpbGQoMSknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGluZyA9ICQoZWwpLmZpbmQoJ2Rpdi5tb3ZpZS1pbmZvIGRpdi5pbmZvLXNwbGl0IGRpdi5pcy1yYXRlZCcpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0LnJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9iID0gKF9hID0gJChlbCkuZmluZCgnLmlzLXdhdGNoID4gYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcGxhY2UoJy8nLCAnJykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJ2Rpdi5tb3ZpZS1pbmZvIGgzLm1vdmllLW5hbWUnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0keyQoZWwpLmZpbmQoJy5pcy13YXRjaCA+IGEnKS5hdHRyKCdocmVmJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdkaXYubW92aWUtdGh1bWJuYWlsID4gYSA+IGltZycpLmF0dHIoJ3NyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IGlzTmFOKHBhcnNlSW50KHJlbGVhc2VEYXRlKSkgPyB1bmRlZmluZWQgOiByZWxlYXNlRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZzogaXNOYU4ocGFyc2VJbnQocmF0aW5nKSkgPyB1bmRlZmluZWQgOiBwYXJzZUZsb2F0KHJhdGluZyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAoKF9kID0gKF9jID0gJChlbCkuZmluZCgnLmlzLXdhdGNoID4gYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmluZGV4T2YoJ3dhdGNoLXNlcmllcycpKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAtMSA+IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtb2RlbHNfMS5UdlR5cGUuTU9WSUUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWFyY2hSZXN1bHQ7XG4gICAgICAgICAgICAgICAgLy8gY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoXG4gICAgICAgICAgICAgICAgLy8gICBgJHt0aGlzLmJhc2VVcmx9L2FqYXgvbW92aWUvc2VhcmNoP2tleXdvcmQ9JHtxdWVyeS5yZXBsYWNlKC9bXFxXX10rL2csICctJyl9JnBhZ2U9JHtwYWdlfWBcbiAgICAgICAgICAgICAgICAvLyApO1xuICAgICAgICAgICAgICAgIC8vIGNvbnN0ICQgPSBsb2FkKGRhdGEpO1xuICAgICAgICAgICAgICAgIC8vICQoJ2Rpdi5pdGVtJykuZWFjaCgoaSwgZWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gICBjb25zdCB1cmwgPSAkKGVsZSkuZmluZCgnYScpPy5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICAgICAgLy8gICBjb25zdCByZWxlYXNlRGF0ZSA9ICQoZWxlKS5maW5kKCdkaXYuaW5mby1zcGxpdCA+IGRpdjpmaXJzdC1jaGlsZCcpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAvLyAgIGNvbnN0IHJhdGluZyA9ICQoZWxlKS5maW5kKCcuaXMtcmF0ZWQnKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgLy8gICBzZWFyY2hSZXN1bHQucmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAvLyAgICAgaWQ6IHVybD8ucmVwbGFjZSh0aGlzLmJhc2VVcmwsICcnKSA/PyAnJyxcbiAgICAgICAgICAgICAgICAvLyAgICAgdGl0bGU6ICQoZWxlKS5maW5kKCdoMy5tb3ZpZS1uYW1lJykudGV4dCgpLFxuICAgICAgICAgICAgICAgIC8vICAgICByZWxlYXNlRGF0ZTogaXNOYU4ocGFyc2VJbnQocmVsZWFzZURhdGUpKSA/IHVuZGVmaW5lZCA6IHJlbGVhc2VEYXRlLFxuICAgICAgICAgICAgICAgIC8vICAgICBpbWFnZTogJChlbGUpLmZpbmQoJ2Rpdi5tb3ZpZS10aHVtYm5haWwgPiBhID4gaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgLy8gICAgIHJhdGluZzogaXNOYU4ocGFyc2VJbnQocmF0aW5nKSkgPyB1bmRlZmluZWQgOiBwYXJzZUZsb2F0KHJhdGluZyksXG4gICAgICAgICAgICAgICAgLy8gICAgIHR5cGU6IHJlbGVhc2VEYXRlLnRvTG9jYWxlTG93ZXJDYXNlKCkgIT09ICd0dicgPyBUdlR5cGUuTU9WSUUgOiBUdlR5cGUuVFZTRVJJRVMsXG4gICAgICAgICAgICAgICAgLy8gICB9KTtcbiAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gc2VhcmNoUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gbWVkaWFJZCBtZWRpYSBsaW5rIG9yIGlkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoTWVkaWFJbmZvID0gYXN5bmMgKG1lZGlhSWQpID0+IHtcbiAgICAgICAgICAgIGlmIChtZWRpYUlkLnN0YXJ0c1dpdGgodGhpcy5iYXNlVXJsKSkge1xuICAgICAgICAgICAgICAgIG1lZGlhSWQgPSBtZWRpYUlkLnJlcGxhY2UodGhpcy5iYXNlVXJsICsgJy8nLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vJHttZWRpYUlkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lZGlhSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG1lZGlhSWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9LyR7bWVkaWFJZH1gLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLnRpdGxlID0gJCgnZGl2Lm1vdmllLWRldGFpbCA+IGRpdi5pcy1uYW1lID4gaDMnKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmltYWdlID0gJCgnLm1vdmllLXRodW1ibmFpbCA+IGltZycpLmF0dHIoJ3NyYycpO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5kZXNjcmlwdGlvbiA9ICQoJy5pcy1kZXNjcmlwdGlvbiA+IC50ZXh0LWN1dCcpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBtZWRpYUluZm8udHlwZSA9IG1lZGlhSWQuaW5kZXhPZignd2F0Y2gtc2VyaWVzJykgPiAtMSA/IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUyA6IG1vZGVsc18xLlR2VHlwZS5NT1ZJRTtcbiAgICAgICAgICAgICAgICBtZWRpYUluZm8uZ2VucmVzID0gJChcImRpdi5uYW1lOmNvbnRhaW5zKCdHZW5yZXM6JylcIilcbiAgICAgICAgICAgICAgICAgICAgLnNpYmxpbmdzKClcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2EnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmNhc3RzID0gJChcImRpdi5uYW1lOmNvbnRhaW5zKCdDYXN0OicpXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zaWJsaW5ncygpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCdhJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+ICQoZWwpLnRleHQoKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5wcm9kdWN0aW9uID0gJChcImRpdi5uYW1lOmNvbnRhaW5zKCdQcm9kdWN0aW9uOicpXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zaWJsaW5ncygpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCdhJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+ICQoZWwpLnRleHQoKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmR1cmF0aW9uID0gJChcImRpdi5uYW1lOmNvbnRhaW5zKCdEdXJhdGlvbjonKVwiKS5zaWJsaW5ncygpLnRleHQoKS5zcGxpdCgnXFxuJykuam9pbignJykudHJpbSgpO1xuICAgICAgICAgICAgICAgIGlmIChtZWRpYUluZm8udHlwZSA9PT0gbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vYWpheC9tb3ZpZS9zZWFzb25zLyR7bWVkaWFJbmZvLmlkLnNwbGl0KCctJykucG9wKCl9YCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0ICQkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vhc29uc0lkcyA9ICQkKCcuZHJvcGRvd24tbWVudSA+IGEnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYXNvbnNJZCA9ICQoZWwpLnRleHQoKS5yZXBsYWNlKCdTZWFzb24nLCAnJykudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJChlbCkuYXR0cignZGF0YS1pZCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXNvbjogaXNOYU4ocGFyc2VJbnQoc2Vhc29uc0lkKSkgPyB1bmRlZmluZWQgOiBwYXJzZUludChzZWFzb25zSWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFJbmZvLmVwaXNvZGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2Vhc29uIG9mIHNlYXNvbnNJZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vYWpheC9tb3ZpZS9zZWFzb24vZXBpc29kZXMvJHtzZWFzb24uaWR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCAkJCQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkKCcuaXRlbScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkJCQoZWwpLmZpbmQoJ2EnKS5hdHRyKCdkYXRhLWlkJykpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogKF9iID0gJCQkKGVsKS5maW5kKCdhJykuYXR0cigndGl0bGUnKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogcGFyc2VJbnQoKF9kID0gKF9jID0gJCQkKGVsKS5maW5kKCdhJykudGV4dCgpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc3BsaXQoJzonKVswXS50cmltKCkuc3Vic3RyaW5nKDMpKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAnJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXNvbjogc2Vhc29uLnNlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkJCQoZWwpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2UgPSBtZWRpYUluZm8uZXBpc29kZXMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5wdXNoKGVwaXNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhSW5mby5lcGlzb2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAkKCdtZXRhJykubWFwKChpLCBlbGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoZWxlKS5hdHRyKCdwcm9wZXJ0eScpID09PSAnb2c6dXJsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2IgPSAoX2EgPSAkKGVsZSkuYXR0cignY29udGVudCcpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3BsaXQoJy8nKS5wb3AoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBtZWRpYUluZm8udGl0bGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKGVsZSkuYXR0cignY29udGVudCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9jID0gbWVkaWFJbmZvLmVwaXNvZGVzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucHVzaChlcGlzb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYUluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgZXBpc29kZSBpZFxuICAgICAgICAgKiBAcGFyYW0gbWVkaWFJZCBtZWRpYSBpZFxuICAgICAgICAgKiBAcGFyYW0gc2VydmVyIHNlcnZlciB0eXBlIChkZWZhdWx0IGBWaWRDbG91ZGApIChvcHRpb25hbClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU291cmNlcyA9IGFzeW5jIChlcGlzb2RlSWQsIG1lZGlhSWQsIHNlcnZlciA9IG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVXBDbG91ZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGVwaXNvZGVJZC5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJVcmwgPSBuZXcgVVJMKGVwaXNvZGVJZCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLk1peERyb3A6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLmhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBhd2FpdCBuZXcgZXh0cmFjdG9yc18xLk1peERyb3AodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVmlkQ2xvdWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLmhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5WaWRDbG91ZCh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc2VydmVyVXJsLCB0cnVlKSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVXBDbG91ZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwuaHJlZiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihhd2FpdCBuZXcgZXh0cmFjdG9yc18xLlZpZENsb3VkKHRoaXMucHJveHlDb25maWcsIHRoaXMuYWRhcHRlcikuZXh0cmFjdChzZXJ2ZXJVcmwpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLmhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBhd2FpdCBuZXcgZXh0cmFjdG9yc18xLk1peERyb3AodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVycyA9IGF3YWl0IHRoaXMuZmV0Y2hFcGlzb2RlU2VydmVycyhlcGlzb2RlSWQsIG1lZGlhSWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBzZXJ2ZXJzLmZpbmRJbmRleChzID0+IHMubmFtZS50b0xvd2VyQ2FzZSgpID09PSBzZXJ2ZXIudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyICR7c2VydmVyfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyVXJsID0gbmV3IFVSTChzZXJ2ZXJzLmZpbHRlcihzID0+IHMubmFtZS50b0xvd2VyQ2FzZSgpID09PSBzZXJ2ZXIudG9Mb3dlckNhc2UoKSlbMF0udXJsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzKHNlcnZlclVybC5ocmVmLCBtZWRpYUlkLCBzZXJ2ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gZXBpc29kZUlkIHRha2VzIGVwaXNvZGUgbGluayBvciBtb3ZpZSBpZFxuICAgICAgICAgKiBAcGFyYW0gbWVkaWFJZCB0YWtlcyBtb3ZpZSBsaW5rIG9yIGlkIChmb3VuZCBvbiBtb3ZpZSBpbmZvIG9iamVjdClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU2VydmVycyA9IGFzeW5jIChlcGlzb2RlSWQsIG1lZGlhSWQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXBzaW9kZVNlcnZlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2FqYXgvbW92aWUvZXBpc29kZS9zZXJ2ZXJzLyR7ZXBpc29kZUlkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlcnMgPSAkKCcuZHJvcGRvd24tbWVudSA+IGEnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICQoZWxlKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9hID0gJChlbGUpLmF0dHIoJ2RhdGEtaWQnKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNlcnZlciBvZiBzZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vYWpheC9tb3ZpZS9lcGlzb2RlL3NlcnZlci9zb3VyY2VzLyR7c2VydmVyLmlkfWApO1xuICAgICAgICAgICAgICAgICAgICBlcHNpb2RlU2VydmVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNlcnZlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBkYXRhLmRhdGEubGluayxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlcHNpb2RlU2VydmVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoUmVjZW50TW92aWVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2hvbWVgKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3ZpZXMgPSAkKCcuc2VjdGlvbi1sYXN0JylcbiAgICAgICAgICAgICAgICAgICAgLmZpcnN0KClcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5pdGVtJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxlYXNlRGF0ZSA9ICQoZWxlKS5maW5kKCcuaW5mby1zcGxpdCcpLmNoaWxkcmVuKCkuZmlyc3QoKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdmllID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWxlKS5maW5kKCcuaXMtd2F0Y2ggPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVwbGFjZSgnLycsICcnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsZSkuZmluZCgnLm1vdmllLW5hbWUnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0keyQoZWxlKS5maW5kKCcuaXMtd2F0Y2ggPiBhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbGUpLmZpbmQoJy5tb3ZpZS10aHVtYm5haWwgPiBhID4gaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogaXNOYU4ocGFyc2VJbnQocmVsZWFzZURhdGUpKSA/IHVuZGVmaW5lZCA6IHJlbGVhc2VEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246ICQoZWxlKS5maW5kKCcuaW5mby1zcGxpdCA+IGRpdjpudGgtY2hpbGQoMyknKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAoKF9jID0gKF9iID0gJChlbGUpLmZpbmQoJy5pcy13YXRjaCA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pbmRleE9mKCd3YXRjaC1tb3ZpZScpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAtMSA+IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuVHZUeXBlLk1PVklFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb3ZpZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vdmllcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoUmVjZW50VHZTaG93cyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9ob21lYCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHZzaG93cyA9ICQoJy5zZWN0aW9uLWxhc3QnKVxuICAgICAgICAgICAgICAgICAgICAubGFzdCgpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcuaXRlbScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHZzaG93ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWxlKS5maW5kKCcuaXMtd2F0Y2ggPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVwbGFjZSgnLycsICcnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsZSkuZmluZCgnLm1vdmllLW5hbWUnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0keyQoZWxlKS5maW5kKCcuaXMtd2F0Y2ggPiBhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbGUpLmZpbmQoJy5tb3ZpZS10aHVtYm5haWwgPiBhID4gaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFzb246ICQoZWxlKS5maW5kKCcuaW5mby1zcGxpdCA+IGRpdjpudGgtY2hpbGQoMiknKS50ZXh0KCkuc3BsaXQoJy8nKVswXS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRlc3RFcGlzb2RlOiAkKGVsZSkuZmluZCgnLmluZm8tc3BsaXQgPiBkaXY6bnRoLWNoaWxkKDIpJykudGV4dCgpLnNwbGl0KCcvJylbMV0udHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogKChfYyA9IChfYiA9ICQoZWxlKS5maW5kKCcuaXMtd2F0Y2ggPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW5kZXhPZignd2F0Y2gtc2VyaWVzJykpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IC0xID4gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLlR2VHlwZS5NT1ZJRSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR2c2hvdztcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR2c2hvd3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaFRyZW5kaW5nTW92aWVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2hvbWVgKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3ZpZXMgPSAkKCcjdHJlbmRpbmctbW92aWVzJylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5pdGVtJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxlYXNlRGF0ZSA9ICQoZWxlKS5maW5kKCcuaW5mby1zcGxpdCcpLmNoaWxkcmVuKCkuZmlyc3QoKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdmllID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWxlKS5maW5kKCcuaXMtd2F0Y2ggPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVwbGFjZSgnLycsICcnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsZSkuZmluZCgnLm1vdmllLW5hbWUnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0keyQoZWxlKS5maW5kKCcuaXMtd2F0Y2ggPiBhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbGUpLmZpbmQoJy5tb3ZpZS10aHVtYm5haWwgPiBhID4gaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogaXNOYU4ocGFyc2VJbnQocmVsZWFzZURhdGUpKSA/IHVuZGVmaW5lZCA6IHJlbGVhc2VEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246ICQoZWxlKS5maW5kKCcuaW5mby1zcGxpdCA+IGRpdjpudGgtY2hpbGQoMyknKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAoKF9jID0gKF9iID0gJChlbGUpLmZpbmQoJy5pcy13YXRjaCA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pbmRleE9mKCd3YXRjaC1tb3ZpZScpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAtMSA+IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuVHZUeXBlLk1PVklFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb3ZpZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vdmllcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoVHJlbmRpbmdUdlNob3dzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2hvbWVgKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0dnNob3dzID0gJCgnI3RyZW5kaW5nLXNlcmllcycpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcuaXRlbScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHZzaG93ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWxlKS5maW5kKCcuaXMtd2F0Y2ggPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVwbGFjZSgnLycsICcnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsZSkuZmluZCgnLm1vdmllLW5hbWUnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0keyQoZWxlKS5maW5kKCcuaXMtd2F0Y2ggPiBhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbGUpLmZpbmQoJy5tb3ZpZS10aHVtYm5haWwgPiBhID4gaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFzb246ICQoZWxlKS5maW5kKCcuaW5mby1zcGxpdCA+IGRpdjpudGgtY2hpbGQoMiknKS50ZXh0KCkuc3BsaXQoJy8nKVswXS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRlc3RFcGlzb2RlOiAkKGVsZSkuZmluZCgnLmluZm8tc3BsaXQgPiBkaXY6bnRoLWNoaWxkKDIpJykudGV4dCgpLnNwbGl0KCcvJylbMV0udHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogKChfYyA9IChfYiA9ICQoZWxlKS5maW5kKCcuaXMtd2F0Y2ggPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW5kZXhPZignd2F0Y2gtc2VyaWVzJykpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IC0xID4gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLlR2VHlwZS5NT1ZJRSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR2c2hvdztcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR2c2hvd3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaEJ5Q291bnRyeSA9IGFzeW5jIChjb3VudHJ5LCBwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vY291bnRyeS8ke2NvdW50cnl9Lz9wYWdlPSR7cGFnZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICByZXN1bHQuaGFzTmV4dFBhZ2UgPVxuICAgICAgICAgICAgICAgICAgICAkKCcucGFnZS1saW5rJykubGVuZ3RoID4gMCA/ICQoJy5wYWdlLWxpbmsnKS5sYXN0KCkuYXR0cigndGl0bGUnKSA9PT0gJ0xhc3QnIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgJCgnZGl2LnNlY3Rpb24taXRlbXMuc2VjdGlvbi1pdGVtcy1kZWZhdWx0ID4gZGl2Lml0ZW0nKVxuICAgICAgICAgICAgICAgICAgICAuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYiA9IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5tb3ZpZS10aHVtYm5haWwgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYyA9ICQoZWwpLmZpbmQoJ2Rpdi5tb3ZpZS1pbmZvID4gYSA+IGgzLm1vdmllLW5hbWUnKS50ZXh0KCkudHJpbSgpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnZGl2Lm1vdmllLWluZm8gPiBhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnZGl2Lm1vdmllLXRodW1ibmFpbCA+IGEgPiBpbWcnKS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICgoX2QgPSAkKGVsKS5maW5kKCdkaXYubW92aWUtaW5mbyA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5pbmNsdWRlcygnbW92aWUvJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5UdlR5cGUuTU9WSUVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdEl0ZW0udHlwZSA9PT0gbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRJdGVtLnNlYXNvbiA9ICQoZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2Rpdi5tb3ZpZS1pbmZvID4gZGl2LmluZm8tc3BsaXQgPiBkaXY6bnRoLWNoaWxkKDIpJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCcvJylbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0SXRlbS5sYXRlc3RFcGlzb2RlID0gJChlbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnZGl2Lm1vdmllLWluZm8gPiBkaXYuaW5mby1zcGxpdCA+IGRpdjpudGgtY2hpbGQoMiknKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJy8nKVsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRJdGVtLnJlbGVhc2VEYXRlID0gJChlbCkuZmluZCgnZGl2Lm1vdmllLWluZm8gPiBkaXYuaW5mby1zcGxpdCA+IGRpdjpudGgtY2hpbGQoMSknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRJdGVtLmR1cmF0aW9uID0gJChlbCkuZmluZCgnZGl2Lm1vdmllLWluZm8gPiBkaXYuaW5mby1zcGxpdCA+IGRpdjpudGgtY2hpbGQoMyknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlc3VsdHMucHVzaChyZXN1bHRJdGVtKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQnlHZW5yZSA9IGFzeW5jIChnZW5yZSwgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2dlbnJlLyR7Z2VucmV9P3BhZ2U9JHtwYWdlfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5oYXNOZXh0UGFnZSA9XG4gICAgICAgICAgICAgICAgICAgICQoJy5wYWdlLWxpbmsnKS5sZW5ndGggPiAwID8gJCgnLnBhZ2UtbGluaycpLmxhc3QoKS5hdHRyKCd0aXRsZScpID09PSAnTGFzdCcgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAkKCdkaXYuc2VjdGlvbi1pdGVtcy5zZWN0aW9uLWl0ZW1zLWRlZmF1bHQgPiBkaXYuaXRlbScpXG4gICAgICAgICAgICAgICAgICAgIC5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdEl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9iID0gKF9hID0gJChlbCkuZmluZCgnZGl2Lm1vdmllLXRodW1ibmFpbCA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgxKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogKF9jID0gJChlbCkuZmluZCgnZGl2Lm1vdmllLWluZm8gPiBhID4gaDMubW92aWUtbmFtZScpLnRleHQoKS50cmltKCkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHskKGVsKS5maW5kKCdkaXYubW92aWUtaW5mbyA+IGEnKS5hdHRyKCdocmVmJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdkaXYubW92aWUtdGh1bWJuYWlsID4gYSA+IGltZycpLmF0dHIoJ3NyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogKChfZCA9ICQoZWwpLmZpbmQoJ2Rpdi5tb3ZpZS1pbmZvID4gYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmluY2x1ZGVzKCdtb3ZpZS8nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLlR2VHlwZS5NT1ZJRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0SXRlbS50eXBlID09PSBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEl0ZW0uc2Vhc29uID0gJChlbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnZGl2Lm1vdmllLWluZm8gPiBkaXYuaW5mby1zcGxpdCA+IGRpdjpudGgtY2hpbGQoMiknKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJy8nKVswXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRJdGVtLmxhdGVzdEVwaXNvZGUgPSAkKGVsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCdkaXYubW92aWUtaW5mbyA+IGRpdi5pbmZvLXNwbGl0ID4gZGl2Om50aC1jaGlsZCgyKScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnLycpWzFdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEl0ZW0ucmVsZWFzZURhdGUgPSAkKGVsKS5maW5kKCdkaXYubW92aWUtaW5mbyA+IGRpdi5pbmZvLXNwbGl0ID4gZGl2Om50aC1jaGlsZCgxKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEl0ZW0uZHVyYXRpb24gPSAkKGVsKS5maW5kKCdkaXYubW92aWUtaW5mbyA+IGRpdi5pbmZvLXNwbGl0ID4gZGl2Om50aC1jaGlsZCgzKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVzdWx0cy5wdXNoKHJlc3VsdEl0ZW0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuLy8gKGFzeW5jICgpID0+IHtcbi8vICAgY29uc3QgbW92aWUgPSBuZXcgR29rdSgpO1xuLy8gICBjb25zdCBnZW5yZSA9IGF3YWl0IG1vdmllLmZldGNoQnlHZW5yZSgnZHJhbWEtNCcpO1xuLy8gICBjb25zb2xlLmxvZyhnZW5yZSlcbi8vIH0pKCk7XG5leHBvcnRzLmRlZmF1bHQgPSBHb2t1O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z29rdS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/goku.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/movies/index.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst dramacool_1 = __importDefault(__webpack_require__(/*! ./dramacool */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/dramacool.js\"));\nconst flixhq_1 = __importDefault(__webpack_require__(/*! ./flixhq */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/flixhq.js\"));\nconst fmovies_1 = __importDefault(__webpack_require__(/*! ./fmovies */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/fmovies.js\"));\nconst goku_1 = __importDefault(__webpack_require__(/*! ./goku */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/goku.js\"));\nconst kissasian_1 = __importDefault(__webpack_require__(/*! ./kissasian */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/kissasian.js\"));\nconst movidhdwatch_1 = __importDefault(__webpack_require__(/*! ./movidhdwatch */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/movidhdwatch.js\"));\nconst smashystream_1 = __importDefault(__webpack_require__(/*! ./smashystream */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/smashystream.js\"));\nconst turkish123_1 = __importDefault(__webpack_require__(/*! ./turkish123 */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/turkish123.js\"));\nconst viewAsian_1 = __importDefault(__webpack_require__(/*! ./viewAsian */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/viewAsian.js\"));\nconst sflix_1 = __importDefault(__webpack_require__(/*! ./sflix */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/sflix.js\"));\nconst multimovies_1 = __importDefault(__webpack_require__(/*! ./multimovies */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/multimovies.js\"));\nconst netflixmirror_1 = __importDefault(__webpack_require__(/*! ./netflixmirror */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/netflixmirror.js\"));\nexports[\"default\"] = {\n    DramaCool: dramacool_1.default,\n    FlixHQ: flixhq_1.default,\n    Fmovies: fmovies_1.default,\n    Goku: goku_1.default,\n    KissAsian: kissasian_1.default,\n    MovieHdWatch: movidhdwatch_1.default,\n    SmashyStream: smashystream_1.default,\n    ViewAsian: viewAsian_1.default,\n    Turkish: turkish123_1.default,\n    SFlix: sflix_1.default,\n    MultiMovies: multimovies_1.default,\n    NetflixMirror: netflixmirror_1.default,\n};\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbW92aWVzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0NBQW9DLG1CQUFPLENBQUMsaUdBQWE7QUFDekQsaUNBQWlDLG1CQUFPLENBQUMsMkZBQVU7QUFDbkQsa0NBQWtDLG1CQUFPLENBQUMsNkZBQVc7QUFDckQsK0JBQStCLG1CQUFPLENBQUMsdUZBQVE7QUFDL0Msb0NBQW9DLG1CQUFPLENBQUMsaUdBQWE7QUFDekQsdUNBQXVDLG1CQUFPLENBQUMsdUdBQWdCO0FBQy9ELHVDQUF1QyxtQkFBTyxDQUFDLHVHQUFnQjtBQUMvRCxxQ0FBcUMsbUJBQU8sQ0FBQyxtR0FBYztBQUMzRCxvQ0FBb0MsbUJBQU8sQ0FBQyxpR0FBYTtBQUN6RCxnQ0FBZ0MsbUJBQU8sQ0FBQyx5RkFBUztBQUNqRCxzQ0FBc0MsbUJBQU8sQ0FBQyxxR0FBZTtBQUM3RCx3Q0FBd0MsbUJBQU8sQ0FBQyx5R0FBaUI7QUFDakUsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXG1vdmllc1xcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkcmFtYWNvb2xfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9kcmFtYWNvb2xcIikpO1xuY29uc3QgZmxpeGhxXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vZmxpeGhxXCIpKTtcbmNvbnN0IGZtb3ZpZXNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9mbW92aWVzXCIpKTtcbmNvbnN0IGdva3VfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9nb2t1XCIpKTtcbmNvbnN0IGtpc3Nhc2lhbl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2tpc3Nhc2lhblwiKSk7XG5jb25zdCBtb3ZpZGhkd2F0Y2hfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9tb3ZpZGhkd2F0Y2hcIikpO1xuY29uc3Qgc21hc2h5c3RyZWFtXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vc21hc2h5c3RyZWFtXCIpKTtcbmNvbnN0IHR1cmtpc2gxMjNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi90dXJraXNoMTIzXCIpKTtcbmNvbnN0IHZpZXdBc2lhbl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3ZpZXdBc2lhblwiKSk7XG5jb25zdCBzZmxpeF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3NmbGl4XCIpKTtcbmNvbnN0IG11bHRpbW92aWVzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbXVsdGltb3ZpZXNcIikpO1xuY29uc3QgbmV0ZmxpeG1pcnJvcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL25ldGZsaXhtaXJyb3JcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIERyYW1hQ29vbDogZHJhbWFjb29sXzEuZGVmYXVsdCxcbiAgICBGbGl4SFE6IGZsaXhocV8xLmRlZmF1bHQsXG4gICAgRm1vdmllczogZm1vdmllc18xLmRlZmF1bHQsXG4gICAgR29rdTogZ29rdV8xLmRlZmF1bHQsXG4gICAgS2lzc0FzaWFuOiBraXNzYXNpYW5fMS5kZWZhdWx0LFxuICAgIE1vdmllSGRXYXRjaDogbW92aWRoZHdhdGNoXzEuZGVmYXVsdCxcbiAgICBTbWFzaHlTdHJlYW06IHNtYXNoeXN0cmVhbV8xLmRlZmF1bHQsXG4gICAgVmlld0FzaWFuOiB2aWV3QXNpYW5fMS5kZWZhdWx0LFxuICAgIFR1cmtpc2g6IHR1cmtpc2gxMjNfMS5kZWZhdWx0LFxuICAgIFNGbGl4OiBzZmxpeF8xLmRlZmF1bHQsXG4gICAgTXVsdGlNb3ZpZXM6IG11bHRpbW92aWVzXzEuZGVmYXVsdCxcbiAgICBOZXRmbGl4TWlycm9yOiBuZXRmbGl4bWlycm9yXzEuZGVmYXVsdCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/kissasian.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/movies/kissasian.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nclass KissAsian extends models_1.MovieParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'KissAsian';\n        this.baseUrl = 'https://kissasian.mx';\n        this.logo = 'https://kissasian.mx/Content/images/logo.png';\n        this.classPath = 'MOVIES.KissAsian';\n        this.supportedTypes = new Set([models_1.TvType.MOVIE, models_1.TvType.TVSERIES]);\n        this.search = async (query, page = 1) => {\n            try {\n                const searchResult = {\n                    currentPage: page,\n                    hasNextPage: false,\n                    results: [],\n                };\n                const response = await this.client.post(`${this.baseUrl}/Search/Drama`, `keyword=${query.replace(/[\\W_]+/g, '-')}`, {\n                    headers: {\n                        'Content-Type': 'application/x-www-form-urlencoded',\n                    },\n                });\n                const $ = (0, cheerio_1.load)(response.data);\n                $('div.item-list > div.list').each((i, el) => {\n                    var _a;\n                    searchResult.results.push({\n                        id: (_a = $(el).find('div.info > p > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('div.info > p > a').text().trim(),\n                        url: `${this.baseUrl}${$(el).find('div.info > p > a').attr('href')}`,\n                        image: `${this.baseUrl}${$(el).find('div.cover > a > img').attr('src')}`,\n                    });\n                });\n                if (searchResult.results.length === 0) {\n                    searchResult.results.push({\n                        id: response.request.res.responseUrl.replace(/https?:\\/\\/[^\\/]*\\/?/i, ''),\n                        title: $('div.content').first().find('div.heading > h3').text().trim(),\n                        url: response.request.res.responseUrl,\n                        image: `${this.baseUrl}${$('div.content').first().find('div.cover > img').attr('src')}`,\n                    });\n                }\n                return searchResult;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchMediaInfo = async (mediaId) => {\n            var _a, _b;\n            try {\n                const realMediaId = mediaId;\n                if (!mediaId.startsWith(this.baseUrl))\n                    mediaId = `${this.baseUrl}/${mediaId}`;\n                const mediaInfo = {\n                    id: '',\n                    title: '',\n                };\n                const { data } = await this.client.post(mediaId, {\n                    headers: {\n                        'Content-Type': 'application/x-www-form-urlencoded',\n                    },\n                });\n                const $ = (0, cheerio_1.load)(data);\n                mediaInfo.id = realMediaId;\n                mediaInfo.title = $('div.content').first().find('div.heading > h3').text().trim();\n                mediaInfo.image = `${this.baseUrl}${$('div.content').first().find('div.cover > img').attr('src')}`;\n                mediaInfo.otherNames = $('span:contains(Other name:)')\n                    .siblings()\n                    .map((i, el) => $(el).text().trim())\n                    .get();\n                mediaInfo.description = $('div.summary1 > p').text().trim();\n                mediaInfo.releaseDate = (_a = $('span:contains(Date aired:)')\n                    .parent()\n                    .text()\n                    .split('Date aired:')\n                    .pop()) === null || _a === void 0 ? void 0 : _a.replace(/\\t/g, '').replace(/\\n/g, '').trim();\n                mediaInfo.genre = $('span:contains(Genres:)')\n                    .siblings('a')\n                    .map((i, el) => $(el).text().trim())\n                    .get();\n                mediaInfo.country = $('span:contains(Country:)').siblings('a').text().trim();\n                switch ((_b = $('span:contains(Status:)').parent().text().split('Status:').pop()) === null || _b === void 0 ? void 0 : _b.trim()) {\n                    case 'Ongoing':\n                        mediaInfo.status = models_1.MediaStatus.ONGOING;\n                        break;\n                    case 'Completed':\n                        mediaInfo.status = models_1.MediaStatus.COMPLETED;\n                        break;\n                    case 'Cancelled':\n                        mediaInfo.status = models_1.MediaStatus.CANCELLED;\n                        break;\n                    case 'Unknown':\n                        mediaInfo.status = models_1.MediaStatus.UNKNOWN;\n                        break;\n                    default:\n                        mediaInfo.status = models_1.MediaStatus.UNKNOWN;\n                        break;\n                }\n                mediaInfo.episodes = [];\n                $('ul.list li.episodeSub').each((i, el) => {\n                    var _a, _b, _c, _d;\n                    (_a = mediaInfo.episodes) === null || _a === void 0 ? void 0 : _a.push({\n                        id: (_b = $(el).find('a').attr('href')) === null || _b === void 0 ? void 0 : _b.slice(1),\n                        title: $(el).find('a').text().trim(),\n                        episode: (_d = (_c = $(el).find('a').text()) === null || _c === void 0 ? void 0 : _c.split('Episode').pop()) === null || _d === void 0 ? void 0 : _d.trim(),\n                        url: `${this.baseUrl}${$(el).find('a').attr('href')}`,\n                    });\n                });\n                mediaInfo.episodes.reverse();\n                return mediaInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchEpisodeSources = async (episodeId, server = models_1.StreamingServers.Mp4Upload) => {\n            if (episodeId.startsWith('http')) {\n                const serverUrl = new URL(episodeId);\n                switch (server) {\n                    case models_1.StreamingServers.VidMoly:\n                        return {\n                            sources: await new extractors_1.VidMoly(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                    case models_1.StreamingServers.StreamWish:\n                        return {\n                            ...(await new extractors_1.StreamWish(this.proxyConfig, this.adapter).extract(serverUrl)),\n                        };\n                    case models_1.StreamingServers.Mp4Upload:\n                        return {\n                            sources: await new extractors_1.Mp4Upload(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                    default:\n                        throw new Error('Server not supported');\n                }\n            }\n            try {\n                const servers = await this.fetchEpisodeServers(episodeId);\n                const i = servers.findIndex(s => s.name.toLowerCase() === server.toLowerCase());\n                if (i === -1) {\n                    throw new Error(`Server ${server} not found`);\n                }\n                const serverUrl = new URL(servers.filter(s => s.name.toLowerCase() === server.toLowerCase())[0].url);\n                return await this.fetchEpisodeSources(serverUrl.href, server);\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n    async fetchEpisodeServers(episodeId) {\n        try {\n            const episodeServers = [];\n            const { data } = await this.client.post(`${this.baseUrl}/${episodeId}`, {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded',\n                },\n            });\n            const $ = (0, cheerio_1.load)(data);\n            episodeServers.push({\n                name: $('ul.mirrorTab > li > a.actived').text().trim(),\n                url: $('iframe#mVideo').attr('src'),\n            });\n            await Promise.all($('ul.mirrorTab > li > a.ign').map(async (i, ele) => {\n                const { data } = await this.client.post(`${this.baseUrl}${$(ele).attr('href')}`, {\n                    headers: {\n                        'Content-Type': 'application/x-www-form-urlencoded',\n                    },\n                });\n                const $$ = (0, cheerio_1.load)(data);\n                if ($$('ul.mirrorTab > li > a.actived').text().trim()) {\n                    const url = $$('iframe#mVideo').attr('src');\n                    episodeServers.push({\n                        name: $$('ul.mirrorTab > li > a.actived').text().trim(),\n                        url: url.startsWith('https') ? url : url.replace('//', 'https://'),\n                    });\n                }\n            }));\n            episodeServers.map(element => {\n                switch (element.name) {\n                    case 'VM':\n                        element.name = models_1.StreamingServers.VidMoly;\n                        break;\n                    case 'SW':\n                        element.name = models_1.StreamingServers.StreamWish;\n                        break;\n                    case 'MP':\n                        element.name = models_1.StreamingServers.Mp4Upload;\n                        break;\n                    default:\n                        break;\n                }\n            });\n            return episodeServers;\n        }\n        catch (err) {\n            throw new Error(err.message);\n        }\n    }\n}\nexports[\"default\"] = KissAsian;\n//# sourceMappingURL=kissasian.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbW92aWVzL2tpc3Nhc2lhbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QyxxQkFBcUIsbUJBQU8sQ0FBQyw0RkFBa0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGFBQWEsMkJBQTJCLDhCQUE4QjtBQUNqSTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLDRDQUE0QztBQUMzRixrQ0FBa0MsYUFBYSxFQUFFLDhDQUE4QztBQUMvRixxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsYUFBYSxFQUFFLDZEQUE2RDtBQUM5RyxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGFBQWEsR0FBRyxRQUFRO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGFBQWEsRUFBRSw2REFBNkQ7QUFDakg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSw2QkFBNkI7QUFDNUUscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxRQUFRO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPLDRCQUE0QixhQUFhLEdBQUcsVUFBVTtBQUNqRjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHdCQUF3QixPQUFPLDRCQUE0QixhQUFhLEVBQUUsb0JBQW9CO0FBQzlGO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxtb3ZpZXNcXGtpc3Nhc2lhbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY29uc3QgZXh0cmFjdG9yc18xID0gcmVxdWlyZShcIi4uLy4uL2V4dHJhY3RvcnNcIik7XG5jbGFzcyBLaXNzQXNpYW4gZXh0ZW5kcyBtb2RlbHNfMS5Nb3ZpZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdLaXNzQXNpYW4nO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9raXNzYXNpYW4ubXgnO1xuICAgICAgICB0aGlzLmxvZ28gPSAnaHR0cHM6Ly9raXNzYXNpYW4ubXgvQ29udGVudC9pbWFnZXMvbG9nby5wbmcnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdNT1ZJRVMuS2lzc0FzaWFuJztcbiAgICAgICAgdGhpcy5zdXBwb3J0ZWRUeXBlcyA9IG5ldyBTZXQoW21vZGVsc18xLlR2VHlwZS5NT1ZJRSwgbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTXSk7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5LCBwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hSZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KGAke3RoaXMuYmFzZVVybH0vU2VhcmNoL0RyYW1hYCwgYGtleXdvcmQ9JHtxdWVyeS5yZXBsYWNlKC9bXFxXX10rL2csICctJyl9YCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgJCgnZGl2Lml0ZW0tbGlzdCA+IGRpdi5saXN0JykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHQucmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdkaXYuaW5mbyA+IHAgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbCkuZmluZCgnZGl2LmluZm8gPiBwID4gYScpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0keyQoZWwpLmZpbmQoJ2Rpdi5pbmZvID4gcCA+IGEnKS5hdHRyKCdocmVmJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBgJHt0aGlzLmJhc2VVcmx9JHskKGVsKS5maW5kKCdkaXYuY292ZXIgPiBhID4gaW1nJykuYXR0cignc3JjJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaFJlc3VsdC5yZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHQucmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiByZXNwb25zZS5yZXF1ZXN0LnJlcy5yZXNwb25zZVVybC5yZXBsYWNlKC9odHRwcz86XFwvXFwvW15cXC9dKlxcLz8vaSwgJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoJ2Rpdi5jb250ZW50JykuZmlyc3QoKS5maW5kKCdkaXYuaGVhZGluZyA+IGgzJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcmVzcG9uc2UucmVxdWVzdC5yZXMucmVzcG9uc2VVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogYCR7dGhpcy5iYXNlVXJsfSR7JCgnZGl2LmNvbnRlbnQnKS5maXJzdCgpLmZpbmQoJ2Rpdi5jb3ZlciA+IGltZycpLmF0dHIoJ3NyYycpfWAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hNZWRpYUluZm8gPSBhc3luYyAobWVkaWFJZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhbE1lZGlhSWQgPSBtZWRpYUlkO1xuICAgICAgICAgICAgICAgIGlmICghbWVkaWFJZC5zdGFydHNXaXRoKHRoaXMuYmFzZVVybCkpXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhSWQgPSBgJHt0aGlzLmJhc2VVcmx9LyR7bWVkaWFJZH1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lZGlhSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LnBvc3QobWVkaWFJZCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmlkID0gcmVhbE1lZGlhSWQ7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLnRpdGxlID0gJCgnZGl2LmNvbnRlbnQnKS5maXJzdCgpLmZpbmQoJ2Rpdi5oZWFkaW5nID4gaDMnKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5pbWFnZSA9IGAke3RoaXMuYmFzZVVybH0keyQoJ2Rpdi5jb250ZW50JykuZmlyc3QoKS5maW5kKCdkaXYuY292ZXIgPiBpbWcnKS5hdHRyKCdzcmMnKX1gO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5vdGhlck5hbWVzID0gJCgnc3Bhbjpjb250YWlucyhPdGhlciBuYW1lOiknKVxuICAgICAgICAgICAgICAgICAgICAuc2libGluZ3MoKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpLnRyaW0oKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5kZXNjcmlwdGlvbiA9ICQoJ2Rpdi5zdW1tYXJ5MSA+IHAnKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5yZWxlYXNlRGF0ZSA9IChfYSA9ICQoJ3NwYW46Y29udGFpbnMoRGF0ZSBhaXJlZDopJylcbiAgICAgICAgICAgICAgICAgICAgLnBhcmVudCgpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCdEYXRlIGFpcmVkOicpXG4gICAgICAgICAgICAgICAgICAgIC5wb3AoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcGxhY2UoL1xcdC9nLCAnJykucmVwbGFjZSgvXFxuL2csICcnKS50cmltKCk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmdlbnJlID0gJCgnc3Bhbjpjb250YWlucyhHZW5yZXM6KScpXG4gICAgICAgICAgICAgICAgICAgIC5zaWJsaW5ncygnYScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiAkKGVsKS50ZXh0KCkudHJpbSgpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmNvdW50cnkgPSAkKCdzcGFuOmNvbnRhaW5zKENvdW50cnk6KScpLnNpYmxpbmdzKCdhJykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKChfYiA9ICQoJ3NwYW46Y29udGFpbnMoU3RhdHVzOiknKS5wYXJlbnQoKS50ZXh0KCkuc3BsaXQoJ1N0YXR1czonKS5wb3AoKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdPbmdvaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5PTkdPSU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBtZWRpYUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ09NUExFVEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0NhbmNlbGxlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBtZWRpYUluZm8uc3RhdHVzID0gbW9kZWxzXzEuTWVkaWFTdGF0dXMuQ0FOQ0VMTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1Vua25vd24nOlxuICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFJbmZvLnN0YXR1cyA9IG1vZGVsc18xLk1lZGlhU3RhdHVzLlVOS05PV047XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhSW5mby5zdGF0dXMgPSBtb2RlbHNfMS5NZWRpYVN0YXR1cy5VTktOT1dOO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5lcGlzb2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgICQoJ3VsLmxpc3QgbGkuZXBpc29kZVN1YicpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gbWVkaWFJbmZvLmVwaXNvZGVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9iID0gJChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNsaWNlKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJ2EnKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZTogKF9kID0gKF9jID0gJChlbCkuZmluZCgnYScpLnRleHQoKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnNwbGl0KCdFcGlzb2RlJykucG9wKCkpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0keyQoZWwpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmVwaXNvZGVzLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVkaWFJbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU291cmNlcyA9IGFzeW5jIChlcGlzb2RlSWQsIHNlcnZlciA9IG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuTXA0VXBsb2FkKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXBpc29kZUlkLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlclVybCA9IG5ldyBVUkwoZXBpc29kZUlkKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVmlkTW9seTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlczogYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5WaWRNb2x5KHRoaXMucHJveHlDb25maWcsIHRoaXMuYWRhcHRlcikuZXh0cmFjdChzZXJ2ZXJVcmwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlN0cmVhbVdpc2g6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihhd2FpdCBuZXcgZXh0cmFjdG9yc18xLlN0cmVhbVdpc2godGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLk1wNFVwbG9hZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlczogYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5NcDRVcGxvYWQodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZXJ2ZXIgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVycyA9IGF3YWl0IHRoaXMuZmV0Y2hFcGlzb2RlU2VydmVycyhlcGlzb2RlSWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBzZXJ2ZXJzLmZpbmRJbmRleChzID0+IHMubmFtZS50b0xvd2VyQ2FzZSgpID09PSBzZXJ2ZXIudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyICR7c2VydmVyfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyVXJsID0gbmV3IFVSTChzZXJ2ZXJzLmZpbHRlcihzID0+IHMubmFtZS50b0xvd2VyQ2FzZSgpID09PSBzZXJ2ZXIudG9Mb3dlckNhc2UoKSlbMF0udXJsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzKHNlcnZlclVybC5ocmVmLCBzZXJ2ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIGZldGNoRXBpc29kZVNlcnZlcnMoZXBpc29kZUlkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBlcGlzb2RlU2VydmVycyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KGAke3RoaXMuYmFzZVVybH0vJHtlcGlzb2RlSWR9YCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgZXBpc29kZVNlcnZlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTogJCgndWwubWlycm9yVGFiID4gbGkgPiBhLmFjdGl2ZWQnKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgIHVybDogJCgnaWZyYW1lI21WaWRlbycpLmF0dHIoJ3NyYycpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCgkKCd1bC5taXJyb3JUYWIgPiBsaSA+IGEuaWduJykubWFwKGFzeW5jIChpLCBlbGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LnBvc3QoYCR7dGhpcy5iYXNlVXJsfSR7JChlbGUpLmF0dHIoJ2hyZWYnKX1gLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCAkJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKCQkKCd1bC5taXJyb3JUYWIgPiBsaSA+IGEuYWN0aXZlZCcpLnRleHQoKS50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gJCQoJ2lmcmFtZSNtVmlkZW8nKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgICAgICAgICAgZXBpc29kZVNlcnZlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkJCgndWwubWlycm9yVGFiID4gbGkgPiBhLmFjdGl2ZWQnKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwuc3RhcnRzV2l0aCgnaHR0cHMnKSA/IHVybCA6IHVybC5yZXBsYWNlKCcvLycsICdodHRwczovLycpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBlcGlzb2RlU2VydmVycy5tYXAoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlbGVtZW50Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVk0nOlxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5uYW1lID0gbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5WaWRNb2x5O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NXJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQubmFtZSA9IG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuU3RyZWFtV2lzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdNUCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm5hbWUgPSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLk1wNFVwbG9hZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZXBpc29kZVNlcnZlcnM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IEtpc3NBc2lhbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtpc3Nhc2lhbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/kissasian.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/movidhdwatch.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/movies/movidhdwatch.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nclass MovieHdWatch extends models_1.MovieParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'MovieHdWatch';\n        this.baseUrl = 'https://movieshd.watch';\n        this.logo = 'https://img.movieshd.watch/xxrz/400x400/100/ee/63/ee6317c38904ee048676164b0852207d/ee6317c38904ee048676164b0852207d.png';\n        this.classPath = 'MOVIES.MovieHdWatch';\n        this.supportedTypes = new Set([models_1.TvType.MOVIE, models_1.TvType.TVSERIES]);\n        /**\n         *\n         * @param query search query string\n         * @param page page number (default 1) (optional)\n         */\n        this.search = async (query, page = 1) => {\n            const searchResult = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/search/${query.replace(/[\\W_]+/g, '-')}?page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                const navSelector = 'div.pre-pagination:nth-child(3) > nav:nth-child(1) > ul:nth-child(1)';\n                searchResult.hasNextPage =\n                    $(navSelector).length > 0 ? !$(navSelector).children().last().hasClass('active') : false;\n                $('.film_list-wrap > div.flw-item').each((i, el) => {\n                    var _a, _b, _c, _d;\n                    const releaseDate = $(el).find('div.film-detail > div.film-infor > span:nth-child(2)').text();\n                    const duration = $(el).find('div.film-detail > div.film-infor > span:nth-child(4)').text();\n                    searchResult.results.push({\n                        id: (_b = (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1)) !== null && _b !== void 0 ? _b : '',\n                        title: (_c = $(el).find('div.film-detail > h2 > a').attr('title')) !== null && _c !== void 0 ? _c : '',\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                        seasons: releaseDate.includes('SS') ? parseInt(releaseDate.split('SS')[1]) : undefined,\n                        duration: !duration.includes('EPS') ? duration : undefined,\n                        type: ((_d = $(el).find('div.film-poster > a').attr('href')) === null || _d === void 0 ? void 0 : _d.includes('tv/'))\n                            ? models_1.TvType.TVSERIES\n                            : models_1.TvType.MOVIE,\n                    });\n                });\n                return searchResult;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param mediaId media link or id\n         */\n        this.fetchMediaInfo = async (mediaId) => {\n            var _a;\n            if (mediaId.startsWith(this.baseUrl)) {\n                mediaId = mediaId.replace(this.baseUrl + '/', '');\n            }\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/${mediaId}`);\n                const $ = (0, cheerio_1.load)(data);\n                const recommendationsArray = [];\n                const movieInfo = {\n                    id: mediaId,\n                    title: '',\n                    url: `${this.baseUrl}/${mediaId}`,\n                };\n                const uid = $('.detail_page-watch').attr('data-id');\n                movieInfo.cover = (_a = $('div.dp-w-cover').attr('style')) === null || _a === void 0 ? void 0 : _a.slice(22).replace(')', '').replace(';', '');\n                movieInfo.title = $('.heading-name > a:nth-child(1)').text();\n                movieInfo.image = $('.film-poster > img').attr('src');\n                movieInfo.description = $('.description')\n                    .text()\n                    .replace(/(\\r\\n|\\n|\\r)/gm, '')\n                    .trim();\n                movieInfo.type = movieInfo.id.split('/')[0] === 'tv' ? models_1.TvType.TVSERIES : models_1.TvType.MOVIE;\n                movieInfo.releaseDate = $('div.elements')\n                    .find('div.row-line')\n                    .first()\n                    .text()\n                    .replace('Released: ', '')\n                    .trim();\n                movieInfo.genres = $('div.row-line:nth-child(2)')\n                    .first()\n                    .find('a')\n                    .map((i, el) => $(el).text().split('&'))\n                    .get()\n                    .map(v => v.trim());\n                movieInfo.casts = $('div.row-line:nth-child(3)')\n                    .first()\n                    .find('a')\n                    .map((i, el) => $(el).attr('title'))\n                    .get();\n                movieInfo.production = $('div.row-line:nth-child(3)')\n                    .last()\n                    .find('a')\n                    .map((i, el) => $(el).attr('title'))\n                    .get()\n                    .join();\n                movieInfo.country = $('div.row-line:nth-child(2)')\n                    .last()\n                    .find('a')\n                    .map((i, el) => $(el).attr('title'))\n                    .get();\n                movieInfo.duration = $('div.row-line:nth-child(1)')\n                    .last()\n                    .text()\n                    .replace(/(\\r\\n|\\n| |\\r)/gm, '')\n                    .replace('Duration:', '')\n                    .trim();\n                movieInfo.rating = parseFloat($('div.dp-i-stats > span.item.mr-2').text().replace('IMDB: ', ''));\n                $('div.film_list-wrap > div.flw-item').each((i, el) => {\n                    var _a, _b;\n                    const releaseDate = $(el).find('div.film-detail > div.film-infor > span:nth-child(2)').text();\n                    const duration = $(el).find('div.film-detail > div.film-infor > span:nth-child(4)').text();\n                    recommendationsArray.push({\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('div.film-detail > h3.film-name > a').text(),\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                        seasons: releaseDate.includes('SS') ? parseInt(releaseDate.split('SS')[1]) : undefined,\n                        duration: !duration.includes('EPS') ? duration : undefined,\n                        type: ((_b = $(el).find('div.film-poster > a').attr('href')) === null || _b === void 0 ? void 0 : _b.includes('tv/'))\n                            ? models_1.TvType.TVSERIES\n                            : models_1.TvType.MOVIE,\n                    });\n                });\n                movieInfo.recommendations = recommendationsArray;\n                const ajaxReqUrl = (id, type, isSeasons = false) => `${this.baseUrl}/ajax/${type === 'movie' ? type : `v2/${type}`}/${isSeasons ? 'seasons' : 'episodes'}/${id}`;\n                if (movieInfo.type === models_1.TvType.TVSERIES) {\n                    const { data } = await this.client.get(ajaxReqUrl(uid, 'tv', true));\n                    const $$ = (0, cheerio_1.load)(data);\n                    const seasonsIds = $$('.dropdown-menu > a')\n                        .map((i, el) => $(el).attr('data-id'))\n                        .get();\n                    movieInfo.episodes = [];\n                    let season = 1;\n                    for (const id of seasonsIds) {\n                        const { data } = await this.client.get(ajaxReqUrl(id, 'season'));\n                        const $$$ = (0, cheerio_1.load)(data);\n                        $$$('.nav > li')\n                            .map((i, el) => {\n                            var _a;\n                            const episode = {\n                                id: $$$(el).find('a').attr('id').split('-')[1],\n                                title: $$$(el).find('a').attr('title'),\n                                number: parseInt($$$(el).find('a').attr('title').split(':')[0].slice(3).trim()),\n                                season: season,\n                                url: `${this.baseUrl}/ajax/v2/episode/servers/${$$$(el).find('a').attr('id').split('-')[1]}`,\n                            };\n                            (_a = movieInfo.episodes) === null || _a === void 0 ? void 0 : _a.push(episode);\n                        })\n                            .get();\n                        season++;\n                    }\n                }\n                else {\n                    movieInfo.episodes = [\n                        {\n                            id: uid,\n                            title: movieInfo.title,\n                            url: `${this.baseUrl}/ajax/movie/episodes/${uid}`,\n                        },\n                    ];\n                }\n                return movieInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId episode id\n         * @param mediaId media id\n         * @param server server type (default `VidCloud`) (optional)\n         */\n        this.fetchEpisodeSources = async (episodeId, mediaId, server = models_1.StreamingServers.UpCloud) => {\n            if (episodeId.startsWith('http')) {\n                const serverUrl = new URL(episodeId);\n                switch (server) {\n                    case models_1.StreamingServers.MixDrop:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            sources: await new extractors_1.MixDrop(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                    case models_1.StreamingServers.VidCloud:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new extractors_1.VidCloud(this.proxyConfig, this.adapter).extract(serverUrl, true)),\n                        };\n                    case models_1.StreamingServers.UpCloud:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new extractors_1.VidCloud(this.proxyConfig, this.adapter).extract(serverUrl)),\n                        };\n                    default:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            sources: await new extractors_1.MixDrop(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                }\n            }\n            try {\n                const servers = await this.fetchEpisodeServers(episodeId, mediaId);\n                const i = servers.findIndex(s => s.name.toLowerCase() === server.toLowerCase());\n                if (i === -1) {\n                    throw new Error(`Server ${server} not found`);\n                }\n                const serverUrl = new URL(servers.filter(s => s.name.toLowerCase() === server.toLowerCase())[0].url);\n                return await this.fetchEpisodeSources(serverUrl.href, mediaId, server);\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId takes episode link or movie id\n         * @param mediaId takes movie link or id (found on movie info object)\n         */\n        this.fetchEpisodeServers = async (episodeId, mediaId) => {\n            if (!episodeId.startsWith(this.baseUrl + '/ajax') && !mediaId.includes('movie'))\n                episodeId = `${this.baseUrl}/ajax/v2/episode/servers/${episodeId}`;\n            else\n                episodeId = `${this.baseUrl}/ajax/movie/episodes/${episodeId}`;\n            try {\n                const { data } = await this.client.get(episodeId);\n                const $ = (0, cheerio_1.load)(data);\n                const servers = [];\n                await Promise.all($('.nav > li').map(async (i, el) => {\n                    const server = {\n                        name: $(el).find('a').attr('title').slice(6).trim(),\n                        url: `${this.baseUrl}/${mediaId}.${!mediaId.includes('movie')\n                            ? $(el).find('a').attr('data-id')\n                            : $(el).find('a').attr('data-linkid')}`.replace(!mediaId.includes('movie') ? /\\/tv\\// : /\\/movie\\//, !mediaId.includes('movie') ? '/watch-tv/' : '/watch-movie/'),\n                    };\n                    const { data } = await this.client.get(`${this.baseUrl}/ajax/get_link/${server.url.split('.').slice(-1).shift()}`);\n                    const serverUrl = new URL(data.link);\n                    server.url = serverUrl.href;\n                    servers.push(server);\n                }));\n                return servers;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchRecentMovies = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const movies = $('.section-id-02')\n                    .find('div.flw-item')\n                    .map((i, el) => {\n                    var _a, _b, _c, _d;\n                    const releaseDate = $(el).find('div.film-detail > div.film-infor > span:nth-child(2)').text();\n                    const duration = $(el).find('div.film-detail > div.film-infor > span:nth-child(4)').text();\n                    const movie = {\n                        id: (_b = (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1)) !== null && _b !== void 0 ? _b : '',\n                        title: (_c = $(el).find('div.film-detail > h3.film-name > a').attr('title')) !== null && _c !== void 0 ? _c : '',\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                        duration: !duration.includes('EPS') ? duration : undefined,\n                        type: ((_d = $(el).find('div.film-poster > a').attr('href')) === null || _d === void 0 ? void 0 : _d.includes('movie/'))\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    return movie;\n                })\n                    .get();\n                return movies;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchRecentTvShows = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const tvshows = $('.section-id-03')\n                    .find('div.flw-item')\n                    .map((i, el) => {\n                    var _a, _b, _c, _d;\n                    const tvshow = {\n                        id: (_b = (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1)) !== null && _b !== void 0 ? _b : '',\n                        title: (_c = $(el).find('div.film-detail > h3.film-name > a').attr('title')) !== null && _c !== void 0 ? _c : '',\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        season: $(el).find('div.film-detail > div.film-infor > span:nth-child(2)').text(),\n                        latestEpisode: $(el).find('div.film-detail > div.film-infor > span:nth-child(4)').text(),\n                        type: ((_d = $(el).find('div.film-poster > a').attr('href')) === null || _d === void 0 ? void 0 : _d.includes('tv/'))\n                            ? models_1.TvType.TVSERIES\n                            : models_1.TvType.MOVIE,\n                    };\n                    return tvshow;\n                })\n                    .get();\n                return tvshows;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchTrendingMovies = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const movies = $('#trending-movies')\n                    .find('div.flw-item')\n                    .map((i, el) => {\n                    var _a, _b, _c, _d;\n                    const releaseDate = $(el).find('div.film-detail > div.film-infor > span:nth-child(2)').text();\n                    const duration = $(el).find('div.film-detail > div.film-infor > span:nth-child(4)').text();\n                    const movie = {\n                        id: (_b = (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1)) !== null && _b !== void 0 ? _b : '',\n                        title: (_c = $(el).find('div.film-detail > h3.film-name > a').attr('title')) !== null && _c !== void 0 ? _c : '',\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                        duration: !duration.includes('EPS') ? duration : undefined,\n                        type: ((_d = $(el).find('div.film-poster > a').attr('href')) === null || _d === void 0 ? void 0 : _d.includes('movie/'))\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    return movie;\n                })\n                    .get();\n                return movies;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchTrendingTvShows = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const tvshows = $('#trending-tv')\n                    .find('div.flw-item')\n                    .map((i, el) => {\n                    var _a, _b, _c, _d;\n                    const tvshow = {\n                        id: (_b = (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1)) !== null && _b !== void 0 ? _b : '',\n                        title: (_c = $(el).find('div.film-detail > h3.film-name > a').attr('title')) !== null && _c !== void 0 ? _c : '',\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        season: $(el).find('div.film-detail > div.film-infor > span:nth-child(2)').text(),\n                        latestEpisode: $(el).find('div.film-detail > div.film-infor > span:nth-child(4)').text(),\n                        type: ((_d = $(el).find('div.film-poster > a').attr('href')) === null || _d === void 0 ? void 0 : _d.includes('tv/'))\n                            ? models_1.TvType.TVSERIES\n                            : models_1.TvType.MOVIE,\n                    };\n                    return tvshow;\n                })\n                    .get();\n                return tvshows;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchByCountry = async (country, page = 1) => {\n            const result = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            const navSelector = 'div.pre-pagination:nth-child(3) > nav:nth-child(1) > ul:nth-child(1)';\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/country/${country}/?page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                result.hasNextPage =\n                    $(navSelector).length > 0 ? !$(navSelector).children().last().hasClass('active') : false;\n                $('div.container > section.block_area > div.block_area-content > div.film_list-wrap > div.flw-item')\n                    .each((i, el) => {\n                    var _a, _b, _c, _d, _e;\n                    const resultItem = {\n                        id: (_b = (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1)) !== null && _b !== void 0 ? _b : '',\n                        title: (_c = $(el).find('div.film-detail > h2.film-name > a').attr('title')) !== null && _c !== void 0 ? _c : '',\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        type: ((_d = $(el).find('div.film-poster > a').attr('href')) === null || _d === void 0 ? void 0 : _d.includes('movie/'))\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    const season = $(el).find('div.film-detail > div.film-infor > span:nth-child(2)').text();\n                    const latestEpisode = (_e = $(el).find('div.film-detail > div.film-infor > span:nth-child(4)').text()) !== null && _e !== void 0 ? _e : null;\n                    if (resultItem.type === models_1.TvType.TVSERIES) {\n                        resultItem.season = season;\n                        resultItem.latestEpisode = latestEpisode;\n                    }\n                    else {\n                        resultItem.releaseDate = season;\n                        resultItem.duration = latestEpisode;\n                    }\n                    result.results.push(resultItem);\n                })\n                    .get();\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchByGenre = async (genre, page = 1) => {\n            const result = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/genre/${genre}?page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                const navSelector = 'div.pre-pagination:nth-child(3) > nav:nth-child(1) > ul:nth-child(1)';\n                result.hasNextPage =\n                    $(navSelector).length > 0 ? !$(navSelector).children().last().hasClass('active') : false;\n                $('.film_list-wrap > div.flw-item')\n                    .each((i, el) => {\n                    var _a, _b, _c, _d, _e;\n                    const resultItem = {\n                        id: (_b = (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1)) !== null && _b !== void 0 ? _b : '',\n                        title: (_c = $(el).find('div.film-detail > h2.film-name > a').attr('title')) !== null && _c !== void 0 ? _c : '',\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        type: ((_d = $(el).find('div.film-poster > a').attr('href')) === null || _d === void 0 ? void 0 : _d.includes('movie/'))\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    const season = $(el).find('div.film-detail > div.film-infor > span:nth-child(2)').text();\n                    const latestEpisode = (_e = $(el).find('div.film-detail > div.film-infor > span:nth-child(4)').text()) !== null && _e !== void 0 ? _e : null;\n                    if (resultItem.type === models_1.TvType.TVSERIES) {\n                        resultItem.season = season;\n                        resultItem.latestEpisode = latestEpisode;\n                    }\n                    else {\n                        resultItem.releaseDate = season;\n                        resultItem.duration = latestEpisode;\n                    }\n                    result.results.push(resultItem);\n                })\n                    .get();\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\n// (async () => {\n//   const movie = new MovieHdWatch();\n//   const genre = await movie.fetchByGenre('drama');\n//   console.log(genre)\n// })();\nexports[\"default\"] = MovieHdWatch;\n//# sourceMappingURL=movidhdwatch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbW92aWVzL21vdmlkaGR3YXRjaC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QyxxQkFBcUIsbUJBQU8sQ0FBQyw0RkFBa0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLFVBQVUsOEJBQThCLFFBQVEsS0FBSztBQUM1SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSwrQ0FBK0M7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsR0FBRyxRQUFRO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsYUFBYSxHQUFHLFFBQVE7QUFDcEQ7QUFDQTtBQUNBLHdKQUF3SjtBQUN4SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBLHVFQUF1RSxhQUFhLFFBQVEsZ0NBQWdDLEtBQUssRUFBRSxHQUFHLG1DQUFtQyxHQUFHLEdBQUc7QUFDL0s7QUFDQSw0QkFBNEIsT0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxPQUFPO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxhQUFhLDJCQUEyQiwyQ0FBMkM7QUFDM0g7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsYUFBYSx1QkFBdUIsSUFBSTtBQUM1RSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx5QkFBeUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMseUJBQXlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHlCQUF5QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx5QkFBeUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxRQUFRO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixhQUFhLDJCQUEyQixVQUFVO0FBQ2pGO0FBQ0EsK0JBQStCLGFBQWEsdUJBQXVCLFVBQVU7QUFDN0U7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsR0FBRyxRQUFRLEdBQUc7QUFDM0Q7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQSw0QkFBNEIsT0FBTywyQkFBMkIsYUFBYSxpQkFBaUIsd0NBQXdDO0FBQ3BJO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLCtDQUErQztBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLCtDQUErQztBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSwrQ0FBK0M7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSwrQ0FBK0M7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxXQUFXLFFBQVEsU0FBUyxLQUFLO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsK0NBQStDO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxTQUFTLE1BQU0sUUFBUSxLQUFLO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSwrQ0FBK0M7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxtb3ZpZXNcXG1vdmlkaGR3YXRjaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzXCIpO1xuY29uc3QgZXh0cmFjdG9yc18xID0gcmVxdWlyZShcIi4uLy4uL2V4dHJhY3RvcnNcIik7XG5jbGFzcyBNb3ZpZUhkV2F0Y2ggZXh0ZW5kcyBtb2RlbHNfMS5Nb3ZpZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdNb3ZpZUhkV2F0Y2gnO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9tb3ZpZXNoZC53YXRjaCc7XG4gICAgICAgIHRoaXMubG9nbyA9ICdodHRwczovL2ltZy5tb3ZpZXNoZC53YXRjaC94eHJ6LzQwMHg0MDAvMTAwL2VlLzYzL2VlNjMxN2MzODkwNGVlMDQ4Njc2MTY0YjA4NTIyMDdkL2VlNjMxN2MzODkwNGVlMDQ4Njc2MTY0YjA4NTIyMDdkLnBuZyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ01PVklFUy5Nb3ZpZUhkV2F0Y2gnO1xuICAgICAgICB0aGlzLnN1cHBvcnRlZFR5cGVzID0gbmV3IFNldChbbW9kZWxzXzEuVHZUeXBlLk1PVklFLCBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVNdKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSBzZWFyY2ggcXVlcnkgc3RyaW5nXG4gICAgICAgICAqIEBwYXJhbSBwYWdlIHBhZ2UgbnVtYmVyIChkZWZhdWx0IDEpIChvcHRpb25hbClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5LCBwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vc2VhcmNoLyR7cXVlcnkucmVwbGFjZSgvW1xcV19dKy9nLCAnLScpfT9wYWdlPSR7cGFnZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuYXZTZWxlY3RvciA9ICdkaXYucHJlLXBhZ2luYXRpb246bnRoLWNoaWxkKDMpID4gbmF2Om50aC1jaGlsZCgxKSA+IHVsOm50aC1jaGlsZCgxKSc7XG4gICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0Lmhhc05leHRQYWdlID1cbiAgICAgICAgICAgICAgICAgICAgJChuYXZTZWxlY3RvcikubGVuZ3RoID4gMCA/ICEkKG5hdlNlbGVjdG9yKS5jaGlsZHJlbigpLmxhc3QoKS5oYXNDbGFzcygnYWN0aXZlJykgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAkKCcuZmlsbV9saXN0LXdyYXAgPiBkaXYuZmx3LWl0ZW0nKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2VEYXRlID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZpbG0taW5mb3IgPiBzcGFuOm50aC1jaGlsZCgyKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmlsbS1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDQpJykudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHQucmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2IgPSAoX2EgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYyA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGgyID4gYScpLmF0dHIoJ3RpdGxlJykpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHskKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gaW1nJykuYXR0cignZGF0YS1zcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBpc05hTihwYXJzZUludChyZWxlYXNlRGF0ZSkpID8gdW5kZWZpbmVkIDogcmVsZWFzZURhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFzb25zOiByZWxlYXNlRGF0ZS5pbmNsdWRlcygnU1MnKSA/IHBhcnNlSW50KHJlbGVhc2VEYXRlLnNwbGl0KCdTUycpWzFdKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAhZHVyYXRpb24uaW5jbHVkZXMoJ0VQUycpID8gZHVyYXRpb24gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAoKF9kID0gJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmluY2x1ZGVzKCd0di8nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFU1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuVHZUeXBlLk1PVklFLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gbWVkaWFJZCBtZWRpYSBsaW5rIG9yIGlkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoTWVkaWFJbmZvID0gYXN5bmMgKG1lZGlhSWQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmIChtZWRpYUlkLnN0YXJ0c1dpdGgodGhpcy5iYXNlVXJsKSkge1xuICAgICAgICAgICAgICAgIG1lZGlhSWQgPSBtZWRpYUlkLnJlcGxhY2UodGhpcy5iYXNlVXJsICsgJy8nLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vJHttZWRpYUlkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlY29tbWVuZGF0aW9uc0FycmF5ID0gW107XG4gICAgICAgICAgICAgICAgY29uc3QgbW92aWVJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogbWVkaWFJZCxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0vJHttZWRpYUlkfWAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCB1aWQgPSAkKCcuZGV0YWlsX3BhZ2Utd2F0Y2gnKS5hdHRyKCdkYXRhLWlkJyk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmNvdmVyID0gKF9hID0gJCgnZGl2LmRwLXctY292ZXInKS5hdHRyKCdzdHlsZScpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMjIpLnJlcGxhY2UoJyknLCAnJykucmVwbGFjZSgnOycsICcnKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8udGl0bGUgPSAkKCcuaGVhZGluZy1uYW1lID4gYTpudGgtY2hpbGQoMSknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmltYWdlID0gJCgnLmZpbG0tcG9zdGVyID4gaW1nJykuYXR0cignc3JjJyk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmRlc2NyaXB0aW9uID0gJCgnLmRlc2NyaXB0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgJycpXG4gICAgICAgICAgICAgICAgICAgIC50cmltKCk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLnR5cGUgPSBtb3ZpZUluZm8uaWQuc3BsaXQoJy8nKVswXSA9PT0gJ3R2JyA/IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUyA6IG1vZGVsc18xLlR2VHlwZS5NT1ZJRTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8ucmVsZWFzZURhdGUgPSAkKCdkaXYuZWxlbWVudHMnKVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnZGl2LnJvdy1saW5lJylcbiAgICAgICAgICAgICAgICAgICAgLmZpcnN0KClcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnUmVsZWFzZWQ6ICcsICcnKVxuICAgICAgICAgICAgICAgICAgICAudHJpbSgpO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby5nZW5yZXMgPSAkKCdkaXYucm93LWxpbmU6bnRoLWNoaWxkKDIpJylcbiAgICAgICAgICAgICAgICAgICAgLmZpcnN0KClcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2EnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpLnNwbGl0KCcmJykpXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKVxuICAgICAgICAgICAgICAgICAgICAubWFwKHYgPT4gdi50cmltKCkpO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby5jYXN0cyA9ICQoJ2Rpdi5yb3ctbGluZTpudGgtY2hpbGQoMyknKVxuICAgICAgICAgICAgICAgICAgICAuZmlyc3QoKVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnYScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiAkKGVsKS5hdHRyKCd0aXRsZScpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLnByb2R1Y3Rpb24gPSAkKCdkaXYucm93LWxpbmU6bnRoLWNoaWxkKDMpJylcbiAgICAgICAgICAgICAgICAgICAgLmxhc3QoKVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnYScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiAkKGVsKS5hdHRyKCd0aXRsZScpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KClcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8uY291bnRyeSA9ICQoJ2Rpdi5yb3ctbGluZTpudGgtY2hpbGQoMiknKVxuICAgICAgICAgICAgICAgICAgICAubGFzdCgpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCdhJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+ICQoZWwpLmF0dHIoJ3RpdGxlJykpXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8uZHVyYXRpb24gPSAkKCdkaXYucm93LWxpbmU6bnRoLWNoaWxkKDEpJylcbiAgICAgICAgICAgICAgICAgICAgLmxhc3QoKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXFxyXFxufFxcbnwgfFxccikvZ20sICcnKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnRHVyYXRpb246JywgJycpXG4gICAgICAgICAgICAgICAgICAgIC50cmltKCk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLnJhdGluZyA9IHBhcnNlRmxvYXQoJCgnZGl2LmRwLWktc3RhdHMgPiBzcGFuLml0ZW0ubXItMicpLnRleHQoKS5yZXBsYWNlKCdJTURCOiAnLCAnJykpO1xuICAgICAgICAgICAgICAgICQoJ2Rpdi5maWxtX2xpc3Qtd3JhcCA+IGRpdi5mbHctaXRlbScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2VEYXRlID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZpbG0taW5mb3IgPiBzcGFuOm50aC1jaGlsZCgyKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmlsbS1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDQpJykudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbnNBcnJheS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gaDMuZmlsbS1uYW1lID4gYScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBpbWcnKS5hdHRyKCdkYXRhLXNyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IGlzTmFOKHBhcnNlSW50KHJlbGVhc2VEYXRlKSkgPyB1bmRlZmluZWQgOiByZWxlYXNlRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXNvbnM6IHJlbGVhc2VEYXRlLmluY2x1ZGVzKCdTUycpID8gcGFyc2VJbnQocmVsZWFzZURhdGUuc3BsaXQoJ1NTJylbMV0pIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246ICFkdXJhdGlvbi5pbmNsdWRlcygnRVBTJykgPyBkdXJhdGlvbiA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICgoX2IgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW5jbHVkZXMoJ3R2LycpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtb2RlbHNfMS5UdlR5cGUuTU9WSUUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby5yZWNvbW1lbmRhdGlvbnMgPSByZWNvbW1lbmRhdGlvbnNBcnJheTtcbiAgICAgICAgICAgICAgICBjb25zdCBhamF4UmVxVXJsID0gKGlkLCB0eXBlLCBpc1NlYXNvbnMgPSBmYWxzZSkgPT4gYCR7dGhpcy5iYXNlVXJsfS9hamF4LyR7dHlwZSA9PT0gJ21vdmllJyA/IHR5cGUgOiBgdjIvJHt0eXBlfWB9LyR7aXNTZWFzb25zID8gJ3NlYXNvbnMnIDogJ2VwaXNvZGVzJ30vJHtpZH1gO1xuICAgICAgICAgICAgICAgIGlmIChtb3ZpZUluZm8udHlwZSA9PT0gbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGFqYXhSZXFVcmwodWlkLCAndHYnLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0ICQkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vhc29uc0lkcyA9ICQkKCcuZHJvcGRvd24tbWVudSA+IGEnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+ICQoZWwpLmF0dHIoJ2RhdGEtaWQnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgbW92aWVJbmZvLmVwaXNvZGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWFzb24gPSAxO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHNlYXNvbnNJZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGFqYXhSZXFVcmwoaWQsICdzZWFzb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCAkJCQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkKCcubmF2ID4gbGknKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAkJCQoZWwpLmZpbmQoJ2EnKS5hdHRyKCdpZCcpLnNwbGl0KCctJylbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkJCQoZWwpLmZpbmQoJ2EnKS5hdHRyKCd0aXRsZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IHBhcnNlSW50KCQkJChlbCkuZmluZCgnYScpLmF0dHIoJ3RpdGxlJykuc3BsaXQoJzonKVswXS5zbGljZSgzKS50cmltKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFzb246IHNlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9L2FqYXgvdjIvZXBpc29kZS9zZXJ2ZXJzLyR7JCQkKGVsKS5maW5kKCdhJykuYXR0cignaWQnKS5zcGxpdCgnLScpWzFdfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBtb3ZpZUluZm8uZXBpc29kZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wdXNoKGVwaXNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFzb24rKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbW92aWVJbmZvLmVwaXNvZGVzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB1aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG1vdmllSW5mby50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0vYWpheC9tb3ZpZS9lcGlzb2Rlcy8ke3VpZH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vdmllSW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGVwaXNvZGVJZCBlcGlzb2RlIGlkXG4gICAgICAgICAqIEBwYXJhbSBtZWRpYUlkIG1lZGlhIGlkXG4gICAgICAgICAqIEBwYXJhbSBzZXJ2ZXIgc2VydmVyIHR5cGUgKGRlZmF1bHQgYFZpZENsb3VkYCkgKG9wdGlvbmFsKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzID0gYXN5bmMgKGVwaXNvZGVJZCwgbWVkaWFJZCwgc2VydmVyID0gbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5VcENsb3VkKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXBpc29kZUlkLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlclVybCA9IG5ldyBVUkwoZXBpc29kZUlkKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuTWl4RHJvcDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwuaHJlZiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuTWl4RHJvcCh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc2VydmVyVXJsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5WaWRDbG91ZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwuaHJlZiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihhd2FpdCBuZXcgZXh0cmFjdG9yc18xLlZpZENsb3VkKHRoaXMucHJveHlDb25maWcsIHRoaXMuYWRhcHRlcikuZXh0cmFjdChzZXJ2ZXJVcmwsIHRydWUpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5VcENsb3VkOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IHNlcnZlclVybC5ocmVmIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuVmlkQ2xvdWQodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwuaHJlZiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuTWl4RHJvcCh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc2VydmVyVXJsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJzID0gYXdhaXQgdGhpcy5mZXRjaEVwaXNvZGVTZXJ2ZXJzKGVwaXNvZGVJZCwgbWVkaWFJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IHNlcnZlcnMuZmluZEluZGV4KHMgPT4gcy5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IHNlcnZlci50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgJHtzZXJ2ZXJ9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJVcmwgPSBuZXcgVVJMKHNlcnZlcnMuZmlsdGVyKHMgPT4gcy5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IHNlcnZlci50b0xvd2VyQ2FzZSgpKVswXS51cmwpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZldGNoRXBpc29kZVNvdXJjZXMoc2VydmVyVXJsLmhyZWYsIG1lZGlhSWQsIHNlcnZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgdGFrZXMgZXBpc29kZSBsaW5rIG9yIG1vdmllIGlkXG4gICAgICAgICAqIEBwYXJhbSBtZWRpYUlkIHRha2VzIG1vdmllIGxpbmsgb3IgaWQgKGZvdW5kIG9uIG1vdmllIGluZm8gb2JqZWN0KVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTZXJ2ZXJzID0gYXN5bmMgKGVwaXNvZGVJZCwgbWVkaWFJZCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFlcGlzb2RlSWQuc3RhcnRzV2l0aCh0aGlzLmJhc2VVcmwgKyAnL2FqYXgnKSAmJiAhbWVkaWFJZC5pbmNsdWRlcygnbW92aWUnKSlcbiAgICAgICAgICAgICAgICBlcGlzb2RlSWQgPSBgJHt0aGlzLmJhc2VVcmx9L2FqYXgvdjIvZXBpc29kZS9zZXJ2ZXJzLyR7ZXBpc29kZUlkfWA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZXBpc29kZUlkID0gYCR7dGhpcy5iYXNlVXJsfS9hamF4L21vdmllL2VwaXNvZGVzLyR7ZXBpc29kZUlkfWA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGVwaXNvZGVJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVycyA9IFtdO1xuICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKCQoJy5uYXYgPiBsaScpLm1hcChhc3luYyAoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJChlbCkuZmluZCgnYScpLmF0dHIoJ3RpdGxlJykuc2xpY2UoNikudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9LyR7bWVkaWFJZH0uJHshbWVkaWFJZC5pbmNsdWRlcygnbW92aWUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJChlbCkuZmluZCgnYScpLmF0dHIoJ2RhdGEtaWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJChlbCkuZmluZCgnYScpLmF0dHIoJ2RhdGEtbGlua2lkJyl9YC5yZXBsYWNlKCFtZWRpYUlkLmluY2x1ZGVzKCdtb3ZpZScpID8gL1xcL3R2XFwvLyA6IC9cXC9tb3ZpZVxcLy8sICFtZWRpYUlkLmluY2x1ZGVzKCdtb3ZpZScpID8gJy93YXRjaC10di8nIDogJy93YXRjaC1tb3ZpZS8nKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9hamF4L2dldF9saW5rLyR7c2VydmVyLnVybC5zcGxpdCgnLicpLnNsaWNlKC0xKS5zaGlmdCgpfWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJVcmwgPSBuZXcgVVJMKGRhdGEubGluayk7XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlci51cmwgPSBzZXJ2ZXJVcmwuaHJlZjtcbiAgICAgICAgICAgICAgICAgICAgc2VydmVycy5wdXNoKHNlcnZlcik7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXJ2ZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hSZWNlbnRNb3ZpZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vaG9tZWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdmllcyA9ICQoJy5zZWN0aW9uLWlkLTAyJylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2Rpdi5mbHctaXRlbScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsZWFzZURhdGUgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmlsbS1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDIpJykudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5maWxtLWluZm9yID4gc3BhbjpudGgtY2hpbGQoNCknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdmllID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYiA9IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgxKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogKF9jID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gaDMuZmlsbS1uYW1lID4gYScpLmF0dHIoJ3RpdGxlJykpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHskKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gaW1nJykuYXR0cignZGF0YS1zcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBpc05hTihwYXJzZUludChyZWxlYXNlRGF0ZSkpID8gdW5kZWZpbmVkIDogcmVsZWFzZURhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogIWR1cmF0aW9uLmluY2x1ZGVzKCdFUFMnKSA/IGR1cmF0aW9uIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogKChfZCA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5pbmNsdWRlcygnbW92aWUvJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5UdlR5cGUuTU9WSUVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vdmllO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW92aWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hSZWNlbnRUdlNob3dzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2hvbWVgKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0dnNob3dzID0gJCgnLnNlY3Rpb24taWQtMDMnKVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnZGl2LmZsdy1pdGVtJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0dnNob3cgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9iID0gKF9hID0gJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNsaWNlKDEpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAoX2MgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBoMy5maWxtLW5hbWUgPiBhJykuYXR0cigndGl0bGUnKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0keyQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBpbWcnKS5hdHRyKCdkYXRhLXNyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmlsbS1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDIpJykudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0RXBpc29kZTogJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZpbG0taW5mb3IgPiBzcGFuOm50aC1jaGlsZCg0KScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICgoX2QgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuaW5jbHVkZXMoJ3R2LycpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtb2RlbHNfMS5UdlR5cGUuTU9WSUUsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0dnNob3c7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0dnNob3dzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hUcmVuZGluZ01vdmllcyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9ob21lYCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW92aWVzID0gJCgnI3RyZW5kaW5nLW1vdmllcycpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCdkaXYuZmx3LWl0ZW0nKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2VEYXRlID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZpbG0taW5mb3IgPiBzcGFuOm50aC1jaGlsZCgyKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmlsbS1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDQpJykudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3ZpZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2IgPSAoX2EgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYyA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGgzLmZpbG0tbmFtZSA+IGEnKS5hdHRyKCd0aXRsZScpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGltZycpLmF0dHIoJ2RhdGEtc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogaXNOYU4ocGFyc2VJbnQocmVsZWFzZURhdGUpKSA/IHVuZGVmaW5lZCA6IHJlbGVhc2VEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246ICFkdXJhdGlvbi5pbmNsdWRlcygnRVBTJykgPyBkdXJhdGlvbiA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICgoX2QgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuaW5jbHVkZXMoJ21vdmllLycpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuVHZUeXBlLk1PVklFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb3ZpZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vdmllcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoVHJlbmRpbmdUdlNob3dzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2hvbWVgKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0dnNob3dzID0gJCgnI3RyZW5kaW5nLXR2JylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2Rpdi5mbHctaXRlbScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHZzaG93ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYiA9IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgxKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogKF9jID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gaDMuZmlsbS1uYW1lID4gYScpLmF0dHIoJ3RpdGxlJykpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHskKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gaW1nJykuYXR0cignZGF0YS1zcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXNvbjogJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZpbG0taW5mb3IgPiBzcGFuOm50aC1jaGlsZCgyKScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdEVwaXNvZGU6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5maWxtLWluZm9yID4gc3BhbjpudGgtY2hpbGQoNCknKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAoKF9kID0gJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmluY2x1ZGVzKCd0di8nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFU1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuVHZUeXBlLk1PVklFLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHZzaG93O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHZzaG93cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQnlDb3VudHJ5ID0gYXN5bmMgKGNvdW50cnksIHBhZ2UgPSAxKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdlNlbGVjdG9yID0gJ2Rpdi5wcmUtcGFnaW5hdGlvbjpudGgtY2hpbGQoMykgPiBuYXY6bnRoLWNoaWxkKDEpID4gdWw6bnRoLWNoaWxkKDEpJztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9jb3VudHJ5LyR7Y291bnRyeX0vP3BhZ2U9JHtwYWdlfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5oYXNOZXh0UGFnZSA9XG4gICAgICAgICAgICAgICAgICAgICQobmF2U2VsZWN0b3IpLmxlbmd0aCA+IDAgPyAhJChuYXZTZWxlY3RvcikuY2hpbGRyZW4oKS5sYXN0KCkuaGFzQ2xhc3MoJ2FjdGl2ZScpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgJCgnZGl2LmNvbnRhaW5lciA+IHNlY3Rpb24uYmxvY2tfYXJlYSA+IGRpdi5ibG9ja19hcmVhLWNvbnRlbnQgPiBkaXYuZmlsbV9saXN0LXdyYXAgPiBkaXYuZmx3LWl0ZW0nKVxuICAgICAgICAgICAgICAgICAgICAuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0SXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2IgPSAoX2EgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYyA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGgyLmZpbG0tbmFtZSA+IGEnKS5hdHRyKCd0aXRsZScpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGltZycpLmF0dHIoJ2RhdGEtc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAoKF9kID0gJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmluY2x1ZGVzKCdtb3ZpZS8nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLlR2VHlwZS5NT1ZJRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWFzb24gPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmlsbS1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDIpJykudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXRlc3RFcGlzb2RlID0gKF9lID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZpbG0taW5mb3IgPiBzcGFuOm50aC1jaGlsZCg0KScpLnRleHQoKSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdEl0ZW0udHlwZSA9PT0gbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRJdGVtLnNlYXNvbiA9IHNlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEl0ZW0ubGF0ZXN0RXBpc29kZSA9IGxhdGVzdEVwaXNvZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRJdGVtLnJlbGVhc2VEYXRlID0gc2Vhc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0SXRlbS5kdXJhdGlvbiA9IGxhdGVzdEVwaXNvZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlc3VsdHMucHVzaChyZXN1bHRJdGVtKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQnlHZW5yZSA9IGFzeW5jIChnZW5yZSwgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2dlbnJlLyR7Z2VucmV9P3BhZ2U9JHtwYWdlfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hdlNlbGVjdG9yID0gJ2Rpdi5wcmUtcGFnaW5hdGlvbjpudGgtY2hpbGQoMykgPiBuYXY6bnRoLWNoaWxkKDEpID4gdWw6bnRoLWNoaWxkKDEpJztcbiAgICAgICAgICAgICAgICByZXN1bHQuaGFzTmV4dFBhZ2UgPVxuICAgICAgICAgICAgICAgICAgICAkKG5hdlNlbGVjdG9yKS5sZW5ndGggPiAwID8gISQobmF2U2VsZWN0b3IpLmNoaWxkcmVuKCkubGFzdCgpLmhhc0NsYXNzKCdhY3RpdmUnKSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICQoJy5maWxtX2xpc3Qtd3JhcCA+IGRpdi5mbHctaXRlbScpXG4gICAgICAgICAgICAgICAgICAgIC5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYiA9IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgxKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogKF9jID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gaDIuZmlsbS1uYW1lID4gYScpLmF0dHIoJ3RpdGxlJykpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHskKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gaW1nJykuYXR0cignZGF0YS1zcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICgoX2QgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuaW5jbHVkZXMoJ21vdmllLycpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuVHZUeXBlLk1PVklFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYXNvbiA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5maWxtLWluZm9yID4gc3BhbjpudGgtY2hpbGQoMiknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhdGVzdEVwaXNvZGUgPSAoX2UgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmlsbS1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDQpJykudGV4dCgpKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0SXRlbS50eXBlID09PSBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEl0ZW0uc2Vhc29uID0gc2Vhc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0SXRlbS5sYXRlc3RFcGlzb2RlID0gbGF0ZXN0RXBpc29kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEl0ZW0ucmVsZWFzZURhdGUgPSBzZWFzb247XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRJdGVtLmR1cmF0aW9uID0gbGF0ZXN0RXBpc29kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVzdWx0cy5wdXNoKHJlc3VsdEl0ZW0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuLy8gKGFzeW5jICgpID0+IHtcbi8vICAgY29uc3QgbW92aWUgPSBuZXcgTW92aWVIZFdhdGNoKCk7XG4vLyAgIGNvbnN0IGdlbnJlID0gYXdhaXQgbW92aWUuZmV0Y2hCeUdlbnJlKCdkcmFtYScpO1xuLy8gICBjb25zb2xlLmxvZyhnZW5yZSlcbi8vIH0pKCk7XG5leHBvcnRzLmRlZmF1bHQgPSBNb3ZpZUhkV2F0Y2g7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb3ZpZGhkd2F0Y2guanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/movidhdwatch.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/multimovies.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/movies/multimovies.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nclass MultiMovies extends models_1.MovieParser {\n    constructor(customBaseURL) {\n        super(...arguments);\n        this.name = 'MultiMovies';\n        this.baseUrl = 'https://multimovies.guru';\n        this.logo = 'https://multimovies.guru/wp-content/uploads/2024/01/cropped-CompressJPEG.online_512x512_image.png';\n        this.classPath = 'MOVIES.MultiMovies';\n        this.supportedTypes = new Set([models_1.TvType.MOVIE, models_1.TvType.TVSERIES]);\n        /**\n         *\n         * @param query search query string\n         * @param page page number (default 1) (optional)\n         */\n        this.search = async (query, page = 1) => {\n            const searchResult = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                let url;\n                if (page === 1) {\n                    url = `${this.baseUrl}/?s=${query.replace(/[\\W_]+/g, '+')}`;\n                }\n                else {\n                    url = `${this.baseUrl}/page/${page}/?s=${query.replace(/[\\W_]+/g, '+')}`;\n                }\n                const { data } = await this.client.get(url);\n                const $ = (0, cheerio_1.load)(data);\n                const navSelector = 'div.pagination';\n                searchResult.hasNextPage = $(navSelector).find('#nextpagination').length > 0;\n                const articles = $('.search-page .result-item article').toArray();\n                await Promise.all(articles.map(async (el) => {\n                    var _a, _b, _c, _d, _e;\n                    const seasonSet = new Set();\n                    const href = (_b = (_a = $(el)\n                        .find('.thumbnail a')\n                        .attr('href')) === null || _a === void 0 ? void 0 : _a.replace(/^https?:\\/\\/[^/]+\\//, '').replace(/^\\/|\\/$/g, '')) !== null && _b !== void 0 ? _b : '';\n                    const episodesInfo = await this.fetchMediaInfo(href);\n                    const episodes = (episodesInfo === null || episodesInfo === void 0 ? void 0 : episodesInfo.episodes) || [];\n                    for (const episode of episodes) {\n                        if (episode.season != null) {\n                            seasonSet.add(episode.season);\n                        }\n                    }\n                    searchResult.results.push({\n                        id: href,\n                        title: $(el).find('.details .title a').text().trim(),\n                        url: (_c = $(el).find('.thumbnail a').attr('href')) !== null && _c !== void 0 ? _c : '',\n                        image: (_d = $(el).find('.thumbnail img').attr('src')) !== null && _d !== void 0 ? _d : '',\n                        rating: parseFloat($(el).find('.meta .rating').text().replace('IMDb ', '')) || 0,\n                        releaseDate: $(el).find('.meta .year').text().trim(),\n                        seasons: seasonSet.size,\n                        description: $(el).find('.contenido p').text().trim(),\n                        type: ((_e = $(el).find('.thumbnail a').attr('href')) === null || _e === void 0 ? void 0 : _e.includes('/movies/'))\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    });\n                }));\n                return searchResult;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param mediaId media link or id\n         */\n        this.fetchMediaInfo = async (mediaId) => {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n            if (!mediaId.startsWith(this.baseUrl)) {\n                mediaId = `${this.baseUrl}/${mediaId}`;\n            }\n            const movieInfo = {\n                id: mediaId.replace(/^https?:\\/\\/[^/]+\\//, '').replace(/^\\/|\\/$/g, ''),\n                title: '',\n                url: mediaId,\n            };\n            try {\n                const { data } = await this.client.get(mediaId);\n                const $ = (0, cheerio_1.load)(data);\n                const recommendationsArray = [];\n                $('div#single_relacionados  article').each((i, el) => {\n                    var _a, _b, _c, _d;\n                    recommendationsArray.push({\n                        id: (_a = $(el)\n                            .find('a')\n                            .attr('href')) === null || _a === void 0 ? void 0 : _a.replace(/^https?:\\/\\/[^/]+\\//, '').replace(/^\\/|\\/$/g, ''),\n                        title: $(el).find('a img').attr('alt'),\n                        image: (_b = $(el).find('a img').attr('data-src')) !== null && _b !== void 0 ? _b : $(el).find('a img').attr('src'),\n                        type: ((_c = $(el).find('.thumbnail a').attr('href')) === null || _c === void 0 ? void 0 : _c.includes('/movies/'))\n                            ? models_1.TvType.TVSERIES\n                            : (_d = models_1.TvType.MOVIE) !== null && _d !== void 0 ? _d : null,\n                    });\n                });\n                movieInfo.cover = (_b = (_a = $('div#info .galeria').first().find('.g-item a').attr('href')) === null || _a === void 0 ? void 0 : _a.trim()) !== null && _b !== void 0 ? _b : '';\n                movieInfo.title = $('.sheader > .data > h1').text();\n                movieInfo.image =\n                    (_c = $('.sheader > .poster > img').attr('src')) !== null && _c !== void 0 ? _c : $('.sheader > .poster > img').attr('data-src');\n                movieInfo.description = $('div#info div[itemprop=\"description\"] p').text();\n                movieInfo.type = movieInfo.id.split('/')[0] === 'tvshows' ? models_1.TvType.TVSERIES : models_1.TvType.MOVIE;\n                movieInfo.releaseDate = $('.sheader > .data > .extra > span.date').text().trim();\n                movieInfo.trailer = {\n                    id: (_f = (_e = (_d = $('div#trailer .embed  iframe').attr('data-litespeed-src')) === null || _d === void 0 ? void 0 : _d.split('embed/')[1]) === null || _e === void 0 ? void 0 : _e.split('?')[0]) !== null && _f !== void 0 ? _f : (_h = (_g = $('div#trailer .embed  iframe').attr('src')) === null || _g === void 0 ? void 0 : _g.split('embed/')[1]) === null || _h === void 0 ? void 0 : _h.split('?')[0],\n                    url: (_j = $('div#trailer .embed iframe').attr('data-litespeed-src')) !== null && _j !== void 0 ? _j : $('div#trailer .embed iframe').attr('src'),\n                };\n                movieInfo.genres = $('.sgeneros a')\n                    .map((i, el) => $(el).text())\n                    .get()\n                    .map(v => v.trim());\n                movieInfo.characters = [];\n                $('div#cast .persons .person').each((i, el) => {\n                    var _a;\n                    const url = $(el).find('.img > a').attr('href');\n                    const image = (_a = $(el).find('.img > a > img').attr('data-src')) !== null && _a !== void 0 ? _a : $(el).find('.img > a > img').attr('src');\n                    const name = $(el).find('.data > .name > a').text();\n                    const character = $(el).find('.data > .caracter').text();\n                    movieInfo.characters.push({\n                        url,\n                        image,\n                        name,\n                        character,\n                    });\n                });\n                movieInfo.country = $('.sheader > .data > .extra > span.country').text();\n                movieInfo.duration = $('.sheader > .data > .extra > span.runtime').text();\n                movieInfo.rating = parseFloat($('.starstruck-rating span.dt_rating_vgs[itemprop=\"ratingValue\"]').text());\n                movieInfo.recommendations = recommendationsArray;\n                if (movieInfo.type === models_1.TvType.TVSERIES) {\n                    movieInfo.episodes = [];\n                    $('#seasons .se-c').each((i, el) => {\n                        const seasonNumber = parseInt($(el).find('.se-t').text().trim());\n                        $(el)\n                            .find('.episodios li')\n                            .each((j, ep) => {\n                            var _a, _b, _c, _d, _e, _f, _g;\n                            const episode = {\n                                id: (_a = $(ep)\n                                    .find('.episodiotitle a')\n                                    .attr('href')) === null || _a === void 0 ? void 0 : _a.replace(/^https?:\\/\\/[^/]+\\//, '').replace(/^\\/|\\/$/g, ''),\n                                season: seasonNumber,\n                                number: parseInt($(ep).find('.numerando').text().trim().split('-')[1]),\n                                title: $(ep).find('.episodiotitle a').text().trim(),\n                                url: (_c = (_b = $(ep).find('.episodiotitle a').attr('href')) === null || _b === void 0 ? void 0 : _b.trim()) !== null && _c !== void 0 ? _c : '',\n                                releaseDate: String(new Date($(ep).find('.episodiotitle .date').text().trim()).getFullYear()),\n                                image: (_e = (_d = $(ep).find('.imagen img').attr('data-src')) === null || _d === void 0 ? void 0 : _d.trim()) !== null && _e !== void 0 ? _e : (_f = $(ep).find('.imagen img').attr('src')) === null || _f === void 0 ? void 0 : _f.trim(),\n                            };\n                            (_g = movieInfo.episodes) === null || _g === void 0 ? void 0 : _g.push(episode);\n                        });\n                    });\n                }\n                else {\n                    movieInfo.episodes = [\n                        {\n                            id: movieInfo.id,\n                            title: movieInfo.title,\n                            url: movieInfo.url,\n                            image: movieInfo.cover || movieInfo.image,\n                        },\n                    ];\n                }\n                return movieInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId episode id\n         * @param media media id\n         * @param server server type (default `StreamWish`) (optional)\n         */\n        this.fetchEpisodeSources = async (episodeId, mediaId, //just placeholder for compatibility with tmdb\n        server = models_1.StreamingServers.StreamWish, fileId) => {\n            if (episodeId.startsWith('http')) {\n                const serverUrl = new URL(episodeId);\n                switch (server) {\n                    case models_1.StreamingServers.MixDrop:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            sources: await new extractors_1.MixDrop(this.proxyConfig, this.adapter).extract(serverUrl),\n                            download: fileId ? `https://gdmirrorbot.nl/file/${fileId}` : '',\n                        };\n                    case models_1.StreamingServers.StreamWish:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new extractors_1.StreamWish(this.proxyConfig, this.adapter).extract(serverUrl)),\n                            download: fileId ? `https://gdmirrorbot.nl/file/${fileId}` : '',\n                        };\n                    case models_1.StreamingServers.StreamTape:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            sources: await new extractors_1.StreamTape(this.proxyConfig, this.adapter).extract(serverUrl),\n                            download: fileId ? `https://gdmirrorbot.nl/file/${fileId}` : '',\n                        };\n                    case models_1.StreamingServers.VidHide:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            sources: await new extractors_1.VidHide(this.proxyConfig, this.adapter).extract(serverUrl),\n                            download: fileId ? `https://gdmirrorbot.nl/file/${fileId}` : '',\n                        };\n                    default:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new extractors_1.StreamWish(this.proxyConfig, this.adapter).extract(serverUrl)),\n                            download: fileId ? `https://gdmirrorbot.nl/file/${fileId}` : '',\n                        };\n                }\n            }\n            try {\n                const servers = await this.fetchEpisodeServers(episodeId);\n                const i = servers.findIndex(s => s.name.toLowerCase() === server.toLowerCase());\n                if (i === -1) {\n                    throw new Error(`Server ${server} not found`);\n                }\n                const serverUrl = new URL(servers[i].url);\n                let fileId = '';\n                if (!episodeId.startsWith('http')) {\n                    const { fileId: id } = await this.getServer(`${this.baseUrl}/${episodeId}`);\n                    fileId = id !== null && id !== void 0 ? id : '';\n                }\n                // fileId to be used for download link\n                return await this.fetchEpisodeSources(serverUrl.href, mediaId, server, fileId);\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId takes episode link or movie id\n         */\n        this.fetchEpisodeServers = async (episodeId) => {\n            if (!episodeId.startsWith(this.baseUrl)) {\n                episodeId = `${this.baseUrl}/${episodeId}`;\n            }\n            try {\n                const { servers } = await this.getServer(episodeId);\n                return servers;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchPopular = async (page = 1) => {\n            const result = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/trending/page/${page}/`);\n                const $ = (0, cheerio_1.load)(data);\n                const navSelector = 'div.pagination';\n                result.hasNextPage = $(navSelector).find('#nextpagination').length > 0;\n                $('.items > article')\n                    .each((i, el) => {\n                    var _a, _b, _c, _d, _e;\n                    const resultItem = {\n                        id: $(el).attr('id'),\n                        title: (_a = $(el).find('div.data > h3').text()) !== null && _a !== void 0 ? _a : '',\n                        url: $(el).find('div.poster > a').attr('href'),\n                        image: (_b = $(el).find('div.poster > img').attr('data-src')) !== null && _b !== void 0 ? _b : '',\n                        type: ((_c = $(el).find('div.poster > a').attr('href')) === null || _c === void 0 ? void 0 : _c.includes('/movies/'))\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                        rating: (_d = $(el).find('div.poster > div.rating').text()) !== null && _d !== void 0 ? _d : '',\n                        releaseDate: (_e = $(el).find('div.data > span').text()) !== null && _e !== void 0 ? _e : '',\n                    };\n                    result.results.push(resultItem);\n                })\n                    .get();\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchByGenre = async (genre, page = 1) => {\n            const result = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/genre/${genre}/page/${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                const navSelector = 'div.pagination';\n                result.hasNextPage = $(navSelector).find('#nextpagination').length > 0;\n                $('.items > article')\n                    .each((i, el) => {\n                    var _a, _b, _c, _d, _e;\n                    const resultItem = {\n                        id: $(el).attr('id'),\n                        title: (_a = $(el).find('div.data > h3').text()) !== null && _a !== void 0 ? _a : '',\n                        url: $(el).find('div.poster > a').attr('href'),\n                        image: (_b = $(el).find('div.poster > img').attr('data-src')) !== null && _b !== void 0 ? _b : '',\n                        type: ((_c = $(el).find('div.poster > a').attr('href')) === null || _c === void 0 ? void 0 : _c.includes('/movies/'))\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                        rating: (_d = $(el).find('div.poster > div.rating').text()) !== null && _d !== void 0 ? _d : '',\n                        releaseDate: (_e = $(el).find('div.data > span').text()) !== null && _e !== void 0 ? _e : '',\n                    };\n                    result.results.push(resultItem);\n                })\n                    .get();\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        if (customBaseURL) {\n            if (customBaseURL.startsWith('http://') || customBaseURL.startsWith('https://')) {\n                this.baseUrl = customBaseURL;\n            }\n            else {\n                this.baseUrl = `http://${customBaseURL}`;\n            }\n        }\n        else {\n            this.baseUrl = this.baseUrl;\n        }\n    }\n    async getServer(url) {\n        var _a, _b, _c, _d, _e;\n        try {\n            const { data } = await this.client.get(url);\n            const $ = (0, cheerio_1.load)(data);\n            // Extract player config\n            const playerConfig = {\n                postId: $('#player-option-1').attr('data-post'),\n                nume: $('#player-option-1').attr('data-nume'),\n                type: $('#player-option-1').attr('data-type'),\n            };\n            if (!playerConfig.postId || !playerConfig.nume || !playerConfig.type) {\n                throw new Error('Missing player configuration');\n            }\n            const formData = new FormData();\n            formData.append('action', 'doo_player_ajax');\n            formData.append('post', playerConfig.postId);\n            formData.append('nume', playerConfig.nume);\n            formData.append('type', playerConfig.type);\n            const headers = {\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\n            };\n            const playerRes = await this.client.post(`${this.baseUrl}/wp-admin/admin-ajax.php`, formData, {\n                headers,\n            });\n            const iframeUrl = ((_c = (_b = (_a = playerRes.data) === null || _a === void 0 ? void 0 : _a.embed_url) === null || _b === void 0 ? void 0 : _b.match(/<iframe[^>]+src=\"([^\"]+)\"[^>]*>/i)) === null || _c === void 0 ? void 0 : _c[1]) ||\n                ((_d = playerRes.data) === null || _d === void 0 ? void 0 : _d.embed_url);\n            // Handle non-multimovies case\n            if (!iframeUrl.includes('multimovies')) {\n                let playerBaseUrl = iframeUrl.split('/').slice(0, 3).join('/');\n                const redirectResponse = await this.client.head(playerBaseUrl, { headers });\n                // Update base URL if redirect occurred\n                if (redirectResponse) {\n                    playerBaseUrl =\n                        redirectResponse.request._redirectable._options.href.split('/').slice(0, 3).join('/') ||\n                            redirectResponse.request.res.responseURL.split('/').slice(0, 3).join('/');\n                }\n                const fileId = iframeUrl.split('/').pop();\n                if (!fileId) {\n                    throw new Error('No player ID found');\n                }\n                const streamRequestData = new FormData();\n                streamRequestData.append('sid', fileId);\n                const streamResponse = await this.client.post(`${playerBaseUrl}/embedhelper.php`, streamRequestData, {\n                    headers,\n                });\n                if (!streamResponse.data) {\n                    throw new Error('No stream data found');\n                }\n                const streamDetails = streamResponse.data;\n                const mresultKeys = new Set(Object.keys(streamDetails.mresult));\n                const siteUrlsKeys = new Set(Object.keys(streamDetails.siteUrls));\n                // Find common keys\n                const commonKeys = [...mresultKeys].filter(key => siteUrlsKeys.has(key));\n                // Convert to a Set (if needed)\n                const commonStreamSites = new Set(commonKeys);\n                const servers = Array.from(commonStreamSites).map(site => {\n                    return {\n                        name: streamDetails.siteFriendlyNames[site] === 'StreamHG'\n                            ? 'StreamWish'\n                            : streamDetails.siteFriendlyNames[site],\n                        url: streamDetails.siteUrls[site] + streamDetails.mresult[site],\n                    };\n                });\n                return { servers, fileId };\n            }\n            else {\n                //@Durgesh\n                return {\n                    servers: [{ name: 'StreamWish', url: iframeUrl }],\n                    fileId: (_e = iframeUrl.split('/').pop()) !== null && _e !== void 0 ? _e : '',\n                };\n            }\n        }\n        catch (err) {\n            throw new Error(err.message);\n        }\n    }\n}\n// (async () => {\n//   const movie = new MultiMovies();\n//   const search = await movie.search('jujutsu');\n//   const movieInfo = await movie.fetchEpisodeSources(search.results[0]?.id);\n//   const server = await movie.fetchEpisodeServers(search.results[0]?.id);\n//   // const recentTv = await movie.fetchPopular();\n//   // const genre = await movie.fetchByGenre('action');\n//   console.log(movieInfo,server);\n// })();\nexports[\"default\"] = MultiMovies;\n//# sourceMappingURL=multimovies.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbW92aWVzL211bHRpbW92aWVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLDRGQUFrQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixhQUFhLE1BQU0sOEJBQThCO0FBQzlFO0FBQ0E7QUFDQSw2QkFBNkIsYUFBYSxRQUFRLEtBQUssTUFBTSw4QkFBOEI7QUFDM0Y7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixhQUFhLEdBQUcsUUFBUTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMseUJBQXlCO0FBQ2hFO0FBQ0EsOEVBQThFLE9BQU87QUFDckY7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHlCQUF5QjtBQUNoRTtBQUNBLDhFQUE4RSxPQUFPO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx5QkFBeUI7QUFDaEU7QUFDQSw4RUFBOEUsT0FBTztBQUNyRjtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMseUJBQXlCO0FBQ2hFO0FBQ0EsOEVBQThFLE9BQU87QUFDckY7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHlCQUF5QjtBQUNoRTtBQUNBLDhFQUE4RSxPQUFPO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFFBQVE7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsYUFBYSwwQkFBMEIsYUFBYSxHQUFHLFVBQVU7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGFBQWEsR0FBRyxVQUFVO0FBQ3pEO0FBQ0E7QUFDQSx3QkFBd0IsVUFBVTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhLGlCQUFpQixLQUFLO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsU0FBUyxNQUFNLFFBQVEsS0FBSztBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsT0FBTztBQUNwRTtBQUNBLHdEQUF3RCxhQUFhO0FBQ3JFO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRkFBaUYsU0FBUztBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsY0FBYztBQUMvRTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxvQ0FBb0M7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXG1vdmllc1xcbXVsdGltb3ZpZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNvbnN0IGV4dHJhY3RvcnNfMSA9IHJlcXVpcmUoXCIuLi8uLi9leHRyYWN0b3JzXCIpO1xuY2xhc3MgTXVsdGlNb3ZpZXMgZXh0ZW5kcyBtb2RlbHNfMS5Nb3ZpZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoY3VzdG9tQmFzZVVSTCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTXVsdGlNb3ZpZXMnO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9tdWx0aW1vdmllcy5ndXJ1JztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vbXVsdGltb3ZpZXMuZ3VydS93cC1jb250ZW50L3VwbG9hZHMvMjAyNC8wMS9jcm9wcGVkLUNvbXByZXNzSlBFRy5vbmxpbmVfNTEyeDUxMl9pbWFnZS5wbmcnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdNT1ZJRVMuTXVsdGlNb3ZpZXMnO1xuICAgICAgICB0aGlzLnN1cHBvcnRlZFR5cGVzID0gbmV3IFNldChbbW9kZWxzXzEuVHZUeXBlLk1PVklFLCBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVNdKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSBzZWFyY2ggcXVlcnkgc3RyaW5nXG4gICAgICAgICAqIEBwYXJhbSBwYWdlIHBhZ2UgbnVtYmVyIChkZWZhdWx0IDEpIChvcHRpb25hbClcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gYXN5bmMgKHF1ZXJ5LCBwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxldCB1cmw7XG4gICAgICAgICAgICAgICAgaWYgKHBhZ2UgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gYCR7dGhpcy5iYXNlVXJsfS8/cz0ke3F1ZXJ5LnJlcGxhY2UoL1tcXFdfXSsvZywgJysnKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gYCR7dGhpcy5iYXNlVXJsfS9wYWdlLyR7cGFnZX0vP3M9JHtxdWVyeS5yZXBsYWNlKC9bXFxXX10rL2csICcrJyl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQodXJsKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuYXZTZWxlY3RvciA9ICdkaXYucGFnaW5hdGlvbic7XG4gICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0Lmhhc05leHRQYWdlID0gJChuYXZTZWxlY3RvcikuZmluZCgnI25leHRwYWdpbmF0aW9uJykubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnRpY2xlcyA9ICQoJy5zZWFyY2gtcGFnZSAucmVzdWx0LWl0ZW0gYXJ0aWNsZScpLnRvQXJyYXkoKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChhcnRpY2xlcy5tYXAoYXN5bmMgKGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYXNvblNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaHJlZiA9IChfYiA9IChfYSA9ICQoZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnLnRodW1ibmFpbCBhJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXBsYWNlKC9eaHR0cHM/OlxcL1xcL1teL10rXFwvLywgJycpLnJlcGxhY2UoL15cXC98XFwvJC9nLCAnJykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcGlzb2Rlc0luZm8gPSBhd2FpdCB0aGlzLmZldGNoTWVkaWFJbmZvKGhyZWYpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcGlzb2RlcyA9IChlcGlzb2Rlc0luZm8gPT09IG51bGwgfHwgZXBpc29kZXNJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcGlzb2Rlc0luZm8uZXBpc29kZXMpIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVwaXNvZGUgb2YgZXBpc29kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcGlzb2RlLnNlYXNvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uU2V0LmFkZChlcGlzb2RlLnNlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0LnJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaHJlZixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCcuZGV0YWlscyAudGl0bGUgYScpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IChfYyA9ICQoZWwpLmZpbmQoJy50aHVtYm5haWwgYScpLmF0dHIoJ2hyZWYnKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogKF9kID0gJChlbCkuZmluZCgnLnRodW1ibmFpbCBpbWcnKS5hdHRyKCdzcmMnKSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICByYXRpbmc6IHBhcnNlRmxvYXQoJChlbCkuZmluZCgnLm1ldGEgLnJhdGluZycpLnRleHQoKS5yZXBsYWNlKCdJTURiICcsICcnKSkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiAkKGVsKS5maW5kKCcubWV0YSAueWVhcicpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFzb25zOiBzZWFzb25TZXQuc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkKGVsKS5maW5kKCcuY29udGVuaWRvIHAnKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogKChfZSA9ICQoZWwpLmZpbmQoJy50aHVtYm5haWwgYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmluY2x1ZGVzKCcvbW92aWVzLycpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuVHZUeXBlLk1PVklFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gbWVkaWFJZCBtZWRpYSBsaW5rIG9yIGlkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoTWVkaWFJbmZvID0gYXN5bmMgKG1lZGlhSWQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qO1xuICAgICAgICAgICAgaWYgKCFtZWRpYUlkLnN0YXJ0c1dpdGgodGhpcy5iYXNlVXJsKSkge1xuICAgICAgICAgICAgICAgIG1lZGlhSWQgPSBgJHt0aGlzLmJhc2VVcmx9LyR7bWVkaWFJZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbW92aWVJbmZvID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZWRpYUlkLnJlcGxhY2UoL15odHRwcz86XFwvXFwvW14vXStcXC8vLCAnJykucmVwbGFjZSgvXlxcL3xcXC8kL2csICcnKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgdXJsOiBtZWRpYUlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQobWVkaWFJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjb21tZW5kYXRpb25zQXJyYXkgPSBbXTtcbiAgICAgICAgICAgICAgICAkKCdkaXYjc2luZ2xlX3JlbGFjaW9uYWRvcyAgYXJ0aWNsZScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zQXJyYXkucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9hID0gJChlbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnYScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcGxhY2UoL15odHRwcz86XFwvXFwvW14vXStcXC8vLCAnJykucmVwbGFjZSgvXlxcL3xcXC8kL2csICcnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdhIGltZycpLmF0dHIoJ2FsdCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IChfYiA9ICQoZWwpLmZpbmQoJ2EgaW1nJykuYXR0cignZGF0YS1zcmMnKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJChlbCkuZmluZCgnYSBpbWcnKS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICgoX2MgPSAkKGVsKS5maW5kKCcudGh1bWJuYWlsIGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5pbmNsdWRlcygnL21vdmllcy8nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFU1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKF9kID0gbW9kZWxzXzEuVHZUeXBlLk1PVklFKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8uY292ZXIgPSAoX2IgPSAoX2EgPSAkKCdkaXYjaW5mbyAuZ2FsZXJpYScpLmZpcnN0KCkuZmluZCgnLmctaXRlbSBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHJpbSgpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJztcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8udGl0bGUgPSAkKCcuc2hlYWRlciA+IC5kYXRhID4gaDEnKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmltYWdlID1cbiAgICAgICAgICAgICAgICAgICAgKF9jID0gJCgnLnNoZWFkZXIgPiAucG9zdGVyID4gaW1nJykuYXR0cignc3JjJykpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICQoJy5zaGVhZGVyID4gLnBvc3RlciA+IGltZycpLmF0dHIoJ2RhdGEtc3JjJyk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmRlc2NyaXB0aW9uID0gJCgnZGl2I2luZm8gZGl2W2l0ZW1wcm9wPVwiZGVzY3JpcHRpb25cIl0gcCcpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8udHlwZSA9IG1vdmllSW5mby5pZC5zcGxpdCgnLycpWzBdID09PSAndHZzaG93cycgPyBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMgOiBtb2RlbHNfMS5UdlR5cGUuTU9WSUU7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLnJlbGVhc2VEYXRlID0gJCgnLnNoZWFkZXIgPiAuZGF0YSA+IC5leHRyYSA+IHNwYW4uZGF0ZScpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLnRyYWlsZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAoX2YgPSAoX2UgPSAoX2QgPSAkKCdkaXYjdHJhaWxlciAuZW1iZWQgIGlmcmFtZScpLmF0dHIoJ2RhdGEtbGl0ZXNwZWVkLXNyYycpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Quc3BsaXQoJ2VtYmVkLycpWzFdKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Uuc3BsaXQoJz8nKVswXSkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogKF9oID0gKF9nID0gJCgnZGl2I3RyYWlsZXIgLmVtYmVkICBpZnJhbWUnKS5hdHRyKCdzcmMnKSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLnNwbGl0KCdlbWJlZC8nKVsxXSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLnNwbGl0KCc/JylbMF0sXG4gICAgICAgICAgICAgICAgICAgIHVybDogKF9qID0gJCgnZGl2I3RyYWlsZXIgLmVtYmVkIGlmcmFtZScpLmF0dHIoJ2RhdGEtbGl0ZXNwZWVkLXNyYycpKSAhPT0gbnVsbCAmJiBfaiAhPT0gdm9pZCAwID8gX2ogOiAkKCdkaXYjdHJhaWxlciAuZW1iZWQgaWZyYW1lJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8uZ2VucmVzID0gJCgnLnNnZW5lcm9zIGEnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KClcbiAgICAgICAgICAgICAgICAgICAgLm1hcCh2ID0+IHYudHJpbSgpKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8uY2hhcmFjdGVycyA9IFtdO1xuICAgICAgICAgICAgICAgICQoJ2RpdiNjYXN0IC5wZXJzb25zIC5wZXJzb24nKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9ICQoZWwpLmZpbmQoJy5pbWcgPiBhJykuYXR0cignaHJlZicpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IChfYSA9ICQoZWwpLmZpbmQoJy5pbWcgPiBhID4gaW1nJykuYXR0cignZGF0YS1zcmMnKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJChlbCkuZmluZCgnLmltZyA+IGEgPiBpbWcnKS5hdHRyKCdzcmMnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9ICQoZWwpLmZpbmQoJy5kYXRhID4gLm5hbWUgPiBhJykudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXIgPSAkKGVsKS5maW5kKCcuZGF0YSA+IC5jYXJhY3RlcicpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgbW92aWVJbmZvLmNoYXJhY3RlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby5jb3VudHJ5ID0gJCgnLnNoZWFkZXIgPiAuZGF0YSA+IC5leHRyYSA+IHNwYW4uY291bnRyeScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8uZHVyYXRpb24gPSAkKCcuc2hlYWRlciA+IC5kYXRhID4gLmV4dHJhID4gc3Bhbi5ydW50aW1lJykudGV4dCgpO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby5yYXRpbmcgPSBwYXJzZUZsb2F0KCQoJy5zdGFyc3RydWNrLXJhdGluZyBzcGFuLmR0X3JhdGluZ192Z3NbaXRlbXByb3A9XCJyYXRpbmdWYWx1ZVwiXScpLnRleHQoKSk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLnJlY29tbWVuZGF0aW9ucyA9IHJlY29tbWVuZGF0aW9uc0FycmF5O1xuICAgICAgICAgICAgICAgIGlmIChtb3ZpZUluZm8udHlwZSA9PT0gbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmllSW5mby5lcGlzb2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAkKCcjc2Vhc29ucyAuc2UtYycpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWFzb25OdW1iZXIgPSBwYXJzZUludCgkKGVsKS5maW5kKCcuc2UtdCcpLnRleHQoKS50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChlbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmVwaXNvZGlvcyBsaScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVhY2goKGosIGVwKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVwaXNvZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5lcGlzb2Rpb3RpdGxlIGEnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcGxhY2UoL15odHRwcz86XFwvXFwvW14vXStcXC8vLCAnJykucmVwbGFjZSgvXlxcL3xcXC8kL2csICcnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uOiBzZWFzb25OdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcjogcGFyc2VJbnQoJChlcCkuZmluZCgnLm51bWVyYW5kbycpLnRleHQoKS50cmltKCkuc3BsaXQoJy0nKVsxXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVwKS5maW5kKCcuZXBpc29kaW90aXRsZSBhJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAoX2MgPSAoX2IgPSAkKGVwKS5maW5kKCcuZXBpc29kaW90aXRsZSBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudHJpbSgpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IFN0cmluZyhuZXcgRGF0ZSgkKGVwKS5maW5kKCcuZXBpc29kaW90aXRsZSAuZGF0ZScpLnRleHQoKS50cmltKCkpLmdldEZ1bGxZZWFyKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogKF9lID0gKF9kID0gJChlcCkuZmluZCgnLmltYWdlbiBpbWcnKS5hdHRyKCdkYXRhLXNyYycpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudHJpbSgpKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiAoX2YgPSAkKGVwKS5maW5kKCcuaW1hZ2VuIGltZycpLmF0dHIoJ3NyYycpKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9nID0gbW92aWVJbmZvLmVwaXNvZGVzKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cucHVzaChlcGlzb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmllSW5mby5lcGlzb2RlcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbW92aWVJbmZvLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBtb3ZpZUluZm8udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBtb3ZpZUluZm8udXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBtb3ZpZUluZm8uY292ZXIgfHwgbW92aWVJbmZvLmltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vdmllSW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGVwaXNvZGVJZCBlcGlzb2RlIGlkXG4gICAgICAgICAqIEBwYXJhbSBtZWRpYSBtZWRpYSBpZFxuICAgICAgICAgKiBAcGFyYW0gc2VydmVyIHNlcnZlciB0eXBlIChkZWZhdWx0IGBTdHJlYW1XaXNoYCkgKG9wdGlvbmFsKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzID0gYXN5bmMgKGVwaXNvZGVJZCwgbWVkaWFJZCwgLy9qdXN0IHBsYWNlaG9sZGVyIGZvciBjb21wYXRpYmlsaXR5IHdpdGggdG1kYlxuICAgICAgICBzZXJ2ZXIgPSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlN0cmVhbVdpc2gsIGZpbGVJZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGVwaXNvZGVJZC5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJVcmwgPSBuZXcgVVJMKGVwaXNvZGVJZCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLk1peERyb3A6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLmhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBhd2FpdCBuZXcgZXh0cmFjdG9yc18xLk1peERyb3AodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWQ6IGZpbGVJZCA/IGBodHRwczovL2dkbWlycm9yYm90Lm5sL2ZpbGUvJHtmaWxlSWR9YCA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlN0cmVhbVdpc2g6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLmhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5TdHJlYW1XaXNoKHRoaXMucHJveHlDb25maWcsIHRoaXMuYWRhcHRlcikuZXh0cmFjdChzZXJ2ZXJVcmwpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZDogZmlsZUlkID8gYGh0dHBzOi8vZ2RtaXJyb3Jib3QubmwvZmlsZS8ke2ZpbGVJZH1gIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuU3RyZWFtVGFwZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwuaHJlZiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuU3RyZWFtVGFwZSh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc2VydmVyVXJsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZDogZmlsZUlkID8gYGh0dHBzOi8vZ2RtaXJyb3Jib3QubmwvZmlsZS8ke2ZpbGVJZH1gIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuVmlkSGlkZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiBzZXJ2ZXJVcmwuaHJlZiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuVmlkSGlkZSh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc2VydmVyVXJsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZDogZmlsZUlkID8gYGh0dHBzOi8vZ2RtaXJyb3Jib3QubmwvZmlsZS8ke2ZpbGVJZH1gIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IHNlcnZlclVybC5ocmVmIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuU3RyZWFtV2lzaCh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc2VydmVyVXJsKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWQ6IGZpbGVJZCA/IGBodHRwczovL2dkbWlycm9yYm90Lm5sL2ZpbGUvJHtmaWxlSWR9YCA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlcnMgPSBhd2FpdCB0aGlzLmZldGNoRXBpc29kZVNlcnZlcnMoZXBpc29kZUlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpID0gc2VydmVycy5maW5kSW5kZXgocyA9PiBzLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gc2VydmVyLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciAke3NlcnZlcn0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlclVybCA9IG5ldyBVUkwoc2VydmVyc1tpXS51cmwpO1xuICAgICAgICAgICAgICAgIGxldCBmaWxlSWQgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAoIWVwaXNvZGVJZC5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBmaWxlSWQ6IGlkIH0gPSBhd2FpdCB0aGlzLmdldFNlcnZlcihgJHt0aGlzLmJhc2VVcmx9LyR7ZXBpc29kZUlkfWApO1xuICAgICAgICAgICAgICAgICAgICBmaWxlSWQgPSBpZCAhPT0gbnVsbCAmJiBpZCAhPT0gdm9pZCAwID8gaWQgOiAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZmlsZUlkIHRvIGJlIHVzZWQgZm9yIGRvd25sb2FkIGxpbmtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzKHNlcnZlclVybC5ocmVmLCBtZWRpYUlkLCBzZXJ2ZXIsIGZpbGVJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgdGFrZXMgZXBpc29kZSBsaW5rIG9yIG1vdmllIGlkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNlcnZlcnMgPSBhc3luYyAoZXBpc29kZUlkKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVwaXNvZGVJZC5zdGFydHNXaXRoKHRoaXMuYmFzZVVybCkpIHtcbiAgICAgICAgICAgICAgICBlcGlzb2RlSWQgPSBgJHt0aGlzLmJhc2VVcmx9LyR7ZXBpc29kZUlkfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2VydmVycyB9ID0gYXdhaXQgdGhpcy5nZXRTZXJ2ZXIoZXBpc29kZUlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VydmVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoUG9wdWxhciA9IGFzeW5jIChwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vdHJlbmRpbmcvcGFnZS8ke3BhZ2V9L2ApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hdlNlbGVjdG9yID0gJ2Rpdi5wYWdpbmF0aW9uJztcbiAgICAgICAgICAgICAgICByZXN1bHQuaGFzTmV4dFBhZ2UgPSAkKG5hdlNlbGVjdG9yKS5maW5kKCcjbmV4dHBhZ2luYXRpb24nKS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgICQoJy5pdGVtcyA+IGFydGljbGUnKVxuICAgICAgICAgICAgICAgICAgICAuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0SXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAkKGVsKS5hdHRyKCdpZCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5kYXRhID4gaDMnKS50ZXh0KCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKGVsKS5maW5kKCdkaXYucG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX2IgPSAkKGVsKS5maW5kKCdkaXYucG9zdGVyID4gaW1nJykuYXR0cignZGF0YS1zcmMnKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAoKF9jID0gJChlbCkuZmluZCgnZGl2LnBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5pbmNsdWRlcygnL21vdmllcy8nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLlR2VHlwZS5NT1ZJRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAoX2QgPSAkKGVsKS5maW5kKCdkaXYucG9zdGVyID4gZGl2LnJhdGluZycpLnRleHQoKSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogKF9lID0gJChlbCkuZmluZCgnZGl2LmRhdGEgPiBzcGFuJykudGV4dCgpKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlc3VsdHMucHVzaChyZXN1bHRJdGVtKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQnlHZW5yZSA9IGFzeW5jIChnZW5yZSwgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2dlbnJlLyR7Z2VucmV9L3BhZ2UvJHtwYWdlfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hdlNlbGVjdG9yID0gJ2Rpdi5wYWdpbmF0aW9uJztcbiAgICAgICAgICAgICAgICByZXN1bHQuaGFzTmV4dFBhZ2UgPSAkKG5hdlNlbGVjdG9yKS5maW5kKCcjbmV4dHBhZ2luYXRpb24nKS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgICQoJy5pdGVtcyA+IGFydGljbGUnKVxuICAgICAgICAgICAgICAgICAgICAuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0SXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAkKGVsKS5hdHRyKCdpZCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5kYXRhID4gaDMnKS50ZXh0KCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKGVsKS5maW5kKCdkaXYucG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAoX2IgPSAkKGVsKS5maW5kKCdkaXYucG9zdGVyID4gaW1nJykuYXR0cignZGF0YS1zcmMnKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAoKF9jID0gJChlbCkuZmluZCgnZGl2LnBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5pbmNsdWRlcygnL21vdmllcy8nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLlR2VHlwZS5NT1ZJRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAoX2QgPSAkKGVsKS5maW5kKCdkaXYucG9zdGVyID4gZGl2LnJhdGluZycpLnRleHQoKSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogKF9lID0gJChlbCkuZmluZCgnZGl2LmRhdGEgPiBzcGFuJykudGV4dCgpKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlc3VsdHMucHVzaChyZXN1bHRJdGVtKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoY3VzdG9tQmFzZVVSTCkge1xuICAgICAgICAgICAgaWYgKGN1c3RvbUJhc2VVUkwuc3RhcnRzV2l0aCgnaHR0cDovLycpIHx8IGN1c3RvbUJhc2VVUkwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVVybCA9IGN1c3RvbUJhc2VVUkw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VVcmwgPSBgaHR0cDovLyR7Y3VzdG9tQmFzZVVSTH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iYXNlVXJsID0gdGhpcy5iYXNlVXJsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGdldFNlcnZlcih1cmwpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHVybCk7XG4gICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgcGxheWVyIGNvbmZpZ1xuICAgICAgICAgICAgY29uc3QgcGxheWVyQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgIHBvc3RJZDogJCgnI3BsYXllci1vcHRpb24tMScpLmF0dHIoJ2RhdGEtcG9zdCcpLFxuICAgICAgICAgICAgICAgIG51bWU6ICQoJyNwbGF5ZXItb3B0aW9uLTEnKS5hdHRyKCdkYXRhLW51bWUnKSxcbiAgICAgICAgICAgICAgICB0eXBlOiAkKCcjcGxheWVyLW9wdGlvbi0xJykuYXR0cignZGF0YS10eXBlJyksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCFwbGF5ZXJDb25maWcucG9zdElkIHx8ICFwbGF5ZXJDb25maWcubnVtZSB8fCAhcGxheWVyQ29uZmlnLnR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcGxheWVyIGNvbmZpZ3VyYXRpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FjdGlvbicsICdkb29fcGxheWVyX2FqYXgnKTtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncG9zdCcsIHBsYXllckNvbmZpZy5wb3N0SWQpO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdudW1lJywgcGxheWVyQ29uZmlnLm51bWUpO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0eXBlJywgcGxheWVyQ29uZmlnLnR5cGUpO1xuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBsYXllclJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LnBvc3QoYCR7dGhpcy5iYXNlVXJsfS93cC1hZG1pbi9hZG1pbi1hamF4LnBocGAsIGZvcm1EYXRhLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgaWZyYW1lVXJsID0gKChfYyA9IChfYiA9IChfYSA9IHBsYXllclJlcy5kYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW1iZWRfdXJsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWF0Y2goLzxpZnJhbWVbXj5dK3NyYz1cIihbXlwiXSspXCJbXj5dKj4vaSkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1sxXSkgfHxcbiAgICAgICAgICAgICAgICAoKF9kID0gcGxheWVyUmVzLmRhdGEpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5lbWJlZF91cmwpO1xuICAgICAgICAgICAgLy8gSGFuZGxlIG5vbi1tdWx0aW1vdmllcyBjYXNlXG4gICAgICAgICAgICBpZiAoIWlmcmFtZVVybC5pbmNsdWRlcygnbXVsdGltb3ZpZXMnKSkge1xuICAgICAgICAgICAgICAgIGxldCBwbGF5ZXJCYXNlVXJsID0gaWZyYW1lVXJsLnNwbGl0KCcvJykuc2xpY2UoMCwgMykuam9pbignLycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZGlyZWN0UmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5oZWFkKHBsYXllckJhc2VVcmwsIHsgaGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgYmFzZSBVUkwgaWYgcmVkaXJlY3Qgb2NjdXJyZWRcbiAgICAgICAgICAgICAgICBpZiAocmVkaXJlY3RSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJCYXNlVXJsID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0UmVzcG9uc2UucmVxdWVzdC5fcmVkaXJlY3RhYmxlLl9vcHRpb25zLmhyZWYuc3BsaXQoJy8nKS5zbGljZSgwLCAzKS5qb2luKCcvJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFJlc3BvbnNlLnJlcXVlc3QucmVzLnJlc3BvbnNlVVJMLnNwbGl0KCcvJykuc2xpY2UoMCwgMykuam9pbignLycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlSWQgPSBpZnJhbWVVcmwuc3BsaXQoJy8nKS5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGVJZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHBsYXllciBJRCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW1SZXF1ZXN0RGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICAgICAgICAgIHN0cmVhbVJlcXVlc3REYXRhLmFwcGVuZCgnc2lkJywgZmlsZUlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW1SZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LnBvc3QoYCR7cGxheWVyQmFzZVVybH0vZW1iZWRoZWxwZXIucGhwYCwgc3RyZWFtUmVxdWVzdERhdGEsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0cmVhbVJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzdHJlYW0gZGF0YSBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW1EZXRhaWxzID0gc3RyZWFtUmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBtcmVzdWx0S2V5cyA9IG5ldyBTZXQoT2JqZWN0LmtleXMoc3RyZWFtRGV0YWlscy5tcmVzdWx0KSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l0ZVVybHNLZXlzID0gbmV3IFNldChPYmplY3Qua2V5cyhzdHJlYW1EZXRhaWxzLnNpdGVVcmxzKSk7XG4gICAgICAgICAgICAgICAgLy8gRmluZCBjb21tb24ga2V5c1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1vbktleXMgPSBbLi4ubXJlc3VsdEtleXNdLmZpbHRlcihrZXkgPT4gc2l0ZVVybHNLZXlzLmhhcyhrZXkpKTtcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRvIGEgU2V0IChpZiBuZWVkZWQpXG4gICAgICAgICAgICAgICAgY29uc3QgY29tbW9uU3RyZWFtU2l0ZXMgPSBuZXcgU2V0KGNvbW1vbktleXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlcnMgPSBBcnJheS5mcm9tKGNvbW1vblN0cmVhbVNpdGVzKS5tYXAoc2l0ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzdHJlYW1EZXRhaWxzLnNpdGVGcmllbmRseU5hbWVzW3NpdGVdID09PSAnU3RyZWFtSEcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnU3RyZWFtV2lzaCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHN0cmVhbURldGFpbHMuc2l0ZUZyaWVuZGx5TmFtZXNbc2l0ZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHN0cmVhbURldGFpbHMuc2l0ZVVybHNbc2l0ZV0gKyBzdHJlYW1EZXRhaWxzLm1yZXN1bHRbc2l0ZV0sXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc2VydmVycywgZmlsZUlkIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL0BEdXJnZXNoXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyczogW3sgbmFtZTogJ1N0cmVhbVdpc2gnLCB1cmw6IGlmcmFtZVVybCB9XSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZUlkOiAoX2UgPSBpZnJhbWVVcmwuc3BsaXQoJy8nKS5wb3AoKSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogJycsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gKGFzeW5jICgpID0+IHtcbi8vICAgY29uc3QgbW92aWUgPSBuZXcgTXVsdGlNb3ZpZXMoKTtcbi8vICAgY29uc3Qgc2VhcmNoID0gYXdhaXQgbW92aWUuc2VhcmNoKCdqdWp1dHN1Jyk7XG4vLyAgIGNvbnN0IG1vdmllSW5mbyA9IGF3YWl0IG1vdmllLmZldGNoRXBpc29kZVNvdXJjZXMoc2VhcmNoLnJlc3VsdHNbMF0/LmlkKTtcbi8vICAgY29uc3Qgc2VydmVyID0gYXdhaXQgbW92aWUuZmV0Y2hFcGlzb2RlU2VydmVycyhzZWFyY2gucmVzdWx0c1swXT8uaWQpO1xuLy8gICAvLyBjb25zdCByZWNlbnRUdiA9IGF3YWl0IG1vdmllLmZldGNoUG9wdWxhcigpO1xuLy8gICAvLyBjb25zdCBnZW5yZSA9IGF3YWl0IG1vdmllLmZldGNoQnlHZW5yZSgnYWN0aW9uJyk7XG4vLyAgIGNvbnNvbGUubG9nKG1vdmllSW5mbyxzZXJ2ZXIpO1xuLy8gfSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE11bHRpTW92aWVzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXVsdGltb3ZpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/multimovies.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/netflixmirror.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/movies/netflixmirror.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass NetflixMirror extends models_1.MovieParser {\n    constructor(customBaseURL) {\n        super(...arguments);\n        this.name = 'NetflixMirror';\n        this.baseUrl = 'https://netfree2.cc';\n        this.logo = 'https://netfree2.cc//mobile/img/nf2/icon_x192.png';\n        this.classPath = 'MOVIES.NetflixMirror';\n        this.supportedTypes = new Set([models_1.TvType.MOVIE, models_1.TvType.TVSERIES]);\n        this.nfCookie = 'hd=on;';\n        /**\n         *\n         * @param query search query string\n         * @param page page number (default 1) (optional)\n         */\n        this.search = async (query, page = 1) => {\n            const searchResult = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(`https://netmirror.8man.me/api/net-proxy?isPrime=false&url=${this.baseUrl}/mobile/search.php?s=${encodeURI(query)}`, {\n                    headers: this.Headers(),\n                });\n                const basicResults = data.searchResult || [];\n                if (basicResults.length === 0) {\n                    return searchResult;\n                }\n                const detailedResults = await Promise.all(basicResults.map(async (item) => {\n                    var _a, _b;\n                    try {\n                        // Fetch additional details for each item\n                        const detailResponse = await this.client.get(`https://netmirror.8man.me/api/net-proxy?isPrime=false&url=${this.baseUrl}/mobile/post.php?id=${item.id}`, {\n                            headers: this.Headers(),\n                        });\n                        return {\n                            id: item.id,\n                            title: item.t,\n                            image: `https://imgcdn.media/poster/v/${item.id}.jpg`,\n                            type: detailResponse.data.type === 't' ? models_1.TvType.TVSERIES : models_1.TvType.MOVIE,\n                            releaseDate: detailResponse.data.year,\n                            seasons: (_b = (_a = detailResponse.data.season) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : undefined,\n                        };\n                    }\n                    catch (error) {\n                        // If we can't fetch details, just return the basic info\n                        console.error(`Error fetching details for ${item.id}:`, error);\n                        return {\n                            id: item.id,\n                            title: item.t,\n                            image: `https://imgcdn.media/poster/v/${item.id}.jpg`,\n                        };\n                    }\n                }));\n                searchResult.results = detailedResults;\n                return searchResult;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param mediaId media link or id\n         */\n        this.fetchMediaInfo = async (mediaId) => {\n            var _a, _b, _c, _d;\n            const movieInfo = {\n                id: mediaId,\n                title: '',\n            };\n            try {\n                const { data } = await this.client.get(`https://netmirror.8man.me/api/net-proxy?isPrime=false&url=${this.baseUrl}/mobile/post.php?id=${mediaId}`, {\n                    headers: this.Headers(),\n                });\n                movieInfo.cover = `https://imgcdn.media/poster/h/${mediaId}.jpg`;\n                movieInfo.title = data.title;\n                movieInfo.image = `https://imgcdn.media/poster/v/${mediaId}.jpg`;\n                movieInfo.description = (_b = (_a = data.desc) === null || _a === void 0 ? void 0 : _a.trim()) !== null && _b !== void 0 ? _b : '';\n                movieInfo.type = data.type === 't' ? models_1.TvType.TVSERIES : models_1.TvType.MOVIE;\n                movieInfo.releaseDate = data.year;\n                movieInfo.genres = (_d = (_c = data.genre) === null || _c === void 0 ? void 0 : _c.split(',').map((genre) => genre === null || genre === void 0 ? void 0 : genre.trim())) !== null && _d !== void 0 ? _d : [];\n                movieInfo.duration = data.runtime;\n                if (movieInfo.type === models_1.TvType.TVSERIES) {\n                    movieInfo.episodes = await this.fetchAllEpisodesOrdered(data.season, mediaId);\n                }\n                else {\n                    movieInfo.episodes = [\n                        {\n                            id: mediaId,\n                            title: data.title,\n                            image: movieInfo.cover || movieInfo.image,\n                        },\n                    ];\n                }\n                return movieInfo;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId episode id\n         * @param media media id\n         */\n        this.fetchEpisodeSources = async (episodeId, mediaId //just placeholder for compatibility with tmdb\n        ) => {\n            var _a, _b;\n            try {\n                if (!this.nfCookie) {\n                    await this.initCookie();\n                }\n                const { data } = await this.client.get(`https://netmirror.8man.me/api/net-proxy?isPrime=false&url=${this.baseUrl}/mobile/playlist.php?id=${episodeId}`, {\n                    headers: this.Headers(),\n                });\n                const sources = {\n                    sources: [],\n                    subtitles: [],\n                };\n                (_a = data[0].sources) === null || _a === void 0 ? void 0 : _a.map((source) => {\n                    var _a;\n                    sources.sources.push({\n                        url: `${this.baseUrl}${source.file.replace(/%3A%3Asu/g, '%3A%3Ani').replace(/::su/g, '::ni')}`,\n                        quality: source.label === 'Auto' ? source.label.toLowerCase() : (_a = source.file.match(/[?&]q=([^&]+)/)) === null || _a === void 0 ? void 0 : _a[1],\n                        isM3U8: source.file.includes('.m3u8'),\n                    });\n                });\n                (_b = data[0].tracks) === null || _b === void 0 ? void 0 : _b.map((subtitle) => {\n                    sources.subtitles = sources.subtitles || [];\n                    sources.subtitles.push({\n                        url: `https:${subtitle.file}`,\n                        lang: subtitle.label,\n                    });\n                });\n                return sources;\n            }\n            catch (error) {\n                throw new Error(error.message);\n            }\n        };\n        /**\n         * @deprecated method not implemented\n         * @param episodeId takes episode link or movie id\n         */\n        this.fetchEpisodeServers = async (episodeId) => {\n            throw new Error('Method not implemented.');\n        };\n        if (customBaseURL) {\n            if (customBaseURL.startsWith('http://') || customBaseURL.startsWith('https://')) {\n                this.baseUrl = customBaseURL;\n            }\n            else {\n                this.baseUrl = `http://${customBaseURL}`;\n            }\n        }\n        else {\n            this.baseUrl = this.baseUrl;\n        }\n        this.initCookie();\n    }\n    async initCookie() {\n        try {\n            const { data } = await this.client.get('https://raw.githubusercontent.com/2004durgesh/nfmirror-cookies/refs/heads/main/captured-cookies.json');\n            for (const cookie of data.cookiesByDomain['.netfree2.cc']) {\n                this.nfCookie += `${cookie.name}=${cookie.value.replace('%3A%3Asu', '%3A%3Ani')};`;\n            }\n        }\n        catch (err) {\n            console.error('Failed to get cookie:', err);\n        }\n    }\n    Headers() {\n        const headers = {\n            authority: 'netfree2.cc',\n            accept: 'application/json, text/javascript, */*; q=0.01',\n            'sec-ch-ua': '\"Not A(Brand\";v=\"99\", \"Microsoft Edge\";v=\"121\", \"Chromium\";v=\"121\"',\n            'sec-ch-ua-mobile': '?0',\n            'sec-ch-ua-platform': '\"Windows\"',\n            'sec-fetch-dest': 'empty',\n            'sec-fetch-mode': 'cors',\n            'sec-fetch-site': 'same-origin',\n            'x-requested-with': 'XMLHttpRequest',\n            Referer: `${this.baseUrl}/mobile/home`,\n            'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36',\n        };\n        if (this.nfCookie) {\n            headers.Cookie = this.nfCookie || '';\n        }\n        return headers;\n    }\n    async fetchAllEpisodesForSeason(seasonId, seriesId) {\n        var _a;\n        let page = 1;\n        let episodes = [];\n        while (true) {\n            const url = `https://netfree2.cc/mobile/episodes.php?s=${seasonId}&series=${seriesId}&page=${page}`;\n            const { data } = await this.client.get(url);\n            if ((_a = data.episodes) === null || _a === void 0 ? void 0 : _a.length) {\n                episodes.push(...data.episodes.map((episode) => ({\n                    id: episode.id,\n                    title: episode.t,\n                    season: parseInt(String(episode.s).replace('S', '')),\n                    number: parseInt(String(episode.ep).replace('E', '')),\n                    image: `https://imgcdn.media/epimg/150/${episode.id}.jpg`,\n                })));\n            }\n            if (data.nextPageShow !== 1)\n                break; // no more pages\n            page++;\n        }\n        return episodes;\n    }\n    async fetchAllEpisodesOrdered(seasons, seriesId) {\n        const allEpisodes = [];\n        for (const season of seasons.sort((a, b) => Number(a.s) - Number(b.s))) {\n            const seasonEpisodes = await this.fetchAllEpisodesForSeason(season.id, seriesId);\n            allEpisodes.push(...seasonEpisodes);\n        }\n        return allEpisodes;\n    }\n}\n// (async () => {\n//   const movie = new NetflixMirror();\n//   const search = await movie.search('one');\n//   // const movieInfo = await movie.fetchMediaInfo(search.results[0]?.id);\n//   // const sources = await movie.fetchEpisodeSources(movieInfo.episodes![0]?.id);\n//   //   const server = await movie.fetchEpisodeServers(search.results[0]?.id);\n//   // const recentTv = await movie.fetchPopular();\n//   // const genre = await movie.fetchByGenre('action');\n//   console.log(search);\n// })();\nexports[\"default\"] = NetflixMirror;\n//# sourceMappingURL=netflixmirror.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbW92aWVzL25ldGZsaXhtaXJyb3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTyxxRkFBcUYsYUFBYSx1QkFBdUIsaUJBQWlCO0FBQ3pLO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrSUFBa0ksYUFBYSxzQkFBc0IsUUFBUTtBQUM3SztBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsUUFBUTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxRQUFRO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxRQUFRO0FBQzVFO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8scUZBQXFGLGFBQWEsc0JBQXNCLFFBQVE7QUFDL0o7QUFDQSxpQkFBaUI7QUFDakIsbUVBQW1FLFFBQVE7QUFDM0U7QUFDQSxtRUFBbUUsUUFBUTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTyxxRkFBcUYsYUFBYSwwQkFBMEIsVUFBVTtBQUNySztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsc0VBQXNFO0FBQ3JIO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxjQUFjO0FBQ3BEO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsY0FBYztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBLG9DQUFvQyxZQUFZLEdBQUcsOENBQThDO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RCx3Q0FBd0MseUJBQXlCLG9CQUFvQjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsYUFBYTtBQUNyQyx5REFBeUQsT0FBTztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLFNBQVMsVUFBVSxTQUFTLFFBQVEsS0FBSztBQUM5RyxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsV0FBVztBQUN4RSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXG1vdmllc1xcbmV0ZmxpeG1pcnJvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNsYXNzIE5ldGZsaXhNaXJyb3IgZXh0ZW5kcyBtb2RlbHNfMS5Nb3ZpZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoY3VzdG9tQmFzZVVSTCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTmV0ZmxpeE1pcnJvcic7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL25ldGZyZWUyLmNjJztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vbmV0ZnJlZTIuY2MvL21vYmlsZS9pbWcvbmYyL2ljb25feDE5Mi5wbmcnO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdNT1ZJRVMuTmV0ZmxpeE1pcnJvcic7XG4gICAgICAgIHRoaXMuc3VwcG9ydGVkVHlwZXMgPSBuZXcgU2V0KFttb2RlbHNfMS5UdlR5cGUuTU9WSUUsIG1vZGVsc18xLlR2VHlwZS5UVlNFUklFU10pO1xuICAgICAgICB0aGlzLm5mQ29va2llID0gJ2hkPW9uOyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgc2VhcmNoIHF1ZXJ5IHN0cmluZ1xuICAgICAgICAgKiBAcGFyYW0gcGFnZSBwYWdlIG51bWJlciAoZGVmYXVsdCAxKSAob3B0aW9uYWwpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGFzeW5jIChxdWVyeSwgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgaHR0cHM6Ly9uZXRtaXJyb3IuOG1hbi5tZS9hcGkvbmV0LXByb3h5P2lzUHJpbWU9ZmFsc2UmdXJsPSR7dGhpcy5iYXNlVXJsfS9tb2JpbGUvc2VhcmNoLnBocD9zPSR7ZW5jb2RlVVJJKHF1ZXJ5KX1gLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuSGVhZGVycygpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2ljUmVzdWx0cyA9IGRhdGEuc2VhcmNoUmVzdWx0IHx8IFtdO1xuICAgICAgICAgICAgICAgIGlmIChiYXNpY1Jlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWFyY2hSZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGRldGFpbGVkUmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKGJhc2ljUmVzdWx0cy5tYXAoYXN5bmMgKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZldGNoIGFkZGl0aW9uYWwgZGV0YWlscyBmb3IgZWFjaCBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXRhaWxSZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgaHR0cHM6Ly9uZXRtaXJyb3IuOG1hbi5tZS9hcGkvbmV0LXByb3h5P2lzUHJpbWU9ZmFsc2UmdXJsPSR7dGhpcy5iYXNlVXJsfS9tb2JpbGUvcG9zdC5waHA/aWQ9JHtpdGVtLmlkfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLkhlYWRlcnMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBgaHR0cHM6Ly9pbWdjZG4ubWVkaWEvcG9zdGVyL3YvJHtpdGVtLmlkfS5qcGdgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGRldGFpbFJlc3BvbnNlLmRhdGEudHlwZSA9PT0gJ3QnID8gbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTIDogbW9kZWxzXzEuVHZUeXBlLk1PVklFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VEYXRlOiBkZXRhaWxSZXNwb25zZS5kYXRhLnllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uczogKF9iID0gKF9hID0gZGV0YWlsUmVzcG9uc2UuZGF0YS5zZWFzb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBjYW4ndCBmZXRjaCBkZXRhaWxzLCBqdXN0IHJldHVybiB0aGUgYmFzaWMgaW5mb1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgZGV0YWlscyBmb3IgJHtpdGVtLmlkfTpgLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGBodHRwczovL2ltZ2Nkbi5tZWRpYS9wb3N0ZXIvdi8ke2l0ZW0uaWR9LmpwZ2AsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdC5yZXN1bHRzID0gZGV0YWlsZWRSZXN1bHRzO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWFyY2hSZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBtZWRpYUlkIG1lZGlhIGxpbmsgb3IgaWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hNZWRpYUluZm8gPSBhc3luYyAobWVkaWFJZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgY29uc3QgbW92aWVJbmZvID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZWRpYUlkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGBodHRwczovL25ldG1pcnJvci44bWFuLm1lL2FwaS9uZXQtcHJveHk/aXNQcmltZT1mYWxzZSZ1cmw9JHt0aGlzLmJhc2VVcmx9L21vYmlsZS9wb3N0LnBocD9pZD0ke21lZGlhSWR9YCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLkhlYWRlcnMoKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8uY292ZXIgPSBgaHR0cHM6Ly9pbWdjZG4ubWVkaWEvcG9zdGVyL2gvJHttZWRpYUlkfS5qcGdgO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby50aXRsZSA9IGRhdGEudGl0bGU7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmltYWdlID0gYGh0dHBzOi8vaW1nY2RuLm1lZGlhL3Bvc3Rlci92LyR7bWVkaWFJZH0uanBnYDtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8uZGVzY3JpcHRpb24gPSAoX2IgPSAoX2EgPSBkYXRhLmRlc2MpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50cmltKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby50eXBlID0gZGF0YS50eXBlID09PSAndCcgPyBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMgOiBtb2RlbHNfMS5UdlR5cGUuTU9WSUU7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLnJlbGVhc2VEYXRlID0gZGF0YS55ZWFyO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby5nZW5yZXMgPSAoX2QgPSAoX2MgPSBkYXRhLmdlbnJlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc3BsaXQoJywnKS5tYXAoKGdlbnJlKSA9PiBnZW5yZSA9PT0gbnVsbCB8fCBnZW5yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ2VucmUudHJpbSgpKSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogW107XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmR1cmF0aW9uID0gZGF0YS5ydW50aW1lO1xuICAgICAgICAgICAgICAgIGlmIChtb3ZpZUluZm8udHlwZSA9PT0gbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmllSW5mby5lcGlzb2RlcyA9IGF3YWl0IHRoaXMuZmV0Y2hBbGxFcGlzb2Rlc09yZGVyZWQoZGF0YS5zZWFzb24sIG1lZGlhSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbW92aWVJbmZvLmVwaXNvZGVzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtZWRpYUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBtb3ZpZUluZm8uY292ZXIgfHwgbW92aWVJbmZvLmltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vdmllSW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGVwaXNvZGVJZCBlcGlzb2RlIGlkXG4gICAgICAgICAqIEBwYXJhbSBtZWRpYSBtZWRpYSBpZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaEVwaXNvZGVTb3VyY2VzID0gYXN5bmMgKGVwaXNvZGVJZCwgbWVkaWFJZCAvL2p1c3QgcGxhY2Vob2xkZXIgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCB0bWRiXG4gICAgICAgICkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm5mQ29va2llKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdENvb2tpZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgaHR0cHM6Ly9uZXRtaXJyb3IuOG1hbi5tZS9hcGkvbmV0LXByb3h5P2lzUHJpbWU9ZmFsc2UmdXJsPSR7dGhpcy5iYXNlVXJsfS9tb2JpbGUvcGxheWxpc3QucGhwP2lkPSR7ZXBpc29kZUlkfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5IZWFkZXJzKCksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlczogW10sXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlczogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAoX2EgPSBkYXRhWzBdLnNvdXJjZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAoKHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXMuc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7c291cmNlLmZpbGUucmVwbGFjZSgvJTNBJTNBc3UvZywgJyUzQSUzQW5pJykucmVwbGFjZSgvOjpzdS9nLCAnOjpuaScpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5OiBzb3VyY2UubGFiZWwgPT09ICdBdXRvJyA/IHNvdXJjZS5sYWJlbC50b0xvd2VyQ2FzZSgpIDogKF9hID0gc291cmNlLmZpbGUubWF0Y2goL1s/Jl1xPShbXiZdKykvKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNM1U4OiBzb3VyY2UuZmlsZS5pbmNsdWRlcygnLm0zdTgnKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgKF9iID0gZGF0YVswXS50cmFja3MpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5tYXAoKHN1YnRpdGxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXMuc3VidGl0bGVzID0gc291cmNlcy5zdWJ0aXRsZXMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXMuc3VidGl0bGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgaHR0cHM6JHtzdWJ0aXRsZS5maWxlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5nOiBzdWJ0aXRsZS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBtZXRob2Qgbm90IGltcGxlbWVudGVkXG4gICAgICAgICAqIEBwYXJhbSBlcGlzb2RlSWQgdGFrZXMgZXBpc29kZSBsaW5rIG9yIG1vdmllIGlkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNlcnZlcnMgPSBhc3luYyAoZXBpc29kZUlkKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjdXN0b21CYXNlVVJMKSB7XG4gICAgICAgICAgICBpZiAoY3VzdG9tQmFzZVVSTC5zdGFydHNXaXRoKCdodHRwOi8vJykgfHwgY3VzdG9tQmFzZVVSTC5zdGFydHNXaXRoKCdodHRwczovLycpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVXJsID0gY3VzdG9tQmFzZVVSTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVVybCA9IGBodHRwOi8vJHtjdXN0b21CYXNlVVJMfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VVcmwgPSB0aGlzLmJhc2VVcmw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0Q29va2llKCk7XG4gICAgfVxuICAgIGFzeW5jIGluaXRDb29raWUoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLzIwMDRkdXJnZXNoL25mbWlycm9yLWNvb2tpZXMvcmVmcy9oZWFkcy9tYWluL2NhcHR1cmVkLWNvb2tpZXMuanNvbicpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjb29raWUgb2YgZGF0YS5jb29raWVzQnlEb21haW5bJy5uZXRmcmVlMi5jYyddKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZkNvb2tpZSArPSBgJHtjb29raWUubmFtZX09JHtjb29raWUudmFsdWUucmVwbGFjZSgnJTNBJTNBc3UnLCAnJTNBJTNBbmknKX07YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IGNvb2tpZTonLCBlcnIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEhlYWRlcnMoKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgICAgICBhdXRob3JpdHk6ICduZXRmcmVlMi5jYycsXG4gICAgICAgICAgICBhY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQsICovKjsgcT0wLjAxJyxcbiAgICAgICAgICAgICdzZWMtY2gtdWEnOiAnXCJOb3QgQShCcmFuZFwiO3Y9XCI5OVwiLCBcIk1pY3Jvc29mdCBFZGdlXCI7dj1cIjEyMVwiLCBcIkNocm9taXVtXCI7dj1cIjEyMVwiJyxcbiAgICAgICAgICAgICdzZWMtY2gtdWEtbW9iaWxlJzogJz8wJyxcbiAgICAgICAgICAgICdzZWMtY2gtdWEtcGxhdGZvcm0nOiAnXCJXaW5kb3dzXCInLFxuICAgICAgICAgICAgJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5JyxcbiAgICAgICAgICAgICdzZWMtZmV0Y2gtbW9kZSc6ICdjb3JzJyxcbiAgICAgICAgICAgICdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsXG4gICAgICAgICAgICAneC1yZXF1ZXN0ZWQtd2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsXG4gICAgICAgICAgICBSZWZlcmVyOiBgJHt0aGlzLmJhc2VVcmx9L21vYmlsZS9ob21lYCxcbiAgICAgICAgICAgICd1c2VyLWFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjMuMC4wLjAgU2FmYXJpLzUzNy4zNicsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLm5mQ29va2llKSB7XG4gICAgICAgICAgICBoZWFkZXJzLkNvb2tpZSA9IHRoaXMubmZDb29raWUgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgfVxuICAgIGFzeW5jIGZldGNoQWxsRXBpc29kZXNGb3JTZWFzb24oc2Vhc29uSWQsIHNlcmllc0lkKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IHBhZ2UgPSAxO1xuICAgICAgICBsZXQgZXBpc29kZXMgPSBbXTtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGBodHRwczovL25ldGZyZWUyLmNjL21vYmlsZS9lcGlzb2Rlcy5waHA/cz0ke3NlYXNvbklkfSZzZXJpZXM9JHtzZXJpZXNJZH0mcGFnZT0ke3BhZ2V9YDtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHVybCk7XG4gICAgICAgICAgICBpZiAoKF9hID0gZGF0YS5lcGlzb2RlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGVwaXNvZGVzLnB1c2goLi4uZGF0YS5lcGlzb2Rlcy5tYXAoKGVwaXNvZGUpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBlcGlzb2RlLmlkLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogZXBpc29kZS50LFxuICAgICAgICAgICAgICAgICAgICBzZWFzb246IHBhcnNlSW50KFN0cmluZyhlcGlzb2RlLnMpLnJlcGxhY2UoJ1MnLCAnJykpLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXI6IHBhcnNlSW50KFN0cmluZyhlcGlzb2RlLmVwKS5yZXBsYWNlKCdFJywgJycpKSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGBodHRwczovL2ltZ2Nkbi5tZWRpYS9lcGltZy8xNTAvJHtlcGlzb2RlLmlkfS5qcGdgLFxuICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5uZXh0UGFnZVNob3cgIT09IDEpXG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIG5vIG1vcmUgcGFnZXNcbiAgICAgICAgICAgIHBhZ2UrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXBpc29kZXM7XG4gICAgfVxuICAgIGFzeW5jIGZldGNoQWxsRXBpc29kZXNPcmRlcmVkKHNlYXNvbnMsIHNlcmllc0lkKSB7XG4gICAgICAgIGNvbnN0IGFsbEVwaXNvZGVzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgc2Vhc29uIG9mIHNlYXNvbnMuc29ydCgoYSwgYikgPT4gTnVtYmVyKGEucykgLSBOdW1iZXIoYi5zKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlYXNvbkVwaXNvZGVzID0gYXdhaXQgdGhpcy5mZXRjaEFsbEVwaXNvZGVzRm9yU2Vhc29uKHNlYXNvbi5pZCwgc2VyaWVzSWQpO1xuICAgICAgICAgICAgYWxsRXBpc29kZXMucHVzaCguLi5zZWFzb25FcGlzb2Rlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFsbEVwaXNvZGVzO1xuICAgIH1cbn1cbi8vIChhc3luYyAoKSA9PiB7XG4vLyAgIGNvbnN0IG1vdmllID0gbmV3IE5ldGZsaXhNaXJyb3IoKTtcbi8vICAgY29uc3Qgc2VhcmNoID0gYXdhaXQgbW92aWUuc2VhcmNoKCdvbmUnKTtcbi8vICAgLy8gY29uc3QgbW92aWVJbmZvID0gYXdhaXQgbW92aWUuZmV0Y2hNZWRpYUluZm8oc2VhcmNoLnJlc3VsdHNbMF0/LmlkKTtcbi8vICAgLy8gY29uc3Qgc291cmNlcyA9IGF3YWl0IG1vdmllLmZldGNoRXBpc29kZVNvdXJjZXMobW92aWVJbmZvLmVwaXNvZGVzIVswXT8uaWQpO1xuLy8gICAvLyAgIGNvbnN0IHNlcnZlciA9IGF3YWl0IG1vdmllLmZldGNoRXBpc29kZVNlcnZlcnMoc2VhcmNoLnJlc3VsdHNbMF0/LmlkKTtcbi8vICAgLy8gY29uc3QgcmVjZW50VHYgPSBhd2FpdCBtb3ZpZS5mZXRjaFBvcHVsYXIoKTtcbi8vICAgLy8gY29uc3QgZ2VucmUgPSBhd2FpdCBtb3ZpZS5mZXRjaEJ5R2VucmUoJ2FjdGlvbicpO1xuLy8gICBjb25zb2xlLmxvZyhzZWFyY2gpO1xuLy8gfSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE5ldGZsaXhNaXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uZXRmbGl4bWlycm9yLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/netflixmirror.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/sflix.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/movies/sflix.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nclass SFlix extends models_1.MovieParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'SFlix';\n        this.baseUrl = 'https://sflix.to';\n        this.logo = 'https://img.sflix.to/xxrz/100x100/100/a2/33/a233d4c4a1426ca77ec1d34deec62f71/a233d4c4a1426ca77ec1d34deec62f71.png';\n        this.classPath = 'MOVIES.SFlix';\n        this.supportedTypes = new Set([models_1.TvType.MOVIE, models_1.TvType.TVSERIES]);\n        /**\n         *\n         * @param query search query string\n         * @param page page number (default 1) (optional)\n         */\n        this.search = async (query, page = 1) => {\n            const searchResult = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/search/${query.replace(/[\\W_]+/g, '-')}?page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                const navSelector = 'div.pre-pagination:nth-child(3) > nav:nth-child(1) > ul:nth-child(1)';\n                searchResult.hasNextPage =\n                    $(navSelector).length > 0 ? !$(navSelector).children().last().hasClass('active') : false;\n                $('.film_list-wrap > div.flw-item').each((i, el) => {\n                    var _a;\n                    const releaseDate = $(el).find('div.film-detail > div.fd-infor > span:nth-child(1)').text();\n                    searchResult.results.push({\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('div.film-detail > h2 > a').attr('title'),\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                        seasons: releaseDate.includes('SS') ? parseInt(releaseDate.split('SS')[1]) : undefined,\n                        type: $(el).find('div.film-detail > div.fd-infor > span:nth-child(2)').text() === 'Movie'\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    });\n                });\n                return searchResult;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param mediaId media link or id\n         */\n        this.fetchMediaInfo = async (mediaId) => {\n            var _a;\n            if (!mediaId.startsWith(this.baseUrl)) {\n                mediaId = `${this.baseUrl}/${mediaId}`;\n            }\n            const movieInfo = {\n                id: mediaId.split('to/').pop(),\n                title: '',\n                url: mediaId,\n            };\n            try {\n                const { data } = await this.client.get(mediaId);\n                const $ = (0, cheerio_1.load)(data);\n                const recommendationsArray = [];\n                $('div.container > section.block_area > div.block_area-content > div.film_list-wrap > div.flw-item').each((i, el) => {\n                    var _a, _b, _c;\n                    recommendationsArray.push({\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('div.film-detail > h3.film-name > a').text(),\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        duration: (_b = $(el).find('div.film-detail > div.fd-infor > span.fdi-duration').text().replace('m', '')) !== null && _b !== void 0 ? _b : null,\n                        type: $(el).find('div.film-detail > div.fd-infor > span.fdi-item').eq(1).text().trim().toLowerCase() ===\n                            'tv'\n                            ? models_1.TvType.TVSERIES\n                            : (_c = models_1.TvType.MOVIE) !== null && _c !== void 0 ? _c : null,\n                    });\n                });\n                const uid = $('.detail_page-watch').attr('data-id');\n                movieInfo.cover = (_a = $('.cover_follow').attr('style')) === null || _a === void 0 ? void 0 : _a.slice(22).replace(')', '').replace(';', '');\n                movieInfo.title = $('.heading-name > a:nth-child(1)').text();\n                movieInfo.image = $('.dp-i-c-poster > div:nth-child(1) > img:nth-child(1)').attr('src');\n                movieInfo.description = $('.description')\n                    .text()\n                    .replace(/^Overview:\\s*/i, '')\n                    .replace(/\\s+/g, ' ')\n                    .trim();\n                movieInfo.type = movieInfo.id.split('/')[0] === 'tv' ? models_1.TvType.TVSERIES : models_1.TvType.MOVIE;\n                movieInfo.releaseDate = $('div.row > div.col-xl-5 .row-line')\n                    .eq(0)\n                    .text()\n                    .replace('Released: ', '')\n                    .trim();\n                movieInfo.genres = $('div.row >div.col-xl-5 .row-line')\n                    .eq(1)\n                    .find('a')\n                    .map((i, el) => $(el).text().split('&'))\n                    .get()\n                    .map(v => v.trim());\n                movieInfo.casts = $('div.row > div.col-xl-5 .row-line')\n                    .eq(2)\n                    .find('a')\n                    .map((i, el) => $(el).text())\n                    .get();\n                movieInfo.tags = $('div.row-tags > h2')\n                    .map((i, el) => $(el).text().replace(/\\s+/g, ' ').trim())\n                    .get();\n                movieInfo.production = $('div.row > div.col-xl-6 .row-line')\n                    .eq(2)\n                    .find('a')\n                    .map((i, el) => $(el).text().trim())\n                    .get()\n                    .join(', ');\n                movieInfo.country = $('div.row > div.col-xl-6 .row-line').eq(1).find('a').text().trim();\n                movieInfo.duration = $('div.row > div.col-xl-6 .row-line')\n                    .eq(0)\n                    .text()\n                    .replace('Duration: ', '')\n                    .replace(/\\s+/g, ' ')\n                    .trim();\n                movieInfo.rating = parseFloat($('div.film-stats > div.fs-item > span.imdb').text().replace('IMDB: ', ''));\n                movieInfo.recommendations = recommendationsArray;\n                const ajaxReqUrl = (id, type, isSeasons = false) => `${this.baseUrl}/ajax/${type === 'movie' ? type : `v2/${type}`}/${isSeasons ? 'seasons' : 'episodes'}/${id}`;\n                if (movieInfo.type === models_1.TvType.TVSERIES) {\n                    const { data } = await this.client.get(ajaxReqUrl(uid, 'tv', true));\n                    const $$ = (0, cheerio_1.load)(data);\n                    const seasonsIds = $$('.dropdown-menu > a')\n                        .map((i, el) => $(el).attr('data-id'))\n                        .get();\n                    movieInfo.episodes = [];\n                    let season = 1;\n                    for (const id of seasonsIds) {\n                        const { data } = await this.client.get(ajaxReqUrl(id, 'season'));\n                        const $$$ = (0, cheerio_1.load)(data);\n                        $$$('.swiper-container > .swiper-wrapper > .swiper-slide')\n                            .map((i, el) => {\n                            var _a;\n                            const episode = {\n                                id: $$$(el).find('div.flw-item').attr('id').split('-')[1],\n                                image: $$$(el).find('div.flw-item > a > img').attr('src'),\n                                title: $$$(el).find('div.flw-item > a > img').attr('title'),\n                                number: parseInt($$$(el).find('div.flw-item > a > img').attr('title').split(':')[0].slice(8).trim()),\n                                season: season,\n                                url: `${this.baseUrl}/ajax/v2/episode/servers/${$$$(el).find('div.flw-item').attr('id').split('-')[1]}`,\n                            };\n                            (_a = movieInfo.episodes) === null || _a === void 0 ? void 0 : _a.push(episode);\n                        })\n                            .get();\n                        season++;\n                    }\n                }\n                else {\n                    movieInfo.episodes = [\n                        {\n                            id: uid,\n                            title: movieInfo.title,\n                            url: `${this.baseUrl}/ajax/movie/episodes/${uid}`,\n                        },\n                    ];\n                }\n                return movieInfo;\n            }\n            catch (err) {\n                console.log(err, 'err');\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId episode id\n         * @param mediaId media id\n         * @param server server type (default `VidCloud`) (optional)\n         */\n        this.fetchEpisodeSources = async (episodeId, mediaId, server = models_1.StreamingServers.UpCloud) => {\n            if (episodeId.startsWith('http')) {\n                const serverUrl = new URL(episodeId);\n                switch (server) {\n                    case models_1.StreamingServers.Voe:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new extractors_1.Voe(this.proxyConfig, this.adapter).extract(serverUrl)),\n                        };\n                    case models_1.StreamingServers.VidCloud:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new extractors_1.VidCloud(this.proxyConfig, this.adapter).extract(serverUrl, true)),\n                        };\n                    case models_1.StreamingServers.UpCloud:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            ...(await new extractors_1.VidCloud(this.proxyConfig, this.adapter).extract(serverUrl)),\n                        };\n                    default:\n                        return {\n                            headers: { Referer: serverUrl.href },\n                            sources: await new extractors_1.MixDrop(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                }\n            }\n            try {\n                const servers = await this.fetchEpisodeServers(episodeId, mediaId);\n                const i = servers.findIndex(s => s.name === server);\n                if (i === -1) {\n                    throw new Error(`Server ${server} not found`);\n                }\n                const { data } = await this.client.get(`${this.baseUrl}/ajax/get_link/${servers[i].url.split('.').slice(-1).shift()}`);\n                const serverUrl = new URL(data.link);\n                return await this.fetchEpisodeSources(serverUrl.href, mediaId, server);\n            }\n            catch (err) {\n                console.log(err, 'err');\n                throw new Error(err.message);\n            }\n        };\n        /**\n         *\n         * @param episodeId takes episode link or movie id\n         * @param mediaId takes movie link or id (found on movie info object)\n         */\n        this.fetchEpisodeServers = async (episodeId, mediaId) => {\n            if (!episodeId.startsWith(this.baseUrl + '/ajax') && !mediaId.includes('movie'))\n                episodeId = `${this.baseUrl}/ajax/v2/episode/servers/${episodeId}`;\n            else\n                episodeId = `${this.baseUrl}/ajax/movie/episodes/${episodeId}`;\n            try {\n                const { data } = await this.client.get(episodeId);\n                const $ = (0, cheerio_1.load)(data);\n                const servers = $('.ulclear > li')\n                    .map((i, el) => {\n                    const server = {\n                        name: mediaId.includes('movie')\n                            ? $(el).find('a').find('span').text().trim().toLowerCase()\n                            : $(el).find('a').find('span').text().trim().toLowerCase(),\n                        url: `${this.baseUrl}/${mediaId}.${!mediaId.includes('movie') ? $(el).find('a').attr('data-id') : $(el).find('a').attr('data-id')}`.replace(!mediaId.includes('movie') ? /\\/tv\\// : /\\/movie\\//, !mediaId.includes('movie') ? '/watch-tv/' : '/watch-movie/'),\n                    };\n                    return server;\n                })\n                    .get();\n                return servers;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchRecentMovies = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const movies = $('section.block_area:contains(\"Latest Movies\") > div:nth-child(2) > div:nth-child(1) > div.flw-item')\n                    .map((i, el) => {\n                    var _a;\n                    const releaseDate = $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text();\n                    const movie = {\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('div.film-detail > h3.film-name > a').attr('title'),\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                        rating: $(el).find('div.film-detail > div.fd-infor > span:nth-child(1)').text() || null,\n                        type: models_1.TvType.MOVIE,\n                    };\n                    return movie;\n                })\n                    .get();\n                return movies;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchRecentTvShows = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const tvshows = $('section.block_area:contains(\"Latest TV Shows\") > div:nth-child(2) > div:nth-child(1) > div.flw-item')\n                    .map((i, el) => {\n                    var _a;\n                    const tvshow = {\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('div.film-detail > h3.film-name > a').attr('title'),\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        season: $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text().split(':')[0] || null,\n                        latestEpisode: $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text().split(':')[1] || null,\n                        type: models_1.TvType.TVSERIES,\n                    };\n                    return tvshow;\n                })\n                    .get();\n                return tvshows;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchTrendingMovies = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const movies = $('div#trending-movies div.film_list-wrap div.flw-item')\n                    .map((i, el) => {\n                    var _a;\n                    const releaseDate = $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text();\n                    const movie = {\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('div.film-detail > h3.film-name > a').attr('title'),\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                        rating: $(el).find('div.film-detail > div.fd-infor > span:nth-child(1)').text() || null,\n                        type: models_1.TvType.MOVIE,\n                    };\n                    return movie;\n                })\n                    .get();\n                return movies;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchTrendingTvShows = async () => {\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                const tvshows = $('div#trending-tv div.film_list-wrap div.flw-item')\n                    .map((i, el) => {\n                    var _a;\n                    const tvshow = {\n                        id: (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('div.film-detail > h3.film-name > a').attr('title'),\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        season: $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text().split(':')[0] || null,\n                        latestEpisode: $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text().split(':')[1] || null,\n                        type: models_1.TvType.TVSERIES,\n                    };\n                    return tvshow;\n                })\n                    .get();\n                return tvshows;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchByCountry = async (country, page = 1) => {\n            const result = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            const navSelector = 'div.pre-pagination:nth-child(3) > nav:nth-child(1) > ul:nth-child(1)';\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/country/${country}/?page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                result.hasNextPage =\n                    $(navSelector).length > 0 ? !$(navSelector).children().last().hasClass('active') : false;\n                $('div.container > section.block_area > div.block_area-content > div.film_list-wrap > div.flw-item')\n                    .each((i, el) => {\n                    var _a, _b, _c, _d, _e, _f;\n                    const resultItem = {\n                        id: (_b = (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1)) !== null && _b !== void 0 ? _b : '',\n                        title: (_c = $(el).find('div.film-detail > h2.film-name > a').attr('title')) !== null && _c !== void 0 ? _c : '',\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        type: ((_d = $(el).find('div.film-poster > a').attr('href')) === null || _d === void 0 ? void 0 : _d.slice(1).split('/')[0].toLowerCase()) === 'movie'\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    const season = (_e = $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text().split(':')[0]) !== null && _e !== void 0 ? _e : null;\n                    const latestEpisode = (_f = $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text().split(':')[1]) !== null && _f !== void 0 ? _f : null;\n                    if (resultItem.type === models_1.TvType.TVSERIES) {\n                        resultItem.season = season;\n                        resultItem.latestEpisode = latestEpisode;\n                    }\n                    else {\n                        resultItem.rating = $(el).find('div.film-detail > div.fd-infor > span:nth-child(1)').text();\n                        resultItem.releaseDate = $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text();\n                    }\n                    result.results.push(resultItem);\n                })\n                    .get();\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchByGenre = async (genre, page = 1) => {\n            const result = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/genre/${genre}?page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                const navSelector = 'div.pre-pagination:nth-child(3) > nav:nth-child(1) > ul:nth-child(1)';\n                result.hasNextPage =\n                    $(navSelector).length > 0 ? !$(navSelector).children().last().hasClass('active') : false;\n                $('.film_list-wrap > div.flw-item')\n                    .each((i, el) => {\n                    var _a, _b, _c, _d, _e, _f;\n                    const resultItem = {\n                        id: (_b = (_a = $(el).find('div.film-poster > a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1)) !== null && _b !== void 0 ? _b : '',\n                        title: (_c = $(el).find('div.film-detail > h2.film-name > a').attr('title')) !== null && _c !== void 0 ? _c : '',\n                        url: `${this.baseUrl}${$(el).find('div.film-poster > a').attr('href')}`,\n                        image: $(el).find('div.film-poster > img').attr('data-src'),\n                        type: ((_d = $(el).find('div.film-poster > a').attr('href')) === null || _d === void 0 ? void 0 : _d.slice(1).split('/')[0].toLowerCase()) === 'movie'\n                            ? models_1.TvType.MOVIE\n                            : models_1.TvType.TVSERIES,\n                    };\n                    const season = (_e = $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text().split(':')[0]) !== null && _e !== void 0 ? _e : null;\n                    const latestEpisode = (_f = $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text().split(':')[1]) !== null && _f !== void 0 ? _f : null;\n                    if (resultItem.type === models_1.TvType.TVSERIES) {\n                        resultItem.season = season;\n                        resultItem.latestEpisode = latestEpisode;\n                    }\n                    else {\n                        resultItem.rating = $(el).find('div.film-detail > div.fd-infor > span:nth-child(1)').text();\n                        resultItem.releaseDate = $(el).find('div.film-detail > div.fd-infor > span:nth-child(3)').text();\n                    }\n                    result.results.push(resultItem);\n                })\n                    .get();\n                return result;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchSpotlight = async () => {\n            try {\n                const results = { results: [] };\n                const { data } = await this.client.get(`${this.baseUrl}/home`);\n                const $ = (0, cheerio_1.load)(data);\n                $('div.swiper-slide').each((i, el) => {\n                    var _a, _b;\n                    results.results.push({\n                        id: (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('a').attr('title'),\n                        url: `${this.baseUrl}${$(el).find('a').attr('href')}`,\n                        cover: $(el).find('div.slide-photo > a > img').attr('src'),\n                        rating: $(el).find('.scd-item:nth-child(1)').text().trim(),\n                        description: $(el).find('.sc-desc').text().trim(),\n                        type: ((_b = $(el).find('a').attr('href')) === null || _b === void 0 ? void 0 : _b.split('/')[1]) === 'movie' ? models_1.TvType.MOVIE : models_1.TvType.TVSERIES,\n                    });\n                });\n                return results;\n            }\n            catch (err) {\n                console.error(err);\n                throw new Error(err.message);\n            }\n        };\n    }\n}\n// (async () => {\n//      const movie = new SFlix();\n//     // const search = await movie.search('the flash');\n//     // const movieInfo = await movie.fetchEpisodeSources('1168337', 'tv/watch-vincenzo-67955');\n//     // const recentTv = await movie.fetchTrendingTvShows();\n//      const genre = await movie.fetchSpotlight()\n//      console.log(genre)\n//   })();\nexports[\"default\"] = SFlix;\n//# sourceMappingURL=sflix.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbW92aWVzL3NmbGl4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLG9FQUFTO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLDRGQUFrQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsVUFBVSw4QkFBOEIsUUFBUSxLQUFLO0FBQzVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSwrQ0FBK0M7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixhQUFhLEdBQUcsUUFBUTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBLHVKQUF1SjtBQUN2SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsYUFBYSxRQUFRLGdDQUFnQyxLQUFLLEVBQUUsR0FBRyxtQ0FBbUMsR0FBRyxHQUFHO0FBQy9LO0FBQ0EsNEJBQTRCLE9BQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsT0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxhQUFhLDJCQUEyQixzREFBc0Q7QUFDdEk7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsYUFBYSx1QkFBdUIsSUFBSTtBQUM1RSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHlCQUF5QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx5QkFBeUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMseUJBQXlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHlCQUF5QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFFBQVE7QUFDdEQ7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxpQkFBaUIsNENBQTRDO0FBQ3BJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixhQUFhLDJCQUEyQixVQUFVO0FBQ2pGO0FBQ0EsK0JBQStCLGFBQWEsdUJBQXVCLFVBQVU7QUFDN0U7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEdBQUcsUUFBUSxHQUFHLCtGQUErRjtBQUMxSjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLCtDQUErQztBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLCtDQUErQztBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsK0NBQStDO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsK0NBQStDO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxXQUFXLFFBQVEsU0FBUyxLQUFLO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsK0NBQStDO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTywyQkFBMkIsYUFBYSxTQUFTLE1BQU0sUUFBUSxLQUFLO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsRUFBRSwrQ0FBK0M7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLHdCQUF3QixPQUFPLDJCQUEyQixhQUFhO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsNkJBQTZCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXG1vdmllc1xcc2ZsaXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNvbnN0IGV4dHJhY3RvcnNfMSA9IHJlcXVpcmUoXCIuLi8uLi9leHRyYWN0b3JzXCIpO1xuY2xhc3MgU0ZsaXggZXh0ZW5kcyBtb2RlbHNfMS5Nb3ZpZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdTRmxpeCc7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL3NmbGl4LnRvJztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vaW1nLnNmbGl4LnRvL3h4cnovMTAweDEwMC8xMDAvYTIvMzMvYTIzM2Q0YzRhMTQyNmNhNzdlYzFkMzRkZWVjNjJmNzEvYTIzM2Q0YzRhMTQyNmNhNzdlYzFkMzRkZWVjNjJmNzEucG5nJztcbiAgICAgICAgdGhpcy5jbGFzc1BhdGggPSAnTU9WSUVTLlNGbGl4JztcbiAgICAgICAgdGhpcy5zdXBwb3J0ZWRUeXBlcyA9IG5ldyBTZXQoW21vZGVsc18xLlR2VHlwZS5NT1ZJRSwgbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTXSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgc2VhcmNoIHF1ZXJ5IHN0cmluZ1xuICAgICAgICAgKiBAcGFyYW0gcGFnZSBwYWdlIG51bWJlciAoZGVmYXVsdCAxKSAob3B0aW9uYWwpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGFzeW5jIChxdWVyeSwgcGFnZSA9IDEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICBoYXNOZXh0UGFnZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L3NlYXJjaC8ke3F1ZXJ5LnJlcGxhY2UoL1tcXFdfXSsvZywgJy0nKX0/cGFnZT0ke3BhZ2V9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmF2U2VsZWN0b3IgPSAnZGl2LnByZS1wYWdpbmF0aW9uOm50aC1jaGlsZCgzKSA+IG5hdjpudGgtY2hpbGQoMSkgPiB1bDpudGgtY2hpbGQoMSknO1xuICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdC5oYXNOZXh0UGFnZSA9XG4gICAgICAgICAgICAgICAgICAgICQobmF2U2VsZWN0b3IpLmxlbmd0aCA+IDAgPyAhJChuYXZTZWxlY3RvcikuY2hpbGRyZW4oKS5sYXN0KCkuaGFzQ2xhc3MoJ2FjdGl2ZScpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgJCgnLmZpbG1fbGlzdC13cmFwID4gZGl2LmZsdy1pdGVtJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxlYXNlRGF0ZSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDEpJykudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHQucmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gaDIgPiBhJykuYXR0cigndGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGltZycpLmF0dHIoJ2RhdGEtc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogaXNOYU4ocGFyc2VJbnQocmVsZWFzZURhdGUpKSA/IHVuZGVmaW5lZCA6IHJlbGVhc2VEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vhc29uczogcmVsZWFzZURhdGUuaW5jbHVkZXMoJ1NTJykgPyBwYXJzZUludChyZWxlYXNlRGF0ZS5zcGxpdCgnU1MnKVsxXSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuOm50aC1jaGlsZCgyKScpLnRleHQoKSA9PT0gJ01vdmllJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuVHZUeXBlLk1PVklFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWFyY2hSZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBtZWRpYUlkIG1lZGlhIGxpbmsgb3IgaWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hNZWRpYUluZm8gPSBhc3luYyAobWVkaWFJZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCFtZWRpYUlkLnN0YXJ0c1dpdGgodGhpcy5iYXNlVXJsKSkge1xuICAgICAgICAgICAgICAgIG1lZGlhSWQgPSBgJHt0aGlzLmJhc2VVcmx9LyR7bWVkaWFJZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbW92aWVJbmZvID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZWRpYUlkLnNwbGl0KCd0by8nKS5wb3AoKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgdXJsOiBtZWRpYUlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQobWVkaWFJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjb21tZW5kYXRpb25zQXJyYXkgPSBbXTtcbiAgICAgICAgICAgICAgICAkKCdkaXYuY29udGFpbmVyID4gc2VjdGlvbi5ibG9ja19hcmVhID4gZGl2LmJsb2NrX2FyZWEtY29udGVudCA+IGRpdi5maWxtX2xpc3Qtd3JhcCA+IGRpdi5mbHctaXRlbScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbnNBcnJheS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAoX2EgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2xpY2UoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gaDMuZmlsbS1uYW1lID4gYScpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBpbWcnKS5hdHRyKCdkYXRhLXNyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IChfYiA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW4uZmRpLWR1cmF0aW9uJykudGV4dCgpLnJlcGxhY2UoJ20nLCAnJykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuLmZkaS1pdGVtJykuZXEoMSkudGV4dCgpLnRyaW0oKS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0didcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFU1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKF9jID0gbW9kZWxzXzEuVHZUeXBlLk1PVklFKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB1aWQgPSAkKCcuZGV0YWlsX3BhZ2Utd2F0Y2gnKS5hdHRyKCdkYXRhLWlkJyk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmNvdmVyID0gKF9hID0gJCgnLmNvdmVyX2ZvbGxvdycpLmF0dHIoJ3N0eWxlJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgyMikucmVwbGFjZSgnKScsICcnKS5yZXBsYWNlKCc7JywgJycpO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby50aXRsZSA9ICQoJy5oZWFkaW5nLW5hbWUgPiBhOm50aC1jaGlsZCgxKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8uaW1hZ2UgPSAkKCcuZHAtaS1jLXBvc3RlciA+IGRpdjpudGgtY2hpbGQoMSkgPiBpbWc6bnRoLWNoaWxkKDEpJykuYXR0cignc3JjJyk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmRlc2NyaXB0aW9uID0gJCgnLmRlc2NyaXB0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXk92ZXJ2aWV3OlxccyovaSwgJycpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcbiAgICAgICAgICAgICAgICAgICAgLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8udHlwZSA9IG1vdmllSW5mby5pZC5zcGxpdCgnLycpWzBdID09PSAndHYnID8gbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTIDogbW9kZWxzXzEuVHZUeXBlLk1PVklFO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby5yZWxlYXNlRGF0ZSA9ICQoJ2Rpdi5yb3cgPiBkaXYuY29sLXhsLTUgLnJvdy1saW5lJylcbiAgICAgICAgICAgICAgICAgICAgLmVxKDApXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJ1JlbGVhc2VkOiAnLCAnJylcbiAgICAgICAgICAgICAgICAgICAgLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8uZ2VucmVzID0gJCgnZGl2LnJvdyA+ZGl2LmNvbC14bC01IC5yb3ctbGluZScpXG4gICAgICAgICAgICAgICAgICAgIC5lcSgxKVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnYScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiAkKGVsKS50ZXh0KCkuc3BsaXQoJyYnKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAodiA9PiB2LnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLmNhc3RzID0gJCgnZGl2LnJvdyA+IGRpdi5jb2wteGwtNSAucm93LWxpbmUnKVxuICAgICAgICAgICAgICAgICAgICAuZXEoMilcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2EnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLnRhZ3MgPSAkKCdkaXYucm93LXRhZ3MgPiBoMicpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiAkKGVsKS50ZXh0KCkucmVwbGFjZSgvXFxzKy9nLCAnICcpLnRyaW0oKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby5wcm9kdWN0aW9uID0gJCgnZGl2LnJvdyA+IGRpdi5jb2wteGwtNiAucm93LWxpbmUnKVxuICAgICAgICAgICAgICAgICAgICAuZXEoMilcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ2EnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkudGV4dCgpLnRyaW0oKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcsICcpO1xuICAgICAgICAgICAgICAgIG1vdmllSW5mby5jb3VudHJ5ID0gJCgnZGl2LnJvdyA+IGRpdi5jb2wteGwtNiAucm93LWxpbmUnKS5lcSgxKS5maW5kKCdhJykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8uZHVyYXRpb24gPSAkKCdkaXYucm93ID4gZGl2LmNvbC14bC02IC5yb3ctbGluZScpXG4gICAgICAgICAgICAgICAgICAgIC5lcSgwKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCdEdXJhdGlvbjogJywgJycpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcbiAgICAgICAgICAgICAgICAgICAgLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUluZm8ucmF0aW5nID0gcGFyc2VGbG9hdCgkKCdkaXYuZmlsbS1zdGF0cyA+IGRpdi5mcy1pdGVtID4gc3Bhbi5pbWRiJykudGV4dCgpLnJlcGxhY2UoJ0lNREI6ICcsICcnKSk7XG4gICAgICAgICAgICAgICAgbW92aWVJbmZvLnJlY29tbWVuZGF0aW9ucyA9IHJlY29tbWVuZGF0aW9uc0FycmF5O1xuICAgICAgICAgICAgICAgIGNvbnN0IGFqYXhSZXFVcmwgPSAoaWQsIHR5cGUsIGlzU2Vhc29ucyA9IGZhbHNlKSA9PiBgJHt0aGlzLmJhc2VVcmx9L2FqYXgvJHt0eXBlID09PSAnbW92aWUnID8gdHlwZSA6IGB2Mi8ke3R5cGV9YH0vJHtpc1NlYXNvbnMgPyAnc2Vhc29ucycgOiAnZXBpc29kZXMnfS8ke2lkfWA7XG4gICAgICAgICAgICAgICAgaWYgKG1vdmllSW5mby50eXBlID09PSBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYWpheFJlcVVybCh1aWQsICd0dicsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgJCQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWFzb25zSWRzID0gJCQoJy5kcm9wZG93bi1tZW51ID4gYScpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4gJChlbCkuYXR0cignZGF0YS1pZCcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgICAgICBtb3ZpZUluZm8uZXBpc29kZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlYXNvbiA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2Ygc2Vhc29uc0lkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYWpheFJlcVVybChpZCwgJ3NlYXNvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0ICQkJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQoJy5zd2lwZXItY29udGFpbmVyID4gLnN3aXBlci13cmFwcGVyID4gLnN3aXBlci1zbGlkZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXBpc29kZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICQkJChlbCkuZmluZCgnZGl2LmZsdy1pdGVtJykuYXR0cignaWQnKS5zcGxpdCgnLScpWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJCQkKGVsKS5maW5kKCdkaXYuZmx3LWl0ZW0gPiBhID4gaW1nJykuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkJCQoZWwpLmZpbmQoJ2Rpdi5mbHctaXRlbSA+IGEgPiBpbWcnKS5hdHRyKCd0aXRsZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IHBhcnNlSW50KCQkJChlbCkuZmluZCgnZGl2LmZsdy1pdGVtID4gYSA+IGltZycpLmF0dHIoJ3RpdGxlJykuc3BsaXQoJzonKVswXS5zbGljZSg4KS50cmltKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFzb246IHNlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9L2FqYXgvdjIvZXBpc29kZS9zZXJ2ZXJzLyR7JCQkKGVsKS5maW5kKCdkaXYuZmx3LWl0ZW0nKS5hdHRyKCdpZCcpLnNwbGl0KCctJylbMV19YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IG1vdmllSW5mby5lcGlzb2RlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnB1c2goZXBpc29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXNvbisrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtb3ZpZUluZm8uZXBpc29kZXMgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogbW92aWVJbmZvLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfS9hamF4L21vdmllL2VwaXNvZGVzLyR7dWlkfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbW92aWVJbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyciwgJ2VycicpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gZXBpc29kZUlkIGVwaXNvZGUgaWRcbiAgICAgICAgICogQHBhcmFtIG1lZGlhSWQgbWVkaWEgaWRcbiAgICAgICAgICogQHBhcmFtIHNlcnZlciBzZXJ2ZXIgdHlwZSAoZGVmYXVsdCBgVmlkQ2xvdWRgKSAob3B0aW9uYWwpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNvdXJjZXMgPSBhc3luYyAoZXBpc29kZUlkLCBtZWRpYUlkLCBzZXJ2ZXIgPSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlVwQ2xvdWQpID0+IHtcbiAgICAgICAgICAgIGlmIChlcGlzb2RlSWQuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyVXJsID0gbmV3IFVSTChlcGlzb2RlSWQpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoc2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5Wb2U6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLmhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5Wb2UodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlZpZENsb3VkOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IHNlcnZlclVybC5ocmVmIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuVmlkQ2xvdWQodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCwgdHJ1ZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlVwQ2xvdWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogc2VydmVyVXJsLmhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5WaWRDbG91ZCh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3Qoc2VydmVyVXJsKSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IHNlcnZlclVybC5ocmVmIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlczogYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5NaXhEcm9wKHRoaXMucHJveHlDb25maWcsIHRoaXMuYWRhcHRlcikuZXh0cmFjdChzZXJ2ZXJVcmwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlcnMgPSBhd2FpdCB0aGlzLmZldGNoRXBpc29kZVNlcnZlcnMoZXBpc29kZUlkLCBtZWRpYUlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpID0gc2VydmVycy5maW5kSW5kZXgocyA9PiBzLm5hbWUgPT09IHNlcnZlcik7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyICR7c2VydmVyfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9hamF4L2dldF9saW5rLyR7c2VydmVyc1tpXS51cmwuc3BsaXQoJy4nKS5zbGljZSgtMSkuc2hpZnQoKX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJVcmwgPSBuZXcgVVJMKGRhdGEubGluayk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hFcGlzb2RlU291cmNlcyhzZXJ2ZXJVcmwuaHJlZiwgbWVkaWFJZCwgc2VydmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIsICdlcnInKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGVwaXNvZGVJZCB0YWtlcyBlcGlzb2RlIGxpbmsgb3IgbW92aWUgaWRcbiAgICAgICAgICogQHBhcmFtIG1lZGlhSWQgdGFrZXMgbW92aWUgbGluayBvciBpZCAoZm91bmQgb24gbW92aWUgaW5mbyBvYmplY3QpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNlcnZlcnMgPSBhc3luYyAoZXBpc29kZUlkLCBtZWRpYUlkKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVwaXNvZGVJZC5zdGFydHNXaXRoKHRoaXMuYmFzZVVybCArICcvYWpheCcpICYmICFtZWRpYUlkLmluY2x1ZGVzKCdtb3ZpZScpKVxuICAgICAgICAgICAgICAgIGVwaXNvZGVJZCA9IGAke3RoaXMuYmFzZVVybH0vYWpheC92Mi9lcGlzb2RlL3NlcnZlcnMvJHtlcGlzb2RlSWR9YDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBlcGlzb2RlSWQgPSBgJHt0aGlzLmJhc2VVcmx9L2FqYXgvbW92aWUvZXBpc29kZXMvJHtlcGlzb2RlSWR9YDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoZXBpc29kZUlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJzID0gJCgnLnVsY2xlYXIgPiBsaScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG1lZGlhSWQuaW5jbHVkZXMoJ21vdmllJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICQoZWwpLmZpbmQoJ2EnKS5maW5kKCdzcGFuJykudGV4dCgpLnRyaW0oKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAkKGVsKS5maW5kKCdhJykuZmluZCgnc3BhbicpLnRleHQoKS50cmltKCkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfS8ke21lZGlhSWR9LiR7IW1lZGlhSWQuaW5jbHVkZXMoJ21vdmllJykgPyAkKGVsKS5maW5kKCdhJykuYXR0cignZGF0YS1pZCcpIDogJChlbCkuZmluZCgnYScpLmF0dHIoJ2RhdGEtaWQnKX1gLnJlcGxhY2UoIW1lZGlhSWQuaW5jbHVkZXMoJ21vdmllJykgPyAvXFwvdHZcXC8vIDogL1xcL21vdmllXFwvLywgIW1lZGlhSWQuaW5jbHVkZXMoJ21vdmllJykgPyAnL3dhdGNoLXR2LycgOiAnL3dhdGNoLW1vdmllLycpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VydmVyO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VydmVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoUmVjZW50TW92aWVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2hvbWVgKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3ZpZXMgPSAkKCdzZWN0aW9uLmJsb2NrX2FyZWE6Y29udGFpbnMoXCJMYXRlc3QgTW92aWVzXCIpID4gZGl2Om50aC1jaGlsZCgyKSA+IGRpdjpudGgtY2hpbGQoMSkgPiBkaXYuZmx3LWl0ZW0nKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2VEYXRlID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZkLWluZm9yID4gc3BhbjpudGgtY2hpbGQoMyknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdmllID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBoMy5maWxtLW5hbWUgPiBhJykuYXR0cigndGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGltZycpLmF0dHIoJ2RhdGEtc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogaXNOYU4ocGFyc2VJbnQocmVsZWFzZURhdGUpKSA/IHVuZGVmaW5lZCA6IHJlbGVhc2VEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuOm50aC1jaGlsZCgxKScpLnRleHQoKSB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbW9kZWxzXzEuVHZUeXBlLk1PVklFLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW92aWU7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtb3ZpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaFJlY2VudFR2U2hvd3MgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vaG9tZWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHR2c2hvd3MgPSAkKCdzZWN0aW9uLmJsb2NrX2FyZWE6Y29udGFpbnMoXCJMYXRlc3QgVFYgU2hvd3NcIikgPiBkaXY6bnRoLWNoaWxkKDIpID4gZGl2Om50aC1jaGlsZCgxKSA+IGRpdi5mbHctaXRlbScpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHZzaG93ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBoMy5maWxtLW5hbWUgPiBhJykuYXR0cigndGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGltZycpLmF0dHIoJ2RhdGEtc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFzb246ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDMpJykudGV4dCgpLnNwbGl0KCc6JylbMF0gfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdEVwaXNvZGU6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDMpJykudGV4dCgpLnNwbGl0KCc6JylbMV0gfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR2c2hvdztcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR2c2hvd3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaFRyZW5kaW5nTW92aWVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChgJHt0aGlzLmJhc2VVcmx9L2hvbWVgKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3ZpZXMgPSAkKCdkaXYjdHJlbmRpbmctbW92aWVzIGRpdi5maWxtX2xpc3Qtd3JhcCBkaXYuZmx3LWl0ZW0nKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2VEYXRlID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZkLWluZm9yID4gc3BhbjpudGgtY2hpbGQoMyknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdmllID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBoMy5maWxtLW5hbWUgPiBhJykuYXR0cigndGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGltZycpLmF0dHIoJ2RhdGEtc3JjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogaXNOYU4ocGFyc2VJbnQocmVsZWFzZURhdGUpKSA/IHVuZGVmaW5lZCA6IHJlbGVhc2VEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuOm50aC1jaGlsZCgxKScpLnRleHQoKSB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbW9kZWxzXzEuVHZUeXBlLk1PVklFLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW92aWU7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtb3ZpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaFRyZW5kaW5nVHZTaG93cyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9ob21lYCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHZzaG93cyA9ICQoJ2RpdiN0cmVuZGluZy10diBkaXYuZmlsbV9saXN0LXdyYXAgZGl2LmZsdy1pdGVtJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0dnNob3cgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9hID0gJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNsaWNlKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGgzLmZpbG0tbmFtZSA+IGEnKS5hdHRyKCd0aXRsZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHskKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gaW1nJykuYXR0cignZGF0YS1zcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXNvbjogJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZkLWluZm9yID4gc3BhbjpudGgtY2hpbGQoMyknKS50ZXh0KCkuc3BsaXQoJzonKVswXSB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0RXBpc29kZTogJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZkLWluZm9yID4gc3BhbjpudGgtY2hpbGQoMyknKS50ZXh0KCkuc3BsaXQoJzonKVsxXSB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHZzaG93O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHZzaG93cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoQnlDb3VudHJ5ID0gYXN5bmMgKGNvdW50cnksIHBhZ2UgPSAxKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG5hdlNlbGVjdG9yID0gJ2Rpdi5wcmUtcGFnaW5hdGlvbjpudGgtY2hpbGQoMykgPiBuYXY6bnRoLWNoaWxkKDEpID4gdWw6bnRoLWNoaWxkKDEpJztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9jb3VudHJ5LyR7Y291bnRyeX0vP3BhZ2U9JHtwYWdlfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5oYXNOZXh0UGFnZSA9XG4gICAgICAgICAgICAgICAgICAgICQobmF2U2VsZWN0b3IpLmxlbmd0aCA+IDAgPyAhJChuYXZTZWxlY3RvcikuY2hpbGRyZW4oKS5sYXN0KCkuaGFzQ2xhc3MoJ2FjdGl2ZScpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgJCgnZGl2LmNvbnRhaW5lciA+IHNlY3Rpb24uYmxvY2tfYXJlYSA+IGRpdi5ibG9ja19hcmVhLWNvbnRlbnQgPiBkaXYuZmlsbV9saXN0LXdyYXAgPiBkaXYuZmx3LWl0ZW0nKVxuICAgICAgICAgICAgICAgICAgICAuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdEl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9iID0gKF9hID0gJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNsaWNlKDEpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAoX2MgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBoMi5maWxtLW5hbWUgPiBhJykuYXR0cigndGl0bGUnKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZVVybH0keyQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBpbWcnKS5hdHRyKCdkYXRhLXNyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogKChfZCA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5zbGljZSgxKS5zcGxpdCgnLycpWzBdLnRvTG93ZXJDYXNlKCkpID09PSAnbW92aWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlbHNfMS5UdlR5cGUuTU9WSUVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vhc29uID0gKF9lID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZkLWluZm9yID4gc3BhbjpudGgtY2hpbGQoMyknKS50ZXh0KCkuc3BsaXQoJzonKVswXSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGF0ZXN0RXBpc29kZSA9IChfZiA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDMpJykudGV4dCgpLnNwbGl0KCc6JylbMV0pICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRJdGVtLnR5cGUgPT09IG1vZGVsc18xLlR2VHlwZS5UVlNFUklFUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0SXRlbS5zZWFzb24gPSBzZWFzb247XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRJdGVtLmxhdGVzdEVwaXNvZGUgPSBsYXRlc3RFcGlzb2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0SXRlbS5yYXRpbmcgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuOm50aC1jaGlsZCgxKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEl0ZW0ucmVsZWFzZURhdGUgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuOm50aC1jaGlsZCgzKScpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVzdWx0cy5wdXNoKHJlc3VsdEl0ZW0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hCeUdlbnJlID0gYXN5bmMgKGdlbnJlLCBwYWdlID0gMSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vZ2VucmUvJHtnZW5yZX0/cGFnZT0ke3BhZ2V9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmF2U2VsZWN0b3IgPSAnZGl2LnByZS1wYWdpbmF0aW9uOm50aC1jaGlsZCgzKSA+IG5hdjpudGgtY2hpbGQoMSkgPiB1bDpudGgtY2hpbGQoMSknO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5oYXNOZXh0UGFnZSA9XG4gICAgICAgICAgICAgICAgICAgICQobmF2U2VsZWN0b3IpLmxlbmd0aCA+IDAgPyAhJChuYXZTZWxlY3RvcikuY2hpbGRyZW4oKS5sYXN0KCkuaGFzQ2xhc3MoJ2FjdGl2ZScpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgJCgnLmZpbG1fbGlzdC13cmFwID4gZGl2LmZsdy1pdGVtJylcbiAgICAgICAgICAgICAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYiA9IChfYSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLXBvc3RlciA+IGEnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgxKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogKF9jID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gaDIuZmlsbS1uYW1lID4gYScpLmF0dHIoJ3RpdGxlJykpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHskKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJChlbCkuZmluZCgnZGl2LmZpbG0tcG9zdGVyID4gaW1nJykuYXR0cignZGF0YS1zcmMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICgoX2QgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1wb3N0ZXIgPiBhJykuYXR0cignaHJlZicpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Quc2xpY2UoMSkuc3BsaXQoJy8nKVswXS50b0xvd2VyQ2FzZSgpKSA9PT0gJ21vdmllJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kZWxzXzEuVHZUeXBlLk1PVklFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYXNvbiA9IChfZSA9ICQoZWwpLmZpbmQoJ2Rpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW46bnRoLWNoaWxkKDMpJykudGV4dCgpLnNwbGl0KCc6JylbMF0pICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhdGVzdEVwaXNvZGUgPSAoX2YgPSAkKGVsKS5maW5kKCdkaXYuZmlsbS1kZXRhaWwgPiBkaXYuZmQtaW5mb3IgPiBzcGFuOm50aC1jaGlsZCgzKScpLnRleHQoKS5zcGxpdCgnOicpWzFdKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0SXRlbS50eXBlID09PSBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEl0ZW0uc2Vhc29uID0gc2Vhc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0SXRlbS5sYXRlc3RFcGlzb2RlID0gbGF0ZXN0RXBpc29kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEl0ZW0ucmF0aW5nID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZkLWluZm9yID4gc3BhbjpudGgtY2hpbGQoMSknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRJdGVtLnJlbGVhc2VEYXRlID0gJChlbCkuZmluZCgnZGl2LmZpbG0tZGV0YWlsID4gZGl2LmZkLWluZm9yID4gc3BhbjpudGgtY2hpbGQoMyknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlc3VsdHMucHVzaChyZXN1bHRJdGVtKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoU3BvdGxpZ2h0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0geyByZXN1bHRzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAke3RoaXMuYmFzZVVybH0vaG9tZWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgICQoJ2Rpdi5zd2lwZXItc2xpZGUnKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogKF9hID0gJChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNsaWNlKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWwpLmZpbmQoJ2EnKS5hdHRyKCd0aXRsZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHskKGVsKS5maW5kKCdhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcjogJChlbCkuZmluZCgnZGl2LnNsaWRlLXBob3RvID4gYSA+IGltZycpLmF0dHIoJ3NyYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAkKGVsKS5maW5kKCcuc2NkLWl0ZW06bnRoLWNoaWxkKDEpJykudGV4dCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkKGVsKS5maW5kKCcuc2MtZGVzYycpLnRleHQoKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAoKF9iID0gJChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNwbGl0KCcvJylbMV0pID09PSAnbW92aWUnID8gbW9kZWxzXzEuVHZUeXBlLk1PVklFIDogbW9kZWxzXzEuVHZUeXBlLlRWU0VSSUVTLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyAoYXN5bmMgKCkgPT4ge1xuLy8gICAgICBjb25zdCBtb3ZpZSA9IG5ldyBTRmxpeCgpO1xuLy8gICAgIC8vIGNvbnN0IHNlYXJjaCA9IGF3YWl0IG1vdmllLnNlYXJjaCgndGhlIGZsYXNoJyk7XG4vLyAgICAgLy8gY29uc3QgbW92aWVJbmZvID0gYXdhaXQgbW92aWUuZmV0Y2hFcGlzb2RlU291cmNlcygnMTE2ODMzNycsICd0di93YXRjaC12aW5jZW56by02Nzk1NScpO1xuLy8gICAgIC8vIGNvbnN0IHJlY2VudFR2ID0gYXdhaXQgbW92aWUuZmV0Y2hUcmVuZGluZ1R2U2hvd3MoKTtcbi8vICAgICAgY29uc3QgZ2VucmUgPSBhd2FpdCBtb3ZpZS5mZXRjaFNwb3RsaWdodCgpXG4vLyAgICAgIGNvbnNvbGUubG9nKGdlbnJlKVxuLy8gICB9KSgpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU0ZsaXg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZmxpeC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/sflix.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/smashystream.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/movies/smashystream.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nclass SmashyStream extends models_1.MovieParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'Smashystream';\n        this.baseUrl = 'https://embed.smashystream.com';\n        this.logo = 'https://smashystream.xyz/logo.png';\n        this.classPath = 'MOVIES.SmashyStream';\n        this.supportedTypes = new Set([models_1.TvType.MOVIE, models_1.TvType.TVSERIES]);\n        this.search = async () => {\n            throw new Error('Method not implemented.');\n        };\n        this.fetchMediaInfo = async () => {\n            throw new Error('Method not implemented.');\n        };\n        this.fetchEpisodeServers = async (tmdbId, season, episode) => {\n            try {\n                const epsiodeServers = [];\n                let url = `${this.baseUrl}/playere.php?tmdb=${tmdbId}`;\n                if (season) {\n                    url = `${this.baseUrl}/playere.php?tmdb=${tmdbId}&season=${season}&episode=${episode}`;\n                }\n                const { data } = await this.client.get(url);\n                const $ = (0, cheerio_1.load)(data);\n                await Promise.all($('div#_default-servers a.server')\n                    .map(async (i, el) => {\n                    var _a;\n                    const streamLink = (_a = $(el).attr('data-id')) !== null && _a !== void 0 ? _a : '';\n                    epsiodeServers.push({\n                        name: $(el).text().replace(/  +/g, ' ').trim(),\n                        url: streamLink,\n                    });\n                })\n                    .get());\n                return epsiodeServers;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchEpisodeSources = async (tmdbId, season, episode, server) => {\n            try {\n                const servers = await this.fetchEpisodeServers(tmdbId, season, episode);\n                const selectedServer = servers.find(s => s.name.toLowerCase() === (server === null || server === void 0 ? void 0 : server.toLowerCase()));\n                if (!selectedServer) {\n                    let url = `${this.baseUrl}/playere.php?tmdb=${tmdbId}`;\n                    if (season) {\n                        url = `${this.baseUrl}/playere.php?tmdb=${tmdbId}&season=${season}&episode=${episode}`;\n                    }\n                    return {\n                        headers: { Referer: this.baseUrl },\n                        ...(await new extractors_1.SmashyStream(this.proxyConfig, this.adapter).extract(new URL(url))),\n                    };\n                }\n                if (selectedServer.url.includes('/ffix')) {\n                    return {\n                        headers: { Referer: this.baseUrl },\n                        ...(await new extractors_1.SmashyStream(this.proxyConfig, this.adapter).extractSmashyFfix(selectedServer.url)),\n                    };\n                }\n                if (selectedServer.url.includes('/watchx')) {\n                    return {\n                        headers: { Referer: this.baseUrl },\n                        ...(await new extractors_1.SmashyStream(this.proxyConfig, this.adapter).extractSmashyWatchX(selectedServer.url)),\n                    };\n                }\n                if (selectedServer.url.includes('/nflim')) {\n                    return {\n                        headers: { Referer: this.baseUrl },\n                        ...(await new extractors_1.SmashyStream(this.proxyConfig, this.adapter).extractSmashyNFlim(selectedServer.url)),\n                    };\n                }\n                if (selectedServer.url.includes('/fx')) {\n                    return {\n                        headers: { Referer: this.baseUrl },\n                        ...(await new extractors_1.SmashyStream(this.proxyConfig, this.adapter).extractSmashyFX(selectedServer.url)),\n                    };\n                }\n                if (selectedServer.url.includes('/cf')) {\n                    return {\n                        headers: { Referer: this.baseUrl },\n                        ...(await new extractors_1.SmashyStream(this.proxyConfig, this.adapter).extractSmashyCF(selectedServer.url)),\n                    };\n                }\n                if (selectedServer.url.includes('/eemovie')) {\n                    return {\n                        headers: { Referer: this.baseUrl },\n                        ...(await new extractors_1.SmashyStream(this.proxyConfig, this.adapter).extractSmashyEEMovie(selectedServer.url)),\n                    };\n                }\n                return await this.fetchEpisodeSources(selectedServer.url, season, episode, server);\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n    }\n}\nexports[\"default\"] = SmashyStream;\n//# sourceMappingURL=smashystream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbW92aWVzL3NtYXNoeXN0cmVhbS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QyxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxxQkFBcUIsbUJBQU8sQ0FBQyw0RkFBa0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixhQUFhLG9CQUFvQixPQUFPO0FBQ3JFO0FBQ0EsNkJBQTZCLGFBQWEsb0JBQW9CLE9BQU8sVUFBVSxPQUFPLFdBQVcsUUFBUTtBQUN6RztBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxhQUFhLG9CQUFvQixPQUFPO0FBQ3pFO0FBQ0EsaUNBQWlDLGFBQWEsb0JBQW9CLE9BQU8sVUFBVSxPQUFPLFdBQVcsUUFBUTtBQUM3RztBQUNBO0FBQ0EsbUNBQW1DLHVCQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHVCQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHVCQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHVCQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHVCQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHVCQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHVCQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxtb3ZpZXNcXHNtYXNoeXN0cmVhbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgZXh0cmFjdG9yc18xID0gcmVxdWlyZShcIi4uLy4uL2V4dHJhY3RvcnNcIik7XG5jbGFzcyBTbWFzaHlTdHJlYW0gZXh0ZW5kcyBtb2RlbHNfMS5Nb3ZpZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdTbWFzaHlzdHJlYW0nO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9lbWJlZC5zbWFzaHlzdHJlYW0uY29tJztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vc21hc2h5c3RyZWFtLnh5ei9sb2dvLnBuZyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ01PVklFUy5TbWFzaHlTdHJlYW0nO1xuICAgICAgICB0aGlzLnN1cHBvcnRlZFR5cGVzID0gbmV3IFNldChbbW9kZWxzXzEuVHZUeXBlLk1PVklFLCBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVNdKTtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hNZWRpYUluZm8gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hFcGlzb2RlU2VydmVycyA9IGFzeW5jICh0bWRiSWQsIHNlYXNvbiwgZXBpc29kZSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcHNpb2RlU2VydmVycyA9IFtdO1xuICAgICAgICAgICAgICAgIGxldCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9L3BsYXllcmUucGhwP3RtZGI9JHt0bWRiSWR9YDtcbiAgICAgICAgICAgICAgICBpZiAoc2Vhc29uKSB7XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IGAke3RoaXMuYmFzZVVybH0vcGxheWVyZS5waHA/dG1kYj0ke3RtZGJJZH0mc2Vhc29uPSR7c2Vhc29ufSZlcGlzb2RlPSR7ZXBpc29kZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKCQoJ2RpdiNfZGVmYXVsdC1zZXJ2ZXJzIGEuc2VydmVyJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcChhc3luYyAoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW1MaW5rID0gKF9hID0gJChlbCkuYXR0cignZGF0YS1pZCcpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgZXBzaW9kZVNlcnZlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkKGVsKS50ZXh0KCkucmVwbGFjZSgvICArL2csICcgJykudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzdHJlYW1MaW5rLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlcHNpb2RlU2VydmVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNvdXJjZXMgPSBhc3luYyAodG1kYklkLCBzZWFzb24sIGVwaXNvZGUsIHNlcnZlcikgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJzID0gYXdhaXQgdGhpcy5mZXRjaEVwaXNvZGVTZXJ2ZXJzKHRtZGJJZCwgc2Vhc29uLCBlcGlzb2RlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZFNlcnZlciA9IHNlcnZlcnMuZmluZChzID0+IHMubmFtZS50b0xvd2VyQ2FzZSgpID09PSAoc2VydmVyID09PSBudWxsIHx8IHNlcnZlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VydmVyLnRvTG93ZXJDYXNlKCkpKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkU2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9L3BsYXllcmUucGhwP3RtZGI9JHt0bWRiSWR9YDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXNvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gYCR7dGhpcy5iYXNlVXJsfS9wbGF5ZXJlLnBocD90bWRiPSR7dG1kYklkfSZzZWFzb249JHtzZWFzb259JmVwaXNvZGU9JHtlcGlzb2RlfWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogdGhpcy5iYXNlVXJsIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5TbWFzaHlTdHJlYW0odGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KG5ldyBVUkwodXJsKSkpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRTZXJ2ZXIudXJsLmluY2x1ZGVzKCcvZmZpeCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IHRoaXMuYmFzZVVybCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuU21hc2h5U3RyZWFtKHRoaXMucHJveHlDb25maWcsIHRoaXMuYWRhcHRlcikuZXh0cmFjdFNtYXNoeUZmaXgoc2VsZWN0ZWRTZXJ2ZXIudXJsKSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFNlcnZlci51cmwuaW5jbHVkZXMoJy93YXRjaHgnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiB0aGlzLmJhc2VVcmwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihhd2FpdCBuZXcgZXh0cmFjdG9yc18xLlNtYXNoeVN0cmVhbSh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3RTbWFzaHlXYXRjaFgoc2VsZWN0ZWRTZXJ2ZXIudXJsKSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFNlcnZlci51cmwuaW5jbHVkZXMoJy9uZmxpbScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IHRoaXMuYmFzZVVybCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuU21hc2h5U3RyZWFtKHRoaXMucHJveHlDb25maWcsIHRoaXMuYWRhcHRlcikuZXh0cmFjdFNtYXNoeU5GbGltKHNlbGVjdGVkU2VydmVyLnVybCkpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRTZXJ2ZXIudXJsLmluY2x1ZGVzKCcvZngnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiB0aGlzLmJhc2VVcmwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihhd2FpdCBuZXcgZXh0cmFjdG9yc18xLlNtYXNoeVN0cmVhbSh0aGlzLnByb3h5Q29uZmlnLCB0aGlzLmFkYXB0ZXIpLmV4dHJhY3RTbWFzaHlGWChzZWxlY3RlZFNlcnZlci51cmwpKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkU2VydmVyLnVybC5pbmNsdWRlcygnL2NmJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogdGhpcy5iYXNlVXJsIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5TbWFzaHlTdHJlYW0odGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0U21hc2h5Q0Yoc2VsZWN0ZWRTZXJ2ZXIudXJsKSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFNlcnZlci51cmwuaW5jbHVkZXMoJy9lZW1vdmllJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogdGhpcy5iYXNlVXJsIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5TbWFzaHlTdHJlYW0odGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0U21hc2h5RUVNb3ZpZShzZWxlY3RlZFNlcnZlci51cmwpKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hFcGlzb2RlU291cmNlcyhzZWxlY3RlZFNlcnZlci51cmwsIHNlYXNvbiwgZXBpc29kZSwgc2VydmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFNtYXNoeVN0cmVhbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNtYXNoeXN0cmVhbS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/smashystream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/turkish123.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/movies/turkish123.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass Turkish extends models_1.MovieParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'Turkish123';\n        this.baseUrl = 'https://turkish123.ac/';\n        this.classPath = 'MOVIES.Turkish';\n        this.supportedTypes = new Set([models_1.TvType.TVSERIES]);\n    }\n    async fetchMediaInfo(mediaId) {\n        const info = { id: mediaId, title: '' };\n        try {\n            const { data } = await this.client(this.baseUrl + mediaId, {\n                headers: {\n                    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36',\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n                    Referer: this.baseUrl,\n                },\n            });\n            const $ = (0, cheerio_1.load)(data);\n            info.image = $('#content-cover')\n                .attr('style')\n                .match(/url\\((.*?)\\)/)[1];\n            info.title = $('.mvic-desc > h1').text();\n            info.description = $('.f-desc')\n                .text()\n                .replace(/[\\n\\t\\b]/g, '');\n            info.romaji = $('.yellowi').text();\n            info.tags = $('.mvici-left > p:nth-child(3)')\n                .find('a')\n                .map((_, e) => $(e).text())\n                .get();\n            info.rating = parseFloat($('.imdb-r').text());\n            info.releaseDate = $('.mvici-right > p:nth-child(3)').find('a').first().text();\n            info.totalEpisodes = $('.les-content > a').length;\n            info.episodes = $('.les-content > a')\n                .map((i, e) => ({\n                id: $(e).attr('href').split('/').slice(-2)[0],\n                title: `Episode ${i + 1}`,\n            }))\n                .get();\n        }\n        catch (error) { }\n        return info;\n    }\n    async fetchEpisodeSources(episodeId) {\n        const source = { sources: [{ url: '' }], headers: { Referer: 'https://tukipasti.com' } };\n        try {\n            const { data } = await this.client(this.baseUrl + episodeId, {\n                headers: {\n                    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36',\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n                    Referer: this.baseUrl,\n                },\n            });\n            const resp = (await this.client(data.match(/\"(https:\\/\\/tukipasti.com\\/t\\/.*?)\"/)[1])).data;\n            source.sources[0].url = resp.match(/var urlPlay = '(.*?)'/)[1];\n        }\n        catch (error) { }\n        return source;\n    }\n    fetchEpisodeServers() {\n        throw new Error('Method not implemented.');\n    }\n    async search(q) {\n        const params = `wp-admin/admin-ajax.php?s=${q}&action=searchwp_live_search&swpengine=default&swpquery=${q}`;\n        try {\n            const { data } = await this.client(this.baseUrl + params, {\n                headers: {\n                    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36',\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n                    Referer: this.baseUrl,\n                },\n            });\n            const $ = (0, cheerio_1.load)(data);\n            const result = [];\n            $('li')\n                .not('.ss-bottom')\n                .each((_, ele) => {\n                var _a;\n                result.push({\n                    id: $(ele).find('a').attr('href').replace(this.baseUrl, '').replace('/', ''),\n                    image: (_a = $(ele)\n                        .find('a')\n                        .attr('style')\n                        .match(/url\\((.*?)\\)/)[1]) !== null && _a !== void 0 ? _a : '',\n                    title: $(ele).find('.ss-title').text(),\n                    tags: $(ele)\n                        .find('.ss-info >a')\n                        .not('.ss-title')\n                        .map((_, e) => $(e).text())\n                        .get()\n                        .filter(v => v != 'NULL'),\n                });\n            });\n            return result;\n        }\n        catch (error) {\n            console.log(error);\n        }\n        return [];\n    }\n}\nexports[\"default\"] = Turkish;\n//# sourceMappingURL=turkish123.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbW92aWVzL3R1cmtpc2gxMjMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLG1CQUFPLENBQUMsb0VBQVM7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMsb0ZBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQSxpRUFBaUUsT0FBTztBQUN4RSx3RUFBd0U7QUFDeEU7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLE1BQU07QUFDeEMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixZQUFZLFNBQVMsY0FBYztBQUM1RDtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0EsaUVBQWlFLE9BQU87QUFDeEUsd0VBQXdFO0FBQ3hFO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxFQUFFLDBEQUEwRCxFQUFFO0FBQ2xIO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQSxpRUFBaUUsT0FBTztBQUN4RSx3RUFBd0U7QUFDeEU7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxccHJvdmlkZXJzXFxtb3ZpZXNcXHR1cmtpc2gxMjMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNsYXNzIFR1cmtpc2ggZXh0ZW5kcyBtb2RlbHNfMS5Nb3ZpZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdUdXJraXNoMTIzJztcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJ2h0dHBzOi8vdHVya2lzaDEyMy5hYy8nO1xuICAgICAgICB0aGlzLmNsYXNzUGF0aCA9ICdNT1ZJRVMuVHVya2lzaCc7XG4gICAgICAgIHRoaXMuc3VwcG9ydGVkVHlwZXMgPSBuZXcgU2V0KFttb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVNdKTtcbiAgICB9XG4gICAgYXN5bmMgZmV0Y2hNZWRpYUluZm8obWVkaWFJZCkge1xuICAgICAgICBjb25zdCBpbmZvID0geyBpZDogbWVkaWFJZCwgdGl0bGU6ICcnIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50KHRoaXMuYmFzZVVybCArIG1lZGlhSWQsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjIuMC4wLjAgU2FmYXJpLzUzNy4zNicsXG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04JyxcbiAgICAgICAgICAgICAgICAgICAgUmVmZXJlcjogdGhpcy5iYXNlVXJsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgaW5mby5pbWFnZSA9ICQoJyNjb250ZW50LWNvdmVyJylcbiAgICAgICAgICAgICAgICAuYXR0cignc3R5bGUnKVxuICAgICAgICAgICAgICAgIC5tYXRjaCgvdXJsXFwoKC4qPylcXCkvKVsxXTtcbiAgICAgICAgICAgIGluZm8udGl0bGUgPSAkKCcubXZpYy1kZXNjID4gaDEnKS50ZXh0KCk7XG4gICAgICAgICAgICBpbmZvLmRlc2NyaXB0aW9uID0gJCgnLmYtZGVzYycpXG4gICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9bXFxuXFx0XFxiXS9nLCAnJyk7XG4gICAgICAgICAgICBpbmZvLnJvbWFqaSA9ICQoJy55ZWxsb3dpJykudGV4dCgpO1xuICAgICAgICAgICAgaW5mby50YWdzID0gJCgnLm12aWNpLWxlZnQgPiBwOm50aC1jaGlsZCgzKScpXG4gICAgICAgICAgICAgICAgLmZpbmQoJ2EnKVxuICAgICAgICAgICAgICAgIC5tYXAoKF8sIGUpID0+ICQoZSkudGV4dCgpKVxuICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgICAgIGluZm8ucmF0aW5nID0gcGFyc2VGbG9hdCgkKCcuaW1kYi1yJykudGV4dCgpKTtcbiAgICAgICAgICAgIGluZm8ucmVsZWFzZURhdGUgPSAkKCcubXZpY2ktcmlnaHQgPiBwOm50aC1jaGlsZCgzKScpLmZpbmQoJ2EnKS5maXJzdCgpLnRleHQoKTtcbiAgICAgICAgICAgIGluZm8udG90YWxFcGlzb2RlcyA9ICQoJy5sZXMtY29udGVudCA+IGEnKS5sZW5ndGg7XG4gICAgICAgICAgICBpbmZvLmVwaXNvZGVzID0gJCgnLmxlcy1jb250ZW50ID4gYScpXG4gICAgICAgICAgICAgICAgLm1hcCgoaSwgZSkgPT4gKHtcbiAgICAgICAgICAgICAgICBpZDogJChlKS5hdHRyKCdocmVmJykuc3BsaXQoJy8nKS5zbGljZSgtMilbMF0sXG4gICAgICAgICAgICAgICAgdGl0bGU6IGBFcGlzb2RlICR7aSArIDF9YCxcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHsgfVxuICAgICAgICByZXR1cm4gaW5mbztcbiAgICB9XG4gICAgYXN5bmMgZmV0Y2hFcGlzb2RlU291cmNlcyhlcGlzb2RlSWQpIHtcbiAgICAgICAgY29uc3Qgc291cmNlID0geyBzb3VyY2VzOiBbeyB1cmw6ICcnIH1dLCBoZWFkZXJzOiB7IFJlZmVyZXI6ICdodHRwczovL3R1a2lwYXN0aS5jb20nIH0gfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQodGhpcy5iYXNlVXJsICsgZXBpc29kZUlkLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTIyLjAuMC4wIFNhZmFyaS81MzcuMzYnLFxuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcsXG4gICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6IHRoaXMuYmFzZVVybCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCByZXNwID0gKGF3YWl0IHRoaXMuY2xpZW50KGRhdGEubWF0Y2goL1wiKGh0dHBzOlxcL1xcL3R1a2lwYXN0aS5jb21cXC90XFwvLio/KVwiLylbMV0pKS5kYXRhO1xuICAgICAgICAgICAgc291cmNlLnNvdXJjZXNbMF0udXJsID0gcmVzcC5tYXRjaCgvdmFyIHVybFBsYXkgPSAnKC4qPyknLylbMV07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7IH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG4gICAgZmV0Y2hFcGlzb2RlU2VydmVycygpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cbiAgICBhc3luYyBzZWFyY2gocSkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBgd3AtYWRtaW4vYWRtaW4tYWpheC5waHA/cz0ke3F9JmFjdGlvbj1zZWFyY2h3cF9saXZlX3NlYXJjaCZzd3BlbmdpbmU9ZGVmYXVsdCZzd3BxdWVyeT0ke3F9YDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQodGhpcy5iYXNlVXJsICsgcGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTIyLjAuMC4wIFNhZmFyaS81MzcuMzYnLFxuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcsXG4gICAgICAgICAgICAgICAgICAgIFJlZmVyZXI6IHRoaXMuYmFzZVVybCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgJCgnbGknKVxuICAgICAgICAgICAgICAgIC5ub3QoJy5zcy1ib3R0b20nKVxuICAgICAgICAgICAgICAgIC5lYWNoKChfLCBlbGUpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogJChlbGUpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJykucmVwbGFjZSh0aGlzLmJhc2VVcmwsICcnKS5yZXBsYWNlKCcvJywgJycpLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogKF9hID0gJChlbGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnYScpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3R5bGUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hdGNoKC91cmxcXCgoLio/KVxcKS8pWzFdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQoZWxlKS5maW5kKCcuc3MtdGl0bGUnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgIHRhZ3M6ICQoZWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5zcy1pbmZvID5hJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5ub3QoJy5zcy10aXRsZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKChfLCBlKSA9PiAkKGUpLnRleHQoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcih2ID0+IHYgIT0gJ05VTEwnKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gVHVya2lzaDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR1cmtpc2gxMjMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/turkish123.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/viewAsian.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/movies/viewAsian.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nconst extractors_1 = __webpack_require__(/*! ../../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nclass ViewAsian extends models_1.MovieParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'ViewAsian';\n        this.baseUrl = 'https://viewasian.co';\n        this.logo = 'https://viewasian.co/images/logo.png';\n        this.classPath = 'MOVIES.ViewAsian';\n        this.supportedTypes = new Set([models_1.TvType.MOVIE, models_1.TvType.TVSERIES]);\n        this.search = async (query, page = 1) => {\n            const searchResult = {\n                currentPage: page,\n                hasNextPage: false,\n                results: [],\n            };\n            try {\n                const { data } = await this.client.get(`${this.baseUrl}/movie/search/${query.replace(/[\\W_]+/g, '-')}?page=${page}`);\n                const $ = (0, cheerio_1.load)(data);\n                const navSelector = 'div#pagination > nav:nth-child(1) > ul:nth-child(1)';\n                searchResult.hasNextPage =\n                    $(navSelector).length > 0 ? !$(navSelector).children().last().hasClass('active') : false;\n                $('.movies-list-full > div.ml-item').each((i, el) => {\n                    var _a;\n                    const releaseDate = $(el).find('div.ml-item > div.mli-info > span:nth-child(1)').text();\n                    searchResult.results.push({\n                        id: (_a = $(el).find('a').attr('href')) === null || _a === void 0 ? void 0 : _a.slice(1),\n                        title: $(el).find('a').attr('title'),\n                        url: `${this.baseUrl}${$(el).find('a').attr('href')}`,\n                        image: $(el).find('a > img').attr('data-original'),\n                        releaseDate: isNaN(parseInt(releaseDate)) ? undefined : releaseDate,\n                        //   type:\n                        //     $(el)\n                        //       .find(\"div.film-detail > div.fd-infor > span.float-right\")\n                        //       .text() === \"Movie\"\n                        //       ? TvType.MOVIE\n                        //       : TvType.TVSERIES,\n                    });\n                });\n                return searchResult;\n            }\n            catch (err) {\n                throw new Error(err.message);\n            }\n        };\n        this.fetchMediaInfo = async (mediaId) => {\n            const realMediaId = mediaId;\n            if (!mediaId.startsWith(this.baseUrl))\n                mediaId = `${this.baseUrl}/watch/${mediaId.split('/').slice(1)}/watching.html`;\n            const mediaInfo = {\n                id: '',\n                title: '',\n            };\n            try {\n                const { data } = await this.client.get(mediaId);\n                const $ = (0, cheerio_1.load)(data);\n                mediaInfo.id = realMediaId;\n                mediaInfo.title = $('.detail-mod h3').text();\n                mediaInfo.banner = $('.detail-mod > dm-thumb > img').attr('src');\n                mediaInfo.otherNames = $('.other-name a')\n                    .map((i, el) => $(el).attr('title').trim())\n                    .get();\n                mediaInfo.description = $('.desc').text().trim();\n                mediaInfo.genre = $('.mvic-info p:contains(Genre) > a')\n                    .map((i, el) => $(el).text().split(',').join('').trim())\n                    .get();\n                mediaInfo.description = $('.desc').text().trim();\n                //   mediaInfo.status = $('.mvic-info p:contains(Status)').text().replace('Status: ', '').trim();\n                mediaInfo.director = $('.mvic-info p:contains(Director)').text().replace('Director: ', '').trim();\n                mediaInfo.country = $('.mvic-info p:contains(Country) a').text().trim();\n                mediaInfo.releaseDate = $('.mvic-info p:contains(Release)').text().replace('Release: ', '').trim();\n                mediaInfo.episodes = [];\n                $('ul#episodes-sv-1 li').each((i, el) => {\n                    var _a;\n                    (_a = mediaInfo.episodes) === null || _a === void 0 ? void 0 : _a.push({\n                        id: $(el).find('a').attr('href').replace('?ep=', '$episode$'),\n                        title: $(el).find('a').attr('title').trim(),\n                        episode: $(el).find('a').attr('episode-data'),\n                        url: `${this.baseUrl}${$(el).find('a').attr('href')}`,\n                    });\n                });\n                return mediaInfo;\n            }\n            catch (err) {\n                throw err;\n            }\n        };\n        this.fetchEpisodeSources = async (episodeId, server = models_1.StreamingServers.AsianLoad) => {\n            if (episodeId.startsWith('http')) {\n                const serverUrl = new URL(episodeId);\n                switch (server) {\n                    case models_1.StreamingServers.AsianLoad:\n                        return {\n                            ...(await new extractors_1.AsianLoad(this.proxyConfig, this.adapter).extract(serverUrl)),\n                        };\n                    case models_1.StreamingServers.MixDrop:\n                        return {\n                            sources: await new extractors_1.MixDrop(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                    case models_1.StreamingServers.StreamTape:\n                        return {\n                            sources: await new extractors_1.StreamTape(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                    case models_1.StreamingServers.StreamSB:\n                        return {\n                            sources: await new extractors_1.StreamSB(this.proxyConfig, this.adapter).extract(serverUrl),\n                        };\n                    default:\n                        throw new Error('Server not supported');\n                }\n            }\n            if (!episodeId.includes('$episode$'))\n                throw new Error('Invalid episode id');\n            episodeId = `${episodeId.replace('$episode$', '?ep=')}`;\n            // return episodeId;\n            try {\n                if (!episodeId.startsWith(this.baseUrl))\n                    episodeId = `${this.baseUrl}/${episodeId}`;\n                const { data } = await this.client.get(episodeId);\n                const $ = (0, cheerio_1.load)(data);\n                let serverUrl = '';\n                switch (server) {\n                    // asianload is the same as the standard server\n                    case models_1.StreamingServers.AsianLoad:\n                        serverUrl = `https:${$('.anime:contains(Asianload)').attr('data-video')}`;\n                        if (!serverUrl.includes('pladrac'))\n                            throw new Error('Try another server');\n                        break;\n                    case models_1.StreamingServers.MixDrop:\n                        serverUrl = $('.mixdrop').attr('data-video');\n                        if (!serverUrl.includes('mixdrop'))\n                            throw new Error('Try another server');\n                        break;\n                    case models_1.StreamingServers.StreamTape:\n                        serverUrl = $('.streamtape').attr('data-video');\n                        if (!serverUrl.includes('streamtape'))\n                            throw new Error('Try another server');\n                        break;\n                    case models_1.StreamingServers.StreamSB:\n                        serverUrl = $('.streamsb').attr('data-video');\n                        if (!serverUrl.includes('stream'))\n                            throw new Error('Try another server');\n                        break;\n                }\n                return await this.fetchEpisodeSources(serverUrl, server);\n            }\n            catch (err) {\n                throw err;\n            }\n        };\n    }\n    fetchEpisodeServers(episodeId, ...args) {\n        throw new Error('Method not implemented.');\n    }\n}\nexports[\"default\"] = ViewAsian;\n//# sourceMappingURL=viewAsian.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbW92aWVzL3ZpZXdBc2lhbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxpQkFBaUIsbUJBQU8sQ0FBQyxvRkFBYztBQUN2QyxxQkFBcUIsbUJBQU8sQ0FBQyw0RkFBa0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sMkJBQTJCLGFBQWEsZ0JBQWdCLDhCQUE4QixRQUFRLEtBQUs7QUFDbEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSxFQUFFLDZCQUE2QjtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsYUFBYSxTQUFTLDRCQUE0QjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhLEVBQUUsNkJBQTZCO0FBQzVFLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBdUM7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGFBQWEsR0FBRyxVQUFVO0FBQzdELHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsbURBQW1EO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcbW92aWVzXFx2aWV3QXNpYW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNvbnN0IGV4dHJhY3RvcnNfMSA9IHJlcXVpcmUoXCIuLi8uLi9leHRyYWN0b3JzXCIpO1xuY2xhc3MgVmlld0FzaWFuIGV4dGVuZHMgbW9kZWxzXzEuTW92aWVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVmlld0FzaWFuJztcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJ2h0dHBzOi8vdmlld2FzaWFuLmNvJztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vdmlld2FzaWFuLmNvL2ltYWdlcy9sb2dvLnBuZyc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ01PVklFUy5WaWV3QXNpYW4nO1xuICAgICAgICB0aGlzLnN1cHBvcnRlZFR5cGVzID0gbmV3IFNldChbbW9kZWxzXzEuVHZUeXBlLk1PVklFLCBtb2RlbHNfMS5UdlR5cGUuVFZTRVJJRVNdKTtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocXVlcnksIHBhZ2UgPSAxKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWFyY2hSZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoYCR7dGhpcy5iYXNlVXJsfS9tb3ZpZS9zZWFyY2gvJHtxdWVyeS5yZXBsYWNlKC9bXFxXX10rL2csICctJyl9P3BhZ2U9JHtwYWdlfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hdlNlbGVjdG9yID0gJ2RpdiNwYWdpbmF0aW9uID4gbmF2Om50aC1jaGlsZCgxKSA+IHVsOm50aC1jaGlsZCgxKSc7XG4gICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0Lmhhc05leHRQYWdlID1cbiAgICAgICAgICAgICAgICAgICAgJChuYXZTZWxlY3RvcikubGVuZ3RoID4gMCA/ICEkKG5hdlNlbGVjdG9yKS5jaGlsZHJlbigpLmxhc3QoKS5oYXNDbGFzcygnYWN0aXZlJykgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAkKCcubW92aWVzLWxpc3QtZnVsbCA+IGRpdi5tbC1pdGVtJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxlYXNlRGF0ZSA9ICQoZWwpLmZpbmQoJ2Rpdi5tbC1pdGVtID4gZGl2Lm1saS1pbmZvID4gc3BhbjpudGgtY2hpbGQoMSknKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdC5yZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYSA9ICQoZWwpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZSgxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkKGVsKS5maW5kKCdhJykuYXR0cigndGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7JChlbCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6ICQoZWwpLmZpbmQoJ2EgPiBpbWcnKS5hdHRyKCdkYXRhLW9yaWdpbmFsJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlRGF0ZTogaXNOYU4ocGFyc2VJbnQocmVsZWFzZURhdGUpKSA/IHVuZGVmaW5lZCA6IHJlbGVhc2VEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICB0eXBlOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICQoZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAuZmluZChcImRpdi5maWxtLWRldGFpbCA+IGRpdi5mZC1pbmZvciA+IHNwYW4uZmxvYXQtcmlnaHRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgIC50ZXh0KCkgPT09IFwiTW92aWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgPyBUdlR5cGUuTU9WSUVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgIDogVHZUeXBlLlRWU0VSSUVTLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmV0Y2hNZWRpYUluZm8gPSBhc3luYyAobWVkaWFJZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVhbE1lZGlhSWQgPSBtZWRpYUlkO1xuICAgICAgICAgICAgaWYgKCFtZWRpYUlkLnN0YXJ0c1dpdGgodGhpcy5iYXNlVXJsKSlcbiAgICAgICAgICAgICAgICBtZWRpYUlkID0gYCR7dGhpcy5iYXNlVXJsfS93YXRjaC8ke21lZGlhSWQuc3BsaXQoJy8nKS5zbGljZSgxKX0vd2F0Y2hpbmcuaHRtbGA7XG4gICAgICAgICAgICBjb25zdCBtZWRpYUluZm8gPSB7XG4gICAgICAgICAgICAgICAgaWQ6ICcnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KG1lZGlhSWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5pZCA9IHJlYWxNZWRpYUlkO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby50aXRsZSA9ICQoJy5kZXRhaWwtbW9kIGgzJykudGV4dCgpO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5iYW5uZXIgPSAkKCcuZGV0YWlsLW1vZCA+IGRtLXRodW1iID4gaW1nJykuYXR0cignc3JjJyk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLm90aGVyTmFtZXMgPSAkKCcub3RoZXItbmFtZSBhJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+ICQoZWwpLmF0dHIoJ3RpdGxlJykudHJpbSgpKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmRlc2NyaXB0aW9uID0gJCgnLmRlc2MnKS50ZXh0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5nZW5yZSA9ICQoJy5tdmljLWluZm8gcDpjb250YWlucyhHZW5yZSkgPiBhJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaSwgZWwpID0+ICQoZWwpLnRleHQoKS5zcGxpdCgnLCcpLmpvaW4oJycpLnRyaW0oKSlcbiAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5kZXNjcmlwdGlvbiA9ICQoJy5kZXNjJykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAvLyAgIG1lZGlhSW5mby5zdGF0dXMgPSAkKCcubXZpYy1pbmZvIHA6Y29udGFpbnMoU3RhdHVzKScpLnRleHQoKS5yZXBsYWNlKCdTdGF0dXM6ICcsICcnKS50cmltKCk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmRpcmVjdG9yID0gJCgnLm12aWMtaW5mbyBwOmNvbnRhaW5zKERpcmVjdG9yKScpLnRleHQoKS5yZXBsYWNlKCdEaXJlY3RvcjogJywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBtZWRpYUluZm8uY291bnRyeSA9ICQoJy5tdmljLWluZm8gcDpjb250YWlucyhDb3VudHJ5KSBhJykudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBtZWRpYUluZm8ucmVsZWFzZURhdGUgPSAkKCcubXZpYy1pbmZvIHA6Y29udGFpbnMoUmVsZWFzZSknKS50ZXh0KCkucmVwbGFjZSgnUmVsZWFzZTogJywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBtZWRpYUluZm8uZXBpc29kZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAkKCd1bCNlcGlzb2Rlcy1zdi0xIGxpJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBtZWRpYUluZm8uZXBpc29kZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAkKGVsKS5maW5kKCdhJykuYXR0cignaHJlZicpLnJlcGxhY2UoJz9lcD0nLCAnJGVwaXNvZGUkJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJChlbCkuZmluZCgnYScpLmF0dHIoJ3RpdGxlJykudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBpc29kZTogJChlbCkuZmluZCgnYScpLmF0dHIoJ2VwaXNvZGUtZGF0YScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVcmx9JHskKGVsKS5maW5kKCdhJykuYXR0cignaHJlZicpfWAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYUluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZldGNoRXBpc29kZVNvdXJjZXMgPSBhc3luYyAoZXBpc29kZUlkLCBzZXJ2ZXIgPSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLkFzaWFuTG9hZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGVwaXNvZGVJZC5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJVcmwgPSBuZXcgVVJMKGVwaXNvZGVJZCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLkFzaWFuTG9hZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGF3YWl0IG5ldyBleHRyYWN0b3JzXzEuQXNpYW5Mb2FkKHRoaXMucHJveHlDb25maWcsIHRoaXMuYWRhcHRlcikuZXh0cmFjdChzZXJ2ZXJVcmwpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5NaXhEcm9wOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBhd2FpdCBuZXcgZXh0cmFjdG9yc18xLk1peERyb3AodGhpcy5wcm94eUNvbmZpZywgdGhpcy5hZGFwdGVyKS5leHRyYWN0KHNlcnZlclVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuU3RyZWFtVGFwZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlczogYXdhaXQgbmV3IGV4dHJhY3RvcnNfMS5TdHJlYW1UYXBlKHRoaXMucHJveHlDb25maWcsIHRoaXMuYWRhcHRlcikuZXh0cmFjdChzZXJ2ZXJVcmwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlN0cmVhbVNCOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBhd2FpdCBuZXcgZXh0cmFjdG9yc18xLlN0cmVhbVNCKHRoaXMucHJveHlDb25maWcsIHRoaXMuYWRhcHRlcikuZXh0cmFjdChzZXJ2ZXJVcmwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2VydmVyIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWVwaXNvZGVJZC5pbmNsdWRlcygnJGVwaXNvZGUkJykpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGVwaXNvZGUgaWQnKTtcbiAgICAgICAgICAgIGVwaXNvZGVJZCA9IGAke2VwaXNvZGVJZC5yZXBsYWNlKCckZXBpc29kZSQnLCAnP2VwPScpfWA7XG4gICAgICAgICAgICAvLyByZXR1cm4gZXBpc29kZUlkO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVwaXNvZGVJZC5zdGFydHNXaXRoKHRoaXMuYmFzZVVybCkpXG4gICAgICAgICAgICAgICAgICAgIGVwaXNvZGVJZCA9IGAke3RoaXMuYmFzZVVybH0vJHtlcGlzb2RlSWR9YDtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChlcGlzb2RlSWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgICAgICAgICAgICAgIGxldCBzZXJ2ZXJVcmwgPSAnJztcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBhc2lhbmxvYWQgaXMgdGhlIHNhbWUgYXMgdGhlIHN0YW5kYXJkIHNlcnZlclxuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuQXNpYW5Mb2FkOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyVXJsID0gYGh0dHBzOiR7JCgnLmFuaW1lOmNvbnRhaW5zKEFzaWFubG9hZCknKS5hdHRyKCdkYXRhLXZpZGVvJyl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VydmVyVXJsLmluY2x1ZGVzKCdwbGFkcmFjJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUcnkgYW5vdGhlciBzZXJ2ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIG1vZGVsc18xLlN0cmVhbWluZ1NlcnZlcnMuTWl4RHJvcDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclVybCA9ICQoJy5taXhkcm9wJykuYXR0cignZGF0YS12aWRlbycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXJ2ZXJVcmwuaW5jbHVkZXMoJ21peGRyb3AnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyeSBhbm90aGVyIHNlcnZlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuU3RyZWFtaW5nU2VydmVycy5TdHJlYW1UYXBlOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyVXJsID0gJCgnLnN0cmVhbXRhcGUnKS5hdHRyKCdkYXRhLXZpZGVvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlcnZlclVybC5pbmNsdWRlcygnc3RyZWFtdGFwZScpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVHJ5IGFub3RoZXIgc2VydmVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5TdHJlYW1pbmdTZXJ2ZXJzLlN0cmVhbVNCOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyVXJsID0gJCgnLnN0cmVhbXNiJykuYXR0cignZGF0YS12aWRlbycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXJ2ZXJVcmwuaW5jbHVkZXMoJ3N0cmVhbScpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVHJ5IGFub3RoZXIgc2VydmVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hFcGlzb2RlU291cmNlcyhzZXJ2ZXJVcmwsIHNlcnZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmZXRjaEVwaXNvZGVTZXJ2ZXJzKGVwaXNvZGVJZCwgLi4uYXJncykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gVmlld0FzaWFuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlld0FzaWFuLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/movies/viewAsian.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/news/animenewsnetwork.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/news/animenewsnetwork.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nconst axios_1 = __importDefault(__webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/dist/node/axios.cjs\"));\nconst utils_1 = __webpack_require__(/*! ../../utils/utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/utils.js\");\nconst models_1 = __webpack_require__(/*! ../../models */ \"(rsc)/./node_modules/@consumet/extensions/dist/models/index.js\");\nclass NewsFeed {\n    constructor(title, id, uploadedAt, topics, preview, thumbnail, thumbnailHash, url) {\n        this.title = title;\n        this.id = id;\n        this.uploadedAt = uploadedAt;\n        this.topics = topics;\n        this.preview = preview;\n        this.thumbnail = thumbnail;\n        this.thumbnailHash = thumbnailHash;\n        this.url = url;\n    }\n    async getInfo() {\n        return await scrapNewsInfo(this.url).catch((err) => {\n            throw new Error(err.message);\n        });\n    }\n}\nasync function scrapNewsInfo(url) {\n    const { data } = await axios_1.default.get(url);\n    const $ = (0, cheerio_1.load)(data);\n    const title = $('#page_header').text().replace('News', '').trim();\n    const intro = $('.intro').first().text().trim();\n    const description = $('.meat > p').text().trim().split('\\n\\n').join('\\n');\n    const time = $('#page-title > small > time').text().trim();\n    const thumbnailSlug = $('.meat > figure.fright').first().find('img').attr('data-src');\n    const thumbnail = thumbnailSlug\n        ? `https://animenewsnetwork.com${thumbnailSlug}`\n        : 'https://i.imgur.com/KkkVr1g.png';\n    const thumbnailHash = (0, utils_1.getHashFromImage)(thumbnailSlug ? `https://animenewsnetwork.com${thumbnailSlug}` : 'https://i.imgur.com/KkkVr1g.png');\n    return {\n        id: url.split('news/')[1],\n        title,\n        uploadedAt: time,\n        intro,\n        description,\n        thumbnail,\n        thumbnailHash,\n        url,\n    };\n}\nclass AnimeNewsNetwork extends models_1.NewsParser {\n    constructor() {\n        super(...arguments);\n        this.name = 'Anime News Network';\n        this.baseUrl = 'https://www.animenewsnetwork.com';\n        this.classPath = 'NEWS.ANN';\n        this.logo = 'https://i.imgur.com/KkkVr1g.png';\n        /**\n         * @param topic Topic for fetching the feeds\n         */\n        this.fetchNewsFeeds = async (topic) => await axios_1.default\n            .get(`${this.baseUrl}/news${topic && Object.values(models_1.Topics).includes(topic) ? `/?topic=${topic}` : ''}`)\n            .then(({ data }) => {\n            const $ = (0, cheerio_1.load)(data);\n            const feeds = [];\n            $('.herald.box.news').each((i, el) => {\n                const thumbnailSlug = $(el).find('.thumbnail').attr('data-src');\n                const thumbnail = thumbnailSlug ? `${this.baseUrl}${thumbnailSlug}` : this.logo;\n                const thumbnailHash = (0, utils_1.getHashFromImage)(thumbnailSlug ? `${this.baseUrl}${thumbnailSlug}` : this.logo);\n                const title = $(el).find('h3').text().trim();\n                const slug = $(el).find('h3 > a').attr('href') || '';\n                const url = `${this.baseUrl}${slug}`;\n                const byline = $(el).find('.byline');\n                const time = byline.find('time').text().trim();\n                const topics = [];\n                byline.find('.topics > a').each((i, el) => {\n                    topics.push($(el).text().trim());\n                });\n                const El = $(el).find('.preview');\n                const preview = {\n                    intro: El.find('.intro').text().trim(),\n                    full: El.find('.full').text().replace('―', '').trim(),\n                };\n                feeds.push(new NewsFeed(title, slug.replace('/news/', ''), time, topics, preview, thumbnail, thumbnailHash, url));\n            });\n            return feeds;\n        })\n            .catch((err) => {\n            throw new Error(err.message);\n        });\n        /**\n         * @param id ID of the news from Anime News Network\n         * @example\n         * fetchNewsInfo('2022-08-26/higurashi-no-naku-koro-ni-rei-oni-okoshi-hen-manga-ends/.188996') // --> https://www.animenewsnetwork.com/news/2022-08-26/higurashi-no-naku-koro-ni-rei-oni-okoshi-hen-manga-ends/.188996\n         */\n        this.fetchNewsInfo = async (id) => {\n            if (!id || typeof id !== 'string')\n                throw new TypeError(`The type of parameter \"id\" should be of type \"string\", received type \"${typeof id}\" instead`);\n            return await scrapNewsInfo(`${this.baseUrl}/news/${id}`).catch((err) => {\n                throw new Error(err.message);\n            });\n        };\n    }\n}\nexports[\"default\"] = AnimeNewsNetwork;\n//# sourceMappingURL=animenewsnetwork.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbmV3cy9hbmltZW5ld3NuZXR3b3JrLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLG1CQUFPLENBQUMsb0VBQVM7QUFDbkMsZ0NBQWdDLG1CQUFPLENBQUMsNkRBQU87QUFDL0MsZ0JBQWdCLG1CQUFPLENBQUMsd0ZBQW1CO0FBQzNDLGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQSx1R0FBdUcsY0FBYztBQUNySDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixhQUFhLE9BQU8scUVBQXFFLE1BQU0sT0FBTztBQUMxSCxxQkFBcUIsTUFBTTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxhQUFhLEVBQUUsY0FBYztBQUNsRix1RkFBdUYsYUFBYSxFQUFFLGNBQWM7QUFDcEg7QUFDQTtBQUNBLCtCQUErQixhQUFhLEVBQUUsS0FBSztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkdBQTZHLFVBQVU7QUFDdkgsMENBQTBDLGFBQWEsUUFBUSxHQUFHO0FBQ2xFO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHByb3ZpZGVyc1xcbmV3c1xcYW5pbWVuZXdzbmV0d29yay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNoZWVyaW9fMSA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuY29uc3QgYXhpb3NfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiYXhpb3NcIikpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy91dGlsc1wiKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4uLy4uL21vZGVsc1wiKTtcbmNsYXNzIE5ld3NGZWVkIHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgaWQsIHVwbG9hZGVkQXQsIHRvcGljcywgcHJldmlldywgdGh1bWJuYWlsLCB0aHVtYm5haWxIYXNoLCB1cmwpIHtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMudXBsb2FkZWRBdCA9IHVwbG9hZGVkQXQ7XG4gICAgICAgIHRoaXMudG9waWNzID0gdG9waWNzO1xuICAgICAgICB0aGlzLnByZXZpZXcgPSBwcmV2aWV3O1xuICAgICAgICB0aGlzLnRodW1ibmFpbCA9IHRodW1ibmFpbDtcbiAgICAgICAgdGhpcy50aHVtYm5haWxIYXNoID0gdGh1bWJuYWlsSGFzaDtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgfVxuICAgIGFzeW5jIGdldEluZm8oKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBzY3JhcE5ld3NJbmZvKHRoaXMudXJsKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBzY3JhcE5ld3NJbmZvKHVybCkge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3NfMS5kZWZhdWx0LmdldCh1cmwpO1xuICAgIGNvbnN0ICQgPSAoMCwgY2hlZXJpb18xLmxvYWQpKGRhdGEpO1xuICAgIGNvbnN0IHRpdGxlID0gJCgnI3BhZ2VfaGVhZGVyJykudGV4dCgpLnJlcGxhY2UoJ05ld3MnLCAnJykudHJpbSgpO1xuICAgIGNvbnN0IGludHJvID0gJCgnLmludHJvJykuZmlyc3QoKS50ZXh0KCkudHJpbSgpO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gJCgnLm1lYXQgPiBwJykudGV4dCgpLnRyaW0oKS5zcGxpdCgnXFxuXFxuJykuam9pbignXFxuJyk7XG4gICAgY29uc3QgdGltZSA9ICQoJyNwYWdlLXRpdGxlID4gc21hbGwgPiB0aW1lJykudGV4dCgpLnRyaW0oKTtcbiAgICBjb25zdCB0aHVtYm5haWxTbHVnID0gJCgnLm1lYXQgPiBmaWd1cmUuZnJpZ2h0JykuZmlyc3QoKS5maW5kKCdpbWcnKS5hdHRyKCdkYXRhLXNyYycpO1xuICAgIGNvbnN0IHRodW1ibmFpbCA9IHRodW1ibmFpbFNsdWdcbiAgICAgICAgPyBgaHR0cHM6Ly9hbmltZW5ld3NuZXR3b3JrLmNvbSR7dGh1bWJuYWlsU2x1Z31gXG4gICAgICAgIDogJ2h0dHBzOi8vaS5pbWd1ci5jb20vS2trVnIxZy5wbmcnO1xuICAgIGNvbnN0IHRodW1ibmFpbEhhc2ggPSAoMCwgdXRpbHNfMS5nZXRIYXNoRnJvbUltYWdlKSh0aHVtYm5haWxTbHVnID8gYGh0dHBzOi8vYW5pbWVuZXdzbmV0d29yay5jb20ke3RodW1ibmFpbFNsdWd9YCA6ICdodHRwczovL2kuaW1ndXIuY29tL0tra1ZyMWcucG5nJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHVybC5zcGxpdCgnbmV3cy8nKVsxXSxcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIHVwbG9hZGVkQXQ6IHRpbWUsXG4gICAgICAgIGludHJvLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgdGh1bWJuYWlsLFxuICAgICAgICB0aHVtYm5haWxIYXNoLFxuICAgICAgICB1cmwsXG4gICAgfTtcbn1cbmNsYXNzIEFuaW1lTmV3c05ldHdvcmsgZXh0ZW5kcyBtb2RlbHNfMS5OZXdzUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0FuaW1lIE5ld3MgTmV0d29yayc7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9ICdodHRwczovL3d3dy5hbmltZW5ld3NuZXR3b3JrLmNvbSc7XG4gICAgICAgIHRoaXMuY2xhc3NQYXRoID0gJ05FV1MuQU5OJztcbiAgICAgICAgdGhpcy5sb2dvID0gJ2h0dHBzOi8vaS5pbWd1ci5jb20vS2trVnIxZy5wbmcnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHRvcGljIFRvcGljIGZvciBmZXRjaGluZyB0aGUgZmVlZHNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmV0Y2hOZXdzRmVlZHMgPSBhc3luYyAodG9waWMpID0+IGF3YWl0IGF4aW9zXzEuZGVmYXVsdFxuICAgICAgICAgICAgLmdldChgJHt0aGlzLmJhc2VVcmx9L25ld3Mke3RvcGljICYmIE9iamVjdC52YWx1ZXMobW9kZWxzXzEuVG9waWNzKS5pbmNsdWRlcyh0b3BpYykgPyBgLz90b3BpYz0ke3RvcGljfWAgOiAnJ31gKVxuICAgICAgICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCAkID0gKDAsIGNoZWVyaW9fMS5sb2FkKShkYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IGZlZWRzID0gW107XG4gICAgICAgICAgICAkKCcuaGVyYWxkLmJveC5uZXdzJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aHVtYm5haWxTbHVnID0gJChlbCkuZmluZCgnLnRodW1ibmFpbCcpLmF0dHIoJ2RhdGEtc3JjJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGh1bWJuYWlsID0gdGh1bWJuYWlsU2x1ZyA/IGAke3RoaXMuYmFzZVVybH0ke3RodW1ibmFpbFNsdWd9YCA6IHRoaXMubG9nbztcbiAgICAgICAgICAgICAgICBjb25zdCB0aHVtYm5haWxIYXNoID0gKDAsIHV0aWxzXzEuZ2V0SGFzaEZyb21JbWFnZSkodGh1bWJuYWlsU2x1ZyA/IGAke3RoaXMuYmFzZVVybH0ke3RodW1ibmFpbFNsdWd9YCA6IHRoaXMubG9nbyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSAkKGVsKS5maW5kKCdoMycpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2x1ZyA9ICQoZWwpLmZpbmQoJ2gzID4gYScpLmF0dHIoJ2hyZWYnKSB8fCAnJztcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9JHtzbHVnfWA7XG4gICAgICAgICAgICAgICAgY29uc3QgYnlsaW5lID0gJChlbCkuZmluZCgnLmJ5bGluZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBieWxpbmUuZmluZCgndGltZScpLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9waWNzID0gW107XG4gICAgICAgICAgICAgICAgYnlsaW5lLmZpbmQoJy50b3BpY3MgPiBhJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG9waWNzLnB1c2goJChlbCkudGV4dCgpLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgRWwgPSAkKGVsKS5maW5kKCcucHJldmlldycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpZXcgPSB7XG4gICAgICAgICAgICAgICAgICAgIGludHJvOiBFbC5maW5kKCcuaW50cm8nKS50ZXh0KCkudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICBmdWxsOiBFbC5maW5kKCcuZnVsbCcpLnRleHQoKS5yZXBsYWNlKCfigJUnLCAnJykudHJpbSgpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZmVlZHMucHVzaChuZXcgTmV3c0ZlZWQodGl0bGUsIHNsdWcucmVwbGFjZSgnL25ld3MvJywgJycpLCB0aW1lLCB0b3BpY3MsIHByZXZpZXcsIHRodW1ibmFpbCwgdGh1bWJuYWlsSGFzaCwgdXJsKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBmZWVkcztcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBpZCBJRCBvZiB0aGUgbmV3cyBmcm9tIEFuaW1lIE5ld3MgTmV0d29ya1xuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBmZXRjaE5ld3NJbmZvKCcyMDIyLTA4LTI2L2hpZ3VyYXNoaS1uby1uYWt1LWtvcm8tbmktcmVpLW9uaS1va29zaGktaGVuLW1hbmdhLWVuZHMvLjE4ODk5NicpIC8vIC0tPiBodHRwczovL3d3dy5hbmltZW5ld3NuZXR3b3JrLmNvbS9uZXdzLzIwMjItMDgtMjYvaGlndXJhc2hpLW5vLW5ha3Uta29yby1uaS1yZWktb25pLW9rb3NoaS1oZW4tbWFuZ2EtZW5kcy8uMTg4OTk2XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZldGNoTmV3c0luZm8gPSBhc3luYyAoaWQpID0+IHtcbiAgICAgICAgICAgIGlmICghaWQgfHwgdHlwZW9mIGlkICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgdHlwZSBvZiBwYXJhbWV0ZXIgXCJpZFwiIHNob3VsZCBiZSBvZiB0eXBlIFwic3RyaW5nXCIsIHJlY2VpdmVkIHR5cGUgXCIke3R5cGVvZiBpZH1cIiBpbnN0ZWFkYCk7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgc2NyYXBOZXdzSW5mbyhgJHt0aGlzLmJhc2VVcmx9L25ld3MvJHtpZH1gKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IEFuaW1lTmV3c05ldHdvcms7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmltZW5ld3NuZXR3b3JrLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/news/animenewsnetwork.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/providers/news/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/providers/news/index.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst animenewsnetwork_1 = __importDefault(__webpack_require__(/*! ./animenewsnetwork */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/news/animenewsnetwork.js\"));\nexports[\"default\"] = { ANN: animenewsnetwork_1.default };\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC9wcm92aWRlcnMvbmV3cy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDJDQUEyQyxtQkFBTyxDQUFDLDZHQUFvQjtBQUN2RSxrQkFBZSxLQUFLO0FBQ3BCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFxwcm92aWRlcnNcXG5ld3NcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgYW5pbWVuZXdzbmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2FuaW1lbmV3c25ldHdvcmtcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0geyBBTk46IGFuaW1lbmV3c25ldHdvcmtfMS5kZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/providers/news/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/utils/getComics.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/utils/getComics.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.parsePostInfo = void 0;\nconst parsePostInfo = (post) => {\n    let year = '';\n    let size = '';\n    let description = '';\n    let sizeDone = false;\n    for (let i = 0; i < post.length; i++) {\n        if (i + 5 < post.length &&\n            post[i] == 'Y' &&\n            post[i + 1] == 'e' &&\n            post[i + 2] == 'a' &&\n            post[i + 3] == 'r' &&\n            post[i + 4] == ' ' &&\n            post[i + 5] == ':') {\n            year = post[i + 7] + post[i + 8] + post[i + 9] + post[i + 10];\n            i += 9;\n        }\n        else if (i + 5 < post.length &&\n            post[i] == 'S' &&\n            post[i + 1] == 'i' &&\n            post[i + 2] == 'z' &&\n            post[i + 3] == 'e' &&\n            post[i + 4] == ' ' &&\n            post[i + 5] == ':') {\n            let j = i + 7;\n            const temp = j;\n            for (; j < temp + 4; j++) {\n                if (!isNaN(Number(post[j]))) {\n                    size += post[j];\n                }\n                else {\n                    break;\n                }\n            }\n            size += post[j] + post[j + 1];\n            i += j - i;\n            i += 2;\n            sizeDone = true;\n        }\n        if (sizeDone) {\n            description += post[i];\n        }\n    }\n    description = description.substring(0, description.length - 12);\n    return { year, size, description };\n};\nexports.parsePostInfo = parsePostInfo;\n//# sourceMappingURL=getComics.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC91dGlscy9nZXRDb21pY3MuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGNBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHFCQUFxQjtBQUNyQiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxsb3JkclxcRG93bmxvYWRzXFxBbmlUZWFtcy1tYWluXFxub2RlX21vZHVsZXNcXEBjb25zdW1ldFxcZXh0ZW5zaW9uc1xcZGlzdFxcdXRpbHNcXGdldENvbWljcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VQb3N0SW5mbyA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlUG9zdEluZm8gPSAocG9zdCkgPT4ge1xuICAgIGxldCB5ZWFyID0gJyc7XG4gICAgbGV0IHNpemUgPSAnJztcbiAgICBsZXQgZGVzY3JpcHRpb24gPSAnJztcbiAgICBsZXQgc2l6ZURvbmUgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgKyA1IDwgcG9zdC5sZW5ndGggJiZcbiAgICAgICAgICAgIHBvc3RbaV0gPT0gJ1knICYmXG4gICAgICAgICAgICBwb3N0W2kgKyAxXSA9PSAnZScgJiZcbiAgICAgICAgICAgIHBvc3RbaSArIDJdID09ICdhJyAmJlxuICAgICAgICAgICAgcG9zdFtpICsgM10gPT0gJ3InICYmXG4gICAgICAgICAgICBwb3N0W2kgKyA0XSA9PSAnICcgJiZcbiAgICAgICAgICAgIHBvc3RbaSArIDVdID09ICc6Jykge1xuICAgICAgICAgICAgeWVhciA9IHBvc3RbaSArIDddICsgcG9zdFtpICsgOF0gKyBwb3N0W2kgKyA5XSArIHBvc3RbaSArIDEwXTtcbiAgICAgICAgICAgIGkgKz0gOTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpICsgNSA8IHBvc3QubGVuZ3RoICYmXG4gICAgICAgICAgICBwb3N0W2ldID09ICdTJyAmJlxuICAgICAgICAgICAgcG9zdFtpICsgMV0gPT0gJ2knICYmXG4gICAgICAgICAgICBwb3N0W2kgKyAyXSA9PSAneicgJiZcbiAgICAgICAgICAgIHBvc3RbaSArIDNdID09ICdlJyAmJlxuICAgICAgICAgICAgcG9zdFtpICsgNF0gPT0gJyAnICYmXG4gICAgICAgICAgICBwb3N0W2kgKyA1XSA9PSAnOicpIHtcbiAgICAgICAgICAgIGxldCBqID0gaSArIDc7XG4gICAgICAgICAgICBjb25zdCB0ZW1wID0gajtcbiAgICAgICAgICAgIGZvciAoOyBqIDwgdGVtcCArIDQ7IGorKykge1xuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oTnVtYmVyKHBvc3Rbal0pKSkge1xuICAgICAgICAgICAgICAgICAgICBzaXplICs9IHBvc3Rbal07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaXplICs9IHBvc3Rbal0gKyBwb3N0W2ogKyAxXTtcbiAgICAgICAgICAgIGkgKz0gaiAtIGk7XG4gICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgICBzaXplRG9uZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNpemVEb25lKSB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbiArPSBwb3N0W2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIGRlc2NyaXB0aW9uLmxlbmd0aCAtIDEyKTtcbiAgICByZXR1cm4geyB5ZWFyLCBzaXplLCBkZXNjcmlwdGlvbiB9O1xufTtcbmV4cG9ydHMucGFyc2VQb3N0SW5mbyA9IHBhcnNlUG9zdEluZm87XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRDb21pY3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/utils/getComics.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/utils/index.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MegaUp = exports.getKKey = exports.VidMoly = exports.compareTwoStrings = exports.substringBefore = exports.substringAfter = exports.AsianLoad = exports.BilibiliExtractor = exports.convertDuration = exports.isJson = exports.days = exports.getDays = exports.anilistCharacterQuery = exports.Filemoon = exports.anilistStaffInfoQuery = exports.anilistSiteStatisticsQuery = exports.anilistAdvancedQuery = exports.anilistGenresQuery = exports.anilistAiringScheduleQuery = exports.anilistPopularQuery = exports.anilistTrendingQuery = exports.VizCloud = exports.StreamTape = exports.MegaCloud = exports.RapidCloud = exports.range = exports.kitsuSearchQuery = exports.anilistMediaDetailQuery = exports.anilistSearchQuery = exports.Kwik = exports.MixDrop = exports.VidCloud = exports.capitalizeFirstLetter = exports.genElement = exports.parsePostInfo = exports.formatTitle = exports.floorID = exports.splitAuthor = exports.StreamHub = exports.SmashyStream = exports.StreamSB = exports.GogoCDN = exports.USER_AGENT = void 0;\nconst extractors_1 = __webpack_require__(/*! ../extractors */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/index.js\");\nObject.defineProperty(exports, \"GogoCDN\", ({ enumerable: true, get: function () { return extractors_1.GogoCDN; } }));\nObject.defineProperty(exports, \"StreamSB\", ({ enumerable: true, get: function () { return extractors_1.StreamSB; } }));\nObject.defineProperty(exports, \"VidCloud\", ({ enumerable: true, get: function () { return extractors_1.VidCloud; } }));\nObject.defineProperty(exports, \"MixDrop\", ({ enumerable: true, get: function () { return extractors_1.MixDrop; } }));\nObject.defineProperty(exports, \"Kwik\", ({ enumerable: true, get: function () { return extractors_1.Kwik; } }));\nObject.defineProperty(exports, \"RapidCloud\", ({ enumerable: true, get: function () { return extractors_1.RapidCloud; } }));\nObject.defineProperty(exports, \"MegaCloud\", ({ enumerable: true, get: function () { return extractors_1.MegaCloud; } }));\nObject.defineProperty(exports, \"StreamTape\", ({ enumerable: true, get: function () { return extractors_1.StreamTape; } }));\nObject.defineProperty(exports, \"VizCloud\", ({ enumerable: true, get: function () { return extractors_1.VizCloud; } }));\nObject.defineProperty(exports, \"Filemoon\", ({ enumerable: true, get: function () { return extractors_1.Filemoon; } }));\nObject.defineProperty(exports, \"BilibiliExtractor\", ({ enumerable: true, get: function () { return extractors_1.BilibiliExtractor; } }));\nObject.defineProperty(exports, \"AsianLoad\", ({ enumerable: true, get: function () { return extractors_1.AsianLoad; } }));\nObject.defineProperty(exports, \"SmashyStream\", ({ enumerable: true, get: function () { return extractors_1.SmashyStream; } }));\nObject.defineProperty(exports, \"StreamHub\", ({ enumerable: true, get: function () { return extractors_1.StreamHub; } }));\nObject.defineProperty(exports, \"VidMoly\", ({ enumerable: true, get: function () { return extractors_1.VidMoly; } }));\nObject.defineProperty(exports, \"MegaUp\", ({ enumerable: true, get: function () { return extractors_1.MegaUp; } }));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/utils.js\");\nObject.defineProperty(exports, \"USER_AGENT\", ({ enumerable: true, get: function () { return utils_1.USER_AGENT; } }));\nObject.defineProperty(exports, \"splitAuthor\", ({ enumerable: true, get: function () { return utils_1.splitAuthor; } }));\nObject.defineProperty(exports, \"floorID\", ({ enumerable: true, get: function () { return utils_1.floorID; } }));\nObject.defineProperty(exports, \"formatTitle\", ({ enumerable: true, get: function () { return utils_1.formatTitle; } }));\nObject.defineProperty(exports, \"genElement\", ({ enumerable: true, get: function () { return utils_1.genElement; } }));\nObject.defineProperty(exports, \"capitalizeFirstLetter\", ({ enumerable: true, get: function () { return utils_1.capitalizeFirstLetter; } }));\nObject.defineProperty(exports, \"range\", ({ enumerable: true, get: function () { return utils_1.range; } }));\nObject.defineProperty(exports, \"getDays\", ({ enumerable: true, get: function () { return utils_1.getDays; } }));\nObject.defineProperty(exports, \"days\", ({ enumerable: true, get: function () { return utils_1.days; } }));\nObject.defineProperty(exports, \"isJson\", ({ enumerable: true, get: function () { return utils_1.isJson; } }));\nObject.defineProperty(exports, \"convertDuration\", ({ enumerable: true, get: function () { return utils_1.convertDuration; } }));\nObject.defineProperty(exports, \"substringAfter\", ({ enumerable: true, get: function () { return utils_1.substringAfter; } }));\nObject.defineProperty(exports, \"substringBefore\", ({ enumerable: true, get: function () { return utils_1.substringBefore; } }));\nObject.defineProperty(exports, \"compareTwoStrings\", ({ enumerable: true, get: function () { return utils_1.compareTwoStrings; } }));\nconst queries_1 = __webpack_require__(/*! ./queries */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/queries.js\");\nObject.defineProperty(exports, \"anilistSearchQuery\", ({ enumerable: true, get: function () { return queries_1.anilistSearchQuery; } }));\nObject.defineProperty(exports, \"anilistMediaDetailQuery\", ({ enumerable: true, get: function () { return queries_1.anilistMediaDetailQuery; } }));\nObject.defineProperty(exports, \"kitsuSearchQuery\", ({ enumerable: true, get: function () { return queries_1.kitsuSearchQuery; } }));\nObject.defineProperty(exports, \"anilistTrendingQuery\", ({ enumerable: true, get: function () { return queries_1.anilistTrendingQuery; } }));\nObject.defineProperty(exports, \"anilistPopularQuery\", ({ enumerable: true, get: function () { return queries_1.anilistPopularQuery; } }));\nObject.defineProperty(exports, \"anilistAiringScheduleQuery\", ({ enumerable: true, get: function () { return queries_1.anilistAiringScheduleQuery; } }));\nObject.defineProperty(exports, \"anilistGenresQuery\", ({ enumerable: true, get: function () { return queries_1.anilistGenresQuery; } }));\nObject.defineProperty(exports, \"anilistAdvancedQuery\", ({ enumerable: true, get: function () { return queries_1.anilistAdvancedQuery; } }));\nObject.defineProperty(exports, \"anilistSiteStatisticsQuery\", ({ enumerable: true, get: function () { return queries_1.anilistSiteStatisticsQuery; } }));\nObject.defineProperty(exports, \"anilistCharacterQuery\", ({ enumerable: true, get: function () { return queries_1.anilistCharacterQuery; } }));\nObject.defineProperty(exports, \"anilistStaffInfoQuery\", ({ enumerable: true, get: function () { return queries_1.anilistStaffInfoQuery; } }));\nconst getComics_1 = __webpack_require__(/*! ./getComics */ \"(rsc)/./node_modules/@consumet/extensions/dist/utils/getComics.js\");\nObject.defineProperty(exports, \"parsePostInfo\", ({ enumerable: true, get: function () { return getComics_1.parsePostInfo; } }));\nconst kkey_1 = __importDefault(__webpack_require__(/*! ../extractors/kisskh/kkey */ \"(rsc)/./node_modules/@consumet/extensions/dist/extractors/kisskh/kkey.js\"));\nexports.getKKey = kkey_1.default;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC91dGlscy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWMsR0FBRyxlQUFlLEdBQUcsZUFBZSxHQUFHLHlCQUF5QixHQUFHLHVCQUF1QixHQUFHLHNCQUFzQixHQUFHLGlCQUFpQixHQUFHLHlCQUF5QixHQUFHLHVCQUF1QixHQUFHLGNBQWMsR0FBRyxZQUFZLEdBQUcsZUFBZSxHQUFHLDZCQUE2QixHQUFHLGdCQUFnQixHQUFHLDZCQUE2QixHQUFHLGtDQUFrQyxHQUFHLDRCQUE0QixHQUFHLDBCQUEwQixHQUFHLGtDQUFrQyxHQUFHLDJCQUEyQixHQUFHLDRCQUE0QixHQUFHLGdCQUFnQixHQUFHLGtCQUFrQixHQUFHLGlCQUFpQixHQUFHLGtCQUFrQixHQUFHLGFBQWEsR0FBRyx3QkFBd0IsR0FBRywrQkFBK0IsR0FBRywwQkFBMEIsR0FBRyxZQUFZLEdBQUcsZUFBZSxHQUFHLGdCQUFnQixHQUFHLDZCQUE2QixHQUFHLGtCQUFrQixHQUFHLHFCQUFxQixHQUFHLG1CQUFtQixHQUFHLGVBQWUsR0FBRyxtQkFBbUIsR0FBRyxpQkFBaUIsR0FBRyxvQkFBb0IsR0FBRyxnQkFBZ0IsR0FBRyxlQUFlLEdBQUcsa0JBQWtCO0FBQ2wvQixxQkFBcUIsbUJBQU8sQ0FBQyx5RkFBZTtBQUM1QywyQ0FBMEMsRUFBRSxxQ0FBcUMsZ0NBQWdDLEVBQUM7QUFDbEgsNENBQTJDLEVBQUUscUNBQXFDLGlDQUFpQyxFQUFDO0FBQ3BILDRDQUEyQyxFQUFFLHFDQUFxQyxpQ0FBaUMsRUFBQztBQUNwSCwyQ0FBMEMsRUFBRSxxQ0FBcUMsZ0NBQWdDLEVBQUM7QUFDbEgsd0NBQXVDLEVBQUUscUNBQXFDLDZCQUE2QixFQUFDO0FBQzVHLDhDQUE2QyxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUN4SCw2Q0FBNEMsRUFBRSxxQ0FBcUMsa0NBQWtDLEVBQUM7QUFDdEgsOENBQTZDLEVBQUUscUNBQXFDLG1DQUFtQyxFQUFDO0FBQ3hILDRDQUEyQyxFQUFFLHFDQUFxQyxpQ0FBaUMsRUFBQztBQUNwSCw0Q0FBMkMsRUFBRSxxQ0FBcUMsaUNBQWlDLEVBQUM7QUFDcEgscURBQW9ELEVBQUUscUNBQXFDLDBDQUEwQyxFQUFDO0FBQ3RJLDZDQUE0QyxFQUFFLHFDQUFxQyxrQ0FBa0MsRUFBQztBQUN0SCxnREFBK0MsRUFBRSxxQ0FBcUMscUNBQXFDLEVBQUM7QUFDNUgsNkNBQTRDLEVBQUUscUNBQXFDLGtDQUFrQyxFQUFDO0FBQ3RILDJDQUEwQyxFQUFFLHFDQUFxQyxnQ0FBZ0MsRUFBQztBQUNsSCwwQ0FBeUMsRUFBRSxxQ0FBcUMsK0JBQStCLEVBQUM7QUFDaEgsZ0JBQWdCLG1CQUFPLENBQUMsOEVBQVM7QUFDakMsOENBQTZDLEVBQUUscUNBQXFDLDhCQUE4QixFQUFDO0FBQ25ILCtDQUE4QyxFQUFFLHFDQUFxQywrQkFBK0IsRUFBQztBQUNySCwyQ0FBMEMsRUFBRSxxQ0FBcUMsMkJBQTJCLEVBQUM7QUFDN0csK0NBQThDLEVBQUUscUNBQXFDLCtCQUErQixFQUFDO0FBQ3JILDhDQUE2QyxFQUFFLHFDQUFxQyw4QkFBOEIsRUFBQztBQUNuSCx5REFBd0QsRUFBRSxxQ0FBcUMseUNBQXlDLEVBQUM7QUFDekkseUNBQXdDLEVBQUUscUNBQXFDLHlCQUF5QixFQUFDO0FBQ3pHLDJDQUEwQyxFQUFFLHFDQUFxQywyQkFBMkIsRUFBQztBQUM3Ryx3Q0FBdUMsRUFBRSxxQ0FBcUMsd0JBQXdCLEVBQUM7QUFDdkcsMENBQXlDLEVBQUUscUNBQXFDLDBCQUEwQixFQUFDO0FBQzNHLG1EQUFrRCxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUM3SCxrREFBaUQsRUFBRSxxQ0FBcUMsa0NBQWtDLEVBQUM7QUFDM0gsbURBQWtELEVBQUUscUNBQXFDLG1DQUFtQyxFQUFDO0FBQzdILHFEQUFvRCxFQUFFLHFDQUFxQyxxQ0FBcUMsRUFBQztBQUNqSSxrQkFBa0IsbUJBQU8sQ0FBQyxrRkFBVztBQUNyQyxzREFBcUQsRUFBRSxxQ0FBcUMsd0NBQXdDLEVBQUM7QUFDckksMkRBQTBELEVBQUUscUNBQXFDLDZDQUE2QyxFQUFDO0FBQy9JLG9EQUFtRCxFQUFFLHFDQUFxQyxzQ0FBc0MsRUFBQztBQUNqSSx3REFBdUQsRUFBRSxxQ0FBcUMsMENBQTBDLEVBQUM7QUFDekksdURBQXNELEVBQUUscUNBQXFDLHlDQUF5QyxFQUFDO0FBQ3ZJLDhEQUE2RCxFQUFFLHFDQUFxQyxnREFBZ0QsRUFBQztBQUNySixzREFBcUQsRUFBRSxxQ0FBcUMsd0NBQXdDLEVBQUM7QUFDckksd0RBQXVELEVBQUUscUNBQXFDLDBDQUEwQyxFQUFDO0FBQ3pJLDhEQUE2RCxFQUFFLHFDQUFxQyxnREFBZ0QsRUFBQztBQUNySix5REFBd0QsRUFBRSxxQ0FBcUMsMkNBQTJDLEVBQUM7QUFDM0kseURBQXdELEVBQUUscUNBQXFDLDJDQUEyQyxFQUFDO0FBQzNJLG9CQUFvQixtQkFBTyxDQUFDLHNGQUFhO0FBQ3pDLGlEQUFnRCxFQUFFLHFDQUFxQyxxQ0FBcUMsRUFBQztBQUM3SCwrQkFBK0IsbUJBQU8sQ0FBQywyR0FBMkI7QUFDbEUsZUFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFx1dGlsc1xcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1lZ2FVcCA9IGV4cG9ydHMuZ2V0S0tleSA9IGV4cG9ydHMuVmlkTW9seSA9IGV4cG9ydHMuY29tcGFyZVR3b1N0cmluZ3MgPSBleHBvcnRzLnN1YnN0cmluZ0JlZm9yZSA9IGV4cG9ydHMuc3Vic3RyaW5nQWZ0ZXIgPSBleHBvcnRzLkFzaWFuTG9hZCA9IGV4cG9ydHMuQmlsaWJpbGlFeHRyYWN0b3IgPSBleHBvcnRzLmNvbnZlcnREdXJhdGlvbiA9IGV4cG9ydHMuaXNKc29uID0gZXhwb3J0cy5kYXlzID0gZXhwb3J0cy5nZXREYXlzID0gZXhwb3J0cy5hbmlsaXN0Q2hhcmFjdGVyUXVlcnkgPSBleHBvcnRzLkZpbGVtb29uID0gZXhwb3J0cy5hbmlsaXN0U3RhZmZJbmZvUXVlcnkgPSBleHBvcnRzLmFuaWxpc3RTaXRlU3RhdGlzdGljc1F1ZXJ5ID0gZXhwb3J0cy5hbmlsaXN0QWR2YW5jZWRRdWVyeSA9IGV4cG9ydHMuYW5pbGlzdEdlbnJlc1F1ZXJ5ID0gZXhwb3J0cy5hbmlsaXN0QWlyaW5nU2NoZWR1bGVRdWVyeSA9IGV4cG9ydHMuYW5pbGlzdFBvcHVsYXJRdWVyeSA9IGV4cG9ydHMuYW5pbGlzdFRyZW5kaW5nUXVlcnkgPSBleHBvcnRzLlZpekNsb3VkID0gZXhwb3J0cy5TdHJlYW1UYXBlID0gZXhwb3J0cy5NZWdhQ2xvdWQgPSBleHBvcnRzLlJhcGlkQ2xvdWQgPSBleHBvcnRzLnJhbmdlID0gZXhwb3J0cy5raXRzdVNlYXJjaFF1ZXJ5ID0gZXhwb3J0cy5hbmlsaXN0TWVkaWFEZXRhaWxRdWVyeSA9IGV4cG9ydHMuYW5pbGlzdFNlYXJjaFF1ZXJ5ID0gZXhwb3J0cy5Ld2lrID0gZXhwb3J0cy5NaXhEcm9wID0gZXhwb3J0cy5WaWRDbG91ZCA9IGV4cG9ydHMuY2FwaXRhbGl6ZUZpcnN0TGV0dGVyID0gZXhwb3J0cy5nZW5FbGVtZW50ID0gZXhwb3J0cy5wYXJzZVBvc3RJbmZvID0gZXhwb3J0cy5mb3JtYXRUaXRsZSA9IGV4cG9ydHMuZmxvb3JJRCA9IGV4cG9ydHMuc3BsaXRBdXRob3IgPSBleHBvcnRzLlN0cmVhbUh1YiA9IGV4cG9ydHMuU21hc2h5U3RyZWFtID0gZXhwb3J0cy5TdHJlYW1TQiA9IGV4cG9ydHMuR29nb0NETiA9IGV4cG9ydHMuVVNFUl9BR0VOVCA9IHZvaWQgMDtcbmNvbnN0IGV4dHJhY3RvcnNfMSA9IHJlcXVpcmUoXCIuLi9leHRyYWN0b3JzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiR29nb0NETlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXh0cmFjdG9yc18xLkdvZ29DRE47IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTdHJlYW1TQlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXh0cmFjdG9yc18xLlN0cmVhbVNCOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVmlkQ2xvdWRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4dHJhY3RvcnNfMS5WaWRDbG91ZDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk1peERyb3BcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4dHJhY3RvcnNfMS5NaXhEcm9wOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiS3dpa1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXh0cmFjdG9yc18xLkt3aWs7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSYXBpZENsb3VkXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleHRyYWN0b3JzXzEuUmFwaWRDbG91ZDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk1lZ2FDbG91ZFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXh0cmFjdG9yc18xLk1lZ2FDbG91ZDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlN0cmVhbVRhcGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4dHJhY3RvcnNfMS5TdHJlYW1UYXBlOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVml6Q2xvdWRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4dHJhY3RvcnNfMS5WaXpDbG91ZDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkZpbGVtb29uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleHRyYWN0b3JzXzEuRmlsZW1vb247IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJCaWxpYmlsaUV4dHJhY3RvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXh0cmFjdG9yc18xLkJpbGliaWxpRXh0cmFjdG9yOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQXNpYW5Mb2FkXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleHRyYWN0b3JzXzEuQXNpYW5Mb2FkOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU21hc2h5U3RyZWFtXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleHRyYWN0b3JzXzEuU21hc2h5U3RyZWFtOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU3RyZWFtSHViXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleHRyYWN0b3JzXzEuU3RyZWFtSHViOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVmlkTW9seVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXh0cmFjdG9yc18xLlZpZE1vbHk7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJNZWdhVXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4dHJhY3RvcnNfMS5NZWdhVXA7IH0gfSk7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJVU0VSX0FHRU5UXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1dGlsc18xLlVTRVJfQUdFTlQ7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzcGxpdEF1dGhvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbHNfMS5zcGxpdEF1dGhvcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImZsb29ySURcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHV0aWxzXzEuZmxvb3JJRDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImZvcm1hdFRpdGxlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1dGlsc18xLmZvcm1hdFRpdGxlOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2VuRWxlbWVudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbHNfMS5nZW5FbGVtZW50OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY2FwaXRhbGl6ZUZpcnN0TGV0dGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1dGlsc18xLmNhcGl0YWxpemVGaXJzdExldHRlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJhbmdlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1dGlsc18xLnJhbmdlOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0RGF5c1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbHNfMS5nZXREYXlzOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGF5c1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbHNfMS5kYXlzOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiaXNKc29uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1dGlsc18xLmlzSnNvbjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbnZlcnREdXJhdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbHNfMS5jb252ZXJ0RHVyYXRpb247IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzdWJzdHJpbmdBZnRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbHNfMS5zdWJzdHJpbmdBZnRlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN1YnN0cmluZ0JlZm9yZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbHNfMS5zdWJzdHJpbmdCZWZvcmU7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb21wYXJlVHdvU3RyaW5nc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbHNfMS5jb21wYXJlVHdvU3RyaW5nczsgfSB9KTtcbmNvbnN0IHF1ZXJpZXNfMSA9IHJlcXVpcmUoXCIuL3F1ZXJpZXNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJhbmlsaXN0U2VhcmNoUXVlcnlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHF1ZXJpZXNfMS5hbmlsaXN0U2VhcmNoUXVlcnk7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJhbmlsaXN0TWVkaWFEZXRhaWxRdWVyeVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcXVlcmllc18xLmFuaWxpc3RNZWRpYURldGFpbFF1ZXJ5OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwia2l0c3VTZWFyY2hRdWVyeVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcXVlcmllc18xLmtpdHN1U2VhcmNoUXVlcnk7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJhbmlsaXN0VHJlbmRpbmdRdWVyeVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcXVlcmllc18xLmFuaWxpc3RUcmVuZGluZ1F1ZXJ5OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYW5pbGlzdFBvcHVsYXJRdWVyeVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcXVlcmllc18xLmFuaWxpc3RQb3B1bGFyUXVlcnk7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJhbmlsaXN0QWlyaW5nU2NoZWR1bGVRdWVyeVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcXVlcmllc18xLmFuaWxpc3RBaXJpbmdTY2hlZHVsZVF1ZXJ5OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYW5pbGlzdEdlbnJlc1F1ZXJ5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBxdWVyaWVzXzEuYW5pbGlzdEdlbnJlc1F1ZXJ5OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYW5pbGlzdEFkdmFuY2VkUXVlcnlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHF1ZXJpZXNfMS5hbmlsaXN0QWR2YW5jZWRRdWVyeTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImFuaWxpc3RTaXRlU3RhdGlzdGljc1F1ZXJ5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBxdWVyaWVzXzEuYW5pbGlzdFNpdGVTdGF0aXN0aWNzUXVlcnk7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJhbmlsaXN0Q2hhcmFjdGVyUXVlcnlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHF1ZXJpZXNfMS5hbmlsaXN0Q2hhcmFjdGVyUXVlcnk7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJhbmlsaXN0U3RhZmZJbmZvUXVlcnlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHF1ZXJpZXNfMS5hbmlsaXN0U3RhZmZJbmZvUXVlcnk7IH0gfSk7XG5jb25zdCBnZXRDb21pY3NfMSA9IHJlcXVpcmUoXCIuL2dldENvbWljc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInBhcnNlUG9zdEluZm9cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldENvbWljc18xLnBhcnNlUG9zdEluZm87IH0gfSk7XG5jb25zdCBra2V5XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL2V4dHJhY3RvcnMva2lzc2toL2trZXlcIikpO1xuZXhwb3J0cy5nZXRLS2V5ID0ga2tleV8xLmRlZmF1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/utils/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/utils/providers-list.js":
/*!************************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/utils/providers-list.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PROVIDERS_LIST = void 0;\nconst providers_1 = __webpack_require__(/*! ../providers */ \"(rsc)/./node_modules/@consumet/extensions/dist/providers/index.js\");\n/**\n * List of providers\n *\n * add new providers here (order does not matter)\n */\nexports.PROVIDERS_LIST = {\n    ANIME: [\n        new providers_1.ANIME.NineAnime(),\n        new providers_1.ANIME.AnimeFox(),\n        new providers_1.ANIME.AnimePahe(),\n        new providers_1.ANIME.Bilibili(),\n        new providers_1.ANIME.Crunchyroll(),\n        new providers_1.ANIME.Anify(),\n        new providers_1.ANIME.Gogoanime(),\n        new providers_1.ANIME.Zoro(),\n        new providers_1.ANIME.Marin(),\n        new providers_1.ANIME.AnimeKai(),\n    ],\n    MANGA: [\n        new providers_1.MANGA.MangaDex(),\n        new providers_1.MANGA.MangaHere(),\n        new providers_1.MANGA.MangaKakalot(),\n        new providers_1.MANGA.Mangapark(),\n        new providers_1.MANGA.MangaPill(),\n        new providers_1.MANGA.MangaReader(),\n        new providers_1.MANGA.Mangasee123(),\n        new providers_1.MANGA.ComicK(),\n        new providers_1.MANGA.FlameScans(),\n        new providers_1.MANGA.MangaHost(),\n        new providers_1.MANGA.BRMangas(),\n    ],\n    BOOKS: [new providers_1.BOOKS.Libgen()],\n    COMICS: [new providers_1.COMICS.GetComics()],\n    LIGHT_NOVELS: [new providers_1.LIGHT_NOVELS.ReadLightNovels()],\n    MOVIES: [\n        new providers_1.MOVIES.DramaCool(),\n        new providers_1.MOVIES.FlixHQ(),\n        new providers_1.MOVIES.Fmovies(),\n        new providers_1.MOVIES.Goku(),\n        new providers_1.MOVIES.KissAsian(),\n        new providers_1.MOVIES.MovieHdWatch(),\n        new providers_1.MOVIES.ViewAsian(),\n        new providers_1.MOVIES.SFlix(),\n        new providers_1.MOVIES.MultiMovies(),\n        new providers_1.MOVIES.NetflixMirror(),\n    ],\n    NEWS: [new providers_1.NEWS.ANN()],\n    META: [new providers_1.META.Anilist(), new providers_1.META.TMDB(), new providers_1.META.Myanimelist()],\n    OTHERS: [],\n};\n//# sourceMappingURL=providers-list.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC91dGlscy9wcm92aWRlcnMtbGlzdC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQkFBc0I7QUFDdEIsb0JBQW9CLG1CQUFPLENBQUMsdUZBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHV0aWxzXFxwcm92aWRlcnMtbGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUFJPVklERVJTX0xJU1QgPSB2b2lkIDA7XG5jb25zdCBwcm92aWRlcnNfMSA9IHJlcXVpcmUoXCIuLi9wcm92aWRlcnNcIik7XG4vKipcbiAqIExpc3Qgb2YgcHJvdmlkZXJzXG4gKlxuICogYWRkIG5ldyBwcm92aWRlcnMgaGVyZSAob3JkZXIgZG9lcyBub3QgbWF0dGVyKVxuICovXG5leHBvcnRzLlBST1ZJREVSU19MSVNUID0ge1xuICAgIEFOSU1FOiBbXG4gICAgICAgIG5ldyBwcm92aWRlcnNfMS5BTklNRS5OaW5lQW5pbWUoKSxcbiAgICAgICAgbmV3IHByb3ZpZGVyc18xLkFOSU1FLkFuaW1lRm94KCksXG4gICAgICAgIG5ldyBwcm92aWRlcnNfMS5BTklNRS5BbmltZVBhaGUoKSxcbiAgICAgICAgbmV3IHByb3ZpZGVyc18xLkFOSU1FLkJpbGliaWxpKCksXG4gICAgICAgIG5ldyBwcm92aWRlcnNfMS5BTklNRS5DcnVuY2h5cm9sbCgpLFxuICAgICAgICBuZXcgcHJvdmlkZXJzXzEuQU5JTUUuQW5pZnkoKSxcbiAgICAgICAgbmV3IHByb3ZpZGVyc18xLkFOSU1FLkdvZ29hbmltZSgpLFxuICAgICAgICBuZXcgcHJvdmlkZXJzXzEuQU5JTUUuWm9ybygpLFxuICAgICAgICBuZXcgcHJvdmlkZXJzXzEuQU5JTUUuTWFyaW4oKSxcbiAgICAgICAgbmV3IHByb3ZpZGVyc18xLkFOSU1FLkFuaW1lS2FpKCksXG4gICAgXSxcbiAgICBNQU5HQTogW1xuICAgICAgICBuZXcgcHJvdmlkZXJzXzEuTUFOR0EuTWFuZ2FEZXgoKSxcbiAgICAgICAgbmV3IHByb3ZpZGVyc18xLk1BTkdBLk1hbmdhSGVyZSgpLFxuICAgICAgICBuZXcgcHJvdmlkZXJzXzEuTUFOR0EuTWFuZ2FLYWthbG90KCksXG4gICAgICAgIG5ldyBwcm92aWRlcnNfMS5NQU5HQS5NYW5nYXBhcmsoKSxcbiAgICAgICAgbmV3IHByb3ZpZGVyc18xLk1BTkdBLk1hbmdhUGlsbCgpLFxuICAgICAgICBuZXcgcHJvdmlkZXJzXzEuTUFOR0EuTWFuZ2FSZWFkZXIoKSxcbiAgICAgICAgbmV3IHByb3ZpZGVyc18xLk1BTkdBLk1hbmdhc2VlMTIzKCksXG4gICAgICAgIG5ldyBwcm92aWRlcnNfMS5NQU5HQS5Db21pY0soKSxcbiAgICAgICAgbmV3IHByb3ZpZGVyc18xLk1BTkdBLkZsYW1lU2NhbnMoKSxcbiAgICAgICAgbmV3IHByb3ZpZGVyc18xLk1BTkdBLk1hbmdhSG9zdCgpLFxuICAgICAgICBuZXcgcHJvdmlkZXJzXzEuTUFOR0EuQlJNYW5nYXMoKSxcbiAgICBdLFxuICAgIEJPT0tTOiBbbmV3IHByb3ZpZGVyc18xLkJPT0tTLkxpYmdlbigpXSxcbiAgICBDT01JQ1M6IFtuZXcgcHJvdmlkZXJzXzEuQ09NSUNTLkdldENvbWljcygpXSxcbiAgICBMSUdIVF9OT1ZFTFM6IFtuZXcgcHJvdmlkZXJzXzEuTElHSFRfTk9WRUxTLlJlYWRMaWdodE5vdmVscygpXSxcbiAgICBNT1ZJRVM6IFtcbiAgICAgICAgbmV3IHByb3ZpZGVyc18xLk1PVklFUy5EcmFtYUNvb2woKSxcbiAgICAgICAgbmV3IHByb3ZpZGVyc18xLk1PVklFUy5GbGl4SFEoKSxcbiAgICAgICAgbmV3IHByb3ZpZGVyc18xLk1PVklFUy5GbW92aWVzKCksXG4gICAgICAgIG5ldyBwcm92aWRlcnNfMS5NT1ZJRVMuR29rdSgpLFxuICAgICAgICBuZXcgcHJvdmlkZXJzXzEuTU9WSUVTLktpc3NBc2lhbigpLFxuICAgICAgICBuZXcgcHJvdmlkZXJzXzEuTU9WSUVTLk1vdmllSGRXYXRjaCgpLFxuICAgICAgICBuZXcgcHJvdmlkZXJzXzEuTU9WSUVTLlZpZXdBc2lhbigpLFxuICAgICAgICBuZXcgcHJvdmlkZXJzXzEuTU9WSUVTLlNGbGl4KCksXG4gICAgICAgIG5ldyBwcm92aWRlcnNfMS5NT1ZJRVMuTXVsdGlNb3ZpZXMoKSxcbiAgICAgICAgbmV3IHByb3ZpZGVyc18xLk1PVklFUy5OZXRmbGl4TWlycm9yKCksXG4gICAgXSxcbiAgICBORVdTOiBbbmV3IHByb3ZpZGVyc18xLk5FV1MuQU5OKCldLFxuICAgIE1FVEE6IFtuZXcgcHJvdmlkZXJzXzEuTUVUQS5BbmlsaXN0KCksIG5ldyBwcm92aWRlcnNfMS5NRVRBLlRNREIoKSwgbmV3IHByb3ZpZGVyc18xLk1FVEEuTXlhbmltZWxpc3QoKV0sXG4gICAgT1RIRVJTOiBbXSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm92aWRlcnMtbGlzdC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/utils/providers-list.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/utils/queries.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/utils/queries.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.anilistStaffInfoQuery = exports.kitsuSearchQuery = exports.anilistStaffQuery = exports.anilistCharacterQuery = exports.anilistSiteStatisticsQuery = exports.anilistAiringScheduleQuery = exports.anilistGenresQuery = exports.anilistPopularQuery = exports.anilistTrendingQuery = exports.anilistMediaDetailQuery = exports.anilistSearchQuery = exports.anilistAdvancedQuery = void 0;\nconst anilistAdvancedQuery = () => `query ($page: Int, $id: Int, $type: MediaType, $isAdult: Boolean = false, $search: String, $format: [MediaFormat], $status: MediaStatus, $size: Int, $countryOfOrigin: CountryCode, $source: MediaSource, $season: MediaSeason, $seasonYear: Int, $year: String, $onList: Boolean, $yearLesser: FuzzyDateInt, $yearGreater: FuzzyDateInt, $episodeLesser: Int, $episodeGreater: Int, $durationLesser: Int, $durationGreater: Int, $chapterLesser: Int, $chapterGreater: Int, $volumeLesser: Int, $volumeGreater: Int, $licensedBy: [String], $isLicensed: Boolean, $genres: [String], $excludedGenres: [String], $tags: [String], $excludedTags: [String], $minimumTagRank: Int, $sort: [MediaSort] = [POPULARITY_DESC, SCORE_DESC]) { Page(page: $page, perPage: $size) { pageInfo { total perPage currentPage lastPage hasNextPage } media(id: $id, type: $type, season: $season, format_in: $format, status: $status, countryOfOrigin: $countryOfOrigin, source: $source, search: $search, onList: $onList, seasonYear: $seasonYear, startDate_like: $year, startDate_lesser: $yearLesser, startDate_greater: $yearGreater, episodes_lesser: $episodeLesser, episodes_greater: $episodeGreater, duration_lesser: $durationLesser, duration_greater: $durationGreater, chapters_lesser: $chapterLesser, chapters_greater: $chapterGreater, volumes_lesser: $volumeLesser, volumes_greater: $volumeGreater, licensedBy_in: $licensedBy, isLicensed: $isLicensed, genre_in: $genres, genre_not_in: $excludedGenres, tag_in: $tags, tag_not_in: $excludedTags, minimumTagRank: $minimumTagRank, sort: $sort, isAdult: $isAdult) {  id idMal status(version: 2) title { userPreferred romaji english native } bannerImage coverImage{ extraLarge large medium color } episodes season popularity description format seasonYear genres averageScore countryOfOrigin nextAiringEpisode { airingAt timeUntilAiring episode }  } } }`;\nexports.anilistAdvancedQuery = anilistAdvancedQuery;\nconst anilistSearchQuery = (query, page, perPage, type = 'ANIME') => `query ($page: Int = ${page}, $id: Int, $type: MediaType = ${type}, $search: String = \"${query}\", $isAdult: Boolean = false, $size: Int = ${perPage}) { Page(page: $page, perPage: $size) { pageInfo { total perPage currentPage lastPage hasNextPage } media(id: $id, type: $type, search: $search, isAdult: $isAdult) { id idMal status(version: 2) title { userPreferred romaji english native } bannerImage popularity coverImage{ extraLarge large medium color } episodes format season description seasonYear chapters volumes averageScore genres nextAiringEpisode { airingAt timeUntilAiring episode }  } } }`;\nexports.anilistSearchQuery = anilistSearchQuery;\nconst anilistMediaDetailQuery = (id) => `query ($id: Int = ${id}) { Media(id: $id) { id idMal title { english native romaji } synonyms countryOfOrigin isLicensed isAdult externalLinks { url site type language } coverImage { extraLarge large color } startDate { year month day } endDate { year month day } bannerImage season seasonYear description type format status(version: 2) episodes duration chapters volumes trailer { id site thumbnail } genres source averageScore popularity meanScore nextAiringEpisode { airingAt timeUntilAiring episode } characters(sort: ROLE) { edges { role node { id name { first middle last full native userPreferred } image { large medium } } voiceActors(sort: LANGUAGE) { id languageV2 name { first middle last full native userPreferred } image { large medium } } } } recommendations { edges { node { id mediaRecommendation { id idMal title { romaji english native userPreferred } status episodes coverImage { extraLarge large medium color } bannerImage format chapters meanScore nextAiringEpisode { episode timeUntilAiring airingAt } } } } } relations { edges { id relationType node { id idMal status coverImage { extraLarge large medium color } bannerImage title { romaji english native userPreferred } episodes chapters format nextAiringEpisode { airingAt timeUntilAiring episode } meanScore } } } studios(isMain: true) { edges { isMain node { id name } } } } }`;\nexports.anilistMediaDetailQuery = anilistMediaDetailQuery;\nconst anilistTrendingQuery = (page = 1, perPage = 20, type = 'ANIME') => `query ($page: Int = ${page}, $id: Int, $type: MediaType = ${type}, $isAdult: Boolean = false, $size: Int = ${perPage}, $sort: [MediaSort] = [TRENDING_DESC, POPULARITY_DESC]) { Page(page: $page, perPage: $size) { pageInfo { total perPage currentPage lastPage hasNextPage } media(id: $id, type: $type, isAdult: $isAdult, sort: $sort) { id idMal status(version: 2) title { userPreferred romaji english native } genres trailer { id site thumbnail } description format bannerImage coverImage{ extraLarge large medium color } episodes meanScore duration season seasonYear averageScore nextAiringEpisode { airingAt timeUntilAiring episode }  } } }`;\nexports.anilistTrendingQuery = anilistTrendingQuery;\nconst anilistPopularQuery = (page = 1, perPage = 20, type = 'ANIME') => `query ($page: Int = ${page}, $id: Int, $type: MediaType = ${type}, $isAdult: Boolean = false, $size: Int = ${perPage}, $sort: [MediaSort] = [POPULARITY_DESC]) { Page(page: $page, perPage: $size) { pageInfo { total perPage currentPage lastPage hasNextPage } media(id: $id, type: $type, isAdult: $isAdult, sort: $sort) { id idMal status(version: 2) title { userPreferred romaji english native } trailer { id site thumbnail } format genres bannerImage description coverImage { extraLarge large medium color } episodes meanScore duration season seasonYear averageScore nextAiringEpisode { airingAt timeUntilAiring episode }  } } }`;\nexports.anilistPopularQuery = anilistPopularQuery;\nconst anilistGenresQuery = (genres, page = 1, perPage = 20) => `query ($genres: [String] = ${JSON.stringify(genres)}, $page: Int = ${page}, $type: MediaType = ANIME, $isAdult: Boolean = false, $size: Int = ${perPage}) {Page(page: $page, perPage: $size) { pageInfo { total perPage currentPage lastPage hasNextPage } media(type: $type, isAdult: $isAdult, genre_in: $genres) { id idMal status(version: 2) title { userPreferred romaji english native } trailer { id site thumbnail } format bannerImage description coverImage { extraLarge large medium color } episodes meanScore duration season seasonYear averageScore nextAiringEpisode { airingAt timeUntilAiring episode }  } } }`;\nexports.anilistGenresQuery = anilistGenresQuery;\nconst anilistAiringScheduleQuery = (page = 1, perPage = 20, weekStart, weekEnd, notYetAired) => `query { Page(page: ${page}, perPage: ${perPage}) { pageInfo { total perPage currentPage lastPage hasNextPage } airingSchedules( notYetAired: ${notYetAired}, airingAt_greater: ${weekStart}, airingAt_lesser: ${weekEnd}) { airingAt episode media { id description idMal title { romaji english userPreferred native } countryOfOrigin description popularity bannerImage coverImage { extraLarge large medium color } genres averageScore seasonYear format } } } }`;\nexports.anilistAiringScheduleQuery = anilistAiringScheduleQuery;\nconst anilistSiteStatisticsQuery = () => `query { SiteStatistics { anime { nodes { count } } } }`;\nexports.anilistSiteStatisticsQuery = anilistSiteStatisticsQuery;\nconst anilistCharacterQuery = () => `query character($id: Int) { Character(id: $id) { id name { first middle last full native userPreferred alternative alternativeSpoiler } image { large medium } description gender dateOfBirth { year month day } bloodType age favourites media { edges { characterRole node { id idMal title { romaji english native userPreferred } coverImage { extraLarge large medium color } averageScore startDate { year month day } episodes format status } } } } }`;\nexports.anilistCharacterQuery = anilistCharacterQuery;\nconst anilistStaffQuery = () => `query staff($id: Int, $sort: [MediaSort], $characterPage: Int, $staffPage: Int, $onList: Boolean, $type: MediaType, $withCharacterRoles: Boolean = false, $withStaffRoles: Boolean = false) { Staff(id: $id) { id name { first middle last full native userPreferred alternative } image { large } description favourites isFavourite isFavouriteBlocked age gender yearsActive homeTown bloodType primaryOccupations dateOfBirth { year month day } dateOfDeath { year month day } language: languageV2 characterMedia(page: $characterPage, sort: $sort, onList: $onList) @include(if: $withCharacterRoles) { pageInfo { total perPage currentPage lastPage hasNextPage } edges { characterRole characterName node { id type bannerImage isAdult title { userPreferred } coverImage { large } startDate { year } mediaListEntry { id status } } characters { id name { userPreferred } image { large } } } } staffMedia(page: $staffPage, type: $type, sort: $sort, onList: $onList) @include(if: $withStaffRoles) { pageInfo { total perPage currentPage lastPage hasNextPage } edges { staffRole node { id type isAdult title { userPreferred } coverImage { large } mediaListEntry { id status } } } } } }`;\nexports.anilistStaffQuery = anilistStaffQuery;\nconst kitsuSearchQuery = (query) => `query{searchAnimeByTitle(first:5, title:\"${query}\"){ nodes {id season startDate titles { localized } episodes(first: 2000){ nodes { number createdAt titles { canonical } description thumbnail { original { url } } } } } } }`;\nexports.kitsuSearchQuery = kitsuSearchQuery;\nconst anilistStaffInfoQuery = (id) => `query($id: Int = ${id}) { Staff(id: $id) { id name { first last native full } image { large medium } description siteUrl staffMedia { edges { id node { id title { romaji english native } type coverImage { extraLarge large medium color } } } } } }\n`;\nexports.anilistStaffInfoQuery = anilistStaffInfoQuery;\n//# sourceMappingURL=queries.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC91dGlscy9xdWVyaWVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDZCQUE2QixHQUFHLHdCQUF3QixHQUFHLHlCQUF5QixHQUFHLDZCQUE2QixHQUFHLGtDQUFrQyxHQUFHLGtDQUFrQyxHQUFHLDBCQUEwQixHQUFHLDJCQUEyQixHQUFHLDRCQUE0QixHQUFHLCtCQUErQixHQUFHLDBCQUEwQixHQUFHLDRCQUE0QjtBQUN0WCwydUJBQTJ1QixvQ0FBb0MsV0FBVyxpREFBaUQsMnZCQUEydkIsb0NBQW9DLHNDQUFzQyx3QkFBd0IsZ0NBQWdDLGlIQUFpSCx5Q0FBeUM7QUFDbDJELDRCQUE0QjtBQUM1Qiw0RkFBNEYsS0FBSyxpQ0FBaUMsS0FBSyx1QkFBdUIsTUFBTSw2Q0FBNkMsUUFBUSxJQUFJLG9DQUFvQyxXQUFXLGlEQUFpRCxrRUFBa0Usb0NBQW9DLHNDQUFzQyxtQ0FBbUMsZ0NBQWdDLHVHQUF1Ryx5Q0FBeUM7QUFDNXBCLDBCQUEwQjtBQUMxQiw2REFBNkQsR0FBRyxJQUFJLGlCQUFpQixpQkFBaUIsd0JBQXdCLDREQUE0RCx5QkFBeUIsYUFBYSx5QkFBeUIsWUFBWSxpQkFBaUIsVUFBVSxpQkFBaUIsc0hBQXNILG9CQUFvQixvRUFBb0UsbUNBQW1DLHlCQUF5QixRQUFRLFlBQVksVUFBVSw4Q0FBOEMsUUFBUSxpQkFBaUIsOEJBQThCLHFCQUFxQiw4Q0FBOEMsUUFBUSxxQkFBcUIsa0JBQWtCLFFBQVEsT0FBTyx5QkFBeUIsaUJBQWlCLHNDQUFzQyw2QkFBNkIsZ0NBQWdDLDBEQUEwRCwyQ0FBMkMsWUFBWSxRQUFRLHVCQUF1Qiw2QkFBNkIsZ0NBQWdDLG9CQUFvQixzQ0FBc0MsNkNBQTZDLG1DQUFtQyxnQkFBZ0Isd0JBQXdCLFFBQVEsY0FBYyxpQkFBaUI7QUFDbDNDLCtCQUErQjtBQUMvQixnR0FBZ0csS0FBSyxpQ0FBaUMsS0FBSyw0Q0FBNEMsUUFBUSwyREFBMkQsb0NBQW9DLFdBQVcsaURBQWlELDhEQUE4RCxvQ0FBb0Msc0NBQXNDLGlCQUFpQixvQkFBb0IsMkNBQTJDLGdDQUFnQywrRUFBK0UseUNBQXlDO0FBQzFzQiw0QkFBNEI7QUFDNUIsK0ZBQStGLEtBQUssaUNBQWlDLEtBQUssNENBQTRDLFFBQVEsNENBQTRDLG9DQUFvQyxXQUFXLGlEQUFpRCw4REFBOEQsb0NBQW9DLHNDQUFzQyxVQUFVLG9CQUFvQixtREFBbUQsZ0NBQWdDLCtFQUErRSx5Q0FBeUM7QUFDM3JCLDJCQUEyQjtBQUMzQiw2RkFBNkYsdUJBQXVCLGlCQUFpQixLQUFLLHNFQUFzRSxRQUFRLEdBQUcsb0NBQW9DLFdBQVcsaURBQWlELDJEQUEyRCxvQ0FBb0Msc0NBQXNDLFVBQVUsb0JBQW9CLDRDQUE0QyxnQ0FBZ0MsK0VBQStFLHlDQUF5QztBQUNscUIsMEJBQTBCO0FBQzFCLHlHQUF5RyxhQUFhLEtBQUssYUFBYSxRQUFRLElBQUksV0FBVyxpREFBaUQsZ0NBQWdDLFlBQVksc0JBQXNCLFVBQVUscUJBQXFCLFFBQVEsSUFBSSx5QkFBeUIsNkJBQTZCLHNDQUFzQyxnRUFBZ0UsZ0NBQWdDLDZDQUE2QztBQUN0aUIsa0NBQWtDO0FBQ2xDLGtEQUFrRCxpQkFBaUIsUUFBUSxRQUFRLGFBQWE7QUFDaEcsa0NBQWtDO0FBQ2xDLGlFQUFpRSxxQkFBcUIsVUFBVSw2RUFBNkUsUUFBUSxlQUFlLGlDQUFpQyxpQkFBaUIsaUNBQWlDLFFBQVEscUJBQXFCLGlCQUFpQixzQ0FBc0MsYUFBYSxnQ0FBZ0MseUJBQXlCLGlCQUFpQixnQ0FBZ0M7QUFDbGUsNkJBQTZCO0FBQzdCLCtOQUErTixpQkFBaUIsVUFBVSwwREFBMEQsUUFBUSxRQUFRLGlJQUFpSSxpQkFBaUIsY0FBYyxpQkFBaUIsNEhBQTRILFdBQVcsaURBQWlELFFBQVEsbUNBQW1DLG9DQUFvQyxnQkFBZ0IsYUFBYSxRQUFRLFlBQVksT0FBTyxpQkFBaUIsY0FBYyxhQUFhLFVBQVUsZ0JBQWdCLFFBQVEsY0FBYyx3R0FBd0csV0FBVyxpREFBaUQsUUFBUSxpQkFBaUIsd0JBQXdCLGdCQUFnQixhQUFhLFFBQVEsaUJBQWlCLHFCQUFxQjtBQUNockMseUJBQXlCO0FBQ3pCLDJDQUEyQyxxQ0FBcUMsTUFBTSxJQUFJLE9BQU8sNkJBQTZCLFlBQVksdUJBQXVCLFFBQVEsMEJBQTBCLFlBQVksd0JBQXdCLFdBQVcsaUJBQWlCO0FBQ25RLHdCQUF3QjtBQUN4QiwwREFBMEQsR0FBRyxJQUFJLGlCQUFpQixVQUFVLHlCQUF5QixRQUFRLGVBQWUsaUNBQWlDLFFBQVEsVUFBVSxXQUFXLHdCQUF3QixrQkFBa0I7QUFDcFA7QUFDQSw2QkFBNkI7QUFDN0IiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbG9yZHJcXERvd25sb2Fkc1xcQW5pVGVhbXMtbWFpblxcbm9kZV9tb2R1bGVzXFxAY29uc3VtZXRcXGV4dGVuc2lvbnNcXGRpc3RcXHV0aWxzXFxxdWVyaWVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hbmlsaXN0U3RhZmZJbmZvUXVlcnkgPSBleHBvcnRzLmtpdHN1U2VhcmNoUXVlcnkgPSBleHBvcnRzLmFuaWxpc3RTdGFmZlF1ZXJ5ID0gZXhwb3J0cy5hbmlsaXN0Q2hhcmFjdGVyUXVlcnkgPSBleHBvcnRzLmFuaWxpc3RTaXRlU3RhdGlzdGljc1F1ZXJ5ID0gZXhwb3J0cy5hbmlsaXN0QWlyaW5nU2NoZWR1bGVRdWVyeSA9IGV4cG9ydHMuYW5pbGlzdEdlbnJlc1F1ZXJ5ID0gZXhwb3J0cy5hbmlsaXN0UG9wdWxhclF1ZXJ5ID0gZXhwb3J0cy5hbmlsaXN0VHJlbmRpbmdRdWVyeSA9IGV4cG9ydHMuYW5pbGlzdE1lZGlhRGV0YWlsUXVlcnkgPSBleHBvcnRzLmFuaWxpc3RTZWFyY2hRdWVyeSA9IGV4cG9ydHMuYW5pbGlzdEFkdmFuY2VkUXVlcnkgPSB2b2lkIDA7XG5jb25zdCBhbmlsaXN0QWR2YW5jZWRRdWVyeSA9ICgpID0+IGBxdWVyeSAoJHBhZ2U6IEludCwgJGlkOiBJbnQsICR0eXBlOiBNZWRpYVR5cGUsICRpc0FkdWx0OiBCb29sZWFuID0gZmFsc2UsICRzZWFyY2g6IFN0cmluZywgJGZvcm1hdDogW01lZGlhRm9ybWF0XSwgJHN0YXR1czogTWVkaWFTdGF0dXMsICRzaXplOiBJbnQsICRjb3VudHJ5T2ZPcmlnaW46IENvdW50cnlDb2RlLCAkc291cmNlOiBNZWRpYVNvdXJjZSwgJHNlYXNvbjogTWVkaWFTZWFzb24sICRzZWFzb25ZZWFyOiBJbnQsICR5ZWFyOiBTdHJpbmcsICRvbkxpc3Q6IEJvb2xlYW4sICR5ZWFyTGVzc2VyOiBGdXp6eURhdGVJbnQsICR5ZWFyR3JlYXRlcjogRnV6enlEYXRlSW50LCAkZXBpc29kZUxlc3NlcjogSW50LCAkZXBpc29kZUdyZWF0ZXI6IEludCwgJGR1cmF0aW9uTGVzc2VyOiBJbnQsICRkdXJhdGlvbkdyZWF0ZXI6IEludCwgJGNoYXB0ZXJMZXNzZXI6IEludCwgJGNoYXB0ZXJHcmVhdGVyOiBJbnQsICR2b2x1bWVMZXNzZXI6IEludCwgJHZvbHVtZUdyZWF0ZXI6IEludCwgJGxpY2Vuc2VkQnk6IFtTdHJpbmddLCAkaXNMaWNlbnNlZDogQm9vbGVhbiwgJGdlbnJlczogW1N0cmluZ10sICRleGNsdWRlZEdlbnJlczogW1N0cmluZ10sICR0YWdzOiBbU3RyaW5nXSwgJGV4Y2x1ZGVkVGFnczogW1N0cmluZ10sICRtaW5pbXVtVGFnUmFuazogSW50LCAkc29ydDogW01lZGlhU29ydF0gPSBbUE9QVUxBUklUWV9ERVNDLCBTQ09SRV9ERVNDXSkgeyBQYWdlKHBhZ2U6ICRwYWdlLCBwZXJQYWdlOiAkc2l6ZSkgeyBwYWdlSW5mbyB7IHRvdGFsIHBlclBhZ2UgY3VycmVudFBhZ2UgbGFzdFBhZ2UgaGFzTmV4dFBhZ2UgfSBtZWRpYShpZDogJGlkLCB0eXBlOiAkdHlwZSwgc2Vhc29uOiAkc2Vhc29uLCBmb3JtYXRfaW46ICRmb3JtYXQsIHN0YXR1czogJHN0YXR1cywgY291bnRyeU9mT3JpZ2luOiAkY291bnRyeU9mT3JpZ2luLCBzb3VyY2U6ICRzb3VyY2UsIHNlYXJjaDogJHNlYXJjaCwgb25MaXN0OiAkb25MaXN0LCBzZWFzb25ZZWFyOiAkc2Vhc29uWWVhciwgc3RhcnREYXRlX2xpa2U6ICR5ZWFyLCBzdGFydERhdGVfbGVzc2VyOiAkeWVhckxlc3Nlciwgc3RhcnREYXRlX2dyZWF0ZXI6ICR5ZWFyR3JlYXRlciwgZXBpc29kZXNfbGVzc2VyOiAkZXBpc29kZUxlc3NlciwgZXBpc29kZXNfZ3JlYXRlcjogJGVwaXNvZGVHcmVhdGVyLCBkdXJhdGlvbl9sZXNzZXI6ICRkdXJhdGlvbkxlc3NlciwgZHVyYXRpb25fZ3JlYXRlcjogJGR1cmF0aW9uR3JlYXRlciwgY2hhcHRlcnNfbGVzc2VyOiAkY2hhcHRlckxlc3NlciwgY2hhcHRlcnNfZ3JlYXRlcjogJGNoYXB0ZXJHcmVhdGVyLCB2b2x1bWVzX2xlc3NlcjogJHZvbHVtZUxlc3Nlciwgdm9sdW1lc19ncmVhdGVyOiAkdm9sdW1lR3JlYXRlciwgbGljZW5zZWRCeV9pbjogJGxpY2Vuc2VkQnksIGlzTGljZW5zZWQ6ICRpc0xpY2Vuc2VkLCBnZW5yZV9pbjogJGdlbnJlcywgZ2VucmVfbm90X2luOiAkZXhjbHVkZWRHZW5yZXMsIHRhZ19pbjogJHRhZ3MsIHRhZ19ub3RfaW46ICRleGNsdWRlZFRhZ3MsIG1pbmltdW1UYWdSYW5rOiAkbWluaW11bVRhZ1JhbmssIHNvcnQ6ICRzb3J0LCBpc0FkdWx0OiAkaXNBZHVsdCkgeyAgaWQgaWRNYWwgc3RhdHVzKHZlcnNpb246IDIpIHRpdGxlIHsgdXNlclByZWZlcnJlZCByb21hamkgZW5nbGlzaCBuYXRpdmUgfSBiYW5uZXJJbWFnZSBjb3ZlckltYWdleyBleHRyYUxhcmdlIGxhcmdlIG1lZGl1bSBjb2xvciB9IGVwaXNvZGVzIHNlYXNvbiBwb3B1bGFyaXR5IGRlc2NyaXB0aW9uIGZvcm1hdCBzZWFzb25ZZWFyIGdlbnJlcyBhdmVyYWdlU2NvcmUgY291bnRyeU9mT3JpZ2luIG5leHRBaXJpbmdFcGlzb2RlIHsgYWlyaW5nQXQgdGltZVVudGlsQWlyaW5nIGVwaXNvZGUgfSAgfSB9IH1gO1xuZXhwb3J0cy5hbmlsaXN0QWR2YW5jZWRRdWVyeSA9IGFuaWxpc3RBZHZhbmNlZFF1ZXJ5O1xuY29uc3QgYW5pbGlzdFNlYXJjaFF1ZXJ5ID0gKHF1ZXJ5LCBwYWdlLCBwZXJQYWdlLCB0eXBlID0gJ0FOSU1FJykgPT4gYHF1ZXJ5ICgkcGFnZTogSW50ID0gJHtwYWdlfSwgJGlkOiBJbnQsICR0eXBlOiBNZWRpYVR5cGUgPSAke3R5cGV9LCAkc2VhcmNoOiBTdHJpbmcgPSBcIiR7cXVlcnl9XCIsICRpc0FkdWx0OiBCb29sZWFuID0gZmFsc2UsICRzaXplOiBJbnQgPSAke3BlclBhZ2V9KSB7IFBhZ2UocGFnZTogJHBhZ2UsIHBlclBhZ2U6ICRzaXplKSB7IHBhZ2VJbmZvIHsgdG90YWwgcGVyUGFnZSBjdXJyZW50UGFnZSBsYXN0UGFnZSBoYXNOZXh0UGFnZSB9IG1lZGlhKGlkOiAkaWQsIHR5cGU6ICR0eXBlLCBzZWFyY2g6ICRzZWFyY2gsIGlzQWR1bHQ6ICRpc0FkdWx0KSB7IGlkIGlkTWFsIHN0YXR1cyh2ZXJzaW9uOiAyKSB0aXRsZSB7IHVzZXJQcmVmZXJyZWQgcm9tYWppIGVuZ2xpc2ggbmF0aXZlIH0gYmFubmVySW1hZ2UgcG9wdWxhcml0eSBjb3ZlckltYWdleyBleHRyYUxhcmdlIGxhcmdlIG1lZGl1bSBjb2xvciB9IGVwaXNvZGVzIGZvcm1hdCBzZWFzb24gZGVzY3JpcHRpb24gc2Vhc29uWWVhciBjaGFwdGVycyB2b2x1bWVzIGF2ZXJhZ2VTY29yZSBnZW5yZXMgbmV4dEFpcmluZ0VwaXNvZGUgeyBhaXJpbmdBdCB0aW1lVW50aWxBaXJpbmcgZXBpc29kZSB9ICB9IH0gfWA7XG5leHBvcnRzLmFuaWxpc3RTZWFyY2hRdWVyeSA9IGFuaWxpc3RTZWFyY2hRdWVyeTtcbmNvbnN0IGFuaWxpc3RNZWRpYURldGFpbFF1ZXJ5ID0gKGlkKSA9PiBgcXVlcnkgKCRpZDogSW50ID0gJHtpZH0pIHsgTWVkaWEoaWQ6ICRpZCkgeyBpZCBpZE1hbCB0aXRsZSB7IGVuZ2xpc2ggbmF0aXZlIHJvbWFqaSB9IHN5bm9ueW1zIGNvdW50cnlPZk9yaWdpbiBpc0xpY2Vuc2VkIGlzQWR1bHQgZXh0ZXJuYWxMaW5rcyB7IHVybCBzaXRlIHR5cGUgbGFuZ3VhZ2UgfSBjb3ZlckltYWdlIHsgZXh0cmFMYXJnZSBsYXJnZSBjb2xvciB9IHN0YXJ0RGF0ZSB7IHllYXIgbW9udGggZGF5IH0gZW5kRGF0ZSB7IHllYXIgbW9udGggZGF5IH0gYmFubmVySW1hZ2Ugc2Vhc29uIHNlYXNvblllYXIgZGVzY3JpcHRpb24gdHlwZSBmb3JtYXQgc3RhdHVzKHZlcnNpb246IDIpIGVwaXNvZGVzIGR1cmF0aW9uIGNoYXB0ZXJzIHZvbHVtZXMgdHJhaWxlciB7IGlkIHNpdGUgdGh1bWJuYWlsIH0gZ2VucmVzIHNvdXJjZSBhdmVyYWdlU2NvcmUgcG9wdWxhcml0eSBtZWFuU2NvcmUgbmV4dEFpcmluZ0VwaXNvZGUgeyBhaXJpbmdBdCB0aW1lVW50aWxBaXJpbmcgZXBpc29kZSB9IGNoYXJhY3RlcnMoc29ydDogUk9MRSkgeyBlZGdlcyB7IHJvbGUgbm9kZSB7IGlkIG5hbWUgeyBmaXJzdCBtaWRkbGUgbGFzdCBmdWxsIG5hdGl2ZSB1c2VyUHJlZmVycmVkIH0gaW1hZ2UgeyBsYXJnZSBtZWRpdW0gfSB9IHZvaWNlQWN0b3JzKHNvcnQ6IExBTkdVQUdFKSB7IGlkIGxhbmd1YWdlVjIgbmFtZSB7IGZpcnN0IG1pZGRsZSBsYXN0IGZ1bGwgbmF0aXZlIHVzZXJQcmVmZXJyZWQgfSBpbWFnZSB7IGxhcmdlIG1lZGl1bSB9IH0gfSB9IHJlY29tbWVuZGF0aW9ucyB7IGVkZ2VzIHsgbm9kZSB7IGlkIG1lZGlhUmVjb21tZW5kYXRpb24geyBpZCBpZE1hbCB0aXRsZSB7IHJvbWFqaSBlbmdsaXNoIG5hdGl2ZSB1c2VyUHJlZmVycmVkIH0gc3RhdHVzIGVwaXNvZGVzIGNvdmVySW1hZ2UgeyBleHRyYUxhcmdlIGxhcmdlIG1lZGl1bSBjb2xvciB9IGJhbm5lckltYWdlIGZvcm1hdCBjaGFwdGVycyBtZWFuU2NvcmUgbmV4dEFpcmluZ0VwaXNvZGUgeyBlcGlzb2RlIHRpbWVVbnRpbEFpcmluZyBhaXJpbmdBdCB9IH0gfSB9IH0gcmVsYXRpb25zIHsgZWRnZXMgeyBpZCByZWxhdGlvblR5cGUgbm9kZSB7IGlkIGlkTWFsIHN0YXR1cyBjb3ZlckltYWdlIHsgZXh0cmFMYXJnZSBsYXJnZSBtZWRpdW0gY29sb3IgfSBiYW5uZXJJbWFnZSB0aXRsZSB7IHJvbWFqaSBlbmdsaXNoIG5hdGl2ZSB1c2VyUHJlZmVycmVkIH0gZXBpc29kZXMgY2hhcHRlcnMgZm9ybWF0IG5leHRBaXJpbmdFcGlzb2RlIHsgYWlyaW5nQXQgdGltZVVudGlsQWlyaW5nIGVwaXNvZGUgfSBtZWFuU2NvcmUgfSB9IH0gc3R1ZGlvcyhpc01haW46IHRydWUpIHsgZWRnZXMgeyBpc01haW4gbm9kZSB7IGlkIG5hbWUgfSB9IH0gfSB9YDtcbmV4cG9ydHMuYW5pbGlzdE1lZGlhRGV0YWlsUXVlcnkgPSBhbmlsaXN0TWVkaWFEZXRhaWxRdWVyeTtcbmNvbnN0IGFuaWxpc3RUcmVuZGluZ1F1ZXJ5ID0gKHBhZ2UgPSAxLCBwZXJQYWdlID0gMjAsIHR5cGUgPSAnQU5JTUUnKSA9PiBgcXVlcnkgKCRwYWdlOiBJbnQgPSAke3BhZ2V9LCAkaWQ6IEludCwgJHR5cGU6IE1lZGlhVHlwZSA9ICR7dHlwZX0sICRpc0FkdWx0OiBCb29sZWFuID0gZmFsc2UsICRzaXplOiBJbnQgPSAke3BlclBhZ2V9LCAkc29ydDogW01lZGlhU29ydF0gPSBbVFJFTkRJTkdfREVTQywgUE9QVUxBUklUWV9ERVNDXSkgeyBQYWdlKHBhZ2U6ICRwYWdlLCBwZXJQYWdlOiAkc2l6ZSkgeyBwYWdlSW5mbyB7IHRvdGFsIHBlclBhZ2UgY3VycmVudFBhZ2UgbGFzdFBhZ2UgaGFzTmV4dFBhZ2UgfSBtZWRpYShpZDogJGlkLCB0eXBlOiAkdHlwZSwgaXNBZHVsdDogJGlzQWR1bHQsIHNvcnQ6ICRzb3J0KSB7IGlkIGlkTWFsIHN0YXR1cyh2ZXJzaW9uOiAyKSB0aXRsZSB7IHVzZXJQcmVmZXJyZWQgcm9tYWppIGVuZ2xpc2ggbmF0aXZlIH0gZ2VucmVzIHRyYWlsZXIgeyBpZCBzaXRlIHRodW1ibmFpbCB9IGRlc2NyaXB0aW9uIGZvcm1hdCBiYW5uZXJJbWFnZSBjb3ZlckltYWdleyBleHRyYUxhcmdlIGxhcmdlIG1lZGl1bSBjb2xvciB9IGVwaXNvZGVzIG1lYW5TY29yZSBkdXJhdGlvbiBzZWFzb24gc2Vhc29uWWVhciBhdmVyYWdlU2NvcmUgbmV4dEFpcmluZ0VwaXNvZGUgeyBhaXJpbmdBdCB0aW1lVW50aWxBaXJpbmcgZXBpc29kZSB9ICB9IH0gfWA7XG5leHBvcnRzLmFuaWxpc3RUcmVuZGluZ1F1ZXJ5ID0gYW5pbGlzdFRyZW5kaW5nUXVlcnk7XG5jb25zdCBhbmlsaXN0UG9wdWxhclF1ZXJ5ID0gKHBhZ2UgPSAxLCBwZXJQYWdlID0gMjAsIHR5cGUgPSAnQU5JTUUnKSA9PiBgcXVlcnkgKCRwYWdlOiBJbnQgPSAke3BhZ2V9LCAkaWQ6IEludCwgJHR5cGU6IE1lZGlhVHlwZSA9ICR7dHlwZX0sICRpc0FkdWx0OiBCb29sZWFuID0gZmFsc2UsICRzaXplOiBJbnQgPSAke3BlclBhZ2V9LCAkc29ydDogW01lZGlhU29ydF0gPSBbUE9QVUxBUklUWV9ERVNDXSkgeyBQYWdlKHBhZ2U6ICRwYWdlLCBwZXJQYWdlOiAkc2l6ZSkgeyBwYWdlSW5mbyB7IHRvdGFsIHBlclBhZ2UgY3VycmVudFBhZ2UgbGFzdFBhZ2UgaGFzTmV4dFBhZ2UgfSBtZWRpYShpZDogJGlkLCB0eXBlOiAkdHlwZSwgaXNBZHVsdDogJGlzQWR1bHQsIHNvcnQ6ICRzb3J0KSB7IGlkIGlkTWFsIHN0YXR1cyh2ZXJzaW9uOiAyKSB0aXRsZSB7IHVzZXJQcmVmZXJyZWQgcm9tYWppIGVuZ2xpc2ggbmF0aXZlIH0gdHJhaWxlciB7IGlkIHNpdGUgdGh1bWJuYWlsIH0gZm9ybWF0IGdlbnJlcyBiYW5uZXJJbWFnZSBkZXNjcmlwdGlvbiBjb3ZlckltYWdlIHsgZXh0cmFMYXJnZSBsYXJnZSBtZWRpdW0gY29sb3IgfSBlcGlzb2RlcyBtZWFuU2NvcmUgZHVyYXRpb24gc2Vhc29uIHNlYXNvblllYXIgYXZlcmFnZVNjb3JlIG5leHRBaXJpbmdFcGlzb2RlIHsgYWlyaW5nQXQgdGltZVVudGlsQWlyaW5nIGVwaXNvZGUgfSAgfSB9IH1gO1xuZXhwb3J0cy5hbmlsaXN0UG9wdWxhclF1ZXJ5ID0gYW5pbGlzdFBvcHVsYXJRdWVyeTtcbmNvbnN0IGFuaWxpc3RHZW5yZXNRdWVyeSA9IChnZW5yZXMsIHBhZ2UgPSAxLCBwZXJQYWdlID0gMjApID0+IGBxdWVyeSAoJGdlbnJlczogW1N0cmluZ10gPSAke0pTT04uc3RyaW5naWZ5KGdlbnJlcyl9LCAkcGFnZTogSW50ID0gJHtwYWdlfSwgJHR5cGU6IE1lZGlhVHlwZSA9IEFOSU1FLCAkaXNBZHVsdDogQm9vbGVhbiA9IGZhbHNlLCAkc2l6ZTogSW50ID0gJHtwZXJQYWdlfSkge1BhZ2UocGFnZTogJHBhZ2UsIHBlclBhZ2U6ICRzaXplKSB7IHBhZ2VJbmZvIHsgdG90YWwgcGVyUGFnZSBjdXJyZW50UGFnZSBsYXN0UGFnZSBoYXNOZXh0UGFnZSB9IG1lZGlhKHR5cGU6ICR0eXBlLCBpc0FkdWx0OiAkaXNBZHVsdCwgZ2VucmVfaW46ICRnZW5yZXMpIHsgaWQgaWRNYWwgc3RhdHVzKHZlcnNpb246IDIpIHRpdGxlIHsgdXNlclByZWZlcnJlZCByb21hamkgZW5nbGlzaCBuYXRpdmUgfSB0cmFpbGVyIHsgaWQgc2l0ZSB0aHVtYm5haWwgfSBmb3JtYXQgYmFubmVySW1hZ2UgZGVzY3JpcHRpb24gY292ZXJJbWFnZSB7IGV4dHJhTGFyZ2UgbGFyZ2UgbWVkaXVtIGNvbG9yIH0gZXBpc29kZXMgbWVhblNjb3JlIGR1cmF0aW9uIHNlYXNvbiBzZWFzb25ZZWFyIGF2ZXJhZ2VTY29yZSBuZXh0QWlyaW5nRXBpc29kZSB7IGFpcmluZ0F0IHRpbWVVbnRpbEFpcmluZyBlcGlzb2RlIH0gIH0gfSB9YDtcbmV4cG9ydHMuYW5pbGlzdEdlbnJlc1F1ZXJ5ID0gYW5pbGlzdEdlbnJlc1F1ZXJ5O1xuY29uc3QgYW5pbGlzdEFpcmluZ1NjaGVkdWxlUXVlcnkgPSAocGFnZSA9IDEsIHBlclBhZ2UgPSAyMCwgd2Vla1N0YXJ0LCB3ZWVrRW5kLCBub3RZZXRBaXJlZCkgPT4gYHF1ZXJ5IHsgUGFnZShwYWdlOiAke3BhZ2V9LCBwZXJQYWdlOiAke3BlclBhZ2V9KSB7IHBhZ2VJbmZvIHsgdG90YWwgcGVyUGFnZSBjdXJyZW50UGFnZSBsYXN0UGFnZSBoYXNOZXh0UGFnZSB9IGFpcmluZ1NjaGVkdWxlcyggbm90WWV0QWlyZWQ6ICR7bm90WWV0QWlyZWR9LCBhaXJpbmdBdF9ncmVhdGVyOiAke3dlZWtTdGFydH0sIGFpcmluZ0F0X2xlc3NlcjogJHt3ZWVrRW5kfSkgeyBhaXJpbmdBdCBlcGlzb2RlIG1lZGlhIHsgaWQgZGVzY3JpcHRpb24gaWRNYWwgdGl0bGUgeyByb21hamkgZW5nbGlzaCB1c2VyUHJlZmVycmVkIG5hdGl2ZSB9IGNvdW50cnlPZk9yaWdpbiBkZXNjcmlwdGlvbiBwb3B1bGFyaXR5IGJhbm5lckltYWdlIGNvdmVySW1hZ2UgeyBleHRyYUxhcmdlIGxhcmdlIG1lZGl1bSBjb2xvciB9IGdlbnJlcyBhdmVyYWdlU2NvcmUgc2Vhc29uWWVhciBmb3JtYXQgfSB9IH0gfWA7XG5leHBvcnRzLmFuaWxpc3RBaXJpbmdTY2hlZHVsZVF1ZXJ5ID0gYW5pbGlzdEFpcmluZ1NjaGVkdWxlUXVlcnk7XG5jb25zdCBhbmlsaXN0U2l0ZVN0YXRpc3RpY3NRdWVyeSA9ICgpID0+IGBxdWVyeSB7IFNpdGVTdGF0aXN0aWNzIHsgYW5pbWUgeyBub2RlcyB7IGNvdW50IH0gfSB9IH1gO1xuZXhwb3J0cy5hbmlsaXN0U2l0ZVN0YXRpc3RpY3NRdWVyeSA9IGFuaWxpc3RTaXRlU3RhdGlzdGljc1F1ZXJ5O1xuY29uc3QgYW5pbGlzdENoYXJhY3RlclF1ZXJ5ID0gKCkgPT4gYHF1ZXJ5IGNoYXJhY3RlcigkaWQ6IEludCkgeyBDaGFyYWN0ZXIoaWQ6ICRpZCkgeyBpZCBuYW1lIHsgZmlyc3QgbWlkZGxlIGxhc3QgZnVsbCBuYXRpdmUgdXNlclByZWZlcnJlZCBhbHRlcm5hdGl2ZSBhbHRlcm5hdGl2ZVNwb2lsZXIgfSBpbWFnZSB7IGxhcmdlIG1lZGl1bSB9IGRlc2NyaXB0aW9uIGdlbmRlciBkYXRlT2ZCaXJ0aCB7IHllYXIgbW9udGggZGF5IH0gYmxvb2RUeXBlIGFnZSBmYXZvdXJpdGVzIG1lZGlhIHsgZWRnZXMgeyBjaGFyYWN0ZXJSb2xlIG5vZGUgeyBpZCBpZE1hbCB0aXRsZSB7IHJvbWFqaSBlbmdsaXNoIG5hdGl2ZSB1c2VyUHJlZmVycmVkIH0gY292ZXJJbWFnZSB7IGV4dHJhTGFyZ2UgbGFyZ2UgbWVkaXVtIGNvbG9yIH0gYXZlcmFnZVNjb3JlIHN0YXJ0RGF0ZSB7IHllYXIgbW9udGggZGF5IH0gZXBpc29kZXMgZm9ybWF0IHN0YXR1cyB9IH0gfSB9IH1gO1xuZXhwb3J0cy5hbmlsaXN0Q2hhcmFjdGVyUXVlcnkgPSBhbmlsaXN0Q2hhcmFjdGVyUXVlcnk7XG5jb25zdCBhbmlsaXN0U3RhZmZRdWVyeSA9ICgpID0+IGBxdWVyeSBzdGFmZigkaWQ6IEludCwgJHNvcnQ6IFtNZWRpYVNvcnRdLCAkY2hhcmFjdGVyUGFnZTogSW50LCAkc3RhZmZQYWdlOiBJbnQsICRvbkxpc3Q6IEJvb2xlYW4sICR0eXBlOiBNZWRpYVR5cGUsICR3aXRoQ2hhcmFjdGVyUm9sZXM6IEJvb2xlYW4gPSBmYWxzZSwgJHdpdGhTdGFmZlJvbGVzOiBCb29sZWFuID0gZmFsc2UpIHsgU3RhZmYoaWQ6ICRpZCkgeyBpZCBuYW1lIHsgZmlyc3QgbWlkZGxlIGxhc3QgZnVsbCBuYXRpdmUgdXNlclByZWZlcnJlZCBhbHRlcm5hdGl2ZSB9IGltYWdlIHsgbGFyZ2UgfSBkZXNjcmlwdGlvbiBmYXZvdXJpdGVzIGlzRmF2b3VyaXRlIGlzRmF2b3VyaXRlQmxvY2tlZCBhZ2UgZ2VuZGVyIHllYXJzQWN0aXZlIGhvbWVUb3duIGJsb29kVHlwZSBwcmltYXJ5T2NjdXBhdGlvbnMgZGF0ZU9mQmlydGggeyB5ZWFyIG1vbnRoIGRheSB9IGRhdGVPZkRlYXRoIHsgeWVhciBtb250aCBkYXkgfSBsYW5ndWFnZTogbGFuZ3VhZ2VWMiBjaGFyYWN0ZXJNZWRpYShwYWdlOiAkY2hhcmFjdGVyUGFnZSwgc29ydDogJHNvcnQsIG9uTGlzdDogJG9uTGlzdCkgQGluY2x1ZGUoaWY6ICR3aXRoQ2hhcmFjdGVyUm9sZXMpIHsgcGFnZUluZm8geyB0b3RhbCBwZXJQYWdlIGN1cnJlbnRQYWdlIGxhc3RQYWdlIGhhc05leHRQYWdlIH0gZWRnZXMgeyBjaGFyYWN0ZXJSb2xlIGNoYXJhY3Rlck5hbWUgbm9kZSB7IGlkIHR5cGUgYmFubmVySW1hZ2UgaXNBZHVsdCB0aXRsZSB7IHVzZXJQcmVmZXJyZWQgfSBjb3ZlckltYWdlIHsgbGFyZ2UgfSBzdGFydERhdGUgeyB5ZWFyIH0gbWVkaWFMaXN0RW50cnkgeyBpZCBzdGF0dXMgfSB9IGNoYXJhY3RlcnMgeyBpZCBuYW1lIHsgdXNlclByZWZlcnJlZCB9IGltYWdlIHsgbGFyZ2UgfSB9IH0gfSBzdGFmZk1lZGlhKHBhZ2U6ICRzdGFmZlBhZ2UsIHR5cGU6ICR0eXBlLCBzb3J0OiAkc29ydCwgb25MaXN0OiAkb25MaXN0KSBAaW5jbHVkZShpZjogJHdpdGhTdGFmZlJvbGVzKSB7IHBhZ2VJbmZvIHsgdG90YWwgcGVyUGFnZSBjdXJyZW50UGFnZSBsYXN0UGFnZSBoYXNOZXh0UGFnZSB9IGVkZ2VzIHsgc3RhZmZSb2xlIG5vZGUgeyBpZCB0eXBlIGlzQWR1bHQgdGl0bGUgeyB1c2VyUHJlZmVycmVkIH0gY292ZXJJbWFnZSB7IGxhcmdlIH0gbWVkaWFMaXN0RW50cnkgeyBpZCBzdGF0dXMgfSB9IH0gfSB9IH1gO1xuZXhwb3J0cy5hbmlsaXN0U3RhZmZRdWVyeSA9IGFuaWxpc3RTdGFmZlF1ZXJ5O1xuY29uc3Qga2l0c3VTZWFyY2hRdWVyeSA9IChxdWVyeSkgPT4gYHF1ZXJ5e3NlYXJjaEFuaW1lQnlUaXRsZShmaXJzdDo1LCB0aXRsZTpcIiR7cXVlcnl9XCIpeyBub2RlcyB7aWQgc2Vhc29uIHN0YXJ0RGF0ZSB0aXRsZXMgeyBsb2NhbGl6ZWQgfSBlcGlzb2RlcyhmaXJzdDogMjAwMCl7IG5vZGVzIHsgbnVtYmVyIGNyZWF0ZWRBdCB0aXRsZXMgeyBjYW5vbmljYWwgfSBkZXNjcmlwdGlvbiB0aHVtYm5haWwgeyBvcmlnaW5hbCB7IHVybCB9IH0gfSB9IH0gfSB9YDtcbmV4cG9ydHMua2l0c3VTZWFyY2hRdWVyeSA9IGtpdHN1U2VhcmNoUXVlcnk7XG5jb25zdCBhbmlsaXN0U3RhZmZJbmZvUXVlcnkgPSAoaWQpID0+IGBxdWVyeSgkaWQ6IEludCA9ICR7aWR9KSB7IFN0YWZmKGlkOiAkaWQpIHsgaWQgbmFtZSB7IGZpcnN0IGxhc3QgbmF0aXZlIGZ1bGwgfSBpbWFnZSB7IGxhcmdlIG1lZGl1bSB9IGRlc2NyaXB0aW9uIHNpdGVVcmwgc3RhZmZNZWRpYSB7IGVkZ2VzIHsgaWQgbm9kZSB7IGlkIHRpdGxlIHsgcm9tYWppIGVuZ2xpc2ggbmF0aXZlIH0gdHlwZSBjb3ZlckltYWdlIHsgZXh0cmFMYXJnZSBsYXJnZSBtZWRpdW0gY29sb3IgfSB9IH0gfSB9IH1cbmA7XG5leHBvcnRzLmFuaWxpc3RTdGFmZkluZm9RdWVyeSA9IGFuaWxpc3RTdGFmZkluZm9RdWVyeTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/utils/queries.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@consumet/extensions/dist/utils/utils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@consumet/extensions/dist/utils/utils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getHashFromImage = exports.substringBeforeLast = exports.substringAfterLast = exports.substringBefore = exports.substringAfter = exports.compareTwoStrings = exports.isJson = exports.getDays = exports.capitalizeFirstLetter = exports.range = exports.genElement = exports.formatTitle = exports.floorID = exports.splitAuthor = exports.ANIFY_URL = exports.days = exports.USER_AGENT = void 0;\nexports.convertDuration = convertDuration;\n// import sharp from 'sharp';\nconst cheerio_1 = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/commonjs/index.js\");\nexports.USER_AGENT = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36';\nexports.days = ['Saturday', 'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\nexports.ANIFY_URL = 'https://anify.eltik.cc';\nconst splitAuthor = (authors) => {\n    const res = [];\n    let eater = '';\n    for (let i = 0; i < authors.length; i++) {\n        if (authors[i] == ' ' && (authors[i - 1] == ',' || authors[i - 1] == ';')) {\n            continue;\n        }\n        if (authors[i] == ',' || authors[i] == ';') {\n            res.push(eater.trim());\n            eater = '';\n            continue;\n        }\n        eater += authors[i];\n    }\n    res.push(eater);\n    return res;\n};\nexports.splitAuthor = splitAuthor;\nconst floorID = (id) => {\n    let imp = '';\n    for (let i = 0; i < (id === null || id === void 0 ? void 0 : id.length) - 3; i++) {\n        imp += id[i];\n    }\n    const idV = parseInt(imp);\n    return idV * 1000;\n};\nexports.floorID = floorID;\nconst formatTitle = (title) => {\n    const result = title.replace(/[0-9]/g, '');\n    return result.trim();\n};\nexports.formatTitle = formatTitle;\nconst genElement = (s, e) => {\n    if (s == '')\n        return;\n    const $ = (0, cheerio_1.load)(e);\n    let i = 0;\n    let str = '';\n    let el = $();\n    for (; i < s.length; i++) {\n        if (s[i] == ' ') {\n            el = $(str);\n            str = '';\n            i++;\n            break;\n        }\n        str += s[i];\n    }\n    for (; i < s.length; i++) {\n        if (s[i] == ' ') {\n            el = $(el).children(str);\n            str = '';\n            continue;\n        }\n        str += s[i];\n    }\n    el = $(el).children(str);\n    return el;\n};\nexports.genElement = genElement;\nconst range = ({ from = 0, to = 0, step = 1, length = Math.ceil((to - from) / step) }) => Array.from({ length }, (_, i) => from + i * step);\nexports.range = range;\nconst capitalizeFirstLetter = (s) => (s === null || s === void 0 ? void 0 : s.charAt(0).toUpperCase()) + s.slice(1);\nexports.capitalizeFirstLetter = capitalizeFirstLetter;\nconst getDays = (day1, day2) => {\n    const day1Index = exports.days.indexOf((0, exports.capitalizeFirstLetter)(day1)) - 1;\n    const day2Index = exports.days.indexOf((0, exports.capitalizeFirstLetter)(day2)) - 1;\n    const now = new Date();\n    const day1Date = new Date();\n    const day2Date = new Date();\n    day1Date.setDate(now.getDate() + ((day1Index + 7 - now.getDay()) % 7));\n    day2Date.setDate(now.getDate() + ((day2Index + 7 - now.getDay()) % 7));\n    day1Date.setHours(0, 0, 0, 0);\n    day2Date.setHours(0, 0, 0, 0);\n    return [day1Date.getTime() / 1000, day2Date.getTime() / 1000];\n};\nexports.getDays = getDays;\nconst isJson = (str) => {\n    try {\n        JSON.parse(str);\n    }\n    catch (e) {\n        return false;\n    }\n    return true;\n};\nexports.isJson = isJson;\nfunction convertDuration(milliseconds) {\n    let seconds = Math.floor(milliseconds / 1000);\n    let minutes = Math.floor(seconds / 60);\n    const hours = Math.floor(minutes / 60);\n    seconds = seconds % 60;\n    minutes = minutes % 60;\n    return `PT${hours}H${minutes}M${seconds}S`;\n}\nconst compareTwoStrings = (first, second) => {\n    first = first.replace(/\\s+/g, '');\n    second = second.replace(/\\s+/g, '');\n    if (first === second)\n        return 1; // identical or empty\n    if (first.length < 2 || second.length < 2)\n        return 0; // if either is a 0-letter or 1-letter string\n    const firstBigrams = new Map();\n    for (let i = 0; i < first.length - 1; i++) {\n        const bigram = first.substring(i, i + 2);\n        const count = firstBigrams.has(bigram) ? firstBigrams.get(bigram) + 1 : 1;\n        firstBigrams.set(bigram, count);\n    }\n    let intersectionSize = 0;\n    for (let i = 0; i < second.length - 1; i++) {\n        const bigram = second.substring(i, i + 2);\n        const count = firstBigrams.has(bigram) ? firstBigrams.get(bigram) : 0;\n        if (count > 0) {\n            firstBigrams.set(bigram, count - 1);\n            intersectionSize++;\n        }\n    }\n    return (2.0 * intersectionSize) / (first.length + second.length - 2);\n};\nexports.compareTwoStrings = compareTwoStrings;\nconst substringAfter = (str, toFind) => {\n    const index = str.indexOf(toFind);\n    return index == -1 ? '' : str.substring(index + toFind.length);\n};\nexports.substringAfter = substringAfter;\nconst substringBefore = (str, toFind) => {\n    const index = str.indexOf(toFind);\n    return index == -1 ? '' : str.substring(0, index);\n};\nexports.substringBefore = substringBefore;\nconst substringAfterLast = (str, toFind) => {\n    const index = str.lastIndexOf(toFind);\n    return index == -1 ? '' : str.substring(index + toFind.length);\n};\nexports.substringAfterLast = substringAfterLast;\nconst substringBeforeLast = (str, toFind) => {\n    const index = str.lastIndexOf(toFind);\n    return index == -1 ? '' : str.substring(0, index);\n};\nexports.substringBeforeLast = substringBeforeLast;\n// const generateHash = async (url: string) => {\n//   let returnedBuffer;\n//   const response = await fetch(url);\n//   const arrayBuffer = await response.arrayBuffer();\n//   returnedBuffer = Buffer.from(arrayBuffer);\n//   // const { info, data } = await sharp(returnedBuffer).ensureAlpha().raw().toBuffer({\n//   //   resolveWithObject: true,\n//   // });\n//   return blurhash.encode(new Uint8ClampedArray(data), info.width, info.height, 4, 3);\n// };\nconst getHashFromImage = (url) => {\n    if ((url === null || url === void 0 ? void 0 : url.length) === 0) {\n        return '';\n    }\n    else {\n        let hash;\n        // generateHash(url).then(hashKey => (hash = hashKey));\n        return 'hash';\n    }\n};\nexports.getHashFromImage = getHashFromImage;\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnN1bWV0L2V4dGVuc2lvbnMvZGlzdC91dGlscy91dGlscy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx3QkFBd0IsR0FBRywyQkFBMkIsR0FBRywwQkFBMEIsR0FBRyx1QkFBdUIsR0FBRyxzQkFBc0IsR0FBRyx5QkFBeUIsR0FBRyxjQUFjLEdBQUcsZUFBZSxHQUFHLDZCQUE2QixHQUFHLGFBQWEsR0FBRyxrQkFBa0IsR0FBRyxtQkFBbUIsR0FBRyxlQUFlLEdBQUcsbUJBQW1CLEdBQUcsaUJBQWlCLEdBQUcsWUFBWSxHQUFHLGtCQUFrQjtBQUNoWSx1QkFBdUI7QUFDdkI7QUFDQSxrQkFBa0IsbUJBQU8sQ0FBQyxvRUFBUztBQUNuQyxrQkFBa0Isa0NBQWtDLE9BQU87QUFDM0QsWUFBWTtBQUNaLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDLCtFQUErRTtBQUMvRTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0Esb0JBQW9CLDZEQUE2RDtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsaUJBQWlCLG9FQUFvRSxrQkFBa0IsUUFBUTtBQUMvRyxhQUFhO0FBQ2I7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsTUFBTSxHQUFHLFFBQVEsR0FBRyxRQUFRO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWE7QUFDN0I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGxvcmRyXFxEb3dubG9hZHNcXEFuaVRlYW1zLW1haW5cXG5vZGVfbW9kdWxlc1xcQGNvbnN1bWV0XFxleHRlbnNpb25zXFxkaXN0XFx1dGlsc1xcdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldEhhc2hGcm9tSW1hZ2UgPSBleHBvcnRzLnN1YnN0cmluZ0JlZm9yZUxhc3QgPSBleHBvcnRzLnN1YnN0cmluZ0FmdGVyTGFzdCA9IGV4cG9ydHMuc3Vic3RyaW5nQmVmb3JlID0gZXhwb3J0cy5zdWJzdHJpbmdBZnRlciA9IGV4cG9ydHMuY29tcGFyZVR3b1N0cmluZ3MgPSBleHBvcnRzLmlzSnNvbiA9IGV4cG9ydHMuZ2V0RGF5cyA9IGV4cG9ydHMuY2FwaXRhbGl6ZUZpcnN0TGV0dGVyID0gZXhwb3J0cy5yYW5nZSA9IGV4cG9ydHMuZ2VuRWxlbWVudCA9IGV4cG9ydHMuZm9ybWF0VGl0bGUgPSBleHBvcnRzLmZsb29ySUQgPSBleHBvcnRzLnNwbGl0QXV0aG9yID0gZXhwb3J0cy5BTklGWV9VUkwgPSBleHBvcnRzLmRheXMgPSBleHBvcnRzLlVTRVJfQUdFTlQgPSB2b2lkIDA7XG5leHBvcnRzLmNvbnZlcnREdXJhdGlvbiA9IGNvbnZlcnREdXJhdGlvbjtcbi8vIGltcG9ydCBzaGFycCBmcm9tICdzaGFycCc7XG5jb25zdCBjaGVlcmlvXzEgPSByZXF1aXJlKFwiY2hlZXJpb1wiKTtcbmV4cG9ydHMuVVNFUl9BR0VOVCA9ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODMuMC40MTAzLjExNiBTYWZhcmkvNTM3LjM2JztcbmV4cG9ydHMuZGF5cyA9IFsnU2F0dXJkYXknLCAnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknXTtcbmV4cG9ydHMuQU5JRllfVVJMID0gJ2h0dHBzOi8vYW5pZnkuZWx0aWsuY2MnO1xuY29uc3Qgc3BsaXRBdXRob3IgPSAoYXV0aG9ycykgPT4ge1xuICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgIGxldCBlYXRlciA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXV0aG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXV0aG9yc1tpXSA9PSAnICcgJiYgKGF1dGhvcnNbaSAtIDFdID09ICcsJyB8fCBhdXRob3JzW2kgLSAxXSA9PSAnOycpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXV0aG9yc1tpXSA9PSAnLCcgfHwgYXV0aG9yc1tpXSA9PSAnOycpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKGVhdGVyLnRyaW0oKSk7XG4gICAgICAgICAgICBlYXRlciA9ICcnO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZWF0ZXIgKz0gYXV0aG9yc1tpXTtcbiAgICB9XG4gICAgcmVzLnB1c2goZWF0ZXIpO1xuICAgIHJldHVybiByZXM7XG59O1xuZXhwb3J0cy5zcGxpdEF1dGhvciA9IHNwbGl0QXV0aG9yO1xuY29uc3QgZmxvb3JJRCA9IChpZCkgPT4ge1xuICAgIGxldCBpbXAgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IChpZCA9PT0gbnVsbCB8fCBpZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaWQubGVuZ3RoKSAtIDM7IGkrKykge1xuICAgICAgICBpbXAgKz0gaWRbaV07XG4gICAgfVxuICAgIGNvbnN0IGlkViA9IHBhcnNlSW50KGltcCk7XG4gICAgcmV0dXJuIGlkViAqIDEwMDA7XG59O1xuZXhwb3J0cy5mbG9vcklEID0gZmxvb3JJRDtcbmNvbnN0IGZvcm1hdFRpdGxlID0gKHRpdGxlKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGl0bGUucmVwbGFjZSgvWzAtOV0vZywgJycpO1xuICAgIHJldHVybiByZXN1bHQudHJpbSgpO1xufTtcbmV4cG9ydHMuZm9ybWF0VGl0bGUgPSBmb3JtYXRUaXRsZTtcbmNvbnN0IGdlbkVsZW1lbnQgPSAocywgZSkgPT4ge1xuICAgIGlmIChzID09ICcnKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgJCA9ICgwLCBjaGVlcmlvXzEubG9hZCkoZSk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBzdHIgPSAnJztcbiAgICBsZXQgZWwgPSAkKCk7XG4gICAgZm9yICg7IGkgPCBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzW2ldID09ICcgJykge1xuICAgICAgICAgICAgZWwgPSAkKHN0cik7XG4gICAgICAgICAgICBzdHIgPSAnJztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBzW2ldO1xuICAgIH1cbiAgICBmb3IgKDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNbaV0gPT0gJyAnKSB7XG4gICAgICAgICAgICBlbCA9ICQoZWwpLmNoaWxkcmVuKHN0cik7XG4gICAgICAgICAgICBzdHIgPSAnJztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBzW2ldO1xuICAgIH1cbiAgICBlbCA9ICQoZWwpLmNoaWxkcmVuKHN0cik7XG4gICAgcmV0dXJuIGVsO1xufTtcbmV4cG9ydHMuZ2VuRWxlbWVudCA9IGdlbkVsZW1lbnQ7XG5jb25zdCByYW5nZSA9ICh7IGZyb20gPSAwLCB0byA9IDAsIHN0ZXAgPSAxLCBsZW5ndGggPSBNYXRoLmNlaWwoKHRvIC0gZnJvbSkgLyBzdGVwKSB9KSA9PiBBcnJheS5mcm9tKHsgbGVuZ3RoIH0sIChfLCBpKSA9PiBmcm9tICsgaSAqIHN0ZXApO1xuZXhwb3J0cy5yYW5nZSA9IHJhbmdlO1xuY29uc3QgY2FwaXRhbGl6ZUZpcnN0TGV0dGVyID0gKHMpID0+IChzID09PSBudWxsIHx8IHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkpICsgcy5zbGljZSgxKTtcbmV4cG9ydHMuY2FwaXRhbGl6ZUZpcnN0TGV0dGVyID0gY2FwaXRhbGl6ZUZpcnN0TGV0dGVyO1xuY29uc3QgZ2V0RGF5cyA9IChkYXkxLCBkYXkyKSA9PiB7XG4gICAgY29uc3QgZGF5MUluZGV4ID0gZXhwb3J0cy5kYXlzLmluZGV4T2YoKDAsIGV4cG9ydHMuY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKShkYXkxKSkgLSAxO1xuICAgIGNvbnN0IGRheTJJbmRleCA9IGV4cG9ydHMuZGF5cy5pbmRleE9mKCgwLCBleHBvcnRzLmNhcGl0YWxpemVGaXJzdExldHRlcikoZGF5MikpIC0gMTtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGRheTFEYXRlID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkYXkyRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgZGF5MURhdGUuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpICsgKChkYXkxSW5kZXggKyA3IC0gbm93LmdldERheSgpKSAlIDcpKTtcbiAgICBkYXkyRGF0ZS5zZXREYXRlKG5vdy5nZXREYXRlKCkgKyAoKGRheTJJbmRleCArIDcgLSBub3cuZ2V0RGF5KCkpICUgNykpO1xuICAgIGRheTFEYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgIGRheTJEYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgIHJldHVybiBbZGF5MURhdGUuZ2V0VGltZSgpIC8gMTAwMCwgZGF5MkRhdGUuZ2V0VGltZSgpIC8gMTAwMF07XG59O1xuZXhwb3J0cy5nZXREYXlzID0gZ2V0RGF5cztcbmNvbnN0IGlzSnNvbiA9IChzdHIpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBKU09OLnBhcnNlKHN0cik7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuZXhwb3J0cy5pc0pzb24gPSBpc0pzb247XG5mdW5jdGlvbiBjb252ZXJ0RHVyYXRpb24obWlsbGlzZWNvbmRzKSB7XG4gICAgbGV0IHNlY29uZHMgPSBNYXRoLmZsb29yKG1pbGxpc2Vjb25kcyAvIDEwMDApO1xuICAgIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihtaW51dGVzIC8gNjApO1xuICAgIHNlY29uZHMgPSBzZWNvbmRzICUgNjA7XG4gICAgbWludXRlcyA9IG1pbnV0ZXMgJSA2MDtcbiAgICByZXR1cm4gYFBUJHtob3Vyc31IJHttaW51dGVzfU0ke3NlY29uZHN9U2A7XG59XG5jb25zdCBjb21wYXJlVHdvU3RyaW5ncyA9IChmaXJzdCwgc2Vjb25kKSA9PiB7XG4gICAgZmlyc3QgPSBmaXJzdC5yZXBsYWNlKC9cXHMrL2csICcnKTtcbiAgICBzZWNvbmQgPSBzZWNvbmQucmVwbGFjZSgvXFxzKy9nLCAnJyk7XG4gICAgaWYgKGZpcnN0ID09PSBzZWNvbmQpXG4gICAgICAgIHJldHVybiAxOyAvLyBpZGVudGljYWwgb3IgZW1wdHlcbiAgICBpZiAoZmlyc3QubGVuZ3RoIDwgMiB8fCBzZWNvbmQubGVuZ3RoIDwgMilcbiAgICAgICAgcmV0dXJuIDA7IC8vIGlmIGVpdGhlciBpcyBhIDAtbGV0dGVyIG9yIDEtbGV0dGVyIHN0cmluZ1xuICAgIGNvbnN0IGZpcnN0QmlncmFtcyA9IG5ldyBNYXAoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpcnN0Lmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBjb25zdCBiaWdyYW0gPSBmaXJzdC5zdWJzdHJpbmcoaSwgaSArIDIpO1xuICAgICAgICBjb25zdCBjb3VudCA9IGZpcnN0QmlncmFtcy5oYXMoYmlncmFtKSA/IGZpcnN0QmlncmFtcy5nZXQoYmlncmFtKSArIDEgOiAxO1xuICAgICAgICBmaXJzdEJpZ3JhbXMuc2V0KGJpZ3JhbSwgY291bnQpO1xuICAgIH1cbiAgICBsZXQgaW50ZXJzZWN0aW9uU2l6ZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWNvbmQubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJpZ3JhbSA9IHNlY29uZC5zdWJzdHJpbmcoaSwgaSArIDIpO1xuICAgICAgICBjb25zdCBjb3VudCA9IGZpcnN0QmlncmFtcy5oYXMoYmlncmFtKSA/IGZpcnN0QmlncmFtcy5nZXQoYmlncmFtKSA6IDA7XG4gICAgICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgICAgIGZpcnN0QmlncmFtcy5zZXQoYmlncmFtLCBjb3VudCAtIDEpO1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uU2l6ZSsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoMi4wICogaW50ZXJzZWN0aW9uU2l6ZSkgLyAoZmlyc3QubGVuZ3RoICsgc2Vjb25kLmxlbmd0aCAtIDIpO1xufTtcbmV4cG9ydHMuY29tcGFyZVR3b1N0cmluZ3MgPSBjb21wYXJlVHdvU3RyaW5ncztcbmNvbnN0IHN1YnN0cmluZ0FmdGVyID0gKHN0ciwgdG9GaW5kKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBzdHIuaW5kZXhPZih0b0ZpbmQpO1xuICAgIHJldHVybiBpbmRleCA9PSAtMSA/ICcnIDogc3RyLnN1YnN0cmluZyhpbmRleCArIHRvRmluZC5sZW5ndGgpO1xufTtcbmV4cG9ydHMuc3Vic3RyaW5nQWZ0ZXIgPSBzdWJzdHJpbmdBZnRlcjtcbmNvbnN0IHN1YnN0cmluZ0JlZm9yZSA9IChzdHIsIHRvRmluZCkgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YodG9GaW5kKTtcbiAgICByZXR1cm4gaW5kZXggPT0gLTEgPyAnJyA6IHN0ci5zdWJzdHJpbmcoMCwgaW5kZXgpO1xufTtcbmV4cG9ydHMuc3Vic3RyaW5nQmVmb3JlID0gc3Vic3RyaW5nQmVmb3JlO1xuY29uc3Qgc3Vic3RyaW5nQWZ0ZXJMYXN0ID0gKHN0ciwgdG9GaW5kKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBzdHIubGFzdEluZGV4T2YodG9GaW5kKTtcbiAgICByZXR1cm4gaW5kZXggPT0gLTEgPyAnJyA6IHN0ci5zdWJzdHJpbmcoaW5kZXggKyB0b0ZpbmQubGVuZ3RoKTtcbn07XG5leHBvcnRzLnN1YnN0cmluZ0FmdGVyTGFzdCA9IHN1YnN0cmluZ0FmdGVyTGFzdDtcbmNvbnN0IHN1YnN0cmluZ0JlZm9yZUxhc3QgPSAoc3RyLCB0b0ZpbmQpID0+IHtcbiAgICBjb25zdCBpbmRleCA9IHN0ci5sYXN0SW5kZXhPZih0b0ZpbmQpO1xuICAgIHJldHVybiBpbmRleCA9PSAtMSA/ICcnIDogc3RyLnN1YnN0cmluZygwLCBpbmRleCk7XG59O1xuZXhwb3J0cy5zdWJzdHJpbmdCZWZvcmVMYXN0ID0gc3Vic3RyaW5nQmVmb3JlTGFzdDtcbi8vIGNvbnN0IGdlbmVyYXRlSGFzaCA9IGFzeW5jICh1cmw6IHN0cmluZykgPT4ge1xuLy8gICBsZXQgcmV0dXJuZWRCdWZmZXI7XG4vLyAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbi8vICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuLy8gICByZXR1cm5lZEJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyKTtcbi8vICAgLy8gY29uc3QgeyBpbmZvLCBkYXRhIH0gPSBhd2FpdCBzaGFycChyZXR1cm5lZEJ1ZmZlcikuZW5zdXJlQWxwaGEoKS5yYXcoKS50b0J1ZmZlcih7XG4vLyAgIC8vICAgcmVzb2x2ZVdpdGhPYmplY3Q6IHRydWUsXG4vLyAgIC8vIH0pO1xuLy8gICByZXR1cm4gYmx1cmhhc2guZW5jb2RlKG5ldyBVaW50OENsYW1wZWRBcnJheShkYXRhKSwgaW5mby53aWR0aCwgaW5mby5oZWlnaHQsIDQsIDMpO1xuLy8gfTtcbmNvbnN0IGdldEhhc2hGcm9tSW1hZ2UgPSAodXJsKSA9PiB7XG4gICAgaWYgKCh1cmwgPT09IG51bGwgfHwgdXJsID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1cmwubGVuZ3RoKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgaGFzaDtcbiAgICAgICAgLy8gZ2VuZXJhdGVIYXNoKHVybCkudGhlbihoYXNoS2V5ID0+IChoYXNoID0gaGFzaEtleSkpO1xuICAgICAgICByZXR1cm4gJ2hhc2gnO1xuICAgIH1cbn07XG5leHBvcnRzLmdldEhhc2hGcm9tSW1hZ2UgPSBnZXRIYXNoRnJvbUltYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@consumet/extensions/dist/utils/utils.js\n");

/***/ })

};
;